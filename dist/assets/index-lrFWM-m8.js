(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function r(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(a){if(a.ep)return;a.ep=!0;const o=r(a);fetch(a.href,o)}})();var fu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function We(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var hh={exports:{}},Bo={},ph={exports:{}},Re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ej;function vM(){if(ej)return Re;ej=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),h=Symbol.iterator;function y(z){return z===null||typeof z!="object"?null:(z=h&&z[h]||z["@@iterator"],typeof z=="function"?z:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,b={};function j(z,Y,ne){this.props=z,this.context=Y,this.refs=b,this.updater=ne||v}j.prototype.isReactComponent={},j.prototype.setState=function(z,Y){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,Y,"setState")},j.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function O(){}O.prototype=j.prototype;function S(z,Y,ne){this.props=z,this.context=Y,this.refs=b,this.updater=ne||v}var k=S.prototype=new O;k.constructor=S,w(k,j.prototype),k.isPureReactComponent=!0;var A=Array.isArray,N=Object.prototype.hasOwnProperty,P={current:null},T={key:!0,ref:!0,__self:!0,__source:!0};function $(z,Y,ne){var ue,we={},be=null,$e=null;if(Y!=null)for(ue in Y.ref!==void 0&&($e=Y.ref),Y.key!==void 0&&(be=""+Y.key),Y)N.call(Y,ue)&&!T.hasOwnProperty(ue)&&(we[ue]=Y[ue]);var Ee=arguments.length-2;if(Ee===1)we.children=ne;else if(1<Ee){for(var se=Array(Ee),fe=0;fe<Ee;fe++)se[fe]=arguments[fe+2];we.children=se}if(z&&z.defaultProps)for(ue in Ee=z.defaultProps,Ee)we[ue]===void 0&&(we[ue]=Ee[ue]);return{$$typeof:t,type:z,key:be,ref:$e,props:we,_owner:P.current}}function M(z,Y){return{$$typeof:t,type:z.type,key:Y,ref:z.ref,props:z.props,_owner:z._owner}}function q(z){return typeof z=="object"&&z!==null&&z.$$typeof===t}function R(z){var Y={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(ne){return Y[ne]})}var U=/\/+/g;function B(z,Y){return typeof z=="object"&&z!==null&&z.key!=null?R(""+z.key):Y.toString(36)}function V(z,Y,ne,ue,we){var be=typeof z;(be==="undefined"||be==="boolean")&&(z=null);var $e=!1;if(z===null)$e=!0;else switch(be){case"string":case"number":$e=!0;break;case"object":switch(z.$$typeof){case t:case e:$e=!0}}if($e)return $e=z,we=we($e),z=ue===""?"."+B($e,0):ue,A(we)?(ne="",z!=null&&(ne=z.replace(U,"$&/")+"/"),V(we,Y,ne,"",function(fe){return fe})):we!=null&&(q(we)&&(we=M(we,ne+(!we.key||$e&&$e.key===we.key?"":(""+we.key).replace(U,"$&/")+"/")+z)),Y.push(we)),1;if($e=0,ue=ue===""?".":ue+":",A(z))for(var Ee=0;Ee<z.length;Ee++){be=z[Ee];var se=ue+B(be,Ee);$e+=V(be,Y,ne,se,we)}else if(se=y(z),typeof se=="function")for(z=se.call(z),Ee=0;!(be=z.next()).done;)be=be.value,se=ue+B(be,Ee++),$e+=V(be,Y,ne,se,we);else if(be==="object")throw Y=String(z),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.");return $e}function L(z,Y,ne){if(z==null)return z;var ue=[],we=0;return V(z,ue,"","",function(be){return Y.call(ne,be,we++)}),ue}function D(z){if(z._status===-1){var Y=z._result;Y=Y(),Y.then(function(ne){(z._status===0||z._status===-1)&&(z._status=1,z._result=ne)},function(ne){(z._status===0||z._status===-1)&&(z._status=2,z._result=ne)}),z._status===-1&&(z._status=0,z._result=Y)}if(z._status===1)return z._result.default;throw z._result}var G={current:null},C={transition:null},F={ReactCurrentDispatcher:G,ReactCurrentBatchConfig:C,ReactCurrentOwner:P};function Q(){throw Error("act(...) is not supported in production builds of React.")}return Re.Children={map:L,forEach:function(z,Y,ne){L(z,function(){Y.apply(this,arguments)},ne)},count:function(z){var Y=0;return L(z,function(){Y++}),Y},toArray:function(z){return L(z,function(Y){return Y})||[]},only:function(z){if(!q(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},Re.Component=j,Re.Fragment=r,Re.Profiler=a,Re.PureComponent=S,Re.StrictMode=n,Re.Suspense=d,Re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=F,Re.act=Q,Re.cloneElement=function(z,Y,ne){if(z==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+z+".");var ue=w({},z.props),we=z.key,be=z.ref,$e=z._owner;if(Y!=null){if(Y.ref!==void 0&&(be=Y.ref,$e=P.current),Y.key!==void 0&&(we=""+Y.key),z.type&&z.type.defaultProps)var Ee=z.type.defaultProps;for(se in Y)N.call(Y,se)&&!T.hasOwnProperty(se)&&(ue[se]=Y[se]===void 0&&Ee!==void 0?Ee[se]:Y[se])}var se=arguments.length-2;if(se===1)ue.children=ne;else if(1<se){Ee=Array(se);for(var fe=0;fe<se;fe++)Ee[fe]=arguments[fe+2];ue.children=Ee}return{$$typeof:t,type:z.type,key:we,ref:be,props:ue,_owner:$e}},Re.createContext=function(z){return z={$$typeof:c,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},z.Provider={$$typeof:o,_context:z},z.Consumer=z},Re.createElement=$,Re.createFactory=function(z){var Y=$.bind(null,z);return Y.type=z,Y},Re.createRef=function(){return{current:null}},Re.forwardRef=function(z){return{$$typeof:u,render:z}},Re.isValidElement=q,Re.lazy=function(z){return{$$typeof:p,_payload:{_status:-1,_result:z},_init:D}},Re.memo=function(z,Y){return{$$typeof:m,type:z,compare:Y===void 0?null:Y}},Re.startTransition=function(z){var Y=C.transition;C.transition={};try{z()}finally{C.transition=Y}},Re.unstable_act=Q,Re.useCallback=function(z,Y){return G.current.useCallback(z,Y)},Re.useContext=function(z){return G.current.useContext(z)},Re.useDebugValue=function(){},Re.useDeferredValue=function(z){return G.current.useDeferredValue(z)},Re.useEffect=function(z,Y){return G.current.useEffect(z,Y)},Re.useId=function(){return G.current.useId()},Re.useImperativeHandle=function(z,Y,ne){return G.current.useImperativeHandle(z,Y,ne)},Re.useInsertionEffect=function(z,Y){return G.current.useInsertionEffect(z,Y)},Re.useLayoutEffect=function(z,Y){return G.current.useLayoutEffect(z,Y)},Re.useMemo=function(z,Y){return G.current.useMemo(z,Y)},Re.useReducer=function(z,Y,ne){return G.current.useReducer(z,Y,ne)},Re.useRef=function(z){return G.current.useRef(z)},Re.useState=function(z){return G.current.useState(z)},Re.useSyncExternalStore=function(z,Y,ne){return G.current.useSyncExternalStore(z,Y,ne)},Re.useTransition=function(){return G.current.useTransition()},Re.version="18.3.1",Re}var tj;function tx(){return tj||(tj=1,ph.exports=vM()),ph.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rj;function xM(){if(rj)return Bo;rj=1;var t=tx(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,a=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function c(u,d,m){var p,h={},y=null,v=null;m!==void 0&&(y=""+m),d.key!==void 0&&(y=""+d.key),d.ref!==void 0&&(v=d.ref);for(p in d)n.call(d,p)&&!o.hasOwnProperty(p)&&(h[p]=d[p]);if(u&&u.defaultProps)for(p in d=u.defaultProps,d)h[p]===void 0&&(h[p]=d[p]);return{$$typeof:e,type:u,key:y,ref:v,props:h,_owner:a.current}}return Bo.Fragment=r,Bo.jsx=c,Bo.jsxs=c,Bo}var nj;function bM(){return nj||(nj=1,hh.exports=xM()),hh.exports}var s=bM(),I=tx();const W=We(I);var mu={},gh={exports:{}},mr={},yh={exports:{}},vh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aj;function wM(){return aj||(aj=1,(function(t){function e(C,F){var Q=C.length;C.push(F);e:for(;0<Q;){var z=Q-1>>>1,Y=C[z];if(0<a(Y,F))C[z]=F,C[Q]=Y,Q=z;else break e}}function r(C){return C.length===0?null:C[0]}function n(C){if(C.length===0)return null;var F=C[0],Q=C.pop();if(Q!==F){C[0]=Q;e:for(var z=0,Y=C.length,ne=Y>>>1;z<ne;){var ue=2*(z+1)-1,we=C[ue],be=ue+1,$e=C[be];if(0>a(we,Q))be<Y&&0>a($e,we)?(C[z]=$e,C[be]=Q,z=be):(C[z]=we,C[ue]=Q,z=ue);else if(be<Y&&0>a($e,Q))C[z]=$e,C[be]=Q,z=be;else break e}}return F}function a(C,F){var Q=C.sortIndex-F.sortIndex;return Q!==0?Q:C.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var c=Date,u=c.now();t.unstable_now=function(){return c.now()-u}}var d=[],m=[],p=1,h=null,y=3,v=!1,w=!1,b=!1,j=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(C){for(var F=r(m);F!==null;){if(F.callback===null)n(m);else if(F.startTime<=C)n(m),F.sortIndex=F.expirationTime,e(d,F);else break;F=r(m)}}function A(C){if(b=!1,k(C),!w)if(r(d)!==null)w=!0,D(N);else{var F=r(m);F!==null&&G(A,F.startTime-C)}}function N(C,F){w=!1,b&&(b=!1,O($),$=-1),v=!0;var Q=y;try{for(k(F),h=r(d);h!==null&&(!(h.expirationTime>F)||C&&!R());){var z=h.callback;if(typeof z=="function"){h.callback=null,y=h.priorityLevel;var Y=z(h.expirationTime<=F);F=t.unstable_now(),typeof Y=="function"?h.callback=Y:h===r(d)&&n(d),k(F)}else n(d);h=r(d)}if(h!==null)var ne=!0;else{var ue=r(m);ue!==null&&G(A,ue.startTime-F),ne=!1}return ne}finally{h=null,y=Q,v=!1}}var P=!1,T=null,$=-1,M=5,q=-1;function R(){return!(t.unstable_now()-q<M)}function U(){if(T!==null){var C=t.unstable_now();q=C;var F=!0;try{F=T(!0,C)}finally{F?B():(P=!1,T=null)}}else P=!1}var B;if(typeof S=="function")B=function(){S(U)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,L=V.port2;V.port1.onmessage=U,B=function(){L.postMessage(null)}}else B=function(){j(U,0)};function D(C){T=C,P||(P=!0,B())}function G(C,F){$=j(function(){C(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(C){C.callback=null},t.unstable_continueExecution=function(){w||v||(w=!0,D(N))},t.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<C?Math.floor(1e3/C):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return r(d)},t.unstable_next=function(C){switch(y){case 1:case 2:case 3:var F=3;break;default:F=y}var Q=y;y=F;try{return C()}finally{y=Q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(C,F){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var Q=y;y=C;try{return F()}finally{y=Q}},t.unstable_scheduleCallback=function(C,F,Q){var z=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?z+Q:z):Q=z,C){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=Q+Y,C={id:p++,callback:F,priorityLevel:C,startTime:Q,expirationTime:Y,sortIndex:-1},Q>z?(C.sortIndex=Q,e(m,C),r(d)===null&&C===r(m)&&(b?(O($),$=-1):b=!0,G(A,Q-z))):(C.sortIndex=Y,e(d,C),w||v||(w=!0,D(N))),C},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(C){var F=y;return function(){var Q=y;y=F;try{return C.apply(this,arguments)}finally{y=Q}}}})(vh)),vh}var ij;function jM(){return ij||(ij=1,yh.exports=wM()),yh.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sj;function SM(){if(sj)return mr;sj=1;var t=tx(),e=jM();function r(i){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+i,f=1;f<arguments.length;f++)l+="&args[]="+encodeURIComponent(arguments[f]);return"Minified React error #"+i+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,a={};function o(i,l){c(i,l),c(i+"Capture",l)}function c(i,l){for(a[i]=l,i=0;i<l.length;i++)n.add(l[i])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},h={};function y(i){return d.call(h,i)?!0:d.call(p,i)?!1:m.test(i)?h[i]=!0:(p[i]=!0,!1)}function v(i,l,f,g){if(f!==null&&f.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return g?!1:f!==null?!f.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function w(i,l,f,g){if(l===null||typeof l>"u"||v(i,l,f,g))return!0;if(g)return!1;if(f!==null)switch(f.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function b(i,l,f,g,x,_,E){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=g,this.attributeNamespace=x,this.mustUseProperty=f,this.propertyName=i,this.type=l,this.sanitizeURL=_,this.removeEmptyString=E}var j={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){j[i]=new b(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var l=i[0];j[l]=new b(l,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){j[i]=new b(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){j[i]=new b(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){j[i]=new b(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){j[i]=new b(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){j[i]=new b(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){j[i]=new b(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){j[i]=new b(i,5,!1,i.toLowerCase(),null,!1,!1)});var O=/[\-:]([a-z])/g;function S(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var l=i.replace(O,S);j[l]=new b(l,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var l=i.replace(O,S);j[l]=new b(l,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var l=i.replace(O,S);j[l]=new b(l,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){j[i]=new b(i,1,!1,i.toLowerCase(),null,!1,!1)}),j.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){j[i]=new b(i,1,!1,i.toLowerCase(),null,!0,!0)});function k(i,l,f,g){var x=j.hasOwnProperty(l)?j[l]:null;(x!==null?x.type!==0:g||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(w(l,f,x,g)&&(f=null),g||x===null?y(l)&&(f===null?i.removeAttribute(l):i.setAttribute(l,""+f)):x.mustUseProperty?i[x.propertyName]=f===null?x.type===3?!1:"":f:(l=x.attributeName,g=x.attributeNamespace,f===null?i.removeAttribute(l):(x=x.type,f=x===3||x===4&&f===!0?"":""+f,g?i.setAttributeNS(g,l,f):i.setAttribute(l,f))))}var A=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,N=Symbol.for("react.element"),P=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),q=Symbol.for("react.provider"),R=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),G=Symbol.for("react.offscreen"),C=Symbol.iterator;function F(i){return i===null||typeof i!="object"?null:(i=C&&i[C]||i["@@iterator"],typeof i=="function"?i:null)}var Q=Object.assign,z;function Y(i){if(z===void 0)try{throw Error()}catch(f){var l=f.stack.trim().match(/\n( *(at )?)/);z=l&&l[1]||""}return`
`+z+i}var ne=!1;function ue(i,l){if(!i||ne)return"";ne=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(ee){var g=ee}Reflect.construct(i,[],l)}else{try{l.call()}catch(ee){g=ee}i.call(l.prototype)}else{try{throw Error()}catch(ee){g=ee}i()}}catch(ee){if(ee&&g&&typeof ee.stack=="string"){for(var x=ee.stack.split(`
`),_=g.stack.split(`
`),E=x.length-1,H=_.length-1;1<=E&&0<=H&&x[E]!==_[H];)H--;for(;1<=E&&0<=H;E--,H--)if(x[E]!==_[H]){if(E!==1||H!==1)do if(E--,H--,0>H||x[E]!==_[H]){var K=`
`+x[E].replace(" at new "," at ");return i.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",i.displayName)),K}while(1<=E&&0<=H);break}}}finally{ne=!1,Error.prepareStackTrace=f}return(i=i?i.displayName||i.name:"")?Y(i):""}function we(i){switch(i.tag){case 5:return Y(i.type);case 16:return Y("Lazy");case 13:return Y("Suspense");case 19:return Y("SuspenseList");case 0:case 2:case 15:return i=ue(i.type,!1),i;case 11:return i=ue(i.type.render,!1),i;case 1:return i=ue(i.type,!0),i;default:return""}}function be(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case T:return"Fragment";case P:return"Portal";case M:return"Profiler";case $:return"StrictMode";case B:return"Suspense";case V:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case R:return(i.displayName||"Context")+".Consumer";case q:return(i._context.displayName||"Context")+".Provider";case U:var l=i.render;return i=i.displayName,i||(i=l.displayName||l.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case L:return l=i.displayName||null,l!==null?l:be(i.type)||"Memo";case D:l=i._payload,i=i._init;try{return be(i(l))}catch{}}return null}function $e(i){var l=i.type;switch(i.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=l.render,i=i.displayName||i.name||"",l.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return be(l);case 8:return l===$?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function Ee(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function se(i){var l=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function fe(i){var l=se(i)?"checked":"value",f=Object.getOwnPropertyDescriptor(i.constructor.prototype,l),g=""+i[l];if(!i.hasOwnProperty(l)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var x=f.get,_=f.set;return Object.defineProperty(i,l,{configurable:!0,get:function(){return x.call(this)},set:function(E){g=""+E,_.call(this,E)}}),Object.defineProperty(i,l,{enumerable:f.enumerable}),{getValue:function(){return g},setValue:function(E){g=""+E},stopTracking:function(){i._valueTracker=null,delete i[l]}}}}function Ce(i){i._valueTracker||(i._valueTracker=fe(i))}function ie(i){if(!i)return!1;var l=i._valueTracker;if(!l)return!0;var f=l.getValue(),g="";return i&&(g=se(i)?i.checked?"true":"false":i.value),i=g,i!==f?(l.setValue(i),!0):!1}function Ve(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function De(i,l){var f=l.checked;return Q({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:f??i._wrapperState.initialChecked})}function ut(i,l){var f=l.defaultValue==null?"":l.defaultValue,g=l.checked!=null?l.checked:l.defaultChecked;f=Ee(l.value!=null?l.value:f),i._wrapperState={initialChecked:g,initialValue:f,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function dt(i,l){l=l.checked,l!=null&&k(i,"checked",l,!1)}function Tt(i,l){dt(i,l);var f=Ee(l.value),g=l.type;if(f!=null)g==="number"?(f===0&&i.value===""||i.value!=f)&&(i.value=""+f):i.value!==""+f&&(i.value=""+f);else if(g==="submit"||g==="reset"){i.removeAttribute("value");return}l.hasOwnProperty("value")?cn(i,l.type,f):l.hasOwnProperty("defaultValue")&&cn(i,l.type,Ee(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(i.defaultChecked=!!l.defaultChecked)}function Hr(i,l,f){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var g=l.type;if(!(g!=="submit"&&g!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+i._wrapperState.initialValue,f||l===i.value||(i.value=l),i.defaultValue=l}f=i.name,f!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,f!==""&&(i.name=f)}function cn(i,l,f){(l!=="number"||Ve(i.ownerDocument)!==i)&&(f==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+f&&(i.defaultValue=""+f))}var un=Array.isArray;function or(i,l,f,g){if(i=i.options,l){l={};for(var x=0;x<f.length;x++)l["$"+f[x]]=!0;for(f=0;f<i.length;f++)x=l.hasOwnProperty("$"+i[f].value),i[f].selected!==x&&(i[f].selected=x),x&&g&&(i[f].defaultSelected=!0)}else{for(f=""+Ee(f),l=null,x=0;x<i.length;x++){if(i[x].value===f){i[x].selected=!0,g&&(i[x].defaultSelected=!0);return}l!==null||i[x].disabled||(l=i[x])}l!==null&&(l.selected=!0)}}function Gr(i,l){if(l.dangerouslySetInnerHTML!=null)throw Error(r(91));return Q({},l,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function ji(i,l){var f=l.value;if(f==null){if(f=l.children,l=l.defaultValue,f!=null){if(l!=null)throw Error(r(92));if(un(f)){if(1<f.length)throw Error(r(93));f=f[0]}l=f}l==null&&(l=""),f=l}i._wrapperState={initialValue:Ee(f)}}function Js(i,l){var f=Ee(l.value),g=Ee(l.defaultValue);f!=null&&(f=""+f,f!==i.value&&(i.value=f),l.defaultValue==null&&i.defaultValue!==f&&(i.defaultValue=f)),g!=null&&(i.defaultValue=""+g)}function eo(i){var l=i.textContent;l===i._wrapperState.initialValue&&l!==""&&l!==null&&(i.value=l)}function mb(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Nf(i,l){return i==null||i==="http://www.w3.org/1999/xhtml"?mb(l):i==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var ac,hb=(function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,f,g,x){MSApp.execUnsafeLocalFunction(function(){return i(l,f,g,x)})}:i})(function(i,l){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=l;else{for(ac=ac||document.createElement("div"),ac.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=ac.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;l.firstChild;)i.appendChild(l.firstChild)}});function to(i,l){if(l){var f=i.firstChild;if(f&&f===i.lastChild&&f.nodeType===3){f.nodeValue=l;return}}i.textContent=l}var ro={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jC=["Webkit","ms","Moz","O"];Object.keys(ro).forEach(function(i){jC.forEach(function(l){l=l+i.charAt(0).toUpperCase()+i.substring(1),ro[l]=ro[i]})});function pb(i,l,f){return l==null||typeof l=="boolean"||l===""?"":f||typeof l!="number"||l===0||ro.hasOwnProperty(i)&&ro[i]?(""+l).trim():l+"px"}function gb(i,l){i=i.style;for(var f in l)if(l.hasOwnProperty(f)){var g=f.indexOf("--")===0,x=pb(f,l[f],g);f==="float"&&(f="cssFloat"),g?i.setProperty(f,x):i[f]=x}}var SC=Q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function kf(i,l){if(l){if(SC[i]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(r(137,i));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(r(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(r(61))}if(l.style!=null&&typeof l.style!="object")throw Error(r(62))}}function Of(i,l){if(i.indexOf("-")===-1)return typeof l.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Af=null;function Pf(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Ef=null,Si=null,_i=null;function yb(i){if(i=No(i)){if(typeof Ef!="function")throw Error(r(280));var l=i.stateNode;l&&(l=Oc(l),Ef(i.stateNode,i.type,l))}}function vb(i){Si?_i?_i.push(i):_i=[i]:Si=i}function xb(){if(Si){var i=Si,l=_i;if(_i=Si=null,yb(i),l)for(i=0;i<l.length;i++)yb(l[i])}}function bb(i,l){return i(l)}function wb(){}var Tf=!1;function jb(i,l,f){if(Tf)return i(l,f);Tf=!0;try{return bb(i,l,f)}finally{Tf=!1,(Si!==null||_i!==null)&&(wb(),xb())}}function no(i,l){var f=i.stateNode;if(f===null)return null;var g=Oc(f);if(g===null)return null;f=g[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(i=i.type,g=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!g;break e;default:i=!1}if(i)return null;if(f&&typeof f!="function")throw Error(r(231,l,typeof f));return f}var Cf=!1;if(u)try{var ao={};Object.defineProperty(ao,"passive",{get:function(){Cf=!0}}),window.addEventListener("test",ao,ao),window.removeEventListener("test",ao,ao)}catch{Cf=!1}function _C(i,l,f,g,x,_,E,H,K){var ee=Array.prototype.slice.call(arguments,3);try{l.apply(f,ee)}catch(ae){this.onError(ae)}}var io=!1,ic=null,sc=!1,If=null,NC={onError:function(i){io=!0,ic=i}};function kC(i,l,f,g,x,_,E,H,K){io=!1,ic=null,_C.apply(NC,arguments)}function OC(i,l,f,g,x,_,E,H,K){if(kC.apply(this,arguments),io){if(io){var ee=ic;io=!1,ic=null}else throw Error(r(198));sc||(sc=!0,If=ee)}}function Ma(i){var l=i,f=i;if(i.alternate)for(;l.return;)l=l.return;else{i=l;do l=i,(l.flags&4098)!==0&&(f=l.return),i=l.return;while(i)}return l.tag===3?f:null}function Sb(i){if(i.tag===13){var l=i.memoizedState;if(l===null&&(i=i.alternate,i!==null&&(l=i.memoizedState)),l!==null)return l.dehydrated}return null}function _b(i){if(Ma(i)!==i)throw Error(r(188))}function AC(i){var l=i.alternate;if(!l){if(l=Ma(i),l===null)throw Error(r(188));return l!==i?null:i}for(var f=i,g=l;;){var x=f.return;if(x===null)break;var _=x.alternate;if(_===null){if(g=x.return,g!==null){f=g;continue}break}if(x.child===_.child){for(_=x.child;_;){if(_===f)return _b(x),i;if(_===g)return _b(x),l;_=_.sibling}throw Error(r(188))}if(f.return!==g.return)f=x,g=_;else{for(var E=!1,H=x.child;H;){if(H===f){E=!0,f=x,g=_;break}if(H===g){E=!0,g=x,f=_;break}H=H.sibling}if(!E){for(H=_.child;H;){if(H===f){E=!0,f=_,g=x;break}if(H===g){E=!0,g=_,f=x;break}H=H.sibling}if(!E)throw Error(r(189))}}if(f.alternate!==g)throw Error(r(190))}if(f.tag!==3)throw Error(r(188));return f.stateNode.current===f?i:l}function Nb(i){return i=AC(i),i!==null?kb(i):null}function kb(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var l=kb(i);if(l!==null)return l;i=i.sibling}return null}var Ob=e.unstable_scheduleCallback,Ab=e.unstable_cancelCallback,PC=e.unstable_shouldYield,EC=e.unstable_requestPaint,yt=e.unstable_now,TC=e.unstable_getCurrentPriorityLevel,Mf=e.unstable_ImmediatePriority,Pb=e.unstable_UserBlockingPriority,oc=e.unstable_NormalPriority,CC=e.unstable_LowPriority,Eb=e.unstable_IdlePriority,lc=null,dn=null;function IC(i){if(dn&&typeof dn.onCommitFiberRoot=="function")try{dn.onCommitFiberRoot(lc,i,void 0,(i.current.flags&128)===128)}catch{}}var Vr=Math.clz32?Math.clz32:DC,MC=Math.log,RC=Math.LN2;function DC(i){return i>>>=0,i===0?32:31-(MC(i)/RC|0)|0}var cc=64,uc=4194304;function so(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function dc(i,l){var f=i.pendingLanes;if(f===0)return 0;var g=0,x=i.suspendedLanes,_=i.pingedLanes,E=f&268435455;if(E!==0){var H=E&~x;H!==0?g=so(H):(_&=E,_!==0&&(g=so(_)))}else E=f&~x,E!==0?g=so(E):_!==0&&(g=so(_));if(g===0)return 0;if(l!==0&&l!==g&&(l&x)===0&&(x=g&-g,_=l&-l,x>=_||x===16&&(_&4194240)!==0))return l;if((g&4)!==0&&(g|=f&16),l=i.entangledLanes,l!==0)for(i=i.entanglements,l&=g;0<l;)f=31-Vr(l),x=1<<f,g|=i[f],l&=~x;return g}function $C(i,l){switch(i){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function LC(i,l){for(var f=i.suspendedLanes,g=i.pingedLanes,x=i.expirationTimes,_=i.pendingLanes;0<_;){var E=31-Vr(_),H=1<<E,K=x[E];K===-1?((H&f)===0||(H&g)!==0)&&(x[E]=$C(H,l)):K<=l&&(i.expiredLanes|=H),_&=~H}}function Rf(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Tb(){var i=cc;return cc<<=1,(cc&4194240)===0&&(cc=64),i}function Df(i){for(var l=[],f=0;31>f;f++)l.push(i);return l}function oo(i,l,f){i.pendingLanes|=l,l!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,l=31-Vr(l),i[l]=f}function FC(i,l){var f=i.pendingLanes&~l;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=l,i.mutableReadLanes&=l,i.entangledLanes&=l,l=i.entanglements;var g=i.eventTimes;for(i=i.expirationTimes;0<f;){var x=31-Vr(f),_=1<<x;l[x]=0,g[x]=-1,i[x]=-1,f&=~_}}function $f(i,l){var f=i.entangledLanes|=l;for(i=i.entanglements;f;){var g=31-Vr(f),x=1<<g;x&l|i[g]&l&&(i[g]|=l),f&=~x}}var He=0;function Cb(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var Ib,Lf,Mb,Rb,Db,Ff=!1,fc=[],Xn=null,Qn=null,Zn=null,lo=new Map,co=new Map,Jn=[],BC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $b(i,l){switch(i){case"focusin":case"focusout":Xn=null;break;case"dragenter":case"dragleave":Qn=null;break;case"mouseover":case"mouseout":Zn=null;break;case"pointerover":case"pointerout":lo.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":co.delete(l.pointerId)}}function uo(i,l,f,g,x,_){return i===null||i.nativeEvent!==_?(i={blockedOn:l,domEventName:f,eventSystemFlags:g,nativeEvent:_,targetContainers:[x]},l!==null&&(l=No(l),l!==null&&Lf(l)),i):(i.eventSystemFlags|=g,l=i.targetContainers,x!==null&&l.indexOf(x)===-1&&l.push(x),i)}function zC(i,l,f,g,x){switch(l){case"focusin":return Xn=uo(Xn,i,l,f,g,x),!0;case"dragenter":return Qn=uo(Qn,i,l,f,g,x),!0;case"mouseover":return Zn=uo(Zn,i,l,f,g,x),!0;case"pointerover":var _=x.pointerId;return lo.set(_,uo(lo.get(_)||null,i,l,f,g,x)),!0;case"gotpointercapture":return _=x.pointerId,co.set(_,uo(co.get(_)||null,i,l,f,g,x)),!0}return!1}function Lb(i){var l=Ra(i.target);if(l!==null){var f=Ma(l);if(f!==null){if(l=f.tag,l===13){if(l=Sb(f),l!==null){i.blockedOn=l,Db(i.priority,function(){Mb(f)});return}}else if(l===3&&f.stateNode.current.memoizedState.isDehydrated){i.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}i.blockedOn=null}function mc(i){if(i.blockedOn!==null)return!1;for(var l=i.targetContainers;0<l.length;){var f=zf(i.domEventName,i.eventSystemFlags,l[0],i.nativeEvent);if(f===null){f=i.nativeEvent;var g=new f.constructor(f.type,f);Af=g,f.target.dispatchEvent(g),Af=null}else return l=No(f),l!==null&&Lf(l),i.blockedOn=f,!1;l.shift()}return!0}function Fb(i,l,f){mc(i)&&f.delete(l)}function qC(){Ff=!1,Xn!==null&&mc(Xn)&&(Xn=null),Qn!==null&&mc(Qn)&&(Qn=null),Zn!==null&&mc(Zn)&&(Zn=null),lo.forEach(Fb),co.forEach(Fb)}function fo(i,l){i.blockedOn===l&&(i.blockedOn=null,Ff||(Ff=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,qC)))}function mo(i){function l(x){return fo(x,i)}if(0<fc.length){fo(fc[0],i);for(var f=1;f<fc.length;f++){var g=fc[f];g.blockedOn===i&&(g.blockedOn=null)}}for(Xn!==null&&fo(Xn,i),Qn!==null&&fo(Qn,i),Zn!==null&&fo(Zn,i),lo.forEach(l),co.forEach(l),f=0;f<Jn.length;f++)g=Jn[f],g.blockedOn===i&&(g.blockedOn=null);for(;0<Jn.length&&(f=Jn[0],f.blockedOn===null);)Lb(f),f.blockedOn===null&&Jn.shift()}var Ni=A.ReactCurrentBatchConfig,hc=!0;function UC(i,l,f,g){var x=He,_=Ni.transition;Ni.transition=null;try{He=1,Bf(i,l,f,g)}finally{He=x,Ni.transition=_}}function WC(i,l,f,g){var x=He,_=Ni.transition;Ni.transition=null;try{He=4,Bf(i,l,f,g)}finally{He=x,Ni.transition=_}}function Bf(i,l,f,g){if(hc){var x=zf(i,l,f,g);if(x===null)am(i,l,g,pc,f),$b(i,g);else if(zC(x,i,l,f,g))g.stopPropagation();else if($b(i,g),l&4&&-1<BC.indexOf(i)){for(;x!==null;){var _=No(x);if(_!==null&&Ib(_),_=zf(i,l,f,g),_===null&&am(i,l,g,pc,f),_===x)break;x=_}x!==null&&g.stopPropagation()}else am(i,l,g,null,f)}}var pc=null;function zf(i,l,f,g){if(pc=null,i=Pf(g),i=Ra(i),i!==null)if(l=Ma(i),l===null)i=null;else if(f=l.tag,f===13){if(i=Sb(l),i!==null)return i;i=null}else if(f===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;i=null}else l!==i&&(i=null);return pc=i,null}function Bb(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(TC()){case Mf:return 1;case Pb:return 4;case oc:case CC:return 16;case Eb:return 536870912;default:return 16}default:return 16}}var ea=null,qf=null,gc=null;function zb(){if(gc)return gc;var i,l=qf,f=l.length,g,x="value"in ea?ea.value:ea.textContent,_=x.length;for(i=0;i<f&&l[i]===x[i];i++);var E=f-i;for(g=1;g<=E&&l[f-g]===x[_-g];g++);return gc=x.slice(i,1<g?1-g:void 0)}function yc(i){var l=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&l===13&&(i=13)):i=l,i===10&&(i=13),32<=i||i===13?i:0}function vc(){return!0}function qb(){return!1}function yr(i){function l(f,g,x,_,E){this._reactName=f,this._targetInst=x,this.type=g,this.nativeEvent=_,this.target=E,this.currentTarget=null;for(var H in i)i.hasOwnProperty(H)&&(f=i[H],this[H]=f?f(_):_[H]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?vc:qb,this.isPropagationStopped=qb,this}return Q(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=vc)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=vc)},persist:function(){},isPersistent:vc}),l}var ki={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Uf=yr(ki),ho=Q({},ki,{view:0,detail:0}),HC=yr(ho),Wf,Hf,po,xc=Q({},ho,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vf,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==po&&(po&&i.type==="mousemove"?(Wf=i.screenX-po.screenX,Hf=i.screenY-po.screenY):Hf=Wf=0,po=i),Wf)},movementY:function(i){return"movementY"in i?i.movementY:Hf}}),Ub=yr(xc),GC=Q({},xc,{dataTransfer:0}),VC=yr(GC),KC=Q({},ho,{relatedTarget:0}),Gf=yr(KC),YC=Q({},ki,{animationName:0,elapsedTime:0,pseudoElement:0}),XC=yr(YC),QC=Q({},ki,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),ZC=yr(QC),JC=Q({},ki,{data:0}),Wb=yr(JC),eI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nI(i){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(i):(i=rI[i])?!!l[i]:!1}function Vf(){return nI}var aI=Q({},ho,{key:function(i){if(i.key){var l=eI[i.key]||i.key;if(l!=="Unidentified")return l}return i.type==="keypress"?(i=yc(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?tI[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vf,charCode:function(i){return i.type==="keypress"?yc(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?yc(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),iI=yr(aI),sI=Q({},xc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hb=yr(sI),oI=Q({},ho,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vf}),lI=yr(oI),cI=Q({},ki,{propertyName:0,elapsedTime:0,pseudoElement:0}),uI=yr(cI),dI=Q({},xc,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),fI=yr(dI),mI=[9,13,27,32],Kf=u&&"CompositionEvent"in window,go=null;u&&"documentMode"in document&&(go=document.documentMode);var hI=u&&"TextEvent"in window&&!go,Gb=u&&(!Kf||go&&8<go&&11>=go),Vb=" ",Kb=!1;function Yb(i,l){switch(i){case"keyup":return mI.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xb(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Oi=!1;function pI(i,l){switch(i){case"compositionend":return Xb(l);case"keypress":return l.which!==32?null:(Kb=!0,Vb);case"textInput":return i=l.data,i===Vb&&Kb?null:i;default:return null}}function gI(i,l){if(Oi)return i==="compositionend"||!Kf&&Yb(i,l)?(i=zb(),gc=qf=ea=null,Oi=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Gb&&l.locale!=="ko"?null:l.data;default:return null}}var yI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qb(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l==="input"?!!yI[i.type]:l==="textarea"}function Zb(i,l,f,g){vb(g),l=_c(l,"onChange"),0<l.length&&(f=new Uf("onChange","change",null,f,g),i.push({event:f,listeners:l}))}var yo=null,vo=null;function vI(i){gw(i,0)}function bc(i){var l=Ci(i);if(ie(l))return i}function xI(i,l){if(i==="change")return l}var Jb=!1;if(u){var Yf;if(u){var Xf="oninput"in document;if(!Xf){var ew=document.createElement("div");ew.setAttribute("oninput","return;"),Xf=typeof ew.oninput=="function"}Yf=Xf}else Yf=!1;Jb=Yf&&(!document.documentMode||9<document.documentMode)}function tw(){yo&&(yo.detachEvent("onpropertychange",rw),vo=yo=null)}function rw(i){if(i.propertyName==="value"&&bc(vo)){var l=[];Zb(l,vo,i,Pf(i)),jb(vI,l)}}function bI(i,l,f){i==="focusin"?(tw(),yo=l,vo=f,yo.attachEvent("onpropertychange",rw)):i==="focusout"&&tw()}function wI(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return bc(vo)}function jI(i,l){if(i==="click")return bc(l)}function SI(i,l){if(i==="input"||i==="change")return bc(l)}function _I(i,l){return i===l&&(i!==0||1/i===1/l)||i!==i&&l!==l}var Kr=typeof Object.is=="function"?Object.is:_I;function xo(i,l){if(Kr(i,l))return!0;if(typeof i!="object"||i===null||typeof l!="object"||l===null)return!1;var f=Object.keys(i),g=Object.keys(l);if(f.length!==g.length)return!1;for(g=0;g<f.length;g++){var x=f[g];if(!d.call(l,x)||!Kr(i[x],l[x]))return!1}return!0}function nw(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function aw(i,l){var f=nw(i);i=0;for(var g;f;){if(f.nodeType===3){if(g=i+f.textContent.length,i<=l&&g>=l)return{node:f,offset:l-i};i=g}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=nw(f)}}function iw(i,l){return i&&l?i===l?!0:i&&i.nodeType===3?!1:l&&l.nodeType===3?iw(i,l.parentNode):"contains"in i?i.contains(l):i.compareDocumentPosition?!!(i.compareDocumentPosition(l)&16):!1:!1}function sw(){for(var i=window,l=Ve();l instanceof i.HTMLIFrameElement;){try{var f=typeof l.contentWindow.location.href=="string"}catch{f=!1}if(f)i=l.contentWindow;else break;l=Ve(i.document)}return l}function Qf(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l&&(l==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||l==="textarea"||i.contentEditable==="true")}function NI(i){var l=sw(),f=i.focusedElem,g=i.selectionRange;if(l!==f&&f&&f.ownerDocument&&iw(f.ownerDocument.documentElement,f)){if(g!==null&&Qf(f)){if(l=g.start,i=g.end,i===void 0&&(i=l),"selectionStart"in f)f.selectionStart=l,f.selectionEnd=Math.min(i,f.value.length);else if(i=(l=f.ownerDocument||document)&&l.defaultView||window,i.getSelection){i=i.getSelection();var x=f.textContent.length,_=Math.min(g.start,x);g=g.end===void 0?_:Math.min(g.end,x),!i.extend&&_>g&&(x=g,g=_,_=x),x=aw(f,_);var E=aw(f,g);x&&E&&(i.rangeCount!==1||i.anchorNode!==x.node||i.anchorOffset!==x.offset||i.focusNode!==E.node||i.focusOffset!==E.offset)&&(l=l.createRange(),l.setStart(x.node,x.offset),i.removeAllRanges(),_>g?(i.addRange(l),i.extend(E.node,E.offset)):(l.setEnd(E.node,E.offset),i.addRange(l)))}}for(l=[],i=f;i=i.parentNode;)i.nodeType===1&&l.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<l.length;f++)i=l[f],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var kI=u&&"documentMode"in document&&11>=document.documentMode,Ai=null,Zf=null,bo=null,Jf=!1;function ow(i,l,f){var g=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;Jf||Ai==null||Ai!==Ve(g)||(g=Ai,"selectionStart"in g&&Qf(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),bo&&xo(bo,g)||(bo=g,g=_c(Zf,"onSelect"),0<g.length&&(l=new Uf("onSelect","select",null,l,f),i.push({event:l,listeners:g}),l.target=Ai)))}function wc(i,l){var f={};return f[i.toLowerCase()]=l.toLowerCase(),f["Webkit"+i]="webkit"+l,f["Moz"+i]="moz"+l,f}var Pi={animationend:wc("Animation","AnimationEnd"),animationiteration:wc("Animation","AnimationIteration"),animationstart:wc("Animation","AnimationStart"),transitionend:wc("Transition","TransitionEnd")},em={},lw={};u&&(lw=document.createElement("div").style,"AnimationEvent"in window||(delete Pi.animationend.animation,delete Pi.animationiteration.animation,delete Pi.animationstart.animation),"TransitionEvent"in window||delete Pi.transitionend.transition);function jc(i){if(em[i])return em[i];if(!Pi[i])return i;var l=Pi[i],f;for(f in l)if(l.hasOwnProperty(f)&&f in lw)return em[i]=l[f];return i}var cw=jc("animationend"),uw=jc("animationiteration"),dw=jc("animationstart"),fw=jc("transitionend"),mw=new Map,hw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ta(i,l){mw.set(i,l),o(l,[i])}for(var tm=0;tm<hw.length;tm++){var rm=hw[tm],OI=rm.toLowerCase(),AI=rm[0].toUpperCase()+rm.slice(1);ta(OI,"on"+AI)}ta(cw,"onAnimationEnd"),ta(uw,"onAnimationIteration"),ta(dw,"onAnimationStart"),ta("dblclick","onDoubleClick"),ta("focusin","onFocus"),ta("focusout","onBlur"),ta(fw,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),PI=new Set("cancel close invalid load scroll toggle".split(" ").concat(wo));function pw(i,l,f){var g=i.type||"unknown-event";i.currentTarget=f,OC(g,l,void 0,i),i.currentTarget=null}function gw(i,l){l=(l&4)!==0;for(var f=0;f<i.length;f++){var g=i[f],x=g.event;g=g.listeners;e:{var _=void 0;if(l)for(var E=g.length-1;0<=E;E--){var H=g[E],K=H.instance,ee=H.currentTarget;if(H=H.listener,K!==_&&x.isPropagationStopped())break e;pw(x,H,ee),_=K}else for(E=0;E<g.length;E++){if(H=g[E],K=H.instance,ee=H.currentTarget,H=H.listener,K!==_&&x.isPropagationStopped())break e;pw(x,H,ee),_=K}}}if(sc)throw i=If,sc=!1,If=null,i}function et(i,l){var f=l[um];f===void 0&&(f=l[um]=new Set);var g=i+"__bubble";f.has(g)||(yw(l,i,2,!1),f.add(g))}function nm(i,l,f){var g=0;l&&(g|=4),yw(f,i,g,l)}var Sc="_reactListening"+Math.random().toString(36).slice(2);function jo(i){if(!i[Sc]){i[Sc]=!0,n.forEach(function(f){f!=="selectionchange"&&(PI.has(f)||nm(f,!1,i),nm(f,!0,i))});var l=i.nodeType===9?i:i.ownerDocument;l===null||l[Sc]||(l[Sc]=!0,nm("selectionchange",!1,l))}}function yw(i,l,f,g){switch(Bb(l)){case 1:var x=UC;break;case 4:x=WC;break;default:x=Bf}f=x.bind(null,l,f,i),x=void 0,!Cf||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(x=!0),g?x!==void 0?i.addEventListener(l,f,{capture:!0,passive:x}):i.addEventListener(l,f,!0):x!==void 0?i.addEventListener(l,f,{passive:x}):i.addEventListener(l,f,!1)}function am(i,l,f,g,x){var _=g;if((l&1)===0&&(l&2)===0&&g!==null)e:for(;;){if(g===null)return;var E=g.tag;if(E===3||E===4){var H=g.stateNode.containerInfo;if(H===x||H.nodeType===8&&H.parentNode===x)break;if(E===4)for(E=g.return;E!==null;){var K=E.tag;if((K===3||K===4)&&(K=E.stateNode.containerInfo,K===x||K.nodeType===8&&K.parentNode===x))return;E=E.return}for(;H!==null;){if(E=Ra(H),E===null)return;if(K=E.tag,K===5||K===6){g=_=E;continue e}H=H.parentNode}}g=g.return}jb(function(){var ee=_,ae=Pf(f),oe=[];e:{var re=mw.get(i);if(re!==void 0){var de=Uf,ge=i;switch(i){case"keypress":if(yc(f)===0)break e;case"keydown":case"keyup":de=iI;break;case"focusin":ge="focus",de=Gf;break;case"focusout":ge="blur",de=Gf;break;case"beforeblur":case"afterblur":de=Gf;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":de=Ub;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":de=VC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":de=lI;break;case cw:case uw:case dw:de=XC;break;case fw:de=uI;break;case"scroll":de=HC;break;case"wheel":de=fI;break;case"copy":case"cut":case"paste":de=ZC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":de=Hb}var ye=(l&4)!==0,vt=!ye&&i==="scroll",Z=ye?re!==null?re+"Capture":null:re;ye=[];for(var X=ee,J;X!==null;){J=X;var ce=J.stateNode;if(J.tag===5&&ce!==null&&(J=ce,Z!==null&&(ce=no(X,Z),ce!=null&&ye.push(So(X,ce,J)))),vt)break;X=X.return}0<ye.length&&(re=new de(re,ge,null,f,ae),oe.push({event:re,listeners:ye}))}}if((l&7)===0){e:{if(re=i==="mouseover"||i==="pointerover",de=i==="mouseout"||i==="pointerout",re&&f!==Af&&(ge=f.relatedTarget||f.fromElement)&&(Ra(ge)||ge[Nn]))break e;if((de||re)&&(re=ae.window===ae?ae:(re=ae.ownerDocument)?re.defaultView||re.parentWindow:window,de?(ge=f.relatedTarget||f.toElement,de=ee,ge=ge?Ra(ge):null,ge!==null&&(vt=Ma(ge),ge!==vt||ge.tag!==5&&ge.tag!==6)&&(ge=null)):(de=null,ge=ee),de!==ge)){if(ye=Ub,ce="onMouseLeave",Z="onMouseEnter",X="mouse",(i==="pointerout"||i==="pointerover")&&(ye=Hb,ce="onPointerLeave",Z="onPointerEnter",X="pointer"),vt=de==null?re:Ci(de),J=ge==null?re:Ci(ge),re=new ye(ce,X+"leave",de,f,ae),re.target=vt,re.relatedTarget=J,ce=null,Ra(ae)===ee&&(ye=new ye(Z,X+"enter",ge,f,ae),ye.target=J,ye.relatedTarget=vt,ce=ye),vt=ce,de&&ge)t:{for(ye=de,Z=ge,X=0,J=ye;J;J=Ei(J))X++;for(J=0,ce=Z;ce;ce=Ei(ce))J++;for(;0<X-J;)ye=Ei(ye),X--;for(;0<J-X;)Z=Ei(Z),J--;for(;X--;){if(ye===Z||Z!==null&&ye===Z.alternate)break t;ye=Ei(ye),Z=Ei(Z)}ye=null}else ye=null;de!==null&&vw(oe,re,de,ye,!1),ge!==null&&vt!==null&&vw(oe,vt,ge,ye,!0)}}e:{if(re=ee?Ci(ee):window,de=re.nodeName&&re.nodeName.toLowerCase(),de==="select"||de==="input"&&re.type==="file")var xe=xI;else if(Qb(re))if(Jb)xe=SI;else{xe=wI;var _e=bI}else(de=re.nodeName)&&de.toLowerCase()==="input"&&(re.type==="checkbox"||re.type==="radio")&&(xe=jI);if(xe&&(xe=xe(i,ee))){Zb(oe,xe,f,ae);break e}_e&&_e(i,re,ee),i==="focusout"&&(_e=re._wrapperState)&&_e.controlled&&re.type==="number"&&cn(re,"number",re.value)}switch(_e=ee?Ci(ee):window,i){case"focusin":(Qb(_e)||_e.contentEditable==="true")&&(Ai=_e,Zf=ee,bo=null);break;case"focusout":bo=Zf=Ai=null;break;case"mousedown":Jf=!0;break;case"contextmenu":case"mouseup":case"dragend":Jf=!1,ow(oe,f,ae);break;case"selectionchange":if(kI)break;case"keydown":case"keyup":ow(oe,f,ae)}var Ne;if(Kf)e:{switch(i){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else Oi?Yb(i,f)&&(Pe="onCompositionEnd"):i==="keydown"&&f.keyCode===229&&(Pe="onCompositionStart");Pe&&(Gb&&f.locale!=="ko"&&(Oi||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&Oi&&(Ne=zb()):(ea=ae,qf="value"in ea?ea.value:ea.textContent,Oi=!0)),_e=_c(ee,Pe),0<_e.length&&(Pe=new Wb(Pe,i,null,f,ae),oe.push({event:Pe,listeners:_e}),Ne?Pe.data=Ne:(Ne=Xb(f),Ne!==null&&(Pe.data=Ne)))),(Ne=hI?pI(i,f):gI(i,f))&&(ee=_c(ee,"onBeforeInput"),0<ee.length&&(ae=new Wb("onBeforeInput","beforeinput",null,f,ae),oe.push({event:ae,listeners:ee}),ae.data=Ne))}gw(oe,l)})}function So(i,l,f){return{instance:i,listener:l,currentTarget:f}}function _c(i,l){for(var f=l+"Capture",g=[];i!==null;){var x=i,_=x.stateNode;x.tag===5&&_!==null&&(x=_,_=no(i,f),_!=null&&g.unshift(So(i,_,x)),_=no(i,l),_!=null&&g.push(So(i,_,x))),i=i.return}return g}function Ei(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function vw(i,l,f,g,x){for(var _=l._reactName,E=[];f!==null&&f!==g;){var H=f,K=H.alternate,ee=H.stateNode;if(K!==null&&K===g)break;H.tag===5&&ee!==null&&(H=ee,x?(K=no(f,_),K!=null&&E.unshift(So(f,K,H))):x||(K=no(f,_),K!=null&&E.push(So(f,K,H)))),f=f.return}E.length!==0&&i.push({event:l,listeners:E})}var EI=/\r\n?/g,TI=/\u0000|\uFFFD/g;function xw(i){return(typeof i=="string"?i:""+i).replace(EI,`
`).replace(TI,"")}function Nc(i,l,f){if(l=xw(l),xw(i)!==l&&f)throw Error(r(425))}function kc(){}var im=null,sm=null;function om(i,l){return i==="textarea"||i==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var lm=typeof setTimeout=="function"?setTimeout:void 0,CI=typeof clearTimeout=="function"?clearTimeout:void 0,bw=typeof Promise=="function"?Promise:void 0,II=typeof queueMicrotask=="function"?queueMicrotask:typeof bw<"u"?function(i){return bw.resolve(null).then(i).catch(MI)}:lm;function MI(i){setTimeout(function(){throw i})}function cm(i,l){var f=l,g=0;do{var x=f.nextSibling;if(i.removeChild(f),x&&x.nodeType===8)if(f=x.data,f==="/$"){if(g===0){i.removeChild(x),mo(l);return}g--}else f!=="$"&&f!=="$?"&&f!=="$!"||g++;f=x}while(f);mo(l)}function ra(i){for(;i!=null;i=i.nextSibling){var l=i.nodeType;if(l===1||l===3)break;if(l===8){if(l=i.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return i}function ww(i){i=i.previousSibling;for(var l=0;i;){if(i.nodeType===8){var f=i.data;if(f==="$"||f==="$!"||f==="$?"){if(l===0)return i;l--}else f==="/$"&&l++}i=i.previousSibling}return null}var Ti=Math.random().toString(36).slice(2),fn="__reactFiber$"+Ti,_o="__reactProps$"+Ti,Nn="__reactContainer$"+Ti,um="__reactEvents$"+Ti,RI="__reactListeners$"+Ti,DI="__reactHandles$"+Ti;function Ra(i){var l=i[fn];if(l)return l;for(var f=i.parentNode;f;){if(l=f[Nn]||f[fn]){if(f=l.alternate,l.child!==null||f!==null&&f.child!==null)for(i=ww(i);i!==null;){if(f=i[fn])return f;i=ww(i)}return l}i=f,f=i.parentNode}return null}function No(i){return i=i[fn]||i[Nn],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Ci(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(r(33))}function Oc(i){return i[_o]||null}var dm=[],Ii=-1;function na(i){return{current:i}}function tt(i){0>Ii||(i.current=dm[Ii],dm[Ii]=null,Ii--)}function Ye(i,l){Ii++,dm[Ii]=i.current,i.current=l}var aa={},Ht=na(aa),lr=na(!1),Da=aa;function Mi(i,l){var f=i.type.contextTypes;if(!f)return aa;var g=i.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===l)return g.__reactInternalMemoizedMaskedChildContext;var x={},_;for(_ in f)x[_]=l[_];return g&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=l,i.__reactInternalMemoizedMaskedChildContext=x),x}function cr(i){return i=i.childContextTypes,i!=null}function Ac(){tt(lr),tt(Ht)}function jw(i,l,f){if(Ht.current!==aa)throw Error(r(168));Ye(Ht,l),Ye(lr,f)}function Sw(i,l,f){var g=i.stateNode;if(l=l.childContextTypes,typeof g.getChildContext!="function")return f;g=g.getChildContext();for(var x in g)if(!(x in l))throw Error(r(108,$e(i)||"Unknown",x));return Q({},f,g)}function Pc(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||aa,Da=Ht.current,Ye(Ht,i),Ye(lr,lr.current),!0}function _w(i,l,f){var g=i.stateNode;if(!g)throw Error(r(169));f?(i=Sw(i,l,Da),g.__reactInternalMemoizedMergedChildContext=i,tt(lr),tt(Ht),Ye(Ht,i)):tt(lr),Ye(lr,f)}var kn=null,Ec=!1,fm=!1;function Nw(i){kn===null?kn=[i]:kn.push(i)}function $I(i){Ec=!0,Nw(i)}function ia(){if(!fm&&kn!==null){fm=!0;var i=0,l=He;try{var f=kn;for(He=1;i<f.length;i++){var g=f[i];do g=g(!0);while(g!==null)}kn=null,Ec=!1}catch(x){throw kn!==null&&(kn=kn.slice(i+1)),Ob(Mf,ia),x}finally{He=l,fm=!1}}return null}var Ri=[],Di=0,Tc=null,Cc=0,Or=[],Ar=0,$a=null,On=1,An="";function La(i,l){Ri[Di++]=Cc,Ri[Di++]=Tc,Tc=i,Cc=l}function kw(i,l,f){Or[Ar++]=On,Or[Ar++]=An,Or[Ar++]=$a,$a=i;var g=On;i=An;var x=32-Vr(g)-1;g&=~(1<<x),f+=1;var _=32-Vr(l)+x;if(30<_){var E=x-x%5;_=(g&(1<<E)-1).toString(32),g>>=E,x-=E,On=1<<32-Vr(l)+x|f<<x|g,An=_+i}else On=1<<_|f<<x|g,An=i}function mm(i){i.return!==null&&(La(i,1),kw(i,1,0))}function hm(i){for(;i===Tc;)Tc=Ri[--Di],Ri[Di]=null,Cc=Ri[--Di],Ri[Di]=null;for(;i===$a;)$a=Or[--Ar],Or[Ar]=null,An=Or[--Ar],Or[Ar]=null,On=Or[--Ar],Or[Ar]=null}var vr=null,xr=null,it=!1,Yr=null;function Ow(i,l){var f=Cr(5,null,null,0);f.elementType="DELETED",f.stateNode=l,f.return=i,l=i.deletions,l===null?(i.deletions=[f],i.flags|=16):l.push(f)}function Aw(i,l){switch(i.tag){case 5:var f=i.type;return l=l.nodeType!==1||f.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(i.stateNode=l,vr=i,xr=ra(l.firstChild),!0):!1;case 6:return l=i.pendingProps===""||l.nodeType!==3?null:l,l!==null?(i.stateNode=l,vr=i,xr=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(f=$a!==null?{id:On,overflow:An}:null,i.memoizedState={dehydrated:l,treeContext:f,retryLane:1073741824},f=Cr(18,null,null,0),f.stateNode=l,f.return=i,i.child=f,vr=i,xr=null,!0):!1;default:return!1}}function pm(i){return(i.mode&1)!==0&&(i.flags&128)===0}function gm(i){if(it){var l=xr;if(l){var f=l;if(!Aw(i,l)){if(pm(i))throw Error(r(418));l=ra(f.nextSibling);var g=vr;l&&Aw(i,l)?Ow(g,f):(i.flags=i.flags&-4097|2,it=!1,vr=i)}}else{if(pm(i))throw Error(r(418));i.flags=i.flags&-4097|2,it=!1,vr=i}}}function Pw(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;vr=i}function Ic(i){if(i!==vr)return!1;if(!it)return Pw(i),it=!0,!1;var l;if((l=i.tag!==3)&&!(l=i.tag!==5)&&(l=i.type,l=l!=="head"&&l!=="body"&&!om(i.type,i.memoizedProps)),l&&(l=xr)){if(pm(i))throw Ew(),Error(r(418));for(;l;)Ow(i,l),l=ra(l.nextSibling)}if(Pw(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,l=0;i;){if(i.nodeType===8){var f=i.data;if(f==="/$"){if(l===0){xr=ra(i.nextSibling);break e}l--}else f!=="$"&&f!=="$!"&&f!=="$?"||l++}i=i.nextSibling}xr=null}}else xr=vr?ra(i.stateNode.nextSibling):null;return!0}function Ew(){for(var i=xr;i;)i=ra(i.nextSibling)}function $i(){xr=vr=null,it=!1}function ym(i){Yr===null?Yr=[i]:Yr.push(i)}var LI=A.ReactCurrentBatchConfig;function ko(i,l,f){if(i=f.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(f._owner){if(f=f._owner,f){if(f.tag!==1)throw Error(r(309));var g=f.stateNode}if(!g)throw Error(r(147,i));var x=g,_=""+i;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===_?l.ref:(l=function(E){var H=x.refs;E===null?delete H[_]:H[_]=E},l._stringRef=_,l)}if(typeof i!="string")throw Error(r(284));if(!f._owner)throw Error(r(290,i))}return i}function Mc(i,l){throw i=Object.prototype.toString.call(l),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":i))}function Tw(i){var l=i._init;return l(i._payload)}function Cw(i){function l(Z,X){if(i){var J=Z.deletions;J===null?(Z.deletions=[X],Z.flags|=16):J.push(X)}}function f(Z,X){if(!i)return null;for(;X!==null;)l(Z,X),X=X.sibling;return null}function g(Z,X){for(Z=new Map;X!==null;)X.key!==null?Z.set(X.key,X):Z.set(X.index,X),X=X.sibling;return Z}function x(Z,X){return Z=ma(Z,X),Z.index=0,Z.sibling=null,Z}function _(Z,X,J){return Z.index=J,i?(J=Z.alternate,J!==null?(J=J.index,J<X?(Z.flags|=2,X):J):(Z.flags|=2,X)):(Z.flags|=1048576,X)}function E(Z){return i&&Z.alternate===null&&(Z.flags|=2),Z}function H(Z,X,J,ce){return X===null||X.tag!==6?(X=lh(J,Z.mode,ce),X.return=Z,X):(X=x(X,J),X.return=Z,X)}function K(Z,X,J,ce){var xe=J.type;return xe===T?ae(Z,X,J.props.children,ce,J.key):X!==null&&(X.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===D&&Tw(xe)===X.type)?(ce=x(X,J.props),ce.ref=ko(Z,X,J),ce.return=Z,ce):(ce=au(J.type,J.key,J.props,null,Z.mode,ce),ce.ref=ko(Z,X,J),ce.return=Z,ce)}function ee(Z,X,J,ce){return X===null||X.tag!==4||X.stateNode.containerInfo!==J.containerInfo||X.stateNode.implementation!==J.implementation?(X=ch(J,Z.mode,ce),X.return=Z,X):(X=x(X,J.children||[]),X.return=Z,X)}function ae(Z,X,J,ce,xe){return X===null||X.tag!==7?(X=Ga(J,Z.mode,ce,xe),X.return=Z,X):(X=x(X,J),X.return=Z,X)}function oe(Z,X,J){if(typeof X=="string"&&X!==""||typeof X=="number")return X=lh(""+X,Z.mode,J),X.return=Z,X;if(typeof X=="object"&&X!==null){switch(X.$$typeof){case N:return J=au(X.type,X.key,X.props,null,Z.mode,J),J.ref=ko(Z,null,X),J.return=Z,J;case P:return X=ch(X,Z.mode,J),X.return=Z,X;case D:var ce=X._init;return oe(Z,ce(X._payload),J)}if(un(X)||F(X))return X=Ga(X,Z.mode,J,null),X.return=Z,X;Mc(Z,X)}return null}function re(Z,X,J,ce){var xe=X!==null?X.key:null;if(typeof J=="string"&&J!==""||typeof J=="number")return xe!==null?null:H(Z,X,""+J,ce);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case N:return J.key===xe?K(Z,X,J,ce):null;case P:return J.key===xe?ee(Z,X,J,ce):null;case D:return xe=J._init,re(Z,X,xe(J._payload),ce)}if(un(J)||F(J))return xe!==null?null:ae(Z,X,J,ce,null);Mc(Z,J)}return null}function de(Z,X,J,ce,xe){if(typeof ce=="string"&&ce!==""||typeof ce=="number")return Z=Z.get(J)||null,H(X,Z,""+ce,xe);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case N:return Z=Z.get(ce.key===null?J:ce.key)||null,K(X,Z,ce,xe);case P:return Z=Z.get(ce.key===null?J:ce.key)||null,ee(X,Z,ce,xe);case D:var _e=ce._init;return de(Z,X,J,_e(ce._payload),xe)}if(un(ce)||F(ce))return Z=Z.get(J)||null,ae(X,Z,ce,xe,null);Mc(X,ce)}return null}function ge(Z,X,J,ce){for(var xe=null,_e=null,Ne=X,Pe=X=0,Mt=null;Ne!==null&&Pe<J.length;Pe++){Ne.index>Pe?(Mt=Ne,Ne=null):Mt=Ne.sibling;var Fe=re(Z,Ne,J[Pe],ce);if(Fe===null){Ne===null&&(Ne=Mt);break}i&&Ne&&Fe.alternate===null&&l(Z,Ne),X=_(Fe,X,Pe),_e===null?xe=Fe:_e.sibling=Fe,_e=Fe,Ne=Mt}if(Pe===J.length)return f(Z,Ne),it&&La(Z,Pe),xe;if(Ne===null){for(;Pe<J.length;Pe++)Ne=oe(Z,J[Pe],ce),Ne!==null&&(X=_(Ne,X,Pe),_e===null?xe=Ne:_e.sibling=Ne,_e=Ne);return it&&La(Z,Pe),xe}for(Ne=g(Z,Ne);Pe<J.length;Pe++)Mt=de(Ne,Z,Pe,J[Pe],ce),Mt!==null&&(i&&Mt.alternate!==null&&Ne.delete(Mt.key===null?Pe:Mt.key),X=_(Mt,X,Pe),_e===null?xe=Mt:_e.sibling=Mt,_e=Mt);return i&&Ne.forEach(function(ha){return l(Z,ha)}),it&&La(Z,Pe),xe}function ye(Z,X,J,ce){var xe=F(J);if(typeof xe!="function")throw Error(r(150));if(J=xe.call(J),J==null)throw Error(r(151));for(var _e=xe=null,Ne=X,Pe=X=0,Mt=null,Fe=J.next();Ne!==null&&!Fe.done;Pe++,Fe=J.next()){Ne.index>Pe?(Mt=Ne,Ne=null):Mt=Ne.sibling;var ha=re(Z,Ne,Fe.value,ce);if(ha===null){Ne===null&&(Ne=Mt);break}i&&Ne&&ha.alternate===null&&l(Z,Ne),X=_(ha,X,Pe),_e===null?xe=ha:_e.sibling=ha,_e=ha,Ne=Mt}if(Fe.done)return f(Z,Ne),it&&La(Z,Pe),xe;if(Ne===null){for(;!Fe.done;Pe++,Fe=J.next())Fe=oe(Z,Fe.value,ce),Fe!==null&&(X=_(Fe,X,Pe),_e===null?xe=Fe:_e.sibling=Fe,_e=Fe);return it&&La(Z,Pe),xe}for(Ne=g(Z,Ne);!Fe.done;Pe++,Fe=J.next())Fe=de(Ne,Z,Pe,Fe.value,ce),Fe!==null&&(i&&Fe.alternate!==null&&Ne.delete(Fe.key===null?Pe:Fe.key),X=_(Fe,X,Pe),_e===null?xe=Fe:_e.sibling=Fe,_e=Fe);return i&&Ne.forEach(function(yM){return l(Z,yM)}),it&&La(Z,Pe),xe}function vt(Z,X,J,ce){if(typeof J=="object"&&J!==null&&J.type===T&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case N:e:{for(var xe=J.key,_e=X;_e!==null;){if(_e.key===xe){if(xe=J.type,xe===T){if(_e.tag===7){f(Z,_e.sibling),X=x(_e,J.props.children),X.return=Z,Z=X;break e}}else if(_e.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===D&&Tw(xe)===_e.type){f(Z,_e.sibling),X=x(_e,J.props),X.ref=ko(Z,_e,J),X.return=Z,Z=X;break e}f(Z,_e);break}else l(Z,_e);_e=_e.sibling}J.type===T?(X=Ga(J.props.children,Z.mode,ce,J.key),X.return=Z,Z=X):(ce=au(J.type,J.key,J.props,null,Z.mode,ce),ce.ref=ko(Z,X,J),ce.return=Z,Z=ce)}return E(Z);case P:e:{for(_e=J.key;X!==null;){if(X.key===_e)if(X.tag===4&&X.stateNode.containerInfo===J.containerInfo&&X.stateNode.implementation===J.implementation){f(Z,X.sibling),X=x(X,J.children||[]),X.return=Z,Z=X;break e}else{f(Z,X);break}else l(Z,X);X=X.sibling}X=ch(J,Z.mode,ce),X.return=Z,Z=X}return E(Z);case D:return _e=J._init,vt(Z,X,_e(J._payload),ce)}if(un(J))return ge(Z,X,J,ce);if(F(J))return ye(Z,X,J,ce);Mc(Z,J)}return typeof J=="string"&&J!==""||typeof J=="number"?(J=""+J,X!==null&&X.tag===6?(f(Z,X.sibling),X=x(X,J),X.return=Z,Z=X):(f(Z,X),X=lh(J,Z.mode,ce),X.return=Z,Z=X),E(Z)):f(Z,X)}return vt}var Li=Cw(!0),Iw=Cw(!1),Rc=na(null),Dc=null,Fi=null,vm=null;function xm(){vm=Fi=Dc=null}function bm(i){var l=Rc.current;tt(Rc),i._currentValue=l}function wm(i,l,f){for(;i!==null;){var g=i.alternate;if((i.childLanes&l)!==l?(i.childLanes|=l,g!==null&&(g.childLanes|=l)):g!==null&&(g.childLanes&l)!==l&&(g.childLanes|=l),i===f)break;i=i.return}}function Bi(i,l){Dc=i,vm=Fi=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&l)!==0&&(ur=!0),i.firstContext=null)}function Pr(i){var l=i._currentValue;if(vm!==i)if(i={context:i,memoizedValue:l,next:null},Fi===null){if(Dc===null)throw Error(r(308));Fi=i,Dc.dependencies={lanes:0,firstContext:i}}else Fi=Fi.next=i;return l}var Fa=null;function jm(i){Fa===null?Fa=[i]:Fa.push(i)}function Mw(i,l,f,g){var x=l.interleaved;return x===null?(f.next=f,jm(l)):(f.next=x.next,x.next=f),l.interleaved=f,Pn(i,g)}function Pn(i,l){i.lanes|=l;var f=i.alternate;for(f!==null&&(f.lanes|=l),f=i,i=i.return;i!==null;)i.childLanes|=l,f=i.alternate,f!==null&&(f.childLanes|=l),f=i,i=i.return;return f.tag===3?f.stateNode:null}var sa=!1;function Sm(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Rw(i,l){i=i.updateQueue,l.updateQueue===i&&(l.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function En(i,l){return{eventTime:i,lane:l,tag:0,payload:null,callback:null,next:null}}function oa(i,l,f){var g=i.updateQueue;if(g===null)return null;if(g=g.shared,(Le&2)!==0){var x=g.pending;return x===null?l.next=l:(l.next=x.next,x.next=l),g.pending=l,Pn(i,f)}return x=g.interleaved,x===null?(l.next=l,jm(g)):(l.next=x.next,x.next=l),g.interleaved=l,Pn(i,f)}function $c(i,l,f){if(l=l.updateQueue,l!==null&&(l=l.shared,(f&4194240)!==0)){var g=l.lanes;g&=i.pendingLanes,f|=g,l.lanes=f,$f(i,f)}}function Dw(i,l){var f=i.updateQueue,g=i.alternate;if(g!==null&&(g=g.updateQueue,f===g)){var x=null,_=null;if(f=f.firstBaseUpdate,f!==null){do{var E={eventTime:f.eventTime,lane:f.lane,tag:f.tag,payload:f.payload,callback:f.callback,next:null};_===null?x=_=E:_=_.next=E,f=f.next}while(f!==null);_===null?x=_=l:_=_.next=l}else x=_=l;f={baseState:g.baseState,firstBaseUpdate:x,lastBaseUpdate:_,shared:g.shared,effects:g.effects},i.updateQueue=f;return}i=f.lastBaseUpdate,i===null?f.firstBaseUpdate=l:i.next=l,f.lastBaseUpdate=l}function Lc(i,l,f,g){var x=i.updateQueue;sa=!1;var _=x.firstBaseUpdate,E=x.lastBaseUpdate,H=x.shared.pending;if(H!==null){x.shared.pending=null;var K=H,ee=K.next;K.next=null,E===null?_=ee:E.next=ee,E=K;var ae=i.alternate;ae!==null&&(ae=ae.updateQueue,H=ae.lastBaseUpdate,H!==E&&(H===null?ae.firstBaseUpdate=ee:H.next=ee,ae.lastBaseUpdate=K))}if(_!==null){var oe=x.baseState;E=0,ae=ee=K=null,H=_;do{var re=H.lane,de=H.eventTime;if((g&re)===re){ae!==null&&(ae=ae.next={eventTime:de,lane:0,tag:H.tag,payload:H.payload,callback:H.callback,next:null});e:{var ge=i,ye=H;switch(re=l,de=f,ye.tag){case 1:if(ge=ye.payload,typeof ge=="function"){oe=ge.call(de,oe,re);break e}oe=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=ye.payload,re=typeof ge=="function"?ge.call(de,oe,re):ge,re==null)break e;oe=Q({},oe,re);break e;case 2:sa=!0}}H.callback!==null&&H.lane!==0&&(i.flags|=64,re=x.effects,re===null?x.effects=[H]:re.push(H))}else de={eventTime:de,lane:re,tag:H.tag,payload:H.payload,callback:H.callback,next:null},ae===null?(ee=ae=de,K=oe):ae=ae.next=de,E|=re;if(H=H.next,H===null){if(H=x.shared.pending,H===null)break;re=H,H=re.next,re.next=null,x.lastBaseUpdate=re,x.shared.pending=null}}while(!0);if(ae===null&&(K=oe),x.baseState=K,x.firstBaseUpdate=ee,x.lastBaseUpdate=ae,l=x.shared.interleaved,l!==null){x=l;do E|=x.lane,x=x.next;while(x!==l)}else _===null&&(x.shared.lanes=0);qa|=E,i.lanes=E,i.memoizedState=oe}}function $w(i,l,f){if(i=l.effects,l.effects=null,i!==null)for(l=0;l<i.length;l++){var g=i[l],x=g.callback;if(x!==null){if(g.callback=null,g=f,typeof x!="function")throw Error(r(191,x));x.call(g)}}}var Oo={},mn=na(Oo),Ao=na(Oo),Po=na(Oo);function Ba(i){if(i===Oo)throw Error(r(174));return i}function _m(i,l){switch(Ye(Po,l),Ye(Ao,i),Ye(mn,Oo),i=l.nodeType,i){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:Nf(null,"");break;default:i=i===8?l.parentNode:l,l=i.namespaceURI||null,i=i.tagName,l=Nf(l,i)}tt(mn),Ye(mn,l)}function zi(){tt(mn),tt(Ao),tt(Po)}function Lw(i){Ba(Po.current);var l=Ba(mn.current),f=Nf(l,i.type);l!==f&&(Ye(Ao,i),Ye(mn,f))}function Nm(i){Ao.current===i&&(tt(mn),tt(Ao))}var ot=na(0);function Fc(i){for(var l=i;l!==null;){if(l.tag===13){var f=l.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||f.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var km=[];function Om(){for(var i=0;i<km.length;i++)km[i]._workInProgressVersionPrimary=null;km.length=0}var Bc=A.ReactCurrentDispatcher,Am=A.ReactCurrentBatchConfig,za=0,lt=null,_t=null,Ct=null,zc=!1,Eo=!1,To=0,FI=0;function Gt(){throw Error(r(321))}function Pm(i,l){if(l===null)return!1;for(var f=0;f<l.length&&f<i.length;f++)if(!Kr(i[f],l[f]))return!1;return!0}function Em(i,l,f,g,x,_){if(za=_,lt=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,Bc.current=i===null||i.memoizedState===null?UI:WI,i=f(g,x),Eo){_=0;do{if(Eo=!1,To=0,25<=_)throw Error(r(301));_+=1,Ct=_t=null,l.updateQueue=null,Bc.current=HI,i=f(g,x)}while(Eo)}if(Bc.current=Wc,l=_t!==null&&_t.next!==null,za=0,Ct=_t=lt=null,zc=!1,l)throw Error(r(300));return i}function Tm(){var i=To!==0;return To=0,i}function hn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?lt.memoizedState=Ct=i:Ct=Ct.next=i,Ct}function Er(){if(_t===null){var i=lt.alternate;i=i!==null?i.memoizedState:null}else i=_t.next;var l=Ct===null?lt.memoizedState:Ct.next;if(l!==null)Ct=l,_t=i;else{if(i===null)throw Error(r(310));_t=i,i={memoizedState:_t.memoizedState,baseState:_t.baseState,baseQueue:_t.baseQueue,queue:_t.queue,next:null},Ct===null?lt.memoizedState=Ct=i:Ct=Ct.next=i}return Ct}function Co(i,l){return typeof l=="function"?l(i):l}function Cm(i){var l=Er(),f=l.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=i;var g=_t,x=g.baseQueue,_=f.pending;if(_!==null){if(x!==null){var E=x.next;x.next=_.next,_.next=E}g.baseQueue=x=_,f.pending=null}if(x!==null){_=x.next,g=g.baseState;var H=E=null,K=null,ee=_;do{var ae=ee.lane;if((za&ae)===ae)K!==null&&(K=K.next={lane:0,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),g=ee.hasEagerState?ee.eagerState:i(g,ee.action);else{var oe={lane:ae,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null};K===null?(H=K=oe,E=g):K=K.next=oe,lt.lanes|=ae,qa|=ae}ee=ee.next}while(ee!==null&&ee!==_);K===null?E=g:K.next=H,Kr(g,l.memoizedState)||(ur=!0),l.memoizedState=g,l.baseState=E,l.baseQueue=K,f.lastRenderedState=g}if(i=f.interleaved,i!==null){x=i;do _=x.lane,lt.lanes|=_,qa|=_,x=x.next;while(x!==i)}else x===null&&(f.lanes=0);return[l.memoizedState,f.dispatch]}function Im(i){var l=Er(),f=l.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=i;var g=f.dispatch,x=f.pending,_=l.memoizedState;if(x!==null){f.pending=null;var E=x=x.next;do _=i(_,E.action),E=E.next;while(E!==x);Kr(_,l.memoizedState)||(ur=!0),l.memoizedState=_,l.baseQueue===null&&(l.baseState=_),f.lastRenderedState=_}return[_,g]}function Fw(){}function Bw(i,l){var f=lt,g=Er(),x=l(),_=!Kr(g.memoizedState,x);if(_&&(g.memoizedState=x,ur=!0),g=g.queue,Mm(Uw.bind(null,f,g,i),[i]),g.getSnapshot!==l||_||Ct!==null&&Ct.memoizedState.tag&1){if(f.flags|=2048,Io(9,qw.bind(null,f,g,x,l),void 0,null),It===null)throw Error(r(349));(za&30)!==0||zw(f,l,x)}return x}function zw(i,l,f){i.flags|=16384,i={getSnapshot:l,value:f},l=lt.updateQueue,l===null?(l={lastEffect:null,stores:null},lt.updateQueue=l,l.stores=[i]):(f=l.stores,f===null?l.stores=[i]:f.push(i))}function qw(i,l,f,g){l.value=f,l.getSnapshot=g,Ww(l)&&Hw(i)}function Uw(i,l,f){return f(function(){Ww(l)&&Hw(i)})}function Ww(i){var l=i.getSnapshot;i=i.value;try{var f=l();return!Kr(i,f)}catch{return!0}}function Hw(i){var l=Pn(i,1);l!==null&&Jr(l,i,1,-1)}function Gw(i){var l=hn();return typeof i=="function"&&(i=i()),l.memoizedState=l.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:i},l.queue=i,i=i.dispatch=qI.bind(null,lt,i),[l.memoizedState,i]}function Io(i,l,f,g){return i={tag:i,create:l,destroy:f,deps:g,next:null},l=lt.updateQueue,l===null?(l={lastEffect:null,stores:null},lt.updateQueue=l,l.lastEffect=i.next=i):(f=l.lastEffect,f===null?l.lastEffect=i.next=i:(g=f.next,f.next=i,i.next=g,l.lastEffect=i)),i}function Vw(){return Er().memoizedState}function qc(i,l,f,g){var x=hn();lt.flags|=i,x.memoizedState=Io(1|l,f,void 0,g===void 0?null:g)}function Uc(i,l,f,g){var x=Er();g=g===void 0?null:g;var _=void 0;if(_t!==null){var E=_t.memoizedState;if(_=E.destroy,g!==null&&Pm(g,E.deps)){x.memoizedState=Io(l,f,_,g);return}}lt.flags|=i,x.memoizedState=Io(1|l,f,_,g)}function Kw(i,l){return qc(8390656,8,i,l)}function Mm(i,l){return Uc(2048,8,i,l)}function Yw(i,l){return Uc(4,2,i,l)}function Xw(i,l){return Uc(4,4,i,l)}function Qw(i,l){if(typeof l=="function")return i=i(),l(i),function(){l(null)};if(l!=null)return i=i(),l.current=i,function(){l.current=null}}function Zw(i,l,f){return f=f!=null?f.concat([i]):null,Uc(4,4,Qw.bind(null,l,i),f)}function Rm(){}function Jw(i,l){var f=Er();l=l===void 0?null:l;var g=f.memoizedState;return g!==null&&l!==null&&Pm(l,g[1])?g[0]:(f.memoizedState=[i,l],i)}function e1(i,l){var f=Er();l=l===void 0?null:l;var g=f.memoizedState;return g!==null&&l!==null&&Pm(l,g[1])?g[0]:(i=i(),f.memoizedState=[i,l],i)}function t1(i,l,f){return(za&21)===0?(i.baseState&&(i.baseState=!1,ur=!0),i.memoizedState=f):(Kr(f,l)||(f=Tb(),lt.lanes|=f,qa|=f,i.baseState=!0),l)}function BI(i,l){var f=He;He=f!==0&&4>f?f:4,i(!0);var g=Am.transition;Am.transition={};try{i(!1),l()}finally{He=f,Am.transition=g}}function r1(){return Er().memoizedState}function zI(i,l,f){var g=da(i);if(f={lane:g,action:f,hasEagerState:!1,eagerState:null,next:null},n1(i))a1(l,f);else if(f=Mw(i,l,f,g),f!==null){var x=er();Jr(f,i,g,x),i1(f,l,g)}}function qI(i,l,f){var g=da(i),x={lane:g,action:f,hasEagerState:!1,eagerState:null,next:null};if(n1(i))a1(l,x);else{var _=i.alternate;if(i.lanes===0&&(_===null||_.lanes===0)&&(_=l.lastRenderedReducer,_!==null))try{var E=l.lastRenderedState,H=_(E,f);if(x.hasEagerState=!0,x.eagerState=H,Kr(H,E)){var K=l.interleaved;K===null?(x.next=x,jm(l)):(x.next=K.next,K.next=x),l.interleaved=x;return}}catch{}finally{}f=Mw(i,l,x,g),f!==null&&(x=er(),Jr(f,i,g,x),i1(f,l,g))}}function n1(i){var l=i.alternate;return i===lt||l!==null&&l===lt}function a1(i,l){Eo=zc=!0;var f=i.pending;f===null?l.next=l:(l.next=f.next,f.next=l),i.pending=l}function i1(i,l,f){if((f&4194240)!==0){var g=l.lanes;g&=i.pendingLanes,f|=g,l.lanes=f,$f(i,f)}}var Wc={readContext:Pr,useCallback:Gt,useContext:Gt,useEffect:Gt,useImperativeHandle:Gt,useInsertionEffect:Gt,useLayoutEffect:Gt,useMemo:Gt,useReducer:Gt,useRef:Gt,useState:Gt,useDebugValue:Gt,useDeferredValue:Gt,useTransition:Gt,useMutableSource:Gt,useSyncExternalStore:Gt,useId:Gt,unstable_isNewReconciler:!1},UI={readContext:Pr,useCallback:function(i,l){return hn().memoizedState=[i,l===void 0?null:l],i},useContext:Pr,useEffect:Kw,useImperativeHandle:function(i,l,f){return f=f!=null?f.concat([i]):null,qc(4194308,4,Qw.bind(null,l,i),f)},useLayoutEffect:function(i,l){return qc(4194308,4,i,l)},useInsertionEffect:function(i,l){return qc(4,2,i,l)},useMemo:function(i,l){var f=hn();return l=l===void 0?null:l,i=i(),f.memoizedState=[i,l],i},useReducer:function(i,l,f){var g=hn();return l=f!==void 0?f(l):l,g.memoizedState=g.baseState=l,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:l},g.queue=i,i=i.dispatch=zI.bind(null,lt,i),[g.memoizedState,i]},useRef:function(i){var l=hn();return i={current:i},l.memoizedState=i},useState:Gw,useDebugValue:Rm,useDeferredValue:function(i){return hn().memoizedState=i},useTransition:function(){var i=Gw(!1),l=i[0];return i=BI.bind(null,i[1]),hn().memoizedState=i,[l,i]},useMutableSource:function(){},useSyncExternalStore:function(i,l,f){var g=lt,x=hn();if(it){if(f===void 0)throw Error(r(407));f=f()}else{if(f=l(),It===null)throw Error(r(349));(za&30)!==0||zw(g,l,f)}x.memoizedState=f;var _={value:f,getSnapshot:l};return x.queue=_,Kw(Uw.bind(null,g,_,i),[i]),g.flags|=2048,Io(9,qw.bind(null,g,_,f,l),void 0,null),f},useId:function(){var i=hn(),l=It.identifierPrefix;if(it){var f=An,g=On;f=(g&~(1<<32-Vr(g)-1)).toString(32)+f,l=":"+l+"R"+f,f=To++,0<f&&(l+="H"+f.toString(32)),l+=":"}else f=FI++,l=":"+l+"r"+f.toString(32)+":";return i.memoizedState=l},unstable_isNewReconciler:!1},WI={readContext:Pr,useCallback:Jw,useContext:Pr,useEffect:Mm,useImperativeHandle:Zw,useInsertionEffect:Yw,useLayoutEffect:Xw,useMemo:e1,useReducer:Cm,useRef:Vw,useState:function(){return Cm(Co)},useDebugValue:Rm,useDeferredValue:function(i){var l=Er();return t1(l,_t.memoizedState,i)},useTransition:function(){var i=Cm(Co)[0],l=Er().memoizedState;return[i,l]},useMutableSource:Fw,useSyncExternalStore:Bw,useId:r1,unstable_isNewReconciler:!1},HI={readContext:Pr,useCallback:Jw,useContext:Pr,useEffect:Mm,useImperativeHandle:Zw,useInsertionEffect:Yw,useLayoutEffect:Xw,useMemo:e1,useReducer:Im,useRef:Vw,useState:function(){return Im(Co)},useDebugValue:Rm,useDeferredValue:function(i){var l=Er();return _t===null?l.memoizedState=i:t1(l,_t.memoizedState,i)},useTransition:function(){var i=Im(Co)[0],l=Er().memoizedState;return[i,l]},useMutableSource:Fw,useSyncExternalStore:Bw,useId:r1,unstable_isNewReconciler:!1};function Xr(i,l){if(i&&i.defaultProps){l=Q({},l),i=i.defaultProps;for(var f in i)l[f]===void 0&&(l[f]=i[f]);return l}return l}function Dm(i,l,f,g){l=i.memoizedState,f=f(g,l),f=f==null?l:Q({},l,f),i.memoizedState=f,i.lanes===0&&(i.updateQueue.baseState=f)}var Hc={isMounted:function(i){return(i=i._reactInternals)?Ma(i)===i:!1},enqueueSetState:function(i,l,f){i=i._reactInternals;var g=er(),x=da(i),_=En(g,x);_.payload=l,f!=null&&(_.callback=f),l=oa(i,_,x),l!==null&&(Jr(l,i,x,g),$c(l,i,x))},enqueueReplaceState:function(i,l,f){i=i._reactInternals;var g=er(),x=da(i),_=En(g,x);_.tag=1,_.payload=l,f!=null&&(_.callback=f),l=oa(i,_,x),l!==null&&(Jr(l,i,x,g),$c(l,i,x))},enqueueForceUpdate:function(i,l){i=i._reactInternals;var f=er(),g=da(i),x=En(f,g);x.tag=2,l!=null&&(x.callback=l),l=oa(i,x,g),l!==null&&(Jr(l,i,g,f),$c(l,i,g))}};function s1(i,l,f,g,x,_,E){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(g,_,E):l.prototype&&l.prototype.isPureReactComponent?!xo(f,g)||!xo(x,_):!0}function o1(i,l,f){var g=!1,x=aa,_=l.contextType;return typeof _=="object"&&_!==null?_=Pr(_):(x=cr(l)?Da:Ht.current,g=l.contextTypes,_=(g=g!=null)?Mi(i,x):aa),l=new l(f,_),i.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=Hc,i.stateNode=l,l._reactInternals=i,g&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=x,i.__reactInternalMemoizedMaskedChildContext=_),l}function l1(i,l,f,g){i=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(f,g),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(f,g),l.state!==i&&Hc.enqueueReplaceState(l,l.state,null)}function $m(i,l,f,g){var x=i.stateNode;x.props=f,x.state=i.memoizedState,x.refs={},Sm(i);var _=l.contextType;typeof _=="object"&&_!==null?x.context=Pr(_):(_=cr(l)?Da:Ht.current,x.context=Mi(i,_)),x.state=i.memoizedState,_=l.getDerivedStateFromProps,typeof _=="function"&&(Dm(i,l,_,f),x.state=i.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(l=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),l!==x.state&&Hc.enqueueReplaceState(x,x.state,null),Lc(i,f,x,g),x.state=i.memoizedState),typeof x.componentDidMount=="function"&&(i.flags|=4194308)}function qi(i,l){try{var f="",g=l;do f+=we(g),g=g.return;while(g);var x=f}catch(_){x=`
Error generating stack: `+_.message+`
`+_.stack}return{value:i,source:l,stack:x,digest:null}}function Lm(i,l,f){return{value:i,source:null,stack:f??null,digest:l??null}}function Fm(i,l){try{console.error(l.value)}catch(f){setTimeout(function(){throw f})}}var GI=typeof WeakMap=="function"?WeakMap:Map;function c1(i,l,f){f=En(-1,f),f.tag=3,f.payload={element:null};var g=l.value;return f.callback=function(){Zc||(Zc=!0,eh=g),Fm(i,l)},f}function u1(i,l,f){f=En(-1,f),f.tag=3;var g=i.type.getDerivedStateFromError;if(typeof g=="function"){var x=l.value;f.payload=function(){return g(x)},f.callback=function(){Fm(i,l)}}var _=i.stateNode;return _!==null&&typeof _.componentDidCatch=="function"&&(f.callback=function(){Fm(i,l),typeof g!="function"&&(ca===null?ca=new Set([this]):ca.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})}),f}function d1(i,l,f){var g=i.pingCache;if(g===null){g=i.pingCache=new GI;var x=new Set;g.set(l,x)}else x=g.get(l),x===void 0&&(x=new Set,g.set(l,x));x.has(f)||(x.add(f),i=sM.bind(null,i,l,f),l.then(i,i))}function f1(i){do{var l;if((l=i.tag===13)&&(l=i.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return i;i=i.return}while(i!==null);return null}function m1(i,l,f,g,x){return(i.mode&1)===0?(i===l?i.flags|=65536:(i.flags|=128,f.flags|=131072,f.flags&=-52805,f.tag===1&&(f.alternate===null?f.tag=17:(l=En(-1,1),l.tag=2,oa(f,l,1))),f.lanes|=1),i):(i.flags|=65536,i.lanes=x,i)}var VI=A.ReactCurrentOwner,ur=!1;function Jt(i,l,f,g){l.child=i===null?Iw(l,null,f,g):Li(l,i.child,f,g)}function h1(i,l,f,g,x){f=f.render;var _=l.ref;return Bi(l,x),g=Em(i,l,f,g,_,x),f=Tm(),i!==null&&!ur?(l.updateQueue=i.updateQueue,l.flags&=-2053,i.lanes&=~x,Tn(i,l,x)):(it&&f&&mm(l),l.flags|=1,Jt(i,l,g,x),l.child)}function p1(i,l,f,g,x){if(i===null){var _=f.type;return typeof _=="function"&&!oh(_)&&_.defaultProps===void 0&&f.compare===null&&f.defaultProps===void 0?(l.tag=15,l.type=_,g1(i,l,_,g,x)):(i=au(f.type,null,g,l,l.mode,x),i.ref=l.ref,i.return=l,l.child=i)}if(_=i.child,(i.lanes&x)===0){var E=_.memoizedProps;if(f=f.compare,f=f!==null?f:xo,f(E,g)&&i.ref===l.ref)return Tn(i,l,x)}return l.flags|=1,i=ma(_,g),i.ref=l.ref,i.return=l,l.child=i}function g1(i,l,f,g,x){if(i!==null){var _=i.memoizedProps;if(xo(_,g)&&i.ref===l.ref)if(ur=!1,l.pendingProps=g=_,(i.lanes&x)!==0)(i.flags&131072)!==0&&(ur=!0);else return l.lanes=i.lanes,Tn(i,l,x)}return Bm(i,l,f,g,x)}function y1(i,l,f){var g=l.pendingProps,x=g.children,_=i!==null?i.memoizedState:null;if(g.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ye(Wi,br),br|=f;else{if((f&1073741824)===0)return i=_!==null?_.baseLanes|f:f,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:i,cachePool:null,transitions:null},l.updateQueue=null,Ye(Wi,br),br|=i,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=_!==null?_.baseLanes:f,Ye(Wi,br),br|=g}else _!==null?(g=_.baseLanes|f,l.memoizedState=null):g=f,Ye(Wi,br),br|=g;return Jt(i,l,x,f),l.child}function v1(i,l){var f=l.ref;(i===null&&f!==null||i!==null&&i.ref!==f)&&(l.flags|=512,l.flags|=2097152)}function Bm(i,l,f,g,x){var _=cr(f)?Da:Ht.current;return _=Mi(l,_),Bi(l,x),f=Em(i,l,f,g,_,x),g=Tm(),i!==null&&!ur?(l.updateQueue=i.updateQueue,l.flags&=-2053,i.lanes&=~x,Tn(i,l,x)):(it&&g&&mm(l),l.flags|=1,Jt(i,l,f,x),l.child)}function x1(i,l,f,g,x){if(cr(f)){var _=!0;Pc(l)}else _=!1;if(Bi(l,x),l.stateNode===null)Vc(i,l),o1(l,f,g),$m(l,f,g,x),g=!0;else if(i===null){var E=l.stateNode,H=l.memoizedProps;E.props=H;var K=E.context,ee=f.contextType;typeof ee=="object"&&ee!==null?ee=Pr(ee):(ee=cr(f)?Da:Ht.current,ee=Mi(l,ee));var ae=f.getDerivedStateFromProps,oe=typeof ae=="function"||typeof E.getSnapshotBeforeUpdate=="function";oe||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(H!==g||K!==ee)&&l1(l,E,g,ee),sa=!1;var re=l.memoizedState;E.state=re,Lc(l,g,E,x),K=l.memoizedState,H!==g||re!==K||lr.current||sa?(typeof ae=="function"&&(Dm(l,f,ae,g),K=l.memoizedState),(H=sa||s1(l,f,H,g,re,K,ee))?(oe||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(l.flags|=4194308)):(typeof E.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=g,l.memoizedState=K),E.props=g,E.state=K,E.context=ee,g=H):(typeof E.componentDidMount=="function"&&(l.flags|=4194308),g=!1)}else{E=l.stateNode,Rw(i,l),H=l.memoizedProps,ee=l.type===l.elementType?H:Xr(l.type,H),E.props=ee,oe=l.pendingProps,re=E.context,K=f.contextType,typeof K=="object"&&K!==null?K=Pr(K):(K=cr(f)?Da:Ht.current,K=Mi(l,K));var de=f.getDerivedStateFromProps;(ae=typeof de=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(H!==oe||re!==K)&&l1(l,E,g,K),sa=!1,re=l.memoizedState,E.state=re,Lc(l,g,E,x);var ge=l.memoizedState;H!==oe||re!==ge||lr.current||sa?(typeof de=="function"&&(Dm(l,f,de,g),ge=l.memoizedState),(ee=sa||s1(l,f,ee,g,re,ge,K)||!1)?(ae||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(g,ge,K),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(g,ge,K)),typeof E.componentDidUpdate=="function"&&(l.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof E.componentDidUpdate!="function"||H===i.memoizedProps&&re===i.memoizedState||(l.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||H===i.memoizedProps&&re===i.memoizedState||(l.flags|=1024),l.memoizedProps=g,l.memoizedState=ge),E.props=g,E.state=ge,E.context=K,g=ee):(typeof E.componentDidUpdate!="function"||H===i.memoizedProps&&re===i.memoizedState||(l.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||H===i.memoizedProps&&re===i.memoizedState||(l.flags|=1024),g=!1)}return zm(i,l,f,g,_,x)}function zm(i,l,f,g,x,_){v1(i,l);var E=(l.flags&128)!==0;if(!g&&!E)return x&&_w(l,f,!1),Tn(i,l,_);g=l.stateNode,VI.current=l;var H=E&&typeof f.getDerivedStateFromError!="function"?null:g.render();return l.flags|=1,i!==null&&E?(l.child=Li(l,i.child,null,_),l.child=Li(l,null,H,_)):Jt(i,l,H,_),l.memoizedState=g.state,x&&_w(l,f,!0),l.child}function b1(i){var l=i.stateNode;l.pendingContext?jw(i,l.pendingContext,l.pendingContext!==l.context):l.context&&jw(i,l.context,!1),_m(i,l.containerInfo)}function w1(i,l,f,g,x){return $i(),ym(x),l.flags|=256,Jt(i,l,f,g),l.child}var qm={dehydrated:null,treeContext:null,retryLane:0};function Um(i){return{baseLanes:i,cachePool:null,transitions:null}}function j1(i,l,f){var g=l.pendingProps,x=ot.current,_=!1,E=(l.flags&128)!==0,H;if((H=E)||(H=i!==null&&i.memoizedState===null?!1:(x&2)!==0),H?(_=!0,l.flags&=-129):(i===null||i.memoizedState!==null)&&(x|=1),Ye(ot,x&1),i===null)return gm(l),i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((l.mode&1)===0?l.lanes=1:i.data==="$!"?l.lanes=8:l.lanes=1073741824,null):(E=g.children,i=g.fallback,_?(g=l.mode,_=l.child,E={mode:"hidden",children:E},(g&1)===0&&_!==null?(_.childLanes=0,_.pendingProps=E):_=iu(E,g,0,null),i=Ga(i,g,f,null),_.return=l,i.return=l,_.sibling=i,l.child=_,l.child.memoizedState=Um(f),l.memoizedState=qm,i):Wm(l,E));if(x=i.memoizedState,x!==null&&(H=x.dehydrated,H!==null))return KI(i,l,E,g,H,x,f);if(_){_=g.fallback,E=l.mode,x=i.child,H=x.sibling;var K={mode:"hidden",children:g.children};return(E&1)===0&&l.child!==x?(g=l.child,g.childLanes=0,g.pendingProps=K,l.deletions=null):(g=ma(x,K),g.subtreeFlags=x.subtreeFlags&14680064),H!==null?_=ma(H,_):(_=Ga(_,E,f,null),_.flags|=2),_.return=l,g.return=l,g.sibling=_,l.child=g,g=_,_=l.child,E=i.child.memoizedState,E=E===null?Um(f):{baseLanes:E.baseLanes|f,cachePool:null,transitions:E.transitions},_.memoizedState=E,_.childLanes=i.childLanes&~f,l.memoizedState=qm,g}return _=i.child,i=_.sibling,g=ma(_,{mode:"visible",children:g.children}),(l.mode&1)===0&&(g.lanes=f),g.return=l,g.sibling=null,i!==null&&(f=l.deletions,f===null?(l.deletions=[i],l.flags|=16):f.push(i)),l.child=g,l.memoizedState=null,g}function Wm(i,l){return l=iu({mode:"visible",children:l},i.mode,0,null),l.return=i,i.child=l}function Gc(i,l,f,g){return g!==null&&ym(g),Li(l,i.child,null,f),i=Wm(l,l.pendingProps.children),i.flags|=2,l.memoizedState=null,i}function KI(i,l,f,g,x,_,E){if(f)return l.flags&256?(l.flags&=-257,g=Lm(Error(r(422))),Gc(i,l,E,g)):l.memoizedState!==null?(l.child=i.child,l.flags|=128,null):(_=g.fallback,x=l.mode,g=iu({mode:"visible",children:g.children},x,0,null),_=Ga(_,x,E,null),_.flags|=2,g.return=l,_.return=l,g.sibling=_,l.child=g,(l.mode&1)!==0&&Li(l,i.child,null,E),l.child.memoizedState=Um(E),l.memoizedState=qm,_);if((l.mode&1)===0)return Gc(i,l,E,null);if(x.data==="$!"){if(g=x.nextSibling&&x.nextSibling.dataset,g)var H=g.dgst;return g=H,_=Error(r(419)),g=Lm(_,g,void 0),Gc(i,l,E,g)}if(H=(E&i.childLanes)!==0,ur||H){if(g=It,g!==null){switch(E&-E){case 4:x=2;break;case 16:x=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:x=32;break;case 536870912:x=268435456;break;default:x=0}x=(x&(g.suspendedLanes|E))!==0?0:x,x!==0&&x!==_.retryLane&&(_.retryLane=x,Pn(i,x),Jr(g,i,x,-1))}return sh(),g=Lm(Error(r(421))),Gc(i,l,E,g)}return x.data==="$?"?(l.flags|=128,l.child=i.child,l=oM.bind(null,i),x._reactRetry=l,null):(i=_.treeContext,xr=ra(x.nextSibling),vr=l,it=!0,Yr=null,i!==null&&(Or[Ar++]=On,Or[Ar++]=An,Or[Ar++]=$a,On=i.id,An=i.overflow,$a=l),l=Wm(l,g.children),l.flags|=4096,l)}function S1(i,l,f){i.lanes|=l;var g=i.alternate;g!==null&&(g.lanes|=l),wm(i.return,l,f)}function Hm(i,l,f,g,x){var _=i.memoizedState;_===null?i.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:g,tail:f,tailMode:x}:(_.isBackwards=l,_.rendering=null,_.renderingStartTime=0,_.last=g,_.tail=f,_.tailMode=x)}function _1(i,l,f){var g=l.pendingProps,x=g.revealOrder,_=g.tail;if(Jt(i,l,g.children,f),g=ot.current,(g&2)!==0)g=g&1|2,l.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=l.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&S1(i,f,l);else if(i.tag===19)S1(i,f,l);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===l)break e;for(;i.sibling===null;){if(i.return===null||i.return===l)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}g&=1}if(Ye(ot,g),(l.mode&1)===0)l.memoizedState=null;else switch(x){case"forwards":for(f=l.child,x=null;f!==null;)i=f.alternate,i!==null&&Fc(i)===null&&(x=f),f=f.sibling;f=x,f===null?(x=l.child,l.child=null):(x=f.sibling,f.sibling=null),Hm(l,!1,x,f,_);break;case"backwards":for(f=null,x=l.child,l.child=null;x!==null;){if(i=x.alternate,i!==null&&Fc(i)===null){l.child=x;break}i=x.sibling,x.sibling=f,f=x,x=i}Hm(l,!0,f,null,_);break;case"together":Hm(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Vc(i,l){(l.mode&1)===0&&i!==null&&(i.alternate=null,l.alternate=null,l.flags|=2)}function Tn(i,l,f){if(i!==null&&(l.dependencies=i.dependencies),qa|=l.lanes,(f&l.childLanes)===0)return null;if(i!==null&&l.child!==i.child)throw Error(r(153));if(l.child!==null){for(i=l.child,f=ma(i,i.pendingProps),l.child=f,f.return=l;i.sibling!==null;)i=i.sibling,f=f.sibling=ma(i,i.pendingProps),f.return=l;f.sibling=null}return l.child}function YI(i,l,f){switch(l.tag){case 3:b1(l),$i();break;case 5:Lw(l);break;case 1:cr(l.type)&&Pc(l);break;case 4:_m(l,l.stateNode.containerInfo);break;case 10:var g=l.type._context,x=l.memoizedProps.value;Ye(Rc,g._currentValue),g._currentValue=x;break;case 13:if(g=l.memoizedState,g!==null)return g.dehydrated!==null?(Ye(ot,ot.current&1),l.flags|=128,null):(f&l.child.childLanes)!==0?j1(i,l,f):(Ye(ot,ot.current&1),i=Tn(i,l,f),i!==null?i.sibling:null);Ye(ot,ot.current&1);break;case 19:if(g=(f&l.childLanes)!==0,(i.flags&128)!==0){if(g)return _1(i,l,f);l.flags|=128}if(x=l.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),Ye(ot,ot.current),g)break;return null;case 22:case 23:return l.lanes=0,y1(i,l,f)}return Tn(i,l,f)}var N1,Gm,k1,O1;N1=function(i,l){for(var f=l.child;f!==null;){if(f.tag===5||f.tag===6)i.appendChild(f.stateNode);else if(f.tag!==4&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===l)break;for(;f.sibling===null;){if(f.return===null||f.return===l)return;f=f.return}f.sibling.return=f.return,f=f.sibling}},Gm=function(){},k1=function(i,l,f,g){var x=i.memoizedProps;if(x!==g){i=l.stateNode,Ba(mn.current);var _=null;switch(f){case"input":x=De(i,x),g=De(i,g),_=[];break;case"select":x=Q({},x,{value:void 0}),g=Q({},g,{value:void 0}),_=[];break;case"textarea":x=Gr(i,x),g=Gr(i,g),_=[];break;default:typeof x.onClick!="function"&&typeof g.onClick=="function"&&(i.onclick=kc)}kf(f,g);var E;f=null;for(ee in x)if(!g.hasOwnProperty(ee)&&x.hasOwnProperty(ee)&&x[ee]!=null)if(ee==="style"){var H=x[ee];for(E in H)H.hasOwnProperty(E)&&(f||(f={}),f[E]="")}else ee!=="dangerouslySetInnerHTML"&&ee!=="children"&&ee!=="suppressContentEditableWarning"&&ee!=="suppressHydrationWarning"&&ee!=="autoFocus"&&(a.hasOwnProperty(ee)?_||(_=[]):(_=_||[]).push(ee,null));for(ee in g){var K=g[ee];if(H=x?.[ee],g.hasOwnProperty(ee)&&K!==H&&(K!=null||H!=null))if(ee==="style")if(H){for(E in H)!H.hasOwnProperty(E)||K&&K.hasOwnProperty(E)||(f||(f={}),f[E]="");for(E in K)K.hasOwnProperty(E)&&H[E]!==K[E]&&(f||(f={}),f[E]=K[E])}else f||(_||(_=[]),_.push(ee,f)),f=K;else ee==="dangerouslySetInnerHTML"?(K=K?K.__html:void 0,H=H?H.__html:void 0,K!=null&&H!==K&&(_=_||[]).push(ee,K)):ee==="children"?typeof K!="string"&&typeof K!="number"||(_=_||[]).push(ee,""+K):ee!=="suppressContentEditableWarning"&&ee!=="suppressHydrationWarning"&&(a.hasOwnProperty(ee)?(K!=null&&ee==="onScroll"&&et("scroll",i),_||H===K||(_=[])):(_=_||[]).push(ee,K))}f&&(_=_||[]).push("style",f);var ee=_;(l.updateQueue=ee)&&(l.flags|=4)}},O1=function(i,l,f,g){f!==g&&(l.flags|=4)};function Mo(i,l){if(!it)switch(i.tailMode){case"hidden":l=i.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?i.tail=null:f.sibling=null;break;case"collapsed":f=i.tail;for(var g=null;f!==null;)f.alternate!==null&&(g=f),f=f.sibling;g===null?l||i.tail===null?i.tail=null:i.tail.sibling=null:g.sibling=null}}function Vt(i){var l=i.alternate!==null&&i.alternate.child===i.child,f=0,g=0;if(l)for(var x=i.child;x!==null;)f|=x.lanes|x.childLanes,g|=x.subtreeFlags&14680064,g|=x.flags&14680064,x.return=i,x=x.sibling;else for(x=i.child;x!==null;)f|=x.lanes|x.childLanes,g|=x.subtreeFlags,g|=x.flags,x.return=i,x=x.sibling;return i.subtreeFlags|=g,i.childLanes=f,l}function XI(i,l,f){var g=l.pendingProps;switch(hm(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vt(l),null;case 1:return cr(l.type)&&Ac(),Vt(l),null;case 3:return g=l.stateNode,zi(),tt(lr),tt(Ht),Om(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(i===null||i.child===null)&&(Ic(l)?l.flags|=4:i===null||i.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Yr!==null&&(nh(Yr),Yr=null))),Gm(i,l),Vt(l),null;case 5:Nm(l);var x=Ba(Po.current);if(f=l.type,i!==null&&l.stateNode!=null)k1(i,l,f,g,x),i.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!g){if(l.stateNode===null)throw Error(r(166));return Vt(l),null}if(i=Ba(mn.current),Ic(l)){g=l.stateNode,f=l.type;var _=l.memoizedProps;switch(g[fn]=l,g[_o]=_,i=(l.mode&1)!==0,f){case"dialog":et("cancel",g),et("close",g);break;case"iframe":case"object":case"embed":et("load",g);break;case"video":case"audio":for(x=0;x<wo.length;x++)et(wo[x],g);break;case"source":et("error",g);break;case"img":case"image":case"link":et("error",g),et("load",g);break;case"details":et("toggle",g);break;case"input":ut(g,_),et("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!_.multiple},et("invalid",g);break;case"textarea":ji(g,_),et("invalid",g)}kf(f,_),x=null;for(var E in _)if(_.hasOwnProperty(E)){var H=_[E];E==="children"?typeof H=="string"?g.textContent!==H&&(_.suppressHydrationWarning!==!0&&Nc(g.textContent,H,i),x=["children",H]):typeof H=="number"&&g.textContent!==""+H&&(_.suppressHydrationWarning!==!0&&Nc(g.textContent,H,i),x=["children",""+H]):a.hasOwnProperty(E)&&H!=null&&E==="onScroll"&&et("scroll",g)}switch(f){case"input":Ce(g),Hr(g,_,!0);break;case"textarea":Ce(g),eo(g);break;case"select":case"option":break;default:typeof _.onClick=="function"&&(g.onclick=kc)}g=x,l.updateQueue=g,g!==null&&(l.flags|=4)}else{E=x.nodeType===9?x:x.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=mb(f)),i==="http://www.w3.org/1999/xhtml"?f==="script"?(i=E.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof g.is=="string"?i=E.createElement(f,{is:g.is}):(i=E.createElement(f),f==="select"&&(E=i,g.multiple?E.multiple=!0:g.size&&(E.size=g.size))):i=E.createElementNS(i,f),i[fn]=l,i[_o]=g,N1(i,l,!1,!1),l.stateNode=i;e:{switch(E=Of(f,g),f){case"dialog":et("cancel",i),et("close",i),x=g;break;case"iframe":case"object":case"embed":et("load",i),x=g;break;case"video":case"audio":for(x=0;x<wo.length;x++)et(wo[x],i);x=g;break;case"source":et("error",i),x=g;break;case"img":case"image":case"link":et("error",i),et("load",i),x=g;break;case"details":et("toggle",i),x=g;break;case"input":ut(i,g),x=De(i,g),et("invalid",i);break;case"option":x=g;break;case"select":i._wrapperState={wasMultiple:!!g.multiple},x=Q({},g,{value:void 0}),et("invalid",i);break;case"textarea":ji(i,g),x=Gr(i,g),et("invalid",i);break;default:x=g}kf(f,x),H=x;for(_ in H)if(H.hasOwnProperty(_)){var K=H[_];_==="style"?gb(i,K):_==="dangerouslySetInnerHTML"?(K=K?K.__html:void 0,K!=null&&hb(i,K)):_==="children"?typeof K=="string"?(f!=="textarea"||K!=="")&&to(i,K):typeof K=="number"&&to(i,""+K):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(a.hasOwnProperty(_)?K!=null&&_==="onScroll"&&et("scroll",i):K!=null&&k(i,_,K,E))}switch(f){case"input":Ce(i),Hr(i,g,!1);break;case"textarea":Ce(i),eo(i);break;case"option":g.value!=null&&i.setAttribute("value",""+Ee(g.value));break;case"select":i.multiple=!!g.multiple,_=g.value,_!=null?or(i,!!g.multiple,_,!1):g.defaultValue!=null&&or(i,!!g.multiple,g.defaultValue,!0);break;default:typeof x.onClick=="function"&&(i.onclick=kc)}switch(f){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return Vt(l),null;case 6:if(i&&l.stateNode!=null)O1(i,l,i.memoizedProps,g);else{if(typeof g!="string"&&l.stateNode===null)throw Error(r(166));if(f=Ba(Po.current),Ba(mn.current),Ic(l)){if(g=l.stateNode,f=l.memoizedProps,g[fn]=l,(_=g.nodeValue!==f)&&(i=vr,i!==null))switch(i.tag){case 3:Nc(g.nodeValue,f,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Nc(g.nodeValue,f,(i.mode&1)!==0)}_&&(l.flags|=4)}else g=(f.nodeType===9?f:f.ownerDocument).createTextNode(g),g[fn]=l,l.stateNode=g}return Vt(l),null;case 13:if(tt(ot),g=l.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(it&&xr!==null&&(l.mode&1)!==0&&(l.flags&128)===0)Ew(),$i(),l.flags|=98560,_=!1;else if(_=Ic(l),g!==null&&g.dehydrated!==null){if(i===null){if(!_)throw Error(r(318));if(_=l.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(r(317));_[fn]=l}else $i(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Vt(l),_=!1}else Yr!==null&&(nh(Yr),Yr=null),_=!0;if(!_)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=f,l):(g=g!==null,g!==(i!==null&&i.memoizedState!==null)&&g&&(l.child.flags|=8192,(l.mode&1)!==0&&(i===null||(ot.current&1)!==0?Nt===0&&(Nt=3):sh())),l.updateQueue!==null&&(l.flags|=4),Vt(l),null);case 4:return zi(),Gm(i,l),i===null&&jo(l.stateNode.containerInfo),Vt(l),null;case 10:return bm(l.type._context),Vt(l),null;case 17:return cr(l.type)&&Ac(),Vt(l),null;case 19:if(tt(ot),_=l.memoizedState,_===null)return Vt(l),null;if(g=(l.flags&128)!==0,E=_.rendering,E===null)if(g)Mo(_,!1);else{if(Nt!==0||i!==null&&(i.flags&128)!==0)for(i=l.child;i!==null;){if(E=Fc(i),E!==null){for(l.flags|=128,Mo(_,!1),g=E.updateQueue,g!==null&&(l.updateQueue=g,l.flags|=4),l.subtreeFlags=0,g=f,f=l.child;f!==null;)_=f,i=g,_.flags&=14680066,E=_.alternate,E===null?(_.childLanes=0,_.lanes=i,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=E.childLanes,_.lanes=E.lanes,_.child=E.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=E.memoizedProps,_.memoizedState=E.memoizedState,_.updateQueue=E.updateQueue,_.type=E.type,i=E.dependencies,_.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),f=f.sibling;return Ye(ot,ot.current&1|2),l.child}i=i.sibling}_.tail!==null&&yt()>Hi&&(l.flags|=128,g=!0,Mo(_,!1),l.lanes=4194304)}else{if(!g)if(i=Fc(E),i!==null){if(l.flags|=128,g=!0,f=i.updateQueue,f!==null&&(l.updateQueue=f,l.flags|=4),Mo(_,!0),_.tail===null&&_.tailMode==="hidden"&&!E.alternate&&!it)return Vt(l),null}else 2*yt()-_.renderingStartTime>Hi&&f!==1073741824&&(l.flags|=128,g=!0,Mo(_,!1),l.lanes=4194304);_.isBackwards?(E.sibling=l.child,l.child=E):(f=_.last,f!==null?f.sibling=E:l.child=E,_.last=E)}return _.tail!==null?(l=_.tail,_.rendering=l,_.tail=l.sibling,_.renderingStartTime=yt(),l.sibling=null,f=ot.current,Ye(ot,g?f&1|2:f&1),l):(Vt(l),null);case 22:case 23:return ih(),g=l.memoizedState!==null,i!==null&&i.memoizedState!==null!==g&&(l.flags|=8192),g&&(l.mode&1)!==0?(br&1073741824)!==0&&(Vt(l),l.subtreeFlags&6&&(l.flags|=8192)):Vt(l),null;case 24:return null;case 25:return null}throw Error(r(156,l.tag))}function QI(i,l){switch(hm(l),l.tag){case 1:return cr(l.type)&&Ac(),i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 3:return zi(),tt(lr),tt(Ht),Om(),i=l.flags,(i&65536)!==0&&(i&128)===0?(l.flags=i&-65537|128,l):null;case 5:return Nm(l),null;case 13:if(tt(ot),i=l.memoizedState,i!==null&&i.dehydrated!==null){if(l.alternate===null)throw Error(r(340));$i()}return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 19:return tt(ot),null;case 4:return zi(),null;case 10:return bm(l.type._context),null;case 22:case 23:return ih(),null;case 24:return null;default:return null}}var Kc=!1,Kt=!1,ZI=typeof WeakSet=="function"?WeakSet:Set,he=null;function Ui(i,l){var f=i.ref;if(f!==null)if(typeof f=="function")try{f(null)}catch(g){ft(i,l,g)}else f.current=null}function Vm(i,l,f){try{f()}catch(g){ft(i,l,g)}}var A1=!1;function JI(i,l){if(im=hc,i=sw(),Qf(i)){if("selectionStart"in i)var f={start:i.selectionStart,end:i.selectionEnd};else e:{f=(f=i.ownerDocument)&&f.defaultView||window;var g=f.getSelection&&f.getSelection();if(g&&g.rangeCount!==0){f=g.anchorNode;var x=g.anchorOffset,_=g.focusNode;g=g.focusOffset;try{f.nodeType,_.nodeType}catch{f=null;break e}var E=0,H=-1,K=-1,ee=0,ae=0,oe=i,re=null;t:for(;;){for(var de;oe!==f||x!==0&&oe.nodeType!==3||(H=E+x),oe!==_||g!==0&&oe.nodeType!==3||(K=E+g),oe.nodeType===3&&(E+=oe.nodeValue.length),(de=oe.firstChild)!==null;)re=oe,oe=de;for(;;){if(oe===i)break t;if(re===f&&++ee===x&&(H=E),re===_&&++ae===g&&(K=E),(de=oe.nextSibling)!==null)break;oe=re,re=oe.parentNode}oe=de}f=H===-1||K===-1?null:{start:H,end:K}}else f=null}f=f||{start:0,end:0}}else f=null;for(sm={focusedElem:i,selectionRange:f},hc=!1,he=l;he!==null;)if(l=he,i=l.child,(l.subtreeFlags&1028)!==0&&i!==null)i.return=l,he=i;else for(;he!==null;){l=he;try{var ge=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(ge!==null){var ye=ge.memoizedProps,vt=ge.memoizedState,Z=l.stateNode,X=Z.getSnapshotBeforeUpdate(l.elementType===l.type?ye:Xr(l.type,ye),vt);Z.__reactInternalSnapshotBeforeUpdate=X}break;case 3:var J=l.stateNode.containerInfo;J.nodeType===1?J.textContent="":J.nodeType===9&&J.documentElement&&J.removeChild(J.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(ce){ft(l,l.return,ce)}if(i=l.sibling,i!==null){i.return=l.return,he=i;break}he=l.return}return ge=A1,A1=!1,ge}function Ro(i,l,f){var g=l.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var x=g=g.next;do{if((x.tag&i)===i){var _=x.destroy;x.destroy=void 0,_!==void 0&&Vm(l,f,_)}x=x.next}while(x!==g)}}function Yc(i,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var f=l=l.next;do{if((f.tag&i)===i){var g=f.create;f.destroy=g()}f=f.next}while(f!==l)}}function Km(i){var l=i.ref;if(l!==null){var f=i.stateNode;switch(i.tag){case 5:i=f;break;default:i=f}typeof l=="function"?l(i):l.current=i}}function P1(i){var l=i.alternate;l!==null&&(i.alternate=null,P1(l)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(l=i.stateNode,l!==null&&(delete l[fn],delete l[_o],delete l[um],delete l[RI],delete l[DI])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function E1(i){return i.tag===5||i.tag===3||i.tag===4}function T1(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||E1(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Ym(i,l,f){var g=i.tag;if(g===5||g===6)i=i.stateNode,l?f.nodeType===8?f.parentNode.insertBefore(i,l):f.insertBefore(i,l):(f.nodeType===8?(l=f.parentNode,l.insertBefore(i,f)):(l=f,l.appendChild(i)),f=f._reactRootContainer,f!=null||l.onclick!==null||(l.onclick=kc));else if(g!==4&&(i=i.child,i!==null))for(Ym(i,l,f),i=i.sibling;i!==null;)Ym(i,l,f),i=i.sibling}function Xm(i,l,f){var g=i.tag;if(g===5||g===6)i=i.stateNode,l?f.insertBefore(i,l):f.appendChild(i);else if(g!==4&&(i=i.child,i!==null))for(Xm(i,l,f),i=i.sibling;i!==null;)Xm(i,l,f),i=i.sibling}var Lt=null,Qr=!1;function la(i,l,f){for(f=f.child;f!==null;)C1(i,l,f),f=f.sibling}function C1(i,l,f){if(dn&&typeof dn.onCommitFiberUnmount=="function")try{dn.onCommitFiberUnmount(lc,f)}catch{}switch(f.tag){case 5:Kt||Ui(f,l);case 6:var g=Lt,x=Qr;Lt=null,la(i,l,f),Lt=g,Qr=x,Lt!==null&&(Qr?(i=Lt,f=f.stateNode,i.nodeType===8?i.parentNode.removeChild(f):i.removeChild(f)):Lt.removeChild(f.stateNode));break;case 18:Lt!==null&&(Qr?(i=Lt,f=f.stateNode,i.nodeType===8?cm(i.parentNode,f):i.nodeType===1&&cm(i,f),mo(i)):cm(Lt,f.stateNode));break;case 4:g=Lt,x=Qr,Lt=f.stateNode.containerInfo,Qr=!0,la(i,l,f),Lt=g,Qr=x;break;case 0:case 11:case 14:case 15:if(!Kt&&(g=f.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){x=g=g.next;do{var _=x,E=_.destroy;_=_.tag,E!==void 0&&((_&2)!==0||(_&4)!==0)&&Vm(f,l,E),x=x.next}while(x!==g)}la(i,l,f);break;case 1:if(!Kt&&(Ui(f,l),g=f.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=f.memoizedProps,g.state=f.memoizedState,g.componentWillUnmount()}catch(H){ft(f,l,H)}la(i,l,f);break;case 21:la(i,l,f);break;case 22:f.mode&1?(Kt=(g=Kt)||f.memoizedState!==null,la(i,l,f),Kt=g):la(i,l,f);break;default:la(i,l,f)}}function I1(i){var l=i.updateQueue;if(l!==null){i.updateQueue=null;var f=i.stateNode;f===null&&(f=i.stateNode=new ZI),l.forEach(function(g){var x=lM.bind(null,i,g);f.has(g)||(f.add(g),g.then(x,x))})}}function Zr(i,l){var f=l.deletions;if(f!==null)for(var g=0;g<f.length;g++){var x=f[g];try{var _=i,E=l,H=E;e:for(;H!==null;){switch(H.tag){case 5:Lt=H.stateNode,Qr=!1;break e;case 3:Lt=H.stateNode.containerInfo,Qr=!0;break e;case 4:Lt=H.stateNode.containerInfo,Qr=!0;break e}H=H.return}if(Lt===null)throw Error(r(160));C1(_,E,x),Lt=null,Qr=!1;var K=x.alternate;K!==null&&(K.return=null),x.return=null}catch(ee){ft(x,l,ee)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)M1(l,i),l=l.sibling}function M1(i,l){var f=i.alternate,g=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Zr(l,i),pn(i),g&4){try{Ro(3,i,i.return),Yc(3,i)}catch(ye){ft(i,i.return,ye)}try{Ro(5,i,i.return)}catch(ye){ft(i,i.return,ye)}}break;case 1:Zr(l,i),pn(i),g&512&&f!==null&&Ui(f,f.return);break;case 5:if(Zr(l,i),pn(i),g&512&&f!==null&&Ui(f,f.return),i.flags&32){var x=i.stateNode;try{to(x,"")}catch(ye){ft(i,i.return,ye)}}if(g&4&&(x=i.stateNode,x!=null)){var _=i.memoizedProps,E=f!==null?f.memoizedProps:_,H=i.type,K=i.updateQueue;if(i.updateQueue=null,K!==null)try{H==="input"&&_.type==="radio"&&_.name!=null&&dt(x,_),Of(H,E);var ee=Of(H,_);for(E=0;E<K.length;E+=2){var ae=K[E],oe=K[E+1];ae==="style"?gb(x,oe):ae==="dangerouslySetInnerHTML"?hb(x,oe):ae==="children"?to(x,oe):k(x,ae,oe,ee)}switch(H){case"input":Tt(x,_);break;case"textarea":Js(x,_);break;case"select":var re=x._wrapperState.wasMultiple;x._wrapperState.wasMultiple=!!_.multiple;var de=_.value;de!=null?or(x,!!_.multiple,de,!1):re!==!!_.multiple&&(_.defaultValue!=null?or(x,!!_.multiple,_.defaultValue,!0):or(x,!!_.multiple,_.multiple?[]:"",!1))}x[_o]=_}catch(ye){ft(i,i.return,ye)}}break;case 6:if(Zr(l,i),pn(i),g&4){if(i.stateNode===null)throw Error(r(162));x=i.stateNode,_=i.memoizedProps;try{x.nodeValue=_}catch(ye){ft(i,i.return,ye)}}break;case 3:if(Zr(l,i),pn(i),g&4&&f!==null&&f.memoizedState.isDehydrated)try{mo(l.containerInfo)}catch(ye){ft(i,i.return,ye)}break;case 4:Zr(l,i),pn(i);break;case 13:Zr(l,i),pn(i),x=i.child,x.flags&8192&&(_=x.memoizedState!==null,x.stateNode.isHidden=_,!_||x.alternate!==null&&x.alternate.memoizedState!==null||(Jm=yt())),g&4&&I1(i);break;case 22:if(ae=f!==null&&f.memoizedState!==null,i.mode&1?(Kt=(ee=Kt)||ae,Zr(l,i),Kt=ee):Zr(l,i),pn(i),g&8192){if(ee=i.memoizedState!==null,(i.stateNode.isHidden=ee)&&!ae&&(i.mode&1)!==0)for(he=i,ae=i.child;ae!==null;){for(oe=he=ae;he!==null;){switch(re=he,de=re.child,re.tag){case 0:case 11:case 14:case 15:Ro(4,re,re.return);break;case 1:Ui(re,re.return);var ge=re.stateNode;if(typeof ge.componentWillUnmount=="function"){g=re,f=re.return;try{l=g,ge.props=l.memoizedProps,ge.state=l.memoizedState,ge.componentWillUnmount()}catch(ye){ft(g,f,ye)}}break;case 5:Ui(re,re.return);break;case 22:if(re.memoizedState!==null){$1(oe);continue}}de!==null?(de.return=re,he=de):$1(oe)}ae=ae.sibling}e:for(ae=null,oe=i;;){if(oe.tag===5){if(ae===null){ae=oe;try{x=oe.stateNode,ee?(_=x.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none"):(H=oe.stateNode,K=oe.memoizedProps.style,E=K!=null&&K.hasOwnProperty("display")?K.display:null,H.style.display=pb("display",E))}catch(ye){ft(i,i.return,ye)}}}else if(oe.tag===6){if(ae===null)try{oe.stateNode.nodeValue=ee?"":oe.memoizedProps}catch(ye){ft(i,i.return,ye)}}else if((oe.tag!==22&&oe.tag!==23||oe.memoizedState===null||oe===i)&&oe.child!==null){oe.child.return=oe,oe=oe.child;continue}if(oe===i)break e;for(;oe.sibling===null;){if(oe.return===null||oe.return===i)break e;ae===oe&&(ae=null),oe=oe.return}ae===oe&&(ae=null),oe.sibling.return=oe.return,oe=oe.sibling}}break;case 19:Zr(l,i),pn(i),g&4&&I1(i);break;case 21:break;default:Zr(l,i),pn(i)}}function pn(i){var l=i.flags;if(l&2){try{e:{for(var f=i.return;f!==null;){if(E1(f)){var g=f;break e}f=f.return}throw Error(r(160))}switch(g.tag){case 5:var x=g.stateNode;g.flags&32&&(to(x,""),g.flags&=-33);var _=T1(i);Xm(i,_,x);break;case 3:case 4:var E=g.stateNode.containerInfo,H=T1(i);Ym(i,H,E);break;default:throw Error(r(161))}}catch(K){ft(i,i.return,K)}i.flags&=-3}l&4096&&(i.flags&=-4097)}function eM(i,l,f){he=i,R1(i)}function R1(i,l,f){for(var g=(i.mode&1)!==0;he!==null;){var x=he,_=x.child;if(x.tag===22&&g){var E=x.memoizedState!==null||Kc;if(!E){var H=x.alternate,K=H!==null&&H.memoizedState!==null||Kt;H=Kc;var ee=Kt;if(Kc=E,(Kt=K)&&!ee)for(he=x;he!==null;)E=he,K=E.child,E.tag===22&&E.memoizedState!==null?L1(x):K!==null?(K.return=E,he=K):L1(x);for(;_!==null;)he=_,R1(_),_=_.sibling;he=x,Kc=H,Kt=ee}D1(i)}else(x.subtreeFlags&8772)!==0&&_!==null?(_.return=x,he=_):D1(i)}}function D1(i){for(;he!==null;){var l=he;if((l.flags&8772)!==0){var f=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:Kt||Yc(5,l);break;case 1:var g=l.stateNode;if(l.flags&4&&!Kt)if(f===null)g.componentDidMount();else{var x=l.elementType===l.type?f.memoizedProps:Xr(l.type,f.memoizedProps);g.componentDidUpdate(x,f.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var _=l.updateQueue;_!==null&&$w(l,_,g);break;case 3:var E=l.updateQueue;if(E!==null){if(f=null,l.child!==null)switch(l.child.tag){case 5:f=l.child.stateNode;break;case 1:f=l.child.stateNode}$w(l,E,f)}break;case 5:var H=l.stateNode;if(f===null&&l.flags&4){f=H;var K=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":K.autoFocus&&f.focus();break;case"img":K.src&&(f.src=K.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var ee=l.alternate;if(ee!==null){var ae=ee.memoizedState;if(ae!==null){var oe=ae.dehydrated;oe!==null&&mo(oe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Kt||l.flags&512&&Km(l)}catch(re){ft(l,l.return,re)}}if(l===i){he=null;break}if(f=l.sibling,f!==null){f.return=l.return,he=f;break}he=l.return}}function $1(i){for(;he!==null;){var l=he;if(l===i){he=null;break}var f=l.sibling;if(f!==null){f.return=l.return,he=f;break}he=l.return}}function L1(i){for(;he!==null;){var l=he;try{switch(l.tag){case 0:case 11:case 15:var f=l.return;try{Yc(4,l)}catch(K){ft(l,f,K)}break;case 1:var g=l.stateNode;if(typeof g.componentDidMount=="function"){var x=l.return;try{g.componentDidMount()}catch(K){ft(l,x,K)}}var _=l.return;try{Km(l)}catch(K){ft(l,_,K)}break;case 5:var E=l.return;try{Km(l)}catch(K){ft(l,E,K)}}}catch(K){ft(l,l.return,K)}if(l===i){he=null;break}var H=l.sibling;if(H!==null){H.return=l.return,he=H;break}he=l.return}}var tM=Math.ceil,Xc=A.ReactCurrentDispatcher,Qm=A.ReactCurrentOwner,Tr=A.ReactCurrentBatchConfig,Le=0,It=null,bt=null,Ft=0,br=0,Wi=na(0),Nt=0,Do=null,qa=0,Qc=0,Zm=0,$o=null,dr=null,Jm=0,Hi=1/0,Cn=null,Zc=!1,eh=null,ca=null,Jc=!1,ua=null,eu=0,Lo=0,th=null,tu=-1,ru=0;function er(){return(Le&6)!==0?yt():tu!==-1?tu:tu=yt()}function da(i){return(i.mode&1)===0?1:(Le&2)!==0&&Ft!==0?Ft&-Ft:LI.transition!==null?(ru===0&&(ru=Tb()),ru):(i=He,i!==0||(i=window.event,i=i===void 0?16:Bb(i.type)),i)}function Jr(i,l,f,g){if(50<Lo)throw Lo=0,th=null,Error(r(185));oo(i,f,g),((Le&2)===0||i!==It)&&(i===It&&((Le&2)===0&&(Qc|=f),Nt===4&&fa(i,Ft)),fr(i,g),f===1&&Le===0&&(l.mode&1)===0&&(Hi=yt()+500,Ec&&ia()))}function fr(i,l){var f=i.callbackNode;LC(i,l);var g=dc(i,i===It?Ft:0);if(g===0)f!==null&&Ab(f),i.callbackNode=null,i.callbackPriority=0;else if(l=g&-g,i.callbackPriority!==l){if(f!=null&&Ab(f),l===1)i.tag===0?$I(B1.bind(null,i)):Nw(B1.bind(null,i)),II(function(){(Le&6)===0&&ia()}),f=null;else{switch(Cb(g)){case 1:f=Mf;break;case 4:f=Pb;break;case 16:f=oc;break;case 536870912:f=Eb;break;default:f=oc}f=K1(f,F1.bind(null,i))}i.callbackPriority=l,i.callbackNode=f}}function F1(i,l){if(tu=-1,ru=0,(Le&6)!==0)throw Error(r(327));var f=i.callbackNode;if(Gi()&&i.callbackNode!==f)return null;var g=dc(i,i===It?Ft:0);if(g===0)return null;if((g&30)!==0||(g&i.expiredLanes)!==0||l)l=nu(i,g);else{l=g;var x=Le;Le|=2;var _=q1();(It!==i||Ft!==l)&&(Cn=null,Hi=yt()+500,Wa(i,l));do try{aM();break}catch(H){z1(i,H)}while(!0);xm(),Xc.current=_,Le=x,bt!==null?l=0:(It=null,Ft=0,l=Nt)}if(l!==0){if(l===2&&(x=Rf(i),x!==0&&(g=x,l=rh(i,x))),l===1)throw f=Do,Wa(i,0),fa(i,g),fr(i,yt()),f;if(l===6)fa(i,g);else{if(x=i.current.alternate,(g&30)===0&&!rM(x)&&(l=nu(i,g),l===2&&(_=Rf(i),_!==0&&(g=_,l=rh(i,_))),l===1))throw f=Do,Wa(i,0),fa(i,g),fr(i,yt()),f;switch(i.finishedWork=x,i.finishedLanes=g,l){case 0:case 1:throw Error(r(345));case 2:Ha(i,dr,Cn);break;case 3:if(fa(i,g),(g&130023424)===g&&(l=Jm+500-yt(),10<l)){if(dc(i,0)!==0)break;if(x=i.suspendedLanes,(x&g)!==g){er(),i.pingedLanes|=i.suspendedLanes&x;break}i.timeoutHandle=lm(Ha.bind(null,i,dr,Cn),l);break}Ha(i,dr,Cn);break;case 4:if(fa(i,g),(g&4194240)===g)break;for(l=i.eventTimes,x=-1;0<g;){var E=31-Vr(g);_=1<<E,E=l[E],E>x&&(x=E),g&=~_}if(g=x,g=yt()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*tM(g/1960))-g,10<g){i.timeoutHandle=lm(Ha.bind(null,i,dr,Cn),g);break}Ha(i,dr,Cn);break;case 5:Ha(i,dr,Cn);break;default:throw Error(r(329))}}}return fr(i,yt()),i.callbackNode===f?F1.bind(null,i):null}function rh(i,l){var f=$o;return i.current.memoizedState.isDehydrated&&(Wa(i,l).flags|=256),i=nu(i,l),i!==2&&(l=dr,dr=f,l!==null&&nh(l)),i}function nh(i){dr===null?dr=i:dr.push.apply(dr,i)}function rM(i){for(var l=i;;){if(l.flags&16384){var f=l.updateQueue;if(f!==null&&(f=f.stores,f!==null))for(var g=0;g<f.length;g++){var x=f[g],_=x.getSnapshot;x=x.value;try{if(!Kr(_(),x))return!1}catch{return!1}}}if(f=l.child,l.subtreeFlags&16384&&f!==null)f.return=l,l=f;else{if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function fa(i,l){for(l&=~Zm,l&=~Qc,i.suspendedLanes|=l,i.pingedLanes&=~l,i=i.expirationTimes;0<l;){var f=31-Vr(l),g=1<<f;i[f]=-1,l&=~g}}function B1(i){if((Le&6)!==0)throw Error(r(327));Gi();var l=dc(i,0);if((l&1)===0)return fr(i,yt()),null;var f=nu(i,l);if(i.tag!==0&&f===2){var g=Rf(i);g!==0&&(l=g,f=rh(i,g))}if(f===1)throw f=Do,Wa(i,0),fa(i,l),fr(i,yt()),f;if(f===6)throw Error(r(345));return i.finishedWork=i.current.alternate,i.finishedLanes=l,Ha(i,dr,Cn),fr(i,yt()),null}function ah(i,l){var f=Le;Le|=1;try{return i(l)}finally{Le=f,Le===0&&(Hi=yt()+500,Ec&&ia())}}function Ua(i){ua!==null&&ua.tag===0&&(Le&6)===0&&Gi();var l=Le;Le|=1;var f=Tr.transition,g=He;try{if(Tr.transition=null,He=1,i)return i()}finally{He=g,Tr.transition=f,Le=l,(Le&6)===0&&ia()}}function ih(){br=Wi.current,tt(Wi)}function Wa(i,l){i.finishedWork=null,i.finishedLanes=0;var f=i.timeoutHandle;if(f!==-1&&(i.timeoutHandle=-1,CI(f)),bt!==null)for(f=bt.return;f!==null;){var g=f;switch(hm(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&Ac();break;case 3:zi(),tt(lr),tt(Ht),Om();break;case 5:Nm(g);break;case 4:zi();break;case 13:tt(ot);break;case 19:tt(ot);break;case 10:bm(g.type._context);break;case 22:case 23:ih()}f=f.return}if(It=i,bt=i=ma(i.current,null),Ft=br=l,Nt=0,Do=null,Zm=Qc=qa=0,dr=$o=null,Fa!==null){for(l=0;l<Fa.length;l++)if(f=Fa[l],g=f.interleaved,g!==null){f.interleaved=null;var x=g.next,_=f.pending;if(_!==null){var E=_.next;_.next=x,g.next=E}f.pending=g}Fa=null}return i}function z1(i,l){do{var f=bt;try{if(xm(),Bc.current=Wc,zc){for(var g=lt.memoizedState;g!==null;){var x=g.queue;x!==null&&(x.pending=null),g=g.next}zc=!1}if(za=0,Ct=_t=lt=null,Eo=!1,To=0,Qm.current=null,f===null||f.return===null){Nt=1,Do=l,bt=null;break}e:{var _=i,E=f.return,H=f,K=l;if(l=Ft,H.flags|=32768,K!==null&&typeof K=="object"&&typeof K.then=="function"){var ee=K,ae=H,oe=ae.tag;if((ae.mode&1)===0&&(oe===0||oe===11||oe===15)){var re=ae.alternate;re?(ae.updateQueue=re.updateQueue,ae.memoizedState=re.memoizedState,ae.lanes=re.lanes):(ae.updateQueue=null,ae.memoizedState=null)}var de=f1(E);if(de!==null){de.flags&=-257,m1(de,E,H,_,l),de.mode&1&&d1(_,ee,l),l=de,K=ee;var ge=l.updateQueue;if(ge===null){var ye=new Set;ye.add(K),l.updateQueue=ye}else ge.add(K);break e}else{if((l&1)===0){d1(_,ee,l),sh();break e}K=Error(r(426))}}else if(it&&H.mode&1){var vt=f1(E);if(vt!==null){(vt.flags&65536)===0&&(vt.flags|=256),m1(vt,E,H,_,l),ym(qi(K,H));break e}}_=K=qi(K,H),Nt!==4&&(Nt=2),$o===null?$o=[_]:$o.push(_),_=E;do{switch(_.tag){case 3:_.flags|=65536,l&=-l,_.lanes|=l;var Z=c1(_,K,l);Dw(_,Z);break e;case 1:H=K;var X=_.type,J=_.stateNode;if((_.flags&128)===0&&(typeof X.getDerivedStateFromError=="function"||J!==null&&typeof J.componentDidCatch=="function"&&(ca===null||!ca.has(J)))){_.flags|=65536,l&=-l,_.lanes|=l;var ce=u1(_,H,l);Dw(_,ce);break e}}_=_.return}while(_!==null)}W1(f)}catch(xe){l=xe,bt===f&&f!==null&&(bt=f=f.return);continue}break}while(!0)}function q1(){var i=Xc.current;return Xc.current=Wc,i===null?Wc:i}function sh(){(Nt===0||Nt===3||Nt===2)&&(Nt=4),It===null||(qa&268435455)===0&&(Qc&268435455)===0||fa(It,Ft)}function nu(i,l){var f=Le;Le|=2;var g=q1();(It!==i||Ft!==l)&&(Cn=null,Wa(i,l));do try{nM();break}catch(x){z1(i,x)}while(!0);if(xm(),Le=f,Xc.current=g,bt!==null)throw Error(r(261));return It=null,Ft=0,Nt}function nM(){for(;bt!==null;)U1(bt)}function aM(){for(;bt!==null&&!PC();)U1(bt)}function U1(i){var l=V1(i.alternate,i,br);i.memoizedProps=i.pendingProps,l===null?W1(i):bt=l,Qm.current=null}function W1(i){var l=i;do{var f=l.alternate;if(i=l.return,(l.flags&32768)===0){if(f=XI(f,l,br),f!==null){bt=f;return}}else{if(f=QI(f,l),f!==null){f.flags&=32767,bt=f;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{Nt=6,bt=null;return}}if(l=l.sibling,l!==null){bt=l;return}bt=l=i}while(l!==null);Nt===0&&(Nt=5)}function Ha(i,l,f){var g=He,x=Tr.transition;try{Tr.transition=null,He=1,iM(i,l,f,g)}finally{Tr.transition=x,He=g}return null}function iM(i,l,f,g){do Gi();while(ua!==null);if((Le&6)!==0)throw Error(r(327));f=i.finishedWork;var x=i.finishedLanes;if(f===null)return null;if(i.finishedWork=null,i.finishedLanes=0,f===i.current)throw Error(r(177));i.callbackNode=null,i.callbackPriority=0;var _=f.lanes|f.childLanes;if(FC(i,_),i===It&&(bt=It=null,Ft=0),(f.subtreeFlags&2064)===0&&(f.flags&2064)===0||Jc||(Jc=!0,K1(oc,function(){return Gi(),null})),_=(f.flags&15990)!==0,(f.subtreeFlags&15990)!==0||_){_=Tr.transition,Tr.transition=null;var E=He;He=1;var H=Le;Le|=4,Qm.current=null,JI(i,f),M1(f,i),NI(sm),hc=!!im,sm=im=null,i.current=f,eM(f),EC(),Le=H,He=E,Tr.transition=_}else i.current=f;if(Jc&&(Jc=!1,ua=i,eu=x),_=i.pendingLanes,_===0&&(ca=null),IC(f.stateNode),fr(i,yt()),l!==null)for(g=i.onRecoverableError,f=0;f<l.length;f++)x=l[f],g(x.value,{componentStack:x.stack,digest:x.digest});if(Zc)throw Zc=!1,i=eh,eh=null,i;return(eu&1)!==0&&i.tag!==0&&Gi(),_=i.pendingLanes,(_&1)!==0?i===th?Lo++:(Lo=0,th=i):Lo=0,ia(),null}function Gi(){if(ua!==null){var i=Cb(eu),l=Tr.transition,f=He;try{if(Tr.transition=null,He=16>i?16:i,ua===null)var g=!1;else{if(i=ua,ua=null,eu=0,(Le&6)!==0)throw Error(r(331));var x=Le;for(Le|=4,he=i.current;he!==null;){var _=he,E=_.child;if((he.flags&16)!==0){var H=_.deletions;if(H!==null){for(var K=0;K<H.length;K++){var ee=H[K];for(he=ee;he!==null;){var ae=he;switch(ae.tag){case 0:case 11:case 15:Ro(8,ae,_)}var oe=ae.child;if(oe!==null)oe.return=ae,he=oe;else for(;he!==null;){ae=he;var re=ae.sibling,de=ae.return;if(P1(ae),ae===ee){he=null;break}if(re!==null){re.return=de,he=re;break}he=de}}}var ge=_.alternate;if(ge!==null){var ye=ge.child;if(ye!==null){ge.child=null;do{var vt=ye.sibling;ye.sibling=null,ye=vt}while(ye!==null)}}he=_}}if((_.subtreeFlags&2064)!==0&&E!==null)E.return=_,he=E;else e:for(;he!==null;){if(_=he,(_.flags&2048)!==0)switch(_.tag){case 0:case 11:case 15:Ro(9,_,_.return)}var Z=_.sibling;if(Z!==null){Z.return=_.return,he=Z;break e}he=_.return}}var X=i.current;for(he=X;he!==null;){E=he;var J=E.child;if((E.subtreeFlags&2064)!==0&&J!==null)J.return=E,he=J;else e:for(E=X;he!==null;){if(H=he,(H.flags&2048)!==0)try{switch(H.tag){case 0:case 11:case 15:Yc(9,H)}}catch(xe){ft(H,H.return,xe)}if(H===E){he=null;break e}var ce=H.sibling;if(ce!==null){ce.return=H.return,he=ce;break e}he=H.return}}if(Le=x,ia(),dn&&typeof dn.onPostCommitFiberRoot=="function")try{dn.onPostCommitFiberRoot(lc,i)}catch{}g=!0}return g}finally{He=f,Tr.transition=l}}return!1}function H1(i,l,f){l=qi(f,l),l=c1(i,l,1),i=oa(i,l,1),l=er(),i!==null&&(oo(i,1,l),fr(i,l))}function ft(i,l,f){if(i.tag===3)H1(i,i,f);else for(;l!==null;){if(l.tag===3){H1(l,i,f);break}else if(l.tag===1){var g=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(ca===null||!ca.has(g))){i=qi(f,i),i=u1(l,i,1),l=oa(l,i,1),i=er(),l!==null&&(oo(l,1,i),fr(l,i));break}}l=l.return}}function sM(i,l,f){var g=i.pingCache;g!==null&&g.delete(l),l=er(),i.pingedLanes|=i.suspendedLanes&f,It===i&&(Ft&f)===f&&(Nt===4||Nt===3&&(Ft&130023424)===Ft&&500>yt()-Jm?Wa(i,0):Zm|=f),fr(i,l)}function G1(i,l){l===0&&((i.mode&1)===0?l=1:(l=uc,uc<<=1,(uc&130023424)===0&&(uc=4194304)));var f=er();i=Pn(i,l),i!==null&&(oo(i,l,f),fr(i,f))}function oM(i){var l=i.memoizedState,f=0;l!==null&&(f=l.retryLane),G1(i,f)}function lM(i,l){var f=0;switch(i.tag){case 13:var g=i.stateNode,x=i.memoizedState;x!==null&&(f=x.retryLane);break;case 19:g=i.stateNode;break;default:throw Error(r(314))}g!==null&&g.delete(l),G1(i,f)}var V1;V1=function(i,l,f){if(i!==null)if(i.memoizedProps!==l.pendingProps||lr.current)ur=!0;else{if((i.lanes&f)===0&&(l.flags&128)===0)return ur=!1,YI(i,l,f);ur=(i.flags&131072)!==0}else ur=!1,it&&(l.flags&1048576)!==0&&kw(l,Cc,l.index);switch(l.lanes=0,l.tag){case 2:var g=l.type;Vc(i,l),i=l.pendingProps;var x=Mi(l,Ht.current);Bi(l,f),x=Em(null,l,g,i,x,f);var _=Tm();return l.flags|=1,typeof x=="object"&&x!==null&&typeof x.render=="function"&&x.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,cr(g)?(_=!0,Pc(l)):_=!1,l.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,Sm(l),x.updater=Hc,l.stateNode=x,x._reactInternals=l,$m(l,g,i,f),l=zm(null,l,g,!0,_,f)):(l.tag=0,it&&_&&mm(l),Jt(null,l,x,f),l=l.child),l;case 16:g=l.elementType;e:{switch(Vc(i,l),i=l.pendingProps,x=g._init,g=x(g._payload),l.type=g,x=l.tag=uM(g),i=Xr(g,i),x){case 0:l=Bm(null,l,g,i,f);break e;case 1:l=x1(null,l,g,i,f);break e;case 11:l=h1(null,l,g,i,f);break e;case 14:l=p1(null,l,g,Xr(g.type,i),f);break e}throw Error(r(306,g,""))}return l;case 0:return g=l.type,x=l.pendingProps,x=l.elementType===g?x:Xr(g,x),Bm(i,l,g,x,f);case 1:return g=l.type,x=l.pendingProps,x=l.elementType===g?x:Xr(g,x),x1(i,l,g,x,f);case 3:e:{if(b1(l),i===null)throw Error(r(387));g=l.pendingProps,_=l.memoizedState,x=_.element,Rw(i,l),Lc(l,g,null,f);var E=l.memoizedState;if(g=E.element,_.isDehydrated)if(_={element:g,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},l.updateQueue.baseState=_,l.memoizedState=_,l.flags&256){x=qi(Error(r(423)),l),l=w1(i,l,g,f,x);break e}else if(g!==x){x=qi(Error(r(424)),l),l=w1(i,l,g,f,x);break e}else for(xr=ra(l.stateNode.containerInfo.firstChild),vr=l,it=!0,Yr=null,f=Iw(l,null,g,f),l.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if($i(),g===x){l=Tn(i,l,f);break e}Jt(i,l,g,f)}l=l.child}return l;case 5:return Lw(l),i===null&&gm(l),g=l.type,x=l.pendingProps,_=i!==null?i.memoizedProps:null,E=x.children,om(g,x)?E=null:_!==null&&om(g,_)&&(l.flags|=32),v1(i,l),Jt(i,l,E,f),l.child;case 6:return i===null&&gm(l),null;case 13:return j1(i,l,f);case 4:return _m(l,l.stateNode.containerInfo),g=l.pendingProps,i===null?l.child=Li(l,null,g,f):Jt(i,l,g,f),l.child;case 11:return g=l.type,x=l.pendingProps,x=l.elementType===g?x:Xr(g,x),h1(i,l,g,x,f);case 7:return Jt(i,l,l.pendingProps,f),l.child;case 8:return Jt(i,l,l.pendingProps.children,f),l.child;case 12:return Jt(i,l,l.pendingProps.children,f),l.child;case 10:e:{if(g=l.type._context,x=l.pendingProps,_=l.memoizedProps,E=x.value,Ye(Rc,g._currentValue),g._currentValue=E,_!==null)if(Kr(_.value,E)){if(_.children===x.children&&!lr.current){l=Tn(i,l,f);break e}}else for(_=l.child,_!==null&&(_.return=l);_!==null;){var H=_.dependencies;if(H!==null){E=_.child;for(var K=H.firstContext;K!==null;){if(K.context===g){if(_.tag===1){K=En(-1,f&-f),K.tag=2;var ee=_.updateQueue;if(ee!==null){ee=ee.shared;var ae=ee.pending;ae===null?K.next=K:(K.next=ae.next,ae.next=K),ee.pending=K}}_.lanes|=f,K=_.alternate,K!==null&&(K.lanes|=f),wm(_.return,f,l),H.lanes|=f;break}K=K.next}}else if(_.tag===10)E=_.type===l.type?null:_.child;else if(_.tag===18){if(E=_.return,E===null)throw Error(r(341));E.lanes|=f,H=E.alternate,H!==null&&(H.lanes|=f),wm(E,f,l),E=_.sibling}else E=_.child;if(E!==null)E.return=_;else for(E=_;E!==null;){if(E===l){E=null;break}if(_=E.sibling,_!==null){_.return=E.return,E=_;break}E=E.return}_=E}Jt(i,l,x.children,f),l=l.child}return l;case 9:return x=l.type,g=l.pendingProps.children,Bi(l,f),x=Pr(x),g=g(x),l.flags|=1,Jt(i,l,g,f),l.child;case 14:return g=l.type,x=Xr(g,l.pendingProps),x=Xr(g.type,x),p1(i,l,g,x,f);case 15:return g1(i,l,l.type,l.pendingProps,f);case 17:return g=l.type,x=l.pendingProps,x=l.elementType===g?x:Xr(g,x),Vc(i,l),l.tag=1,cr(g)?(i=!0,Pc(l)):i=!1,Bi(l,f),o1(l,g,x),$m(l,g,x,f),zm(null,l,g,!0,i,f);case 19:return _1(i,l,f);case 22:return y1(i,l,f)}throw Error(r(156,l.tag))};function K1(i,l){return Ob(i,l)}function cM(i,l,f,g){this.tag=i,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cr(i,l,f,g){return new cM(i,l,f,g)}function oh(i){return i=i.prototype,!(!i||!i.isReactComponent)}function uM(i){if(typeof i=="function")return oh(i)?1:0;if(i!=null){if(i=i.$$typeof,i===U)return 11;if(i===L)return 14}return 2}function ma(i,l){var f=i.alternate;return f===null?(f=Cr(i.tag,l,i.key,i.mode),f.elementType=i.elementType,f.type=i.type,f.stateNode=i.stateNode,f.alternate=i,i.alternate=f):(f.pendingProps=l,f.type=i.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=i.flags&14680064,f.childLanes=i.childLanes,f.lanes=i.lanes,f.child=i.child,f.memoizedProps=i.memoizedProps,f.memoizedState=i.memoizedState,f.updateQueue=i.updateQueue,l=i.dependencies,f.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},f.sibling=i.sibling,f.index=i.index,f.ref=i.ref,f}function au(i,l,f,g,x,_){var E=2;if(g=i,typeof i=="function")oh(i)&&(E=1);else if(typeof i=="string")E=5;else e:switch(i){case T:return Ga(f.children,x,_,l);case $:E=8,x|=8;break;case M:return i=Cr(12,f,l,x|2),i.elementType=M,i.lanes=_,i;case B:return i=Cr(13,f,l,x),i.elementType=B,i.lanes=_,i;case V:return i=Cr(19,f,l,x),i.elementType=V,i.lanes=_,i;case G:return iu(f,x,_,l);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case q:E=10;break e;case R:E=9;break e;case U:E=11;break e;case L:E=14;break e;case D:E=16,g=null;break e}throw Error(r(130,i==null?i:typeof i,""))}return l=Cr(E,f,l,x),l.elementType=i,l.type=g,l.lanes=_,l}function Ga(i,l,f,g){return i=Cr(7,i,g,l),i.lanes=f,i}function iu(i,l,f,g){return i=Cr(22,i,g,l),i.elementType=G,i.lanes=f,i.stateNode={isHidden:!1},i}function lh(i,l,f){return i=Cr(6,i,null,l),i.lanes=f,i}function ch(i,l,f){return l=Cr(4,i.children!==null?i.children:[],i.key,l),l.lanes=f,l.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},l}function dM(i,l,f,g,x){this.tag=l,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Df(0),this.expirationTimes=Df(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Df(0),this.identifierPrefix=g,this.onRecoverableError=x,this.mutableSourceEagerHydrationData=null}function uh(i,l,f,g,x,_,E,H,K){return i=new dM(i,l,f,H,K),l===1?(l=1,_===!0&&(l|=8)):l=0,_=Cr(3,null,null,l),i.current=_,_.stateNode=i,_.memoizedState={element:g,isDehydrated:f,cache:null,transitions:null,pendingSuspenseBoundaries:null},Sm(_),i}function fM(i,l,f){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:P,key:g==null?null:""+g,children:i,containerInfo:l,implementation:f}}function Y1(i){if(!i)return aa;i=i._reactInternals;e:{if(Ma(i)!==i||i.tag!==1)throw Error(r(170));var l=i;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(cr(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(r(171))}if(i.tag===1){var f=i.type;if(cr(f))return Sw(i,f,l)}return l}function X1(i,l,f,g,x,_,E,H,K){return i=uh(f,g,!0,i,x,_,E,H,K),i.context=Y1(null),f=i.current,g=er(),x=da(f),_=En(g,x),_.callback=l??null,oa(f,_,x),i.current.lanes=x,oo(i,x,g),fr(i,g),i}function su(i,l,f,g){var x=l.current,_=er(),E=da(x);return f=Y1(f),l.context===null?l.context=f:l.pendingContext=f,l=En(_,E),l.payload={element:i},g=g===void 0?null:g,g!==null&&(l.callback=g),i=oa(x,l,E),i!==null&&(Jr(i,x,E,_),$c(i,x,E)),E}function ou(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function Q1(i,l){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var f=i.retryLane;i.retryLane=f!==0&&f<l?f:l}}function dh(i,l){Q1(i,l),(i=i.alternate)&&Q1(i,l)}function mM(){return null}var Z1=typeof reportError=="function"?reportError:function(i){console.error(i)};function fh(i){this._internalRoot=i}lu.prototype.render=fh.prototype.render=function(i){var l=this._internalRoot;if(l===null)throw Error(r(409));su(i,l,null,null)},lu.prototype.unmount=fh.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var l=i.containerInfo;Ua(function(){su(null,i,null,null)}),l[Nn]=null}};function lu(i){this._internalRoot=i}lu.prototype.unstable_scheduleHydration=function(i){if(i){var l=Rb();i={blockedOn:null,target:i,priority:l};for(var f=0;f<Jn.length&&l!==0&&l<Jn[f].priority;f++);Jn.splice(f,0,i),f===0&&Lb(i)}};function mh(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function cu(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function J1(){}function hM(i,l,f,g,x){if(x){if(typeof g=="function"){var _=g;g=function(){var ee=ou(E);_.call(ee)}}var E=X1(l,g,i,0,null,!1,!1,"",J1);return i._reactRootContainer=E,i[Nn]=E.current,jo(i.nodeType===8?i.parentNode:i),Ua(),E}for(;x=i.lastChild;)i.removeChild(x);if(typeof g=="function"){var H=g;g=function(){var ee=ou(K);H.call(ee)}}var K=uh(i,0,!1,null,null,!1,!1,"",J1);return i._reactRootContainer=K,i[Nn]=K.current,jo(i.nodeType===8?i.parentNode:i),Ua(function(){su(l,K,f,g)}),K}function uu(i,l,f,g,x){var _=f._reactRootContainer;if(_){var E=_;if(typeof x=="function"){var H=x;x=function(){var K=ou(E);H.call(K)}}su(l,E,i,x)}else E=hM(f,l,i,x,g);return ou(E)}Ib=function(i){switch(i.tag){case 3:var l=i.stateNode;if(l.current.memoizedState.isDehydrated){var f=so(l.pendingLanes);f!==0&&($f(l,f|1),fr(l,yt()),(Le&6)===0&&(Hi=yt()+500,ia()))}break;case 13:Ua(function(){var g=Pn(i,1);if(g!==null){var x=er();Jr(g,i,1,x)}}),dh(i,1)}},Lf=function(i){if(i.tag===13){var l=Pn(i,134217728);if(l!==null){var f=er();Jr(l,i,134217728,f)}dh(i,134217728)}},Mb=function(i){if(i.tag===13){var l=da(i),f=Pn(i,l);if(f!==null){var g=er();Jr(f,i,l,g)}dh(i,l)}},Rb=function(){return He},Db=function(i,l){var f=He;try{return He=i,l()}finally{He=f}},Ef=function(i,l,f){switch(l){case"input":if(Tt(i,f),l=f.name,f.type==="radio"&&l!=null){for(f=i;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<f.length;l++){var g=f[l];if(g!==i&&g.form===i.form){var x=Oc(g);if(!x)throw Error(r(90));ie(g),Tt(g,x)}}}break;case"textarea":Js(i,f);break;case"select":l=f.value,l!=null&&or(i,!!f.multiple,l,!1)}},bb=ah,wb=Ua;var pM={usingClientEntryPoint:!1,Events:[No,Ci,Oc,vb,xb,ah]},Fo={findFiberByHostInstance:Ra,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},gM={bundleType:Fo.bundleType,version:Fo.version,rendererPackageName:Fo.rendererPackageName,rendererConfig:Fo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:A.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Nb(i),i===null?null:i.stateNode},findFiberByHostInstance:Fo.findFiberByHostInstance||mM,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var du=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!du.isDisabled&&du.supportsFiber)try{lc=du.inject(gM),dn=du}catch{}}return mr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pM,mr.createPortal=function(i,l){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!mh(l))throw Error(r(200));return fM(i,l,null,f)},mr.createRoot=function(i,l){if(!mh(i))throw Error(r(299));var f=!1,g="",x=Z1;return l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onRecoverableError!==void 0&&(x=l.onRecoverableError)),l=uh(i,1,!1,null,null,f,!1,g,x),i[Nn]=l.current,jo(i.nodeType===8?i.parentNode:i),new fh(l)},mr.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var l=i._reactInternals;if(l===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=Nb(l),i=i===null?null:i.stateNode,i},mr.flushSync=function(i){return Ua(i)},mr.hydrate=function(i,l,f){if(!cu(l))throw Error(r(200));return uu(null,i,l,!0,f)},mr.hydrateRoot=function(i,l,f){if(!mh(i))throw Error(r(405));var g=f!=null&&f.hydratedSources||null,x=!1,_="",E=Z1;if(f!=null&&(f.unstable_strictMode===!0&&(x=!0),f.identifierPrefix!==void 0&&(_=f.identifierPrefix),f.onRecoverableError!==void 0&&(E=f.onRecoverableError)),l=X1(l,null,i,1,f??null,x,!1,_,E),i[Nn]=l.current,jo(i),g)for(i=0;i<g.length;i++)f=g[i],x=f._getVersion,x=x(f._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[f,x]:l.mutableSourceEagerHydrationData.push(f,x);return new lu(l)},mr.render=function(i,l,f){if(!cu(l))throw Error(r(200));return uu(null,i,l,!1,f)},mr.unmountComponentAtNode=function(i){if(!cu(i))throw Error(r(40));return i._reactRootContainer?(Ua(function(){uu(null,null,i,!1,function(){i._reactRootContainer=null,i[Nn]=null})}),!0):!1},mr.unstable_batchedUpdates=ah,mr.unstable_renderSubtreeIntoContainer=function(i,l,f,g){if(!cu(f))throw Error(r(200));if(i==null||i._reactInternals===void 0)throw Error(r(38));return uu(i,l,f,!1,g)},mr.version="18.3.1-next-f1338f8080-20240426",mr}var oj;function _M(){if(oj)return gh.exports;oj=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),gh.exports=SM(),gh.exports}var lj;function NM(){if(lj)return mu;lj=1;var t=_M();return mu.createRoot=t.createRoot,mu.hydrateRoot=t.hydrateRoot,mu}var kM=NM();const OM=We(kM),AM={VITE_DEBUG_LOGS:"false",VITE_ENABLE_EDGE_FETCH:"true",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFueW1iZWNqZ2Vhb3hzZnBocnRpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTYwMTczNjEsImV4cCI6MjA3MTU5MzM2MX0.6wAWe5GdKzTOjVa0eUVhDJ4IwczseO9A83uwXlDg0DU",VITE_SUPABASE_EDGE_BASE:"https://qnymbecjgeaoxsfphrti.functions.supabase.co",VITE_SUPABASE_URL:"https://qnymbecjgeaoxsfphrti.supabase.co",VITE_USE_STREAMING_DATASETS:"true"},ja=AM||{},rx=String(ja.VITE_DEBUG_LOGS||"").toLowerCase()==="true";let cj=!1;function nx(){const t=ja.VITE_SUPABASE_URL,e=ja.VITE_SUPABASE_ANON_KEY;return rx&&console.log("getSupabaseConfig - VITE_SUPABASE_URL:",t,"VITE_SUPABASE_ANON_KEY loaded:",!!e),(!t||!e)&&(cj||(console.warn("Supabase config missing: ensure VITE_SUPABASE_URL and VITE_SUPABASE_ANON_KEY are set."),cj=!0)),{url:t||"",anonKey:e||""}}function qs(){const{url:t}=nx(),e=ja.VITE_SUPABASE_EDGE_BASE||"";return rx&&console.log("getEdgeBaseUrl - override:",e,"url:",t,"final base:",e||`${t}/functions/v1`),e||(t?/\.functions\.supabase\.co\b/.test(t)?t:`${t}/functions/v1`:"")}function Us(){const{anonKey:t}=nx(),e={"Content-Type":"application/json"};return t&&(e.Authorization=`Bearer ${t}`,e.apikey=t),rx&&console.log("getEdgeHeaders - anonKey:",!!t,"Authorization header sent:","Authorization"in e),e}function Br(){const t=ja.VITE_ENABLE_EDGE_FETCH;if(typeof t=="boolean")return t;if(typeof t=="string")return t.toLowerCase()==="true";if(typeof window<"u"){const e=window.location?.hostname||"";if(e==="localhost"||e==="127.0.0.1")return!1}return!!(ja.VITE_SUPABASE_URL&&ja.VITE_SUPABASE_ANON_KEY)}function PM(){const t=ja.VITE_USE_STREAMING_DATASETS;return typeof t=="boolean"?t:typeof t=="string"?t.toLowerCase()==="true":!1}function AA(){const{url:t,anonKey:e}=nx();return!!(t&&e)}function uj(){return PM()&&AA()}function ax(t){return!!t&&(t.name==="AbortError"||typeof t.message=="string"&&/aborted/i.test(t.message))}function ds(){try{return new DOMException("Aborted","AbortError")}catch{const e=new Error("Aborted");return e.name="AbortError",e}}async function At(t,e={}){if(!Br())throw new Error("Supabase Edge fetch disabled via configuration (VITE_ENABLE_EDGE_FETCH=false)");const r=qs(),n=Us();if(!r)throw new Error("Supabase Edge base URL is not configured. Set VITE_SUPABASE_URL and VITE_SUPABASE_ANON_KEY, and enable VITE_USE_STREAMING_DATASETS if desired.");let a=null;const o=e.timeoutMs||15e3,c=new AbortController,u=setTimeout(()=>c.abort(),o),d=e.signal||c.signal;if(d?.aborted)throw clearTimeout(u),ds();try{for(const m of t){if(d?.aborted)throw ds();const p=`${r}/${m}`;try{const h=await fetch(p,{headers:n,signal:d});if(!h.ok){a=new Error(`Request failed: ${h.status} ${h.statusText}`);continue}const y=await h.json();return clearTimeout(u),{json:y,response:h}}catch(h){if(ax(h))throw h;a=h}}throw a||new Error("All edge endpoint candidates failed")}finally{clearTimeout(u)}}async function Rd(t,e,r={}){if(!Br())throw new Error("Supabase Edge fetch disabled via configuration (VITE_ENABLE_EDGE_FETCH=false)");const n=qs(),a=Us();if(!n)throw new Error("Supabase Edge base URL is not configured. Set VITE_SUPABASE_URL and VITE_SUPABASE_ANON_KEY, and enable VITE_USE_STREAMING_DATASETS if desired.");let o=null;if(r.signal?.aborted)throw ds();for(const c of t){if(r.signal?.aborted)throw ds();const u=`${n}/${c}`;try{const d=await fetch(u,{method:"POST",headers:a,body:JSON.stringify(e??{}),signal:r.signal});if(!d.ok){o=new Error(`Request failed: ${d.status} ${d.statusText}`);continue}return{json:await d.json(),response:d}}catch(d){if(ax(d))throw d;o=d}}throw o||new Error("All edge endpoint candidates failed")}async function hi(t,e,r={}){if(!Br())throw new Error("Supabase Edge fetch disabled via configuration (VITE_ENABLE_EDGE_FETCH=false)");const n=qs(),a=Us();if(!n)throw new Error("Supabase Edge base URL is not configured. Set VITE_SUPABASE_URL and VITE_SUPABASE_ANON_KEY, and enable VITE_USE_STREAMING_DATASETS if desired.");let o=null;if(r.signal?.aborted)throw ds();for(const c of t){if(r.signal?.aborted)throw ds();const u=new URL(`${n}/${c}`);Object.entries(e).forEach(([d,m])=>u.searchParams.set(d,m));try{const d=await fetch(u.toString(),{headers:a,signal:r.signal});if(!d.ok){o=new Error(`Request failed: ${d.status} ${d.statusText}`);continue}return d}catch(d){if(ax(d))throw d;o=d}}throw o||new Error("All edge endpoint candidates failed")}class pi{baseUrl;headers;constructor(){this.baseUrl=qs(),this.headers=Us()}async fetchWithErrorHandling(e,r){const n=await fetch(e,{headers:this.headers,signal:r});if(!n.ok)throw new Error(`Request failed: ${n.status} ${n.statusText}`);return n}}const EM=()=>`${"/".replace(/\/+$/,"/")}data/`;async function Dd(t){const e=`${EM()}${t}`,r=await fetch(e);if(!r.ok)throw new Error(`Failed to load fallback data from ${e}: ${r.status} ${r.statusText}`);return await r.json()}class TM extends pi{async getManifest(){const{json:e}=await At(["manifest-provincial-generation","manifest/kaggle/provincial_generation"]);return e}async*streamData(e={}){const{limit:r=1e3,maxRows:n=1/0,onProgress:a,onError:o,signal:c}=e;let u=null,d=0,m=0;try{for(;d<n;){if(c?.aborted){const w=new Error("Aborted");throw w.name="AbortError",w}const p={limit:Math.min(r,n-d).toString()};u&&(p.cursor=u);const h=await hi(["stream-provincial-generation","stream/kaggle/provincial_generation"],p,{signal:c}),y=await h.json(),v=h.headers.get("x-next-cursor");if(!m&&y.metadata?.totalEstimate&&(m=Math.min(y.metadata.totalEstimate,n)),d+=y.rows?.length||0,a?.({loaded:d,total:m||n,percentage:m?d/m*100:0}),yield y.rows||[],!y.metadata?.hasMore||!v||!y.rows?.length)break;u=v}}catch(p){throw o?.(p),p}}async loadFallbackData(){const e=await Dd("provincial_generation_sample.json"),r=new Date;return e.map((n,a)=>({...n,id:n.id??`provincial_generation_fallback_${a}`,source:"fallback",version:"1.0-fallback",ingested_at:r}))}}class CM extends pi{async getManifest(){const{json:e}=await At(["manifest-ontario-demand","manifest/kaggle/ontario_demand"]);return e}async*streamData(e={}){const{limit:r=1e3,maxRows:n=1/0,onProgress:a,onError:o,signal:c}=e;let u=null,d=0,m=0;try{for(;d<n;){if(c?.aborted){const w=new Error("Aborted");throw w.name="AbortError",w}const p={limit:Math.min(r,n-d).toString()};u&&(p.cursor=u);const h=await hi(["stream-ontario-demand","stream/kaggle/ontario_demand"],p,{signal:c}),y=await h.json(),v=h.headers.get("x-next-cursor");if(!m&&y.metadata?.totalEstimate&&(m=Math.min(y.metadata.totalEstimate,n)),d+=y.rows?.length||0,a?.({loaded:d,total:m||n,percentage:m?d/m*100:0}),yield y.rows||[],!y.metadata?.hasMore||!v||!y.rows?.length)break;u=v}}catch(p){throw o?.(p),p}}async loadFallbackData(){return(await Dd("ontario_demand_sample.json")).map((r,n)=>({...r,id:r.id??n,source:"fallback",version:"1.0-fallback",ingested_at:new Date(r.datetime)}))}}class IM extends pi{async getManifest(){const{json:e}=await At(["manifest-ontario-prices","manifest/kaggle/ontario_prices"]);return e}async*streamData(e={}){const{limit:r=1e3,maxRows:n=1/0,onProgress:a,onError:o,signal:c}=e;let u=null,d=0,m=0;try{for(;d<n;){if(c?.aborted){const w=new Error("Aborted");throw w.name="AbortError",w}const p={limit:Math.min(r,n-d).toString()};u&&(p.cursor=u);const h=await hi(["stream-ontario-prices","stream/kaggle/ontario_prices"],p,{signal:c}),y=await h.json(),v=h.headers.get("x-next-cursor");if(!m&&y.metadata?.totalEstimate&&(m=Math.min(y.metadata.totalEstimate,n)),d+=y.rows?.length||0,a?.({loaded:d,total:m||n,percentage:m?d/m*100:0}),yield y.rows||[],!y.metadata?.hasMore||!v||!y.rows?.length)break;u=v}}catch(p){throw o?.(p),p}}async loadFallbackData(){return(await Dd("ontario_prices_sample.json")).map((r,n)=>({...r,id:r.id??n,source:"fallback",version:"1.0-fallback",ingested_at:new Date(r.datetime)}))}}class MM extends pi{async getManifest(){const{json:e}=await At(["manifest-hf-electricity-demand","manifest/hf/electricity_demand","manifest/huggingface/electricity_demand"]);return e}async*streamData(e={}){const{limit:r=1e3,maxRows:n=1/0,onProgress:a,onError:o,signal:c}=e;let u=null,d=0,m=0;try{for(;d<n;){if(c?.aborted){const w=new Error("Aborted");throw w.name="AbortError",w}const p={limit:Math.min(r,n-d).toString()};u&&(p.cursor=u);const h=await hi(["stream-hf-electricity-demand","stream/hf/electricity_demand","stream/huggingface/electricity_demand"],p,{signal:c}),y=await h.json(),v=h.headers.get("x-next-cursor");if(!m&&y.metadata?.totalEstimate&&(m=Math.min(y.metadata.totalEstimate,n)),d+=y.rows?.length||0,a?.({loaded:d,total:m||n,percentage:m?d/m*100:0}),yield y.rows||[],!y.metadata?.hasMore||!v||!y.rows?.length)break;u=v}}catch(p){throw o?.(p),p}}async loadFallbackData(){return(await Dd("hf_electricity_demand_sample.json")).map(r=>({...r,source:"fallback",version:"1.0-fallback"}))}}class RM extends pi{async getManifest(){const{json:e}=await At(["manifest-emissions","manifest/kaggle/emissions"]);return e}async*streamData(e={}){const{limit:r=1e3,maxRows:n=1/0,onProgress:a,onError:o,signal:c}=e;let u=null,d=0,m=0;try{for(;d<n;){if(c?.aborted){const w=new Error("Aborted");throw w.name="AbortError",w}const p={limit:Math.min(r,n-d).toString()};u&&(p.cursor=u);const h=await hi(["stream-emissions","stream/kaggle/emissions"],p,{signal:c}),y=await h.json(),v=h.headers.get("x-next-cursor");if(!m&&y.metadata?.totalEstimate&&(m=Math.min(y.metadata.totalEstimate,n)),d+=y.rows?.length||0,a?.({loaded:d,total:m||n,percentage:m?d/m*100:0}),yield y.rows||[],!y.metadata?.hasMore||!v||!y.rows?.length)break;u=v}}catch(p){throw o?.(p),p}}async loadFallbackData(){throw new Error("Fallback disabled: emissions requires real streaming backend")}}class DM extends pi{async getManifest(){const{json:e}=await At(["manifest-market","manifest/kaggle/market"]);return e}async*streamData(e={}){const{limit:r=1e3,maxRows:n=1/0,onProgress:a,onError:o,signal:c}=e;let u=null,d=0,m=0;try{for(;d<n;){if(c?.aborted){const w=new Error("Aborted");throw w.name="AbortError",w}const p={limit:Math.min(r,n-d).toString()};u&&(p.cursor=u);const h=await hi(["stream-market","stream/kaggle/market"],p,{signal:c}),y=await h.json(),v=h.headers.get("x-next-cursor");if(!m&&y.metadata?.totalEstimate&&(m=Math.min(y.metadata.totalEstimate,n)),d+=y.rows?.length||0,a?.({loaded:d,total:m||n,percentage:m?d/m*100:0}),yield y.rows||[],!y.metadata?.hasMore||!v||!y.rows?.length)break;u=v}}catch(p){throw o?.(p),p}}async loadFallbackData(){throw new Error("Fallback disabled: market requires real streaming backend")}}class $M extends pi{async getManifest(){const{json:e}=await At(["manifest-community","manifest/kaggle/community"]);return e}async*streamData(e={}){const{limit:r=1e3,maxRows:n=1/0,onProgress:a,onError:o,signal:c}=e;let u=null,d=0,m=0;try{for(;d<n;){if(c?.aborted){const w=new Error("Aborted");throw w.name="AbortError",w}const p={limit:Math.min(r,n-d).toString()};u&&(p.cursor=u);const h=await hi(["stream-community","stream/kaggle/community"],p,{signal:c}),y=await h.json(),v=h.headers.get("x-next-cursor");if(!m&&y.metadata?.totalEstimate&&(m=Math.min(y.metadata.totalEstimate,n)),d+=y.rows?.length||0,a?.({loaded:d,total:m||n,percentage:m?d/m*100:0}),yield y.rows||[],!y.metadata?.hasMore||!v||!y.rows?.length)break;u=v}}catch(p){throw o?.(p),p}}async loadFallbackData(){throw new Error("Fallback disabled: community requires real streaming backend")}}const LM=new TM,FM=new CM,BM=new IM,zM=new MM;new RM;new DM;new $M;class qM{store=new Map;async getItem(e){return this.store.get(e)}async setItem(e,r){this.store.set(e,r)}async deleteItem(e){this.store.delete(e)}async clear(){this.store.clear()}async keys(){return Array.from(this.store.keys())}}const UM="energy-cache",Cu="datasets",WM=1;function HM(){try{return typeof indexedDB<"u"}catch{return!1}}function GM(){return new Promise((t,e)=>{const r=indexedDB.open(UM,WM);r.onupgradeneeded=()=>{const n=r.result;n.objectStoreNames.contains(Cu)||n.createObjectStore(Cu)},r.onsuccess=()=>t(r.result),r.onerror=()=>e(r.error)})}async function zo(t,e){const r=await GM();return new Promise((n,a)=>{const o=r.transaction(Cu,t),c=o.objectStore(Cu);o.oncomplete=()=>n(u),o.onerror=()=>a(o.error);let u;(async()=>{try{u=await e(c)}catch(d){a(d)}})()})}class VM{async getItem(e){return zo("readonly",r=>new Promise((n,a)=>{const o=r.get(e);o.onsuccess=()=>n(o.result),o.onerror=()=>a(o.error)}))}async setItem(e,r){return zo("readwrite",n=>new Promise((a,o)=>{const c=n.put(r,e);c.onsuccess=()=>a(),c.onerror=()=>o(c.error)}))}async deleteItem(e){return zo("readwrite",r=>new Promise((n,a)=>{const o=r.delete(e);o.onsuccess=()=>n(),o.onerror=()=>a(o.error)}))}async clear(){return zo("readwrite",e=>new Promise((r,n)=>{const a=e.clear();a.onsuccess=()=>r(),a.onerror=()=>n(a.error)}))}async keys(){return zo("readonly",e=>new Promise((r,n)=>{const a=e.getAllKeys();a.onsuccess=()=>r(a.result.map(String)),a.onerror=()=>n(a.error)}))}}const dj=HM()?new VM:new qM,Dn=[{key:"provincial_generation",name:"Provincial Generation",description:"Canadian provincial electricity generation by source",color:"#0ea5e9",icon:"Zap",estimatedRows:5e4,source:"kaggle"},{key:"ontario_demand",name:"Ontario Demand",description:"Ontario hourly electricity demand data",color:"#10b981",icon:"TrendingUp",estimatedRows:175e3,source:"kaggle"},{key:"ontario_prices",name:"Ontario Prices",description:"Ontario LMP pricing data with 5-min intervals",color:"#f59e0b",icon:"DollarSign",estimatedRows:25e5,source:"kaggle"},{key:"hf_electricity_demand",name:"HF Electricity Demand",description:"European smart meter data with weather",color:"#ef4444",icon:"Home",estimatedRows:876e4,source:"huggingface"}];class KM{connectionStatuses=new Map;dataCache=new Map;statusListeners=new Map;constructor(){Dn.forEach(e=>{this.connectionStatuses.set(e.key,{dataset:e.name,status:"connecting",lastUpdate:null,recordCount:0,source:"stream"}),this.statusListeners.set(e.key,new Set)})}updateStatus(e,r){const a={...this.connectionStatuses.get(e),...r};this.connectionStatuses.set(e,a),this.statusListeners.get(e)?.forEach(c=>c(a))}subscribeToStatus(e,r){const n=this.statusListeners.get(e);n.add(r);const a=this.connectionStatuses.get(e);return r(a),()=>{n.delete(r)}}getConnectionStatus(e){return this.connectionStatuses.get(e)}getAllConnectionStatuses(){return Array.from(this.connectionStatuses.values())}async initializeConnection(e){try{return this.updateStatus(e,{status:"connecting",error:void 0}),uj()&&Br()?(await this.getStreamer(e).getManifest(),this.updateStatus(e,{status:"connected",source:"stream",lastUpdate:new Date}),!0):(this.updateStatus(e,{status:"fallback",source:"fallback",lastUpdate:new Date,recordCount:this.dataCache.get(e)?.length??0,error:void 0}),!0)}catch(r){return console.error(`Failed to initialize connection for ${e}:`,r),this.updateStatus(e,{status:"error",error:r instanceof Error?r.message:"Connection failed"}),!1}}async loadData(e,r={}){const{forceStream:n=!1,maxRows:a=5e3,onProgress:o,onStatusChange:c,signal:u}=r;this.updateStatus(e,{status:"connecting",error:void 0}),c?.(this.getConnectionStatus(e));try{if(!this.dataCache.get(e)){const d=await dj.getItem(e);d&&d.length>0&&this.dataCache.set(e,d)}}catch{}try{const d=AA()&&Br(),m=uj()&&Br();if(!(n?d:m))return await this.loadUsingFallback(e,{maxRows:a,onProgress:o,onStatusChange:c});const h=await this.loadFromStream(e,{maxRows:a,onProgress:o,signal:u});this.updateStatus(e,{status:"connected",source:"stream",recordCount:h.length,lastUpdate:new Date}),this.dataCache.set(e,h);try{await dj.setItem(e,h)}catch{}return c?.(this.getConnectionStatus(e)),h}catch(d){if(d?.name==="AbortError")throw d;console.error(`Failed to load streaming data for ${e}:`,d);try{return await this.loadUsingFallback(e,{maxRows:a,onProgress:o,onStatusChange:c})}catch(m){throw this.updateStatus(e,{status:"error",source:"stream",recordCount:0,lastUpdate:new Date,error:m instanceof Error?m.message:"Stream and fallback failed"}),c?.(this.getConnectionStatus(e)),m}}}async loadFromStream(e,r){const n=this.getStreamer(e),a=[];for await(const o of n.streamData({limit:1e3,maxRows:r.maxRows,onProgress:r.onProgress,signal:r.signal}))a.push(...o.map(c=>({...c,source:Dn.find(u=>u.key===e)?.source||"kaggle",version:"1.0-stream",ingested_at:new Date})));return a}async loadUsingFallback(e,r){const n=await this.loadFromFallback(e),a=r.maxRows?n.slice(0,r.maxRows):n;return r.onProgress&&r.onProgress({loaded:a.length,total:a.length,percentage:a.length>0?100:0}),this.dataCache.set(e,a),this.updateStatus(e,{status:"fallback",source:"fallback",recordCount:a.length,lastUpdate:new Date,error:void 0}),r.onStatusChange?.(this.getConnectionStatus(e)),a}async loadFromFallback(e){return await this.getStreamer(e).loadFallbackData()}getStreamer(e){switch(e){case"provincial_generation":return LM;case"ontario_demand":return FM;case"ontario_prices":return BM;case"hf_electricity_demand":return zM;default:throw new Error(`Unknown dataset: ${e}`)}}getCachedData(e){return this.dataCache.get(e)}clearCache(e){e?this.dataCache.delete(e):this.dataCache.clear()}async refreshData(e,r={}){return this.clearCache(e),await this.loadData(e,{...r})}exportData(e,r="json"){const n=this.getCachedData(e);if(!n||n.length===0)throw new Error(`No data available for ${e}`);if(r==="json")return JSON.stringify(n,null,2);if(r==="csv"){const a=Object.keys(n[0]),o=[a.join(",")];return n.forEach(c=>{const u=a.map(d=>{const m=c[d];return typeof m=="string"&&m.includes(",")?`"${m}"`:m});o.push(u.join(","))}),o.join(`
`)}throw new Error(`Unsupported format: ${r}`)}async initializeAllDatasets(e={}){const r=Dn.map(async n=>{try{await this.loadData(n.key,{...e,maxRows:100})}catch(a){console.warn(`Failed to initialize ${n.key}:`,a)}});await Promise.allSettled(r),console.log("Dataset initialization completed")}downloadData(e,r="json"){const n=this.exportData(e,r),a=new Blob([n],{type:r==="json"?"application/json":"text/csv"}),o=URL.createObjectURL(a),c=document.createElement("a");c.href=o,c.download=`${e}_${new Date().toISOString().split("T")[0]}.${r}`,document.body.appendChild(c),c.click(),document.body.removeChild(c),URL.revokeObjectURL(o)}}const rr=new KM;/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var YM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XM=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=(t,e)=>{const r=I.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:o=2,absoluteStrokeWidth:c,className:u="",children:d,...m},p)=>I.createElement("svg",{ref:p,...YM,width:a,height:a,stroke:n,strokeWidth:c?Number(o)*24/Number(a):o,className:["lucide",`lucide-${XM(t)}`,u].join(" "),...m},[...e.map(([h,y])=>I.createElement(h,y)),...Array.isArray(d)?d:[d]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hr=je("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qi=je("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hu=je("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ix=je("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E0=je("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xh=je("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fj=je("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QM=je("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PA=je("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EA=je("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TA=je("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const si=je("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zt=je("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZM=je("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fs=je("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JM=je("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tl=je("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fl=je("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sx=je("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CA=je("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IA=je("FileDown",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gn=je("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mj=je("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e3=je("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t3=je("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iu=je("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const os=je("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zi=je("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $d=je("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MA=je("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RA=je("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r3=je("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bh=je("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const va=je("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hj=je("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n3=je("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pj=je("Radio",[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a3=je("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i3=je("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s3=je("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o3=je("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lr=je("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pu=je("Signal",[["path",{d:"M2 20h.01",key:"4haj6o"}],["path",{d:"M7 20v-4",key:"j294jx"}],["path",{d:"M12 20v-8",key:"i3yub9"}],["path",{d:"M17 20V8",key:"1tkaf5"}],["path",{d:"M22 4v16",key:"sih9yq"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l3=je("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c3=je("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DA=je("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oi=je("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $A=je("Thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ml=je("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ut=je("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _r=je("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u3=je("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LA=je("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FA=je("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ox=je("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d3=je("Wind",[["path",{d:"M17.7 7.7a2.5 2.5 0 1 1 1.8 4.3H2",key:"1k4u03"}],["path",{d:"M9.6 4.6A2 2 0 1 1 11 8H2",key:"b7d0fd"}],["path",{d:"M12.6 19.4A2 2 0 1 0 14 16H2",key:"1p5cb3"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BA=je("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pt=je("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);async function f3(){const t=qs(),e=t?`${t}/help-simple/manifest`:"/api/help/manifest",r=await fetch(e,{headers:Us()});return r.ok?(await r.json()).manifest:(console.error("Failed to fetch help manifest:",r.status),[])}async function m3(t){const e=qs(),r=e?`${e}/help-simple/${encodeURIComponent(t)}`:`/api/help/${encodeURIComponent(t)}`,n=await fetch(r,{headers:Us()});if(!n.ok){if(n.status===404)return console.warn(`Help content not found for ID: ${t}`),null;throw console.error(`Failed to fetch help content for ${t}:`,n.status),new Error(`Help content unavailable for ${t}`)}return await n.json()}const gj={"dashboard.overview":{id:"dashboard.overview",title:"Real-Time Energy Dashboard",shortText:"Live monitoring of Canadian energy systems",difficulty:"beginner",bodyHtml:`
      <h3 class="text-lg font-semibold mb-3">What is the Real-Time Dashboard?</h3>
      <p class="mb-4">This dashboard shows you <strong>live energy data</strong> from across Canada. Think of it like a "weather map" but for electricity!</p>
      
      <h4 class="font-semibold mt-4 mb-2">What You'll See:</h4>
      <ul class="list-disc pl-5 space-y-2 mb-4">
        <li><strong>Ontario Demand</strong> - How much electricity Ontario is using right now (measured in Megawatts)</li>
        <li><strong>Generation Mix</strong> - Where our electricity comes from (nuclear, hydro, wind, solar, etc.)</li>
        <li><strong>Prices</strong> - How much electricity costs in different provinces</li>
        <li><strong>Weather Impact</strong> - How temperature affects energy use</li>
      </ul>
      
      <h4 class="font-semibold mt-4 mb-2">Why This Matters:</h4>
      <p class="mb-4">Understanding real-time energy helps us:</p>
      <ul class="list-disc pl-5 space-y-1 mb-4">
        <li>Plan when to use electricity (cheaper during off-peak times)</li>
        <li>See how renewable energy is growing</li>
        <li>Understand energy security and reliability</li>
      </ul>
      
      <div class="bg-blue-50 border-l-4 border-blue-500 p-4 mt-4">
        <p class="text-sm"><strong> Student Tip:</strong> The dashboard updates every 30 seconds. Watch how demand changes throughout the day - it's highest during business hours!</p>
      </div>
    `,relatedTopics:["chart.ontario_demand","chart.provincial_generation"]},"chart.ontario_demand":{id:"chart.ontario_demand",title:"Ontario Hourly Demand",shortText:"Real-time electricity demand in Ontario",difficulty:"beginner",bodyHtml:`
      <h3 class="text-lg font-semibold mb-3">Understanding Ontario's Electricity Demand</h3>
      <p class="mb-4"><strong>Demand</strong> means how much electricity people in Ontario are using right now.</p>
      
      <h4 class="font-semibold mt-4 mb-2">What the Chart Shows:</h4>
      <ul class="list-disc pl-5 space-y-2 mb-4">
        <li><strong>Y-Axis (Vertical)</strong> - Amount of power in <strong>Megawatts (MW)</strong>
          <br/><span class="text-sm text-slate-600">1 MW can power about 400-900 homes</span>
        </li>
        <li><strong>X-Axis (Horizontal)</strong> - Time of day</li>
        <li><strong>Line</strong> - Shows how demand changes minute by minute</li>
      </ul>
      
      <h4 class="font-semibold mt-4 mb-2">Typical Patterns:</h4>
      <ul class="list-disc pl-5 space-y-1 mb-4">
        <li><strong>Morning Peak (7-9 AM):</strong> People wake up, turn on lights, make breakfast</li>
        <li><strong>Afternoon Peak (4-7 PM):</strong> Everyone returns home, cooks dinner</li>
        <li><strong>Overnight Low (2-5 AM):</strong> Most people sleeping, minimal usage</li>
      </ul>
      
      <div class="bg-green-50 border-l-4 border-green-500 p-4 mt-4">
        <p class="text-sm"><strong> Climate Connection:</strong> On hot summer days, demand spikes because of air conditioning. On cold winter mornings, it spikes because of heating!</p>
      </div>
    `,relatedTopics:["dashboard.overview","chart.weather_correlation"]},"chart.provincial_generation":{id:"chart.provincial_generation",title:"Provincial Generation Mix",shortText:"How provinces generate their electricity",difficulty:"beginner",bodyHtml:`
      <h3 class="text-lg font-semibold mb-3">Where Does Our Electricity Come From?</h3>
      <p class="mb-4">This chart shows the <strong>energy sources</strong> used to generate electricity across Canadian provinces over the past 30 days.</p>
      
      <h4 class="font-semibold mt-4 mb-2">Energy Sources Explained:</h4>
      <ul class="list-disc pl-5 space-y-2 mb-4">
        <li><strong> Nuclear</strong> - Uses uranium atoms to create heat  steam  electricity
          <br/><span class="text-sm text-slate-600">Clean (no emissions), reliable, generates large amounts</span>
        </li>
        <li><strong> Hydro (Water)</strong> - Uses falling water to spin turbines
          <br/><span class="text-sm text-slate-600">Renewable, clean, works best in provinces with rivers/dams</span>
        </li>
        <li><strong> Natural Gas</strong> - Burns gas to create electricity
          <br/><span class="text-sm text-slate-600">Flexible, can ramp up/down quickly, produces some emissions</span>
        </li>
        <li><strong> Wind</strong> - Wind spins turbine blades
          <br/><span class="text-sm text-slate-600">Renewable, clean, but only works when windy</span>
        </li>
        <li><strong> Solar</strong> - Sunlight converted directly to electricity
          <br/><span class="text-sm text-slate-600">Renewable, clean, but only works during daytime</span>
        </li>
      </ul>
      
      <div class="bg-blue-50 border-l-4 border-blue-500 p-4 mt-4">
        <p class="text-sm"><strong> Reading the Chart:</strong> Longer bars = more energy generated from that source. Ontario uses mostly nuclear and hydro. Quebec uses almost all hydro!</p>
      </div>
    `,relatedTopics:["dashboard.overview","page.trends"]},"chart.alberta_supply_demand":{id:"chart.alberta_supply_demand",title:"Alberta Supply & Demand",shortText:"Real-time balance between electricity supply and demand in Alberta",difficulty:"intermediate",bodyHtml:`
      <h3 class="text-lg font-semibold mb-3">The Electricity Balancing Act</h3>
      <p class="mb-4">Electricity grids must <strong>always balance supply and demand</strong>. Too much or too little can cause blackouts!</p>
      
      <h4 class="font-semibold mt-4 mb-2">What You're Seeing:</h4>
      <ul class="list-disc pl-5 space-y-2 mb-4">
        <li><strong>Purple Line (Supply)</strong> - How much electricity power plants are generating</li>
        <li><strong>Blue Line (Demand)</strong> - How much electricity people are using</li>
        <li><strong>Price</strong> - Cost per megawatt-hour (goes up when demand is high)</li>
      </ul>
      
      <h4 class="font-semibold mt-4 mb-2">Why Supply > Demand:</h4>
      <p class="mb-4">Supply should always be <em>slightly higher</em> than demand to:</p>
      <ul class="list-disc pl-5 space-y-1 mb-4">
        <li>Maintain stable voltage (like water pressure in pipes)</li>
        <li>Have reserves ready for sudden spikes</li>
        <li>Prevent blackouts</li>
      </ul>
      
      <h4 class="font-semibold mt-4 mb-2">Price Dynamics:</h4>
      <p class="mb-3">Electricity price changes based on:</p>
      <ul class="list-disc pl-5 space-y-1 mb-4">
        <li><strong>High Demand + Limited Supply</strong> = Higher Prices </li>
        <li><strong>Low Demand + Plenty of Supply</strong> = Lower Prices </li>
        <li><strong>Time of Day</strong> - Peak hours cost more</li>
      </ul>
      
      <div class="bg-amber-50 border-l-4 border-amber-500 p-4 mt-4">
        <p class="text-sm"><strong> Fun Fact:</strong> Alberta has a "deregulated" electricity market, meaning prices change minute-by-minute based on supply and demand - like a stock market for electricity!</p>
      </div>
    `,relatedTopics:["chart.ontario_demand","page.investment"]},"chart.weather_correlation":{id:"chart.weather_correlation",title:"Weather & Energy Correlation",shortText:"How temperature affects electricity demand",difficulty:"intermediate",bodyHtml:`
      <h3 class="text-lg font-semibold mb-3">Temperature's Impact on Energy Use</h3>
      <p class="mb-4">Temperature and electricity demand are <strong>closely related</strong>. This chart shows how much!</p>
      
      <h4 class="font-semibold mt-4 mb-2">Understanding Correlation:</h4>
      <ul class="list-disc pl-5 space-y-2 mb-4">
        <li><strong>1.0 = Perfect Correlation</strong> - Temperature and demand move together exactly</li>
        <li><strong>0.7-0.9 = Strong Correlation</strong> - Temperature is a major factor</li>
        <li><strong>0.4-0.6 = Moderate Correlation</strong> - Temperature matters, but other factors too</li>
        <li><strong>< 0.3 = Weak Correlation</strong> - Temperature doesn't affect demand much</li>
      </ul>
      
      <h4 class="font-semibold mt-4 mb-2">Why Temperature Matters:</h4>
      <p class="mb-3"><strong>Hot Days:</strong></p>
      <ul class="list-disc pl-5 space-y-1 mb-3">
        <li>Air conditioners work harder  More electricity used</li>
        <li>Peak demand in summer afternoons (2-5 PM)</li>
        <li>Can strain the grid during heatwaves</li>
      </ul>
      
      <p class="mb-3"><strong>Cold Days:</strong></p>
      <ul class="list-disc pl-5 space-y-1 mb-4">
        <li>Electric heaters run more  Higher demand</li>
        <li>Peak demand in winter mornings (6-9 AM)</li>
        <li>Some homes use gas heat (lowers electricity correlation)</li>
      </ul>
      
      <div class="bg-purple-50 border-l-4 border-purple-500 p-4 mt-4">
        <p class="text-sm"><strong> City Differences:</strong> Calgary shows higher correlation because more buildings use electric heating. Vancouver shows lower correlation due to milder climate and less AC usage!</p>
      </div>
    `,relatedTopics:["chart.ontario_demand","dashboard.overview"]},"page.indigenous":{id:"page.indigenous",title:"Indigenous Energy Partnerships",shortText:"Tracking consultation and collaboration with Indigenous communities",difficulty:"intermediate",bodyHtml:`
      <h3 class="text-lg font-semibold mb-3">Indigenous Rights & Energy Projects</h3>
      <p class="mb-4">Canada has a <strong>legal duty to consult</strong> with Indigenous communities on energy projects that may affect their lands, rights, or interests.</p>
      
      <h4 class="font-semibold mt-4 mb-2">Why Indigenous Consultation Matters:</h4>
      <ul class="list-disc pl-5 space-y-2 mb-4">
        <li><strong>Treaties & Rights</strong> - Many energy projects occur on traditional territories</li>
        <li><strong>Environmental Protection</strong> - Indigenous knowledge helps protect ecosystems</li>
        <li><strong>Economic Participation</strong> - Fair benefit-sharing from energy development</li>
        <li><strong>Reconciliation</strong> - Honoring UNDRIP (United Nations Declaration on the Rights of Indigenous Peoples)</li>
      </ul>
      
      <h4 class="font-semibold mt-4 mb-2">What This Dashboard Tracks:</h4>
      <ul class="list-disc pl-5 space-y-1 mb-4">
        <li>Active consultation processes</li>
        <li>Completed agreements</li>
        <li>Indigenous-led energy projects</li>
        <li>Territorial mapping</li>
      </ul>
      
      <div class="bg-indigo-50 border-l-4 border-indigo-500 p-4 mt-4">
        <p class="text-sm"><strong> Learning More:</strong> The Truth and Reconciliation Commission's Calls to Action (#92) emphasizes the importance of Indigenous participation in energy decision-making.</p>
      </div>
    `,relatedTopics:["metric.indigenous.completed_consultations","chart.indigenous.consultation_status"]},"metric.indigenous.completed_consultations":{id:"metric.indigenous.completed_consultations",title:"Completed Consultations",shortText:"Number of consultation processes completed with Indigenous communities",difficulty:"beginner",bodyHtml:`
      <h3 class="text-lg font-semibold mb-3">What Are Energy Consultations?</h3>
      <p class="mb-4">A <strong>consultation</strong> is a formal process where energy companies and governments discuss project plans with Indigenous communities.</p>
      
      <h4 class="font-semibold mt-4 mb-2">The Consultation Process:</h4>
      <ol class="list-decimal pl-5 space-y-2 mb-4">
        <li><strong>Notification</strong> - Community is informed of proposed project</li>
        <li><strong>Information Sharing</strong> - Technical details, environmental impacts</li>
        <li><strong>Dialogue</strong> - Concerns, questions, Traditional Knowledge shared</li>
        <li><strong>Accommodation</strong> - Project adjusted based on feedback</li>
        <li><strong>Agreement or Decision</strong> - Final outcome documented</li>
      </ol>
      
      <h4 class="font-semibold mt-4 mb-2">Why Track This Number?</h4>
      <ul class="list-disc pl-5 space-y-1 mb-4">
        <li>Shows progress on reconciliation commitments</li>
        <li>Indicates government/industry engagement levels</li>
        <li>Helps communities plan capacity for future consultations</li>
      </ul>
      
      <div class="bg-green-50 border-l-4 border-green-500 p-4 mt-4">
        <p class="text-sm"><strong> Good Consultation:</strong> Takes time, involves community elders, respects traditional territories, and results in free, prior, and informed consent (FPIC).</p>
      </div>
    `,relatedTopics:["page.indigenous","metric.indigenous.completion_rate"]},"metric.indigenous.completion_rate":{id:"metric.indigenous.completion_rate",title:"Consultation Completion Rate",shortText:"Percentage of consultations successfully completed",difficulty:"intermediate",bodyHtml:`
      <h3 class="text-lg font-semibold mb-3">Measuring Consultation Success</h3>
      <p class="mb-4">The <strong>completion rate</strong> shows what percentage of started consultations reach a final agreement or decision.</p>
      
      <h4 class="font-semibold mt-4 mb-2">How It's Calculated:</h4>
      <div class="bg-slate-100 p-3 rounded mb-4 font-mono text-sm">
        Completion Rate = (Completed Consultations / Total Started)  100%
      </div>
      
      <h4 class="font-semibold mt-4 mb-2">What Different Rates Mean:</h4>
      <ul class="list-disc pl-5 space-y-2 mb-4">
        <li><strong>90-100%</strong> - Excellent track record, strong relationships</li>
        <li><strong>70-89%</strong> - Good progress, some challenges</li>
        <li><strong>50-69%</strong> - Moderate success, room for improvement</li>
        <li><strong>< 50%</strong> - Significant issues, need better processes</li>
      </ul>
      
      <h4 class="font-semibold mt-4 mb-2">Why Some Don't Complete:</h4>
      <ul class="list-disc pl-5 space-y-1 mb-4">
        <li>Project cancelled or postponed</li>
        <li>Unresolved concerns from community</li>
        <li>Insufficient time or resources allocated</li>
        <li>Breakdown in trust or communication</li>
      </ul>
      
      <div class="bg-amber-50 border-l-4 border-amber-500 p-4 mt-4">
        <p class="text-sm"><strong> Legal Context:</strong> Under Canadian law, the Crown has a duty to consult when actions might infringe on Aboriginal or treaty rights. Incomplete consultations can lead to legal challenges!</p>
      </div>
    `,relatedTopics:["metric.indigenous.completed_consultations","page.indigenous"]},"chart.indigenous.consultation_status":{id:"chart.indigenous.consultation_status",title:"Consultation Status Breakdown",shortText:"Current stage of all consultation processes",difficulty:"beginner",bodyHtml:`
      <h3 class="text-lg font-semibold mb-3">Tracking Consultation Progress</h3>
      <p class="mb-4">This chart shows where each consultation currently stands in the process.</p>
      
      <h4 class="font-semibold mt-4 mb-2">Status Categories:</h4>
      <ul class="list-disc pl-5 space-y-2 mb-4">
        <li><strong> Completed</strong> - Agreement reached or final decision made</li>
        <li><strong> In Progress</strong> - Active discussions happening</li>
        <li><strong> On Hold</strong> - Paused (waiting for info, funding, or other factors)</li>
        <li><strong> Delayed</strong> - Behind schedule, may have issues</li>
        <li><strong> Planned</strong> - Scheduled to start soon</li>
      </ul>
      
      <h4 class="font-semibold mt-4 mb-2">What "In Progress" Means:</h4>
      <p class="mb-4">Active consultations might involve:</p>
      <ul class="list-disc pl-5 space-y-1 mb-4">
        <li>Community meetings and presentations</li>
        <li>Environmental impact assessments</li>
        <li>Negotiating benefit-sharing agreements</li>
        <li>Incorporating Traditional Ecological Knowledge</li>
      </ul>
      
      <div class="bg-blue-50 border-l-4 border-blue-500 p-4 mt-4">
        <p class="text-sm"><strong> Timeframes:</strong> Good consultations take 6-18 months. Rushing leads to poor outcomes. Quality matters more than speed!</p>
      </div>
    `,relatedTopics:["page.indigenous","metric.indigenous.completion_rate"]},"page.investment":{id:"page.investment",title:"Energy Investment Analysis",shortText:"Financial analysis tools for energy projects",difficulty:"advanced",bodyHtml:`
      <h3 class="text-lg font-semibold mb-3">Understanding Energy Project Finance</h3>
      <p class="mb-4">Energy projects require <strong>massive upfront investment</strong> but generate revenue over decades. This tool helps evaluate if they're worth it!</p>
      
      <h4 class="font-semibold mt-4 mb-2">Key Financial Metrics:</h4>
      <ul class="list-disc pl-5 space-y-2 mb-4">
        <li><strong>NPV (Net Present Value)</strong> - Total profit over project lifetime, adjusted for time value of money</li>
        <li><strong>IRR (Internal Rate of Return)</strong> - Annual return percentage, like interest rate</li>
        <li><strong>Payback Period</strong> - How long until initial investment is recovered</li>
        <li><strong>LCOE (Levelized Cost of Energy)</strong> - Average cost per kWh over project life</li>
      </ul>
      
      <h4 class="font-semibold mt-4 mb-2">Why Different Energy Sources Cost Different:</h4>
      <div class="space-y-3 mb-4">
        <div>
          <strong> Solar:</strong> High upfront cost, $0 fuel cost, 25-30 year lifespan
        </div>
        <div>
          <strong> Wind:</strong> Medium upfront, $0 fuel, 20-25 years
        </div>
        <div>
          <strong> Nuclear:</strong> Very high upfront, low fuel cost, 60+ years
        </div>
        <div>
          <strong> Natural Gas:</strong> Low upfront, high ongoing fuel cost, 30-40 years
        </div>
      </div>
      
      <div class="bg-green-50 border-l-4 border-green-500 p-4 mt-4">
        <p class="text-sm"><strong> Decision Making:</strong> Projects with NPV > $0 and IRR > 8-12% are typically considered good investments. But also consider: grid reliability, emissions, job creation, and energy security!</p>
      </div>
    `,relatedTopics:["metric.investment.npv","metric.investment.irr"]},"page.resilience":{id:"page.resilience",title:"Energy Resilience Analysis",shortText:"Assessing energy system ability to withstand disruptions",difficulty:"intermediate",bodyHtml:`
      <h3 class="text-lg font-semibold mb-3">What is Energy Resilience?</h3>
      <p class="mb-4"><strong>Resilience</strong> = The ability to prepare for, withstand, and recover from disruptions to energy systems.</p>
      
      <h4 class="font-semibold mt-4 mb-2">Types of Threats:</h4>
      <ul class="list-disc pl-5 space-y-2 mb-4">
        <li><strong> Natural Disasters</strong> - Hurricanes, ice storms, floods, wildfires</li>
        <li><strong> Climate Change</strong> - Heatwaves, droughts, extreme weather</li>
        <li><strong> Cyber Attacks</strong> - Hacking power grid controls</li>
        <li><strong> Equipment Failures</strong> - Transformer failures, line breaks</li>
        <li><strong> Fuel Supply Issues</strong> - Pipeline disruptions, gas shortages</li>
      </ul>
      
      <h4 class="font-semibold mt-4 mb-2">How We Build Resilience:</h4>
      <ul class="list-disc pl-5 space-y-1 mb-4">
        <li><strong>Redundancy</strong> - Multiple power sources and transmission paths</li>
        <li><strong>Diversification</strong> - Mix of energy types (not all eggs in one basket)</li>
        <li><strong>Smart Grids</strong> - Automated systems that reroute power during failures</li>
        <li><strong>Energy Storage</strong> - Batteries to bridge supply gaps</li>
        <li><strong>Microgrids</strong> - Local grids that can operate independently</li>
      </ul>
      
      <div class="bg-red-50 border-l-4 border-red-500 p-4 mt-4">
        <p class="text-sm"><strong> Real Example:</strong> The 2021 Texas blackouts showed what happens when systems aren't resilient. Extreme cold + natural gas shortages = millions without power for days. Canada's more diverse energy mix helps prevent this!</p>
      </div>
    `,relatedTopics:["page.security","chart.provincial_generation"]}};function h3(t){if(gj[t])return gj[t];const e=t.split(".").map(r=>r.charAt(0).toUpperCase()+r.slice(1).replace(/_/g," ")).join(" - ");return{id:t,title:e,shortText:`Learn about ${e}`,difficulty:"beginner",bodyHtml:`
      <h3 class="text-lg font-semibold mb-3">${e}</h3>
      <p class="mb-4">Detailed help content for this feature is being developed.</p>
      <p class="mb-4">This feature is fully functional and ready to use.</p>
      
      <div class="bg-blue-50 border-l-4 border-blue-500 p-4 mt-4">
        <p class="text-sm"><strong> Need Help?</strong> If you have questions about this feature, please contact your instructor or check the platform documentation.</p>
      </div>
    `}}function p3({id:t,open:e,onClose:r,content:n,loading:a=!1}){const o=I.useRef(null),c=I.useRef(null);return I.useEffect(()=>{function u(d){d.key==="Escape"&&r()}return e&&(document.addEventListener("keydown",u),setTimeout(()=>c.current?.focus(),50)),()=>document.removeEventListener("keydown",u)},[e,r]),I.useEffect(()=>{if(!e)return;const u=o.current?.querySelectorAll('a[href], button:not([disabled]), textarea, input, select, [tabindex]:not([tabindex="-1"])');if(!u||u.length===0)return;const d=u[0],m=u[u.length-1];function p(h){h.key==="Tab"&&(h.shiftKey&&document.activeElement===d?(h.preventDefault(),m.focus()):!h.shiftKey&&document.activeElement===m&&(h.preventDefault(),d.focus()))}return document.addEventListener("keydown",p),()=>document.removeEventListener("keydown",p)},[e]),e?s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx("div",{className:"absolute inset-0 bg-black/70",onClick:r,"aria-hidden":"true"}),s.jsxs("div",{ref:o,role:"dialog","aria-modal":"true","aria-labelledby":"help-modal-title","aria-describedby":"help-modal-content",className:"relative bg-slate-800 rounded-xl border border-slate-700 shadow-2xl max-w-2xl w-full max-h-[80vh] overflow-auto focus:outline-none",tabIndex:-1,children:[s.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-slate-700",children:[s.jsx("h2",{id:"help-modal-title",className:"text-xl font-semibold text-slate-200",children:"Help"}),s.jsx("button",{ref:c,onClick:r,"aria-label":"Close help",className:"flex items-center justify-center w-8 h-8 rounded-md hover:bg-slate-700 transition-colors",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-4 h-4 text-slate-300",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsxs("div",{className:"px-6 py-4",children:[n?.short_text&&s.jsx("div",{className:"mb-4 text-slate-300 text-sm leading-relaxed",children:n.short_text}),s.jsx("div",{id:"help-modal-content",className:"prose prose-slate prose-invert max-w-none",children:a?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsxs("div",{className:"flex items-center space-x-2 text-slate-400",children:[s.jsx("div",{className:"w-4 h-4 border-2 border-cyan-400 border-t-transparent rounded-full animate-spin"}),s.jsx("span",{children:"Loading help content..."})]})}):n?.body_html?s.jsx("div",{className:"text-slate-200 space-y-4",children:s.jsx("pre",{className:"whitespace-pre-wrap",children:n.body_html.replace(/<[^>]*>/g,"")})}):s.jsx("div",{className:"text-slate-400 text-center py-8",children:"Help content not available."})}),n?.related_sources&&n.related_sources.length>0&&s.jsxs("div",{className:"mt-6 pt-4 border-t border-slate-700",children:[s.jsx("h3",{className:"text-sm font-medium text-slate-200 mb-2",children:"More Information:"}),s.jsx("ul",{className:"space-y-1",children:n.related_sources.map((u,d)=>s.jsx("li",{children:s.jsx("a",{href:u.url,target:"_blank",rel:"noopener noreferrer",className:"text-cyan-400 hover:text-cyan-300 transition-colors underline",children:u.name})},d))})]})]}),s.jsx("div",{className:"flex justify-end items-center space-x-3 px-6 py-4 border-t border-slate-700",children:s.jsx("button",{onClick:r,className:"px-4 py-2 bg-slate-700 text-slate-300 rounded-lg hover:bg-slate-600 transition-colors text-sm font-medium",children:"Close"})})]})]}):null}const zA=I.createContext(null);function g3(){const t=I.useContext(zA);if(!t)throw new Error("useHelp must be used within a HelpProvider");return t}function y3({children:t}){const[e,r]=I.useState([]),[n,a]=I.useState(!0),[o,c]=I.useState(null),u=async()=>{try{a(!0),c(null);const m=await f3();r(m)}catch(m){console.error("Failed to load help manifest:",m),c(m instanceof Error?m.message:"Failed to load help content"),r([])}finally{a(!1)}};I.useEffect(()=>{u()},[]);const d=async()=>{await u()};return s.jsx(zA.Provider,{value:{manifest:e,loading:n,error:o,refreshManifest:d},children:t})}function v3(t){const{manifest:e}=g3();return e.find(n=>n.id===t)?.short_text||"Help"}function ht({id:t,className:e=""}){const[r,n]=I.useState(!1),[a,o]=I.useState(null),[c,u]=I.useState(!1),d=v3(t),m=async()=>{if(n(!0),!a||a.id!==t){u(!0);try{const h=h3(t);o({id:h.id,short_text:h.shortText,body_html:h.bodyHtml,related_sources:h.relatedTopics?.map(y=>({name:y,url:`#help-${y}`}))}),m3(t).then(y=>{y&&o(y)}).catch(()=>{})}catch(h){console.error("Failed to load help content:",h),o({id:t,short_text:d,body_html:"<p>Unable to load help content. Please try again or contact support.</p>"})}finally{u(!1)}}},p=h=>{console.debug(`Help ${h} for ${t}`,{timestamp:Date.now(),action:h,id:t})};return s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:()=>{p("button_click"),m()},onMouseEnter:()=>p("tooltip_hover"),"aria-label":`Help: ${d}`,title:d,className:`
          inline-flex items-center justify-center
          w-8 h-8 rounded-md
          bg-slate-700 hover:bg-slate-600
          border border-slate-600 hover:border-cyan-500
          transition-all duration-200
          text-cyan-400 hover:text-cyan-300
          focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:ring-offset-2 focus:ring-offset-slate-900
          ${e}
        `,children:s.jsx(os,{className:"w-4 h-4"})}),r&&s.jsx(p3,{id:t,open:r,onClose:()=>n(!1),content:a,loading:c})]})}function qA(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(r=qA(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Ie(){for(var t,e,r=0,n="",a=arguments.length;r<a;r++)(t=arguments[r])&&(e=qA(t))&&(n&&(n+=" "),n+=e);return n}var wh,yj;function gr(){if(yj)return wh;yj=1;var t=Array.isArray;return wh=t,wh}var jh,vj;function UA(){if(vj)return jh;vj=1;var t=typeof fu=="object"&&fu&&fu.Object===Object&&fu;return jh=t,jh}var Sh,xj;function Sn(){if(xj)return Sh;xj=1;var t=UA(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return Sh=r,Sh}var _h,bj;function Yl(){if(bj)return _h;bj=1;var t=Sn(),e=t.Symbol;return _h=e,_h}var Nh,wj;function x3(){if(wj)return Nh;wj=1;var t=Yl(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,a=t?t.toStringTag:void 0;function o(c){var u=r.call(c,a),d=c[a];try{c[a]=void 0;var m=!0}catch{}var p=n.call(c);return m&&(u?c[a]=d:delete c[a]),p}return Nh=o,Nh}var kh,jj;function b3(){if(jj)return kh;jj=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return kh=r,kh}var Oh,Sj;function Gn(){if(Sj)return Oh;Sj=1;var t=Yl(),e=x3(),r=b3(),n="[object Null]",a="[object Undefined]",o=t?t.toStringTag:void 0;function c(u){return u==null?u===void 0?a:n:o&&o in Object(u)?e(u):r(u)}return Oh=c,Oh}var Ah,_j;function Vn(){if(_j)return Ah;_j=1;function t(e){return e!=null&&typeof e=="object"}return Ah=t,Ah}var Ph,Nj;function Ws(){if(Nj)return Ph;Nj=1;var t=Gn(),e=Vn(),r="[object Symbol]";function n(a){return typeof a=="symbol"||e(a)&&t(a)==r}return Ph=n,Ph}var Eh,kj;function lx(){if(kj)return Eh;kj=1;var t=gr(),e=Ws(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(o,c){if(t(o))return!1;var u=typeof o;return u=="number"||u=="symbol"||u=="boolean"||o==null||e(o)?!0:n.test(o)||!r.test(o)||c!=null&&o in Object(c)}return Eh=a,Eh}var Th,Oj;function Pa(){if(Oj)return Th;Oj=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return Th=t,Th}var Ch,Aj;function cx(){if(Aj)return Ch;Aj=1;var t=Gn(),e=Pa(),r="[object AsyncFunction]",n="[object Function]",a="[object GeneratorFunction]",o="[object Proxy]";function c(u){if(!e(u))return!1;var d=t(u);return d==n||d==a||d==r||d==o}return Ch=c,Ch}var Ih,Pj;function w3(){if(Pj)return Ih;Pj=1;var t=Sn(),e=t["__core-js_shared__"];return Ih=e,Ih}var Mh,Ej;function j3(){if(Ej)return Mh;Ej=1;var t=w3(),e=(function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!e&&e in n}return Mh=r,Mh}var Rh,Tj;function WA(){if(Tj)return Rh;Tj=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return Rh=r,Rh}var Dh,Cj;function S3(){if(Cj)return Dh;Cj=1;var t=cx(),e=j3(),r=Pa(),n=WA(),a=/[\\^$.*+?()[\]{}|]/g,o=/^\[object .+?Constructor\]$/,c=Function.prototype,u=Object.prototype,d=c.toString,m=u.hasOwnProperty,p=RegExp("^"+d.call(m).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function h(y){if(!r(y)||e(y))return!1;var v=t(y)?p:o;return v.test(n(y))}return Dh=h,Dh}var $h,Ij;function _3(){if(Ij)return $h;Ij=1;function t(e,r){return e?.[r]}return $h=t,$h}var Lh,Mj;function gi(){if(Mj)return Lh;Mj=1;var t=S3(),e=_3();function r(n,a){var o=e(n,a);return t(o)?o:void 0}return Lh=r,Lh}var Fh,Rj;function Ld(){if(Rj)return Fh;Rj=1;var t=gi(),e=t(Object,"create");return Fh=e,Fh}var Bh,Dj;function N3(){if(Dj)return Bh;Dj=1;var t=Ld();function e(){this.__data__=t?t(null):{},this.size=0}return Bh=e,Bh}var zh,$j;function k3(){if($j)return zh;$j=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return zh=t,zh}var qh,Lj;function O3(){if(Lj)return qh;Lj=1;var t=Ld(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function a(o){var c=this.__data__;if(t){var u=c[o];return u===e?void 0:u}return n.call(c,o)?c[o]:void 0}return qh=a,qh}var Uh,Fj;function A3(){if(Fj)return Uh;Fj=1;var t=Ld(),e=Object.prototype,r=e.hasOwnProperty;function n(a){var o=this.__data__;return t?o[a]!==void 0:r.call(o,a)}return Uh=n,Uh}var Wh,Bj;function P3(){if(Bj)return Wh;Bj=1;var t=Ld(),e="__lodash_hash_undefined__";function r(n,a){var o=this.__data__;return this.size+=this.has(n)?0:1,o[n]=t&&a===void 0?e:a,this}return Wh=r,Wh}var Hh,zj;function E3(){if(zj)return Hh;zj=1;var t=N3(),e=k3(),r=O3(),n=A3(),a=P3();function o(c){var u=-1,d=c==null?0:c.length;for(this.clear();++u<d;){var m=c[u];this.set(m[0],m[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=r,o.prototype.has=n,o.prototype.set=a,Hh=o,Hh}var Gh,qj;function T3(){if(qj)return Gh;qj=1;function t(){this.__data__=[],this.size=0}return Gh=t,Gh}var Vh,Uj;function ux(){if(Uj)return Vh;Uj=1;function t(e,r){return e===r||e!==e&&r!==r}return Vh=t,Vh}var Kh,Wj;function Fd(){if(Wj)return Kh;Wj=1;var t=ux();function e(r,n){for(var a=r.length;a--;)if(t(r[a][0],n))return a;return-1}return Kh=e,Kh}var Yh,Hj;function C3(){if(Hj)return Yh;Hj=1;var t=Fd(),e=Array.prototype,r=e.splice;function n(a){var o=this.__data__,c=t(o,a);if(c<0)return!1;var u=o.length-1;return c==u?o.pop():r.call(o,c,1),--this.size,!0}return Yh=n,Yh}var Xh,Gj;function I3(){if(Gj)return Xh;Gj=1;var t=Fd();function e(r){var n=this.__data__,a=t(n,r);return a<0?void 0:n[a][1]}return Xh=e,Xh}var Qh,Vj;function M3(){if(Vj)return Qh;Vj=1;var t=Fd();function e(r){return t(this.__data__,r)>-1}return Qh=e,Qh}var Zh,Kj;function R3(){if(Kj)return Zh;Kj=1;var t=Fd();function e(r,n){var a=this.__data__,o=t(a,r);return o<0?(++this.size,a.push([r,n])):a[o][1]=n,this}return Zh=e,Zh}var Jh,Yj;function Bd(){if(Yj)return Jh;Yj=1;var t=T3(),e=C3(),r=I3(),n=M3(),a=R3();function o(c){var u=-1,d=c==null?0:c.length;for(this.clear();++u<d;){var m=c[u];this.set(m[0],m[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=r,o.prototype.has=n,o.prototype.set=a,Jh=o,Jh}var ep,Xj;function dx(){if(Xj)return ep;Xj=1;var t=gi(),e=Sn(),r=t(e,"Map");return ep=r,ep}var tp,Qj;function D3(){if(Qj)return tp;Qj=1;var t=E3(),e=Bd(),r=dx();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return tp=n,tp}var rp,Zj;function $3(){if(Zj)return rp;Zj=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return rp=t,rp}var np,Jj;function zd(){if(Jj)return np;Jj=1;var t=$3();function e(r,n){var a=r.__data__;return t(n)?a[typeof n=="string"?"string":"hash"]:a.map}return np=e,np}var ap,eS;function L3(){if(eS)return ap;eS=1;var t=zd();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return ap=e,ap}var ip,tS;function F3(){if(tS)return ip;tS=1;var t=zd();function e(r){return t(this,r).get(r)}return ip=e,ip}var sp,rS;function B3(){if(rS)return sp;rS=1;var t=zd();function e(r){return t(this,r).has(r)}return sp=e,sp}var op,nS;function z3(){if(nS)return op;nS=1;var t=zd();function e(r,n){var a=t(this,r),o=a.size;return a.set(r,n),this.size+=a.size==o?0:1,this}return op=e,op}var lp,aS;function fx(){if(aS)return lp;aS=1;var t=D3(),e=L3(),r=F3(),n=B3(),a=z3();function o(c){var u=-1,d=c==null?0:c.length;for(this.clear();++u<d;){var m=c[u];this.set(m[0],m[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=r,o.prototype.has=n,o.prototype.set=a,lp=o,lp}var cp,iS;function HA(){if(iS)return cp;iS=1;var t=fx(),e="Expected a function";function r(n,a){if(typeof n!="function"||a!=null&&typeof a!="function")throw new TypeError(e);var o=function(){var c=arguments,u=a?a.apply(this,c):c[0],d=o.cache;if(d.has(u))return d.get(u);var m=n.apply(this,c);return o.cache=d.set(u,m)||d,m};return o.cache=new(r.Cache||t),o}return r.Cache=t,cp=r,cp}var up,sS;function q3(){if(sS)return up;sS=1;var t=HA(),e=500;function r(n){var a=t(n,function(c){return o.size===e&&o.clear(),c}),o=a.cache;return a}return up=r,up}var dp,oS;function U3(){if(oS)return dp;oS=1;var t=q3(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(a){var o=[];return a.charCodeAt(0)===46&&o.push(""),a.replace(e,function(c,u,d,m){o.push(d?m.replace(r,"$1"):u||c)}),o});return dp=n,dp}var fp,lS;function mx(){if(lS)return fp;lS=1;function t(e,r){for(var n=-1,a=e==null?0:e.length,o=Array(a);++n<a;)o[n]=r(e[n],n,e);return o}return fp=t,fp}var mp,cS;function W3(){if(cS)return mp;cS=1;var t=Yl(),e=mx(),r=gr(),n=Ws(),a=t?t.prototype:void 0,o=a?a.toString:void 0;function c(u){if(typeof u=="string")return u;if(r(u))return e(u,c)+"";if(n(u))return o?o.call(u):"";var d=u+"";return d=="0"&&1/u==-1/0?"-0":d}return mp=c,mp}var hp,uS;function GA(){if(uS)return hp;uS=1;var t=W3();function e(r){return r==null?"":t(r)}return hp=e,hp}var pp,dS;function VA(){if(dS)return pp;dS=1;var t=gr(),e=lx(),r=U3(),n=GA();function a(o,c){return t(o)?o:e(o,c)?[o]:r(n(o))}return pp=a,pp}var gp,fS;function qd(){if(fS)return gp;fS=1;var t=Ws();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return gp=e,gp}var yp,mS;function hx(){if(mS)return yp;mS=1;var t=VA(),e=qd();function r(n,a){a=t(a,n);for(var o=0,c=a.length;n!=null&&o<c;)n=n[e(a[o++])];return o&&o==c?n:void 0}return yp=r,yp}var vp,hS;function KA(){if(hS)return vp;hS=1;var t=hx();function e(r,n,a){var o=r==null?void 0:t(r,n);return o===void 0?a:o}return vp=e,vp}var H3=KA();const kr=We(H3);var xp,pS;function G3(){if(pS)return xp;pS=1;function t(e){return e==null}return xp=t,xp}var V3=G3();const ke=We(V3);var bp,gS;function K3(){if(gS)return bp;gS=1;var t=Gn(),e=gr(),r=Vn(),n="[object String]";function a(o){return typeof o=="string"||!e(o)&&r(o)&&t(o)==n}return bp=a,bp}var Y3=K3();const li=We(Y3);var X3=cx();const Oe=We(X3);var Q3=Pa();const Hs=We(Q3);var wp={exports:{}},qe={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yS;function Z3(){if(yS)return qe;yS=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.for("react.offscreen"),w;w=Symbol.for("react.module.reference");function b(j){if(typeof j=="object"&&j!==null){var O=j.$$typeof;switch(O){case t:switch(j=j.type,j){case r:case a:case n:case m:case p:return j;default:switch(j=j&&j.$$typeof,j){case u:case c:case d:case y:case h:case o:return j;default:return O}}case e:return O}}}return qe.ContextConsumer=c,qe.ContextProvider=o,qe.Element=t,qe.ForwardRef=d,qe.Fragment=r,qe.Lazy=y,qe.Memo=h,qe.Portal=e,qe.Profiler=a,qe.StrictMode=n,qe.Suspense=m,qe.SuspenseList=p,qe.isAsyncMode=function(){return!1},qe.isConcurrentMode=function(){return!1},qe.isContextConsumer=function(j){return b(j)===c},qe.isContextProvider=function(j){return b(j)===o},qe.isElement=function(j){return typeof j=="object"&&j!==null&&j.$$typeof===t},qe.isForwardRef=function(j){return b(j)===d},qe.isFragment=function(j){return b(j)===r},qe.isLazy=function(j){return b(j)===y},qe.isMemo=function(j){return b(j)===h},qe.isPortal=function(j){return b(j)===e},qe.isProfiler=function(j){return b(j)===a},qe.isStrictMode=function(j){return b(j)===n},qe.isSuspense=function(j){return b(j)===m},qe.isSuspenseList=function(j){return b(j)===p},qe.isValidElementType=function(j){return typeof j=="string"||typeof j=="function"||j===r||j===a||j===n||j===m||j===p||j===v||typeof j=="object"&&j!==null&&(j.$$typeof===y||j.$$typeof===h||j.$$typeof===o||j.$$typeof===c||j.$$typeof===d||j.$$typeof===w||j.getModuleId!==void 0)},qe.typeOf=b,qe}var vS;function J3(){return vS||(vS=1,wp.exports=Z3()),wp.exports}var eR=J3(),jp,xS;function YA(){if(xS)return jp;xS=1;var t=Gn(),e=Vn(),r="[object Number]";function n(a){return typeof a=="number"||e(a)&&t(a)==r}return jp=n,jp}var Sp,bS;function tR(){if(bS)return Sp;bS=1;var t=YA();function e(r){return t(r)&&r!=+r}return Sp=e,Sp}var rR=tR();const Gs=We(rR);var nR=YA();const aR=We(nR);var nr=function(e){return e===0?0:e>0?1:-1},Ja=function(e){return li(e)&&e.indexOf("%")===e.length-1},le=function(e){return aR(e)&&!Gs(e)},iR=function(e){return ke(e)},Pt=function(e){return le(e)||li(e)},sR=0,Ea=function(e){var r=++sR;return"".concat(e||"").concat(r)},ar=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!le(e)&&!li(e))return n;var o;if(Ja(e)){var c=e.indexOf("%");o=r*parseFloat(e.slice(0,c))/100}else o=+e;return Gs(o)&&(o=n),a&&o>r&&(o=r),o},ya=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},oR=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},a=0;a<r;a++)if(!n[e[a]])n[e[a]]=!0;else return!0;return!1},ct=function(e,r){return le(e)&&le(r)?function(n){return e+n*(r-e)}:function(){return r}};function Mu(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):kr(n,e))===r})}var lR=function(e){if(!e||!e.length)return null;for(var r=e.length,n=0,a=0,o=0,c=0,u=1/0,d=-1/0,m=0,p=0,h=0;h<r;h++)m=e[h].cx||0,p=e[h].cy||0,n+=m,a+=p,o+=m*p,c+=m*m,u=Math.min(u,m),d=Math.max(d,m);var y=r*c!==n*n?(r*o-n*a)/(r*c-n*n):0;return{xmin:u,xmax:d,a:y,b:(a-y*n)/r}},cR=function(e,r){return le(e)&&le(r)?e-r:li(e)&&li(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function ls(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function T0(t){"@babel/helpers - typeof";return T0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T0(t)}var uR=["viewBox","children"],dR=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],wS=["points","pathLength"],_p={svg:uR,polygon:wS,polyline:wS},px=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Ru=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(I.isValidElement(e)&&(n=e.props),!Hs(n))return null;var a={};return Object.keys(n).forEach(function(o){px.includes(o)&&(a[o]=r||function(c){return n[o](n,c)})}),a},fR=function(e,r,n){return function(a){return e(r,n,a),null}},Na=function(e,r,n){if(!Hs(e)||T0(e)!=="object")return null;var a=null;return Object.keys(e).forEach(function(o){var c=e[o];px.includes(o)&&typeof c=="function"&&(a||(a={}),a[o]=fR(c,r,n))}),a},mR=["children"],hR=["children"];function jS(t,e){if(t==null)return{};var r=pR(t,e),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(a=0;a<o.length;a++)n=o[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function pR(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function C0(t){"@babel/helpers - typeof";return C0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C0(t)}var SS={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Bn=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},_S=null,Np=null,gx=function t(e){if(e===_S&&Array.isArray(Np))return Np;var r=[];return I.Children.forEach(e,function(n){ke(n)||(eR.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),Np=r,_S=e,r};function sr(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(a){return Bn(a)}):n=[Bn(e)],gx(t).forEach(function(a){var o=kr(a,"type.displayName")||kr(a,"type.name");n.indexOf(o)!==-1&&r.push(a)}),r}function Sr(t,e){var r=sr(t,e);return r&&r[0]}var NS=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,a=r.height;return!(!le(n)||n<=0||!le(a)||a<=0)},gR=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],yR=function(e){return e&&e.type&&li(e.type)&&gR.indexOf(e.type)>=0},XA=function(e){return e&&C0(e)==="object"&&"clipDot"in e},vR=function(e,r,n,a){var o,c=(o=_p?.[a])!==null&&o!==void 0?o:[];return r.startsWith("data-")||!Oe(e)&&(a&&c.includes(r)||dR.includes(r))||n&&px.includes(r)},ve=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var a=e;if(I.isValidElement(e)&&(a=e.props),!Hs(a))return null;var o={};return Object.keys(a).forEach(function(c){var u;vR((u=a)===null||u===void 0?void 0:u[c],c,r,n)&&(o[c]=a[c])}),o},I0=function t(e,r){if(e===r)return!0;var n=I.Children.count(e);if(n!==I.Children.count(r))return!1;if(n===0)return!0;if(n===1)return kS(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var o=e[a],c=r[a];if(Array.isArray(o)||Array.isArray(c)){if(!t(o,c))return!1}else if(!kS(o,c))return!1}return!0},kS=function(e,r){if(ke(e)&&ke(r))return!0;if(!ke(e)&&!ke(r)){var n=e.props||{},a=n.children,o=jS(n,mR),c=r.props||{},u=c.children,d=jS(c,hR);return a&&u?ls(o,d)&&I0(a,u):!a&&!u?ls(o,d):!1}return!1},OS=function(e,r){var n=[],a={};return gx(e).forEach(function(o,c){if(yR(o))n.push(o);else if(o){var u=Bn(o.type),d=r[u]||{},m=d.handler,p=d.once;if(m&&(!p||!a[u])){var h=m(o,u,c);n.push(h),a[u]=!0}}}),n},xR=function(e){var r=e&&e.type;return r&&SS[r]?SS[r]:null},bR=function(e,r){return gx(r).indexOf(e)},wR=["children","width","height","viewBox","className","style","title","desc"];function M0(){return M0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},M0.apply(this,arguments)}function jR(t,e){if(t==null)return{};var r=SR(t,e),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(a=0;a<o.length;a++)n=o[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function SR(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function R0(t){var e=t.children,r=t.width,n=t.height,a=t.viewBox,o=t.className,c=t.style,u=t.title,d=t.desc,m=jR(t,wR),p=a||{width:r,height:n,x:0,y:0},h=Ie("recharts-surface",o);return W.createElement("svg",M0({},ve(m,!0,"svg"),{className:h,width:r,height:n,style:c,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height)}),W.createElement("title",null,u),W.createElement("desc",null,d),e)}var _R=["children","className"];function D0(){return D0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},D0.apply(this,arguments)}function NR(t,e){if(t==null)return{};var r=kR(t,e),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(a=0;a<o.length;a++)n=o[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function kR(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Me=W.forwardRef(function(t,e){var r=t.children,n=t.className,a=NR(t,_R),o=Ie("recharts-layer",n);return W.createElement("g",D0({className:o},ve(a,!0),{ref:e}),r)}),an=function(e,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),o=2;o<n;o++)a[o-2]=arguments[o]},kp,AS;function OR(){if(AS)return kp;AS=1;function t(e,r,n){var a=-1,o=e.length;r<0&&(r=-r>o?0:o+r),n=n>o?o:n,n<0&&(n+=o),o=r>n?0:n-r>>>0,r>>>=0;for(var c=Array(o);++a<o;)c[a]=e[a+r];return c}return kp=t,kp}var Op,PS;function AR(){if(PS)return Op;PS=1;var t=OR();function e(r,n,a){var o=r.length;return a=a===void 0?o:a,!n&&a>=o?r:t(r,n,a)}return Op=e,Op}var Ap,ES;function QA(){if(ES)return Ap;ES=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",a=e+r+n,o="\\ufe0e\\ufe0f",c="\\u200d",u=RegExp("["+c+t+a+o+"]");function d(m){return u.test(m)}return Ap=d,Ap}var Pp,TS;function PR(){if(TS)return Pp;TS=1;function t(e){return e.split("")}return Pp=t,Pp}var Ep,CS;function ER(){if(CS)return Ep;CS=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",a=e+r+n,o="\\ufe0e\\ufe0f",c="["+t+"]",u="["+a+"]",d="\\ud83c[\\udffb-\\udfff]",m="(?:"+u+"|"+d+")",p="[^"+t+"]",h="(?:\\ud83c[\\udde6-\\uddff]){2}",y="[\\ud800-\\udbff][\\udc00-\\udfff]",v="\\u200d",w=m+"?",b="["+o+"]?",j="(?:"+v+"(?:"+[p,h,y].join("|")+")"+b+w+")*",O=b+w+j,S="(?:"+[p+u+"?",u,h,y,c].join("|")+")",k=RegExp(d+"(?="+d+")|"+S+O,"g");function A(N){return N.match(k)||[]}return Ep=A,Ep}var Tp,IS;function TR(){if(IS)return Tp;IS=1;var t=PR(),e=QA(),r=ER();function n(a){return e(a)?r(a):t(a)}return Tp=n,Tp}var Cp,MS;function CR(){if(MS)return Cp;MS=1;var t=AR(),e=QA(),r=TR(),n=GA();function a(o){return function(c){c=n(c);var u=e(c)?r(c):void 0,d=u?u[0]:c.charAt(0),m=u?t(u,1).join(""):c.slice(1);return d[o]()+m}}return Cp=a,Cp}var Ip,RS;function IR(){if(RS)return Ip;RS=1;var t=CR(),e=t("toUpperCase");return Ip=e,Ip}var MR=IR();const Ud=We(MR);function Qe(t){return function(){return t}}const ZA=Math.cos,Du=Math.sin,on=Math.sqrt,$u=Math.PI,Wd=2*$u,$0=Math.PI,L0=2*$0,Xa=1e-6,RR=L0-Xa;function JA(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function DR(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return JA;const r=10**e;return function(n){this._+=n[0];for(let a=1,o=n.length;a<o;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class $R{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?JA:DR(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,a){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(e,r,n,a,o,c){this._append`C${+e},${+r},${+n},${+a},${this._x1=+o},${this._y1=+c}`}arcTo(e,r,n,a,o){if(e=+e,r=+r,n=+n,a=+a,o=+o,o<0)throw new Error(`negative radius: ${o}`);let c=this._x1,u=this._y1,d=n-e,m=a-r,p=c-e,h=u-r,y=p*p+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(y>Xa)if(!(Math.abs(h*d-m*p)>Xa)||!o)this._append`L${this._x1=e},${this._y1=r}`;else{let v=n-c,w=a-u,b=d*d+m*m,j=v*v+w*w,O=Math.sqrt(b),S=Math.sqrt(y),k=o*Math.tan(($0-Math.acos((b+y-j)/(2*O*S)))/2),A=k/S,N=k/O;Math.abs(A-1)>Xa&&this._append`L${e+A*p},${r+A*h}`,this._append`A${o},${o},0,0,${+(h*v>p*w)},${this._x1=e+N*d},${this._y1=r+N*m}`}}arc(e,r,n,a,o,c){if(e=+e,r=+r,n=+n,c=!!c,n<0)throw new Error(`negative radius: ${n}`);let u=n*Math.cos(a),d=n*Math.sin(a),m=e+u,p=r+d,h=1^c,y=c?a-o:o-a;this._x1===null?this._append`M${m},${p}`:(Math.abs(this._x1-m)>Xa||Math.abs(this._y1-p)>Xa)&&this._append`L${m},${p}`,n&&(y<0&&(y=y%L0+L0),y>RR?this._append`A${n},${n},0,1,${h},${e-u},${r-d}A${n},${n},0,1,${h},${this._x1=m},${this._y1=p}`:y>Xa&&this._append`A${n},${n},0,${+(y>=$0)},${h},${this._x1=e+n*Math.cos(o)},${this._y1=r+n*Math.sin(o)}`)}rect(e,r,n,a){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function yx(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new $R(e)}function vx(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function eP(t){this._context=t}eP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Hd(t){return new eP(t)}function tP(t){return t[0]}function rP(t){return t[1]}function nP(t,e){var r=Qe(!0),n=null,a=Hd,o=null,c=yx(u);t=typeof t=="function"?t:t===void 0?tP:Qe(t),e=typeof e=="function"?e:e===void 0?rP:Qe(e);function u(d){var m,p=(d=vx(d)).length,h,y=!1,v;for(n==null&&(o=a(v=c())),m=0;m<=p;++m)!(m<p&&r(h=d[m],m,d))===y&&((y=!y)?o.lineStart():o.lineEnd()),y&&o.point(+t(h,m,d),+e(h,m,d));if(v)return o=null,v+""||null}return u.x=function(d){return arguments.length?(t=typeof d=="function"?d:Qe(+d),u):t},u.y=function(d){return arguments.length?(e=typeof d=="function"?d:Qe(+d),u):e},u.defined=function(d){return arguments.length?(r=typeof d=="function"?d:Qe(!!d),u):r},u.curve=function(d){return arguments.length?(a=d,n!=null&&(o=a(n)),u):a},u.context=function(d){return arguments.length?(d==null?n=o=null:o=a(n=d),u):n},u}function gu(t,e,r){var n=null,a=Qe(!0),o=null,c=Hd,u=null,d=yx(m);t=typeof t=="function"?t:t===void 0?tP:Qe(+t),e=typeof e=="function"?e:Qe(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?rP:Qe(+r);function m(h){var y,v,w,b=(h=vx(h)).length,j,O=!1,S,k=new Array(b),A=new Array(b);for(o==null&&(u=c(S=d())),y=0;y<=b;++y){if(!(y<b&&a(j=h[y],y,h))===O)if(O=!O)v=y,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),w=y-1;w>=v;--w)u.point(k[w],A[w]);u.lineEnd(),u.areaEnd()}O&&(k[y]=+t(j,y,h),A[y]=+e(j,y,h),u.point(n?+n(j,y,h):k[y],r?+r(j,y,h):A[y]))}if(S)return u=null,S+""||null}function p(){return nP().defined(a).curve(c).context(o)}return m.x=function(h){return arguments.length?(t=typeof h=="function"?h:Qe(+h),n=null,m):t},m.x0=function(h){return arguments.length?(t=typeof h=="function"?h:Qe(+h),m):t},m.x1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:Qe(+h),m):n},m.y=function(h){return arguments.length?(e=typeof h=="function"?h:Qe(+h),r=null,m):e},m.y0=function(h){return arguments.length?(e=typeof h=="function"?h:Qe(+h),m):e},m.y1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:Qe(+h),m):r},m.lineX0=m.lineY0=function(){return p().x(t).y(e)},m.lineY1=function(){return p().x(t).y(r)},m.lineX1=function(){return p().x(n).y(e)},m.defined=function(h){return arguments.length?(a=typeof h=="function"?h:Qe(!!h),m):a},m.curve=function(h){return arguments.length?(c=h,o!=null&&(u=c(o)),m):c},m.context=function(h){return arguments.length?(h==null?o=u=null:u=c(o=h),m):o},m}class aP{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function LR(t){return new aP(t,!0)}function FR(t){return new aP(t,!1)}const xx={draw(t,e){const r=on(e/$u);t.moveTo(r,0),t.arc(0,0,r,0,Wd)}},BR={draw(t,e){const r=on(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},iP=on(1/3),zR=iP*2,qR={draw(t,e){const r=on(e/zR),n=r*iP;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},UR={draw(t,e){const r=on(e),n=-r/2;t.rect(n,n,r,r)}},WR=.8908130915292852,sP=Du($u/10)/Du(7*$u/10),HR=Du(Wd/10)*sP,GR=-ZA(Wd/10)*sP,VR={draw(t,e){const r=on(e*WR),n=HR*r,a=GR*r;t.moveTo(0,-r),t.lineTo(n,a);for(let o=1;o<5;++o){const c=Wd*o/5,u=ZA(c),d=Du(c);t.lineTo(d*r,-u*r),t.lineTo(u*n-d*a,d*n+u*a)}t.closePath()}},Mp=on(3),KR={draw(t,e){const r=-on(e/(Mp*3));t.moveTo(0,r*2),t.lineTo(-Mp*r,-r),t.lineTo(Mp*r,-r),t.closePath()}},Ir=-.5,Mr=on(3)/2,F0=1/on(12),YR=(F0/2+1)*3,XR={draw(t,e){const r=on(e/YR),n=r/2,a=r*F0,o=n,c=r*F0+r,u=-o,d=c;t.moveTo(n,a),t.lineTo(o,c),t.lineTo(u,d),t.lineTo(Ir*n-Mr*a,Mr*n+Ir*a),t.lineTo(Ir*o-Mr*c,Mr*o+Ir*c),t.lineTo(Ir*u-Mr*d,Mr*u+Ir*d),t.lineTo(Ir*n+Mr*a,Ir*a-Mr*n),t.lineTo(Ir*o+Mr*c,Ir*c-Mr*o),t.lineTo(Ir*u+Mr*d,Ir*d-Mr*u),t.closePath()}};function QR(t,e){let r=null,n=yx(a);t=typeof t=="function"?t:Qe(t||xx),e=typeof e=="function"?e:Qe(e===void 0?64:+e);function a(){let o;if(r||(r=o=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),o)return r=null,o+""||null}return a.type=function(o){return arguments.length?(t=typeof o=="function"?o:Qe(o),a):t},a.size=function(o){return arguments.length?(e=typeof o=="function"?o:Qe(+o),a):e},a.context=function(o){return arguments.length?(r=o??null,a):r},a}function Lu(){}function Fu(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function oP(t){this._context=t}oP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Fu(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Fu(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function ZR(t){return new oP(t)}function lP(t){this._context=t}lP.prototype={areaStart:Lu,areaEnd:Lu,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Fu(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function JR(t){return new lP(t)}function cP(t){this._context=t}cP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Fu(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function eD(t){return new cP(t)}function uP(t){this._context=t}uP.prototype={areaStart:Lu,areaEnd:Lu,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function tD(t){return new uP(t)}function DS(t){return t<0?-1:1}function $S(t,e,r){var n=t._x1-t._x0,a=e-t._x1,o=(t._y1-t._y0)/(n||a<0&&-0),c=(r-t._y1)/(a||n<0&&-0),u=(o*a+c*n)/(n+a);return(DS(o)+DS(c))*Math.min(Math.abs(o),Math.abs(c),.5*Math.abs(u))||0}function LS(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function Rp(t,e,r){var n=t._x0,a=t._y0,o=t._x1,c=t._y1,u=(o-n)/3;t._context.bezierCurveTo(n+u,a+u*e,o-u,c-u*r,o,c)}function Bu(t){this._context=t}Bu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Rp(this,this._t0,LS(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Rp(this,LS(this,r=$S(this,t,e)),r);break;default:Rp(this,this._t0,r=$S(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function dP(t){this._context=new fP(t)}(dP.prototype=Object.create(Bu.prototype)).point=function(t,e){Bu.prototype.point.call(this,e,t)};function fP(t){this._context=t}fP.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,a,o){this._context.bezierCurveTo(e,t,n,r,o,a)}};function rD(t){return new Bu(t)}function nD(t){return new dP(t)}function mP(t){this._context=t}mP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=FS(t),a=FS(e),o=0,c=1;c<r;++o,++c)this._context.bezierCurveTo(n[0][o],a[0][o],n[1][o],a[1][o],t[c],e[c]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function FS(t){var e,r=t.length-1,n,a=new Array(r),o=new Array(r),c=new Array(r);for(a[0]=0,o[0]=2,c[0]=t[0]+2*t[1],e=1;e<r-1;++e)a[e]=1,o[e]=4,c[e]=4*t[e]+2*t[e+1];for(a[r-1]=2,o[r-1]=7,c[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=a[e]/o[e-1],o[e]-=n,c[e]-=n*c[e-1];for(a[r-1]=c[r-1]/o[r-1],e=r-2;e>=0;--e)a[e]=(c[e]-a[e+1])/o[e];for(o[r-1]=(t[r]+a[r-1])/2,e=0;e<r-1;++e)o[e]=2*t[e+1]-a[e+1];return[a,o]}function aD(t){return new mP(t)}function Gd(t,e){this._context=t,this._t=e}Gd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function iD(t){return new Gd(t,.5)}function sD(t){return new Gd(t,0)}function oD(t){return new Gd(t,1)}function ms(t,e){if((c=t.length)>1)for(var r=1,n,a,o=t[e[0]],c,u=o.length;r<c;++r)for(a=o,o=t[e[r]],n=0;n<u;++n)o[n][1]+=o[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function B0(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function lD(t,e){return t[e]}function cD(t){const e=[];return e.key=t,e}function uD(){var t=Qe([]),e=B0,r=ms,n=lD;function a(o){var c=Array.from(t.apply(this,arguments),cD),u,d=c.length,m=-1,p;for(const h of o)for(u=0,++m;u<d;++u)(c[u][m]=[0,+n(h,c[u].key,m,o)]).data=h;for(u=0,p=vx(e(c));u<d;++u)c[p[u]].index=u;return r(c,p),c}return a.keys=function(o){return arguments.length?(t=typeof o=="function"?o:Qe(Array.from(o)),a):t},a.value=function(o){return arguments.length?(n=typeof o=="function"?o:Qe(+o),a):n},a.order=function(o){return arguments.length?(e=o==null?B0:typeof o=="function"?o:Qe(Array.from(o)),a):e},a.offset=function(o){return arguments.length?(r=o??ms,a):r},a}function dD(t,e){if((n=t.length)>0){for(var r,n,a=0,o=t[0].length,c;a<o;++a){for(c=r=0;r<n;++r)c+=t[r][a][1]||0;if(c)for(r=0;r<n;++r)t[r][a][1]/=c}ms(t,e)}}function fD(t,e){if((a=t.length)>0){for(var r=0,n=t[e[0]],a,o=n.length;r<o;++r){for(var c=0,u=0;c<a;++c)u+=t[c][r][1]||0;n[r][1]+=n[r][0]=-u/2}ms(t,e)}}function mD(t,e){if(!(!((c=t.length)>0)||!((o=(a=t[e[0]]).length)>0))){for(var r=0,n=1,a,o,c;n<o;++n){for(var u=0,d=0,m=0;u<c;++u){for(var p=t[e[u]],h=p[n][1]||0,y=p[n-1][1]||0,v=(h-y)/2,w=0;w<u;++w){var b=t[e[w]],j=b[n][1]||0,O=b[n-1][1]||0;v+=j-O}d+=h,m+=v*h}a[n-1][1]+=a[n-1][0]=r,d&&(r-=m/d)}a[n-1][1]+=a[n-1][0]=r,ms(t,e)}}function hl(t){"@babel/helpers - typeof";return hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hl(t)}var hD=["type","size","sizeType"];function z0(){return z0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},z0.apply(this,arguments)}function BS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function zS(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BS(Object(r),!0).forEach(function(n){pD(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pD(t,e,r){return e=gD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gD(t){var e=yD(t,"string");return hl(e)=="symbol"?e:e+""}function yD(t,e){if(hl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(hl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vD(t,e){if(t==null)return{};var r=xD(t,e),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(a=0;a<o.length;a++)n=o[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function xD(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var hP={symbolCircle:xx,symbolCross:BR,symbolDiamond:qR,symbolSquare:UR,symbolStar:VR,symbolTriangle:KR,symbolWye:XR},bD=Math.PI/180,wD=function(e){var r="symbol".concat(Ud(e));return hP[r]||xx},jD=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var a=18*bD;return 1.25*e*e*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},SD=function(e,r){hP["symbol".concat(Ud(e))]=r},Vd=function(e){var r=e.type,n=r===void 0?"circle":r,a=e.size,o=a===void 0?64:a,c=e.sizeType,u=c===void 0?"area":c,d=vD(e,hD),m=zS(zS({},d),{},{type:n,size:o,sizeType:u}),p=function(){var j=wD(n),O=QR().type(j).size(jD(o,u,n));return O()},h=m.className,y=m.cx,v=m.cy,w=ve(m,!0);return y===+y&&v===+v&&o===+o?W.createElement("path",z0({},w,{className:Ie("recharts-symbols",h),transform:"translate(".concat(y,", ").concat(v,")"),d:p()})):null};Vd.registerSymbol=SD;function hs(t){"@babel/helpers - typeof";return hs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hs(t)}function q0(){return q0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},q0.apply(this,arguments)}function qS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function _D(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qS(Object(r),!0).forEach(function(n){pl(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ND(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kD(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,gP(n.key),n)}}function OD(t,e,r){return e&&kD(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function AD(t,e,r){return e=zu(e),PD(t,pP()?Reflect.construct(e,r||[],zu(t).constructor):e.apply(t,r))}function PD(t,e){if(e&&(hs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ED(t)}function ED(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pP=function(){return!!t})()}function zu(t){return zu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zu(t)}function TD(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&U0(t,e)}function U0(t,e){return U0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},U0(t,e)}function pl(t,e,r){return e=gP(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gP(t){var e=CD(t,"string");return hs(e)=="symbol"?e:e+""}function CD(t,e){if(hs(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(hs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Rr=32,bx=(function(t){function e(){return ND(this,e),AD(this,e,arguments)}return TD(e,t),OD(e,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,o=Rr/2,c=Rr/6,u=Rr/3,d=n.inactive?a:n.color;if(n.type==="plainline")return W.createElement("line",{strokeWidth:4,fill:"none",stroke:d,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:o,x2:Rr,y2:o,className:"recharts-legend-icon"});if(n.type==="line")return W.createElement("path",{strokeWidth:4,fill:"none",stroke:d,d:"M0,".concat(o,"h").concat(u,`
            A`).concat(c,",").concat(c,",0,1,1,").concat(2*u,",").concat(o,`
            H`).concat(Rr,"M").concat(2*u,",").concat(o,`
            A`).concat(c,",").concat(c,",0,1,1,").concat(u,",").concat(o),className:"recharts-legend-icon"});if(n.type==="rect")return W.createElement("path",{stroke:"none",fill:d,d:"M0,".concat(Rr/8,"h").concat(Rr,"v").concat(Rr*3/4,"h").concat(-Rr,"z"),className:"recharts-legend-icon"});if(W.isValidElement(n.legendIcon)){var m=_D({},n);return delete m.legendIcon,W.cloneElement(n.legendIcon,m)}return W.createElement(Vd,{fill:d,cx:o,cy:o,size:Rr,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,o=a.payload,c=a.iconSize,u=a.layout,d=a.formatter,m=a.inactiveColor,p={x:0,y:0,width:Rr,height:Rr},h={display:u==="horizontal"?"inline-block":"block",marginRight:10},y={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(v,w){var b=v.formatter||d,j=Ie(pl(pl({"recharts-legend-item":!0},"legend-item-".concat(w),!0),"inactive",v.inactive));if(v.type==="none")return null;var O=Oe(v.value)?null:v.value;an(!Oe(v.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var S=v.inactive?m:v.color;return W.createElement("li",q0({className:j,style:h,key:"legend-item-".concat(w)},Na(n.props,v,w)),W.createElement(R0,{width:c,height:c,viewBox:p,style:y},n.renderIcon(v)),W.createElement("span",{className:"recharts-legend-item-text",style:{color:S}},b?b(O,v,w):O))})}},{key:"render",value:function(){var n=this.props,a=n.payload,o=n.layout,c=n.align;if(!a||!a.length)return null;var u={padding:0,margin:0,textAlign:o==="horizontal"?c:"left"};return W.createElement("ul",{className:"recharts-default-legend",style:u},this.renderItems())}}])})(I.PureComponent);pl(bx,"displayName","Legend");pl(bx,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Dp,US;function ID(){if(US)return Dp;US=1;var t=Bd();function e(){this.__data__=new t,this.size=0}return Dp=e,Dp}var $p,WS;function MD(){if(WS)return $p;WS=1;function t(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}return $p=t,$p}var Lp,HS;function RD(){if(HS)return Lp;HS=1;function t(e){return this.__data__.get(e)}return Lp=t,Lp}var Fp,GS;function DD(){if(GS)return Fp;GS=1;function t(e){return this.__data__.has(e)}return Fp=t,Fp}var Bp,VS;function $D(){if(VS)return Bp;VS=1;var t=Bd(),e=dx(),r=fx(),n=200;function a(o,c){var u=this.__data__;if(u instanceof t){var d=u.__data__;if(!e||d.length<n-1)return d.push([o,c]),this.size=++u.size,this;u=this.__data__=new r(d)}return u.set(o,c),this.size=u.size,this}return Bp=a,Bp}var zp,KS;function yP(){if(KS)return zp;KS=1;var t=Bd(),e=ID(),r=MD(),n=RD(),a=DD(),o=$D();function c(u){var d=this.__data__=new t(u);this.size=d.size}return c.prototype.clear=e,c.prototype.delete=r,c.prototype.get=n,c.prototype.has=a,c.prototype.set=o,zp=c,zp}var qp,YS;function LD(){if(YS)return qp;YS=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return qp=e,qp}var Up,XS;function FD(){if(XS)return Up;XS=1;function t(e){return this.__data__.has(e)}return Up=t,Up}var Wp,QS;function vP(){if(QS)return Wp;QS=1;var t=fx(),e=LD(),r=FD();function n(a){var o=-1,c=a==null?0:a.length;for(this.__data__=new t;++o<c;)this.add(a[o])}return n.prototype.add=n.prototype.push=e,n.prototype.has=r,Wp=n,Wp}var Hp,ZS;function xP(){if(ZS)return Hp;ZS=1;function t(e,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(e[n],n,e))return!0;return!1}return Hp=t,Hp}var Gp,JS;function bP(){if(JS)return Gp;JS=1;function t(e,r){return e.has(r)}return Gp=t,Gp}var Vp,e_;function wP(){if(e_)return Vp;e_=1;var t=vP(),e=xP(),r=bP(),n=1,a=2;function o(c,u,d,m,p,h){var y=d&n,v=c.length,w=u.length;if(v!=w&&!(y&&w>v))return!1;var b=h.get(c),j=h.get(u);if(b&&j)return b==u&&j==c;var O=-1,S=!0,k=d&a?new t:void 0;for(h.set(c,u),h.set(u,c);++O<v;){var A=c[O],N=u[O];if(m)var P=y?m(N,A,O,u,c,h):m(A,N,O,c,u,h);if(P!==void 0){if(P)continue;S=!1;break}if(k){if(!e(u,function(T,$){if(!r(k,$)&&(A===T||p(A,T,d,m,h)))return k.push($)})){S=!1;break}}else if(!(A===N||p(A,N,d,m,h))){S=!1;break}}return h.delete(c),h.delete(u),S}return Vp=o,Vp}var Kp,t_;function BD(){if(t_)return Kp;t_=1;var t=Sn(),e=t.Uint8Array;return Kp=e,Kp}var Yp,r_;function zD(){if(r_)return Yp;r_=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(a,o){n[++r]=[o,a]}),n}return Yp=t,Yp}var Xp,n_;function wx(){if(n_)return Xp;n_=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(a){n[++r]=a}),n}return Xp=t,Xp}var Qp,a_;function qD(){if(a_)return Qp;a_=1;var t=Yl(),e=BD(),r=ux(),n=wP(),a=zD(),o=wx(),c=1,u=2,d="[object Boolean]",m="[object Date]",p="[object Error]",h="[object Map]",y="[object Number]",v="[object RegExp]",w="[object Set]",b="[object String]",j="[object Symbol]",O="[object ArrayBuffer]",S="[object DataView]",k=t?t.prototype:void 0,A=k?k.valueOf:void 0;function N(P,T,$,M,q,R,U){switch($){case S:if(P.byteLength!=T.byteLength||P.byteOffset!=T.byteOffset)return!1;P=P.buffer,T=T.buffer;case O:return!(P.byteLength!=T.byteLength||!R(new e(P),new e(T)));case d:case m:case y:return r(+P,+T);case p:return P.name==T.name&&P.message==T.message;case v:case b:return P==T+"";case h:var B=a;case w:var V=M&c;if(B||(B=o),P.size!=T.size&&!V)return!1;var L=U.get(P);if(L)return L==T;M|=u,U.set(P,T);var D=n(B(P),B(T),M,q,R,U);return U.delete(P),D;case j:if(A)return A.call(P)==A.call(T)}return!1}return Qp=N,Qp}var Zp,i_;function jP(){if(i_)return Zp;i_=1;function t(e,r){for(var n=-1,a=r.length,o=e.length;++n<a;)e[o+n]=r[n];return e}return Zp=t,Zp}var Jp,s_;function UD(){if(s_)return Jp;s_=1;var t=jP(),e=gr();function r(n,a,o){var c=a(n);return e(n)?c:t(c,o(n))}return Jp=r,Jp}var eg,o_;function WD(){if(o_)return eg;o_=1;function t(e,r){for(var n=-1,a=e==null?0:e.length,o=0,c=[];++n<a;){var u=e[n];r(u,n,e)&&(c[o++]=u)}return c}return eg=t,eg}var tg,l_;function HD(){if(l_)return tg;l_=1;function t(){return[]}return tg=t,tg}var rg,c_;function GD(){if(c_)return rg;c_=1;var t=WD(),e=HD(),r=Object.prototype,n=r.propertyIsEnumerable,a=Object.getOwnPropertySymbols,o=a?function(c){return c==null?[]:(c=Object(c),t(a(c),function(u){return n.call(c,u)}))}:e;return rg=o,rg}var ng,u_;function VD(){if(u_)return ng;u_=1;function t(e,r){for(var n=-1,a=Array(e);++n<e;)a[n]=r(n);return a}return ng=t,ng}var ag,d_;function KD(){if(d_)return ag;d_=1;var t=Gn(),e=Vn(),r="[object Arguments]";function n(a){return e(a)&&t(a)==r}return ag=n,ag}var ig,f_;function jx(){if(f_)return ig;f_=1;var t=KD(),e=Vn(),r=Object.prototype,n=r.hasOwnProperty,a=r.propertyIsEnumerable,o=t((function(){return arguments})())?t:function(c){return e(c)&&n.call(c,"callee")&&!a.call(c,"callee")};return ig=o,ig}var Qo={exports:{}},sg,m_;function YD(){if(m_)return sg;m_=1;function t(){return!1}return sg=t,sg}Qo.exports;var h_;function SP(){return h_||(h_=1,(function(t,e){var r=Sn(),n=YD(),a=e&&!e.nodeType&&e,o=a&&!0&&t&&!t.nodeType&&t,c=o&&o.exports===a,u=c?r.Buffer:void 0,d=u?u.isBuffer:void 0,m=d||n;t.exports=m})(Qo,Qo.exports)),Qo.exports}var og,p_;function Sx(){if(p_)return og;p_=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,a){var o=typeof n;return a=a??t,!!a&&(o=="number"||o!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<a}return og=r,og}var lg,g_;function _x(){if(g_)return lg;g_=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return lg=e,lg}var cg,y_;function XD(){if(y_)return cg;y_=1;var t=Gn(),e=_x(),r=Vn(),n="[object Arguments]",a="[object Array]",o="[object Boolean]",c="[object Date]",u="[object Error]",d="[object Function]",m="[object Map]",p="[object Number]",h="[object Object]",y="[object RegExp]",v="[object Set]",w="[object String]",b="[object WeakMap]",j="[object ArrayBuffer]",O="[object DataView]",S="[object Float32Array]",k="[object Float64Array]",A="[object Int8Array]",N="[object Int16Array]",P="[object Int32Array]",T="[object Uint8Array]",$="[object Uint8ClampedArray]",M="[object Uint16Array]",q="[object Uint32Array]",R={};R[S]=R[k]=R[A]=R[N]=R[P]=R[T]=R[$]=R[M]=R[q]=!0,R[n]=R[a]=R[j]=R[o]=R[O]=R[c]=R[u]=R[d]=R[m]=R[p]=R[h]=R[y]=R[v]=R[w]=R[b]=!1;function U(B){return r(B)&&e(B.length)&&!!R[t(B)]}return cg=U,cg}var ug,v_;function _P(){if(v_)return ug;v_=1;function t(e){return function(r){return e(r)}}return ug=t,ug}var Zo={exports:{}};Zo.exports;var x_;function QD(){return x_||(x_=1,(function(t,e){var r=UA(),n=e&&!e.nodeType&&e,a=n&&!0&&t&&!t.nodeType&&t,o=a&&a.exports===n,c=o&&r.process,u=(function(){try{var d=a&&a.require&&a.require("util").types;return d||c&&c.binding&&c.binding("util")}catch{}})();t.exports=u})(Zo,Zo.exports)),Zo.exports}var dg,b_;function NP(){if(b_)return dg;b_=1;var t=XD(),e=_P(),r=QD(),n=r&&r.isTypedArray,a=n?e(n):t;return dg=a,dg}var fg,w_;function ZD(){if(w_)return fg;w_=1;var t=VD(),e=jx(),r=gr(),n=SP(),a=Sx(),o=NP(),c=Object.prototype,u=c.hasOwnProperty;function d(m,p){var h=r(m),y=!h&&e(m),v=!h&&!y&&n(m),w=!h&&!y&&!v&&o(m),b=h||y||v||w,j=b?t(m.length,String):[],O=j.length;for(var S in m)(p||u.call(m,S))&&!(b&&(S=="length"||v&&(S=="offset"||S=="parent")||w&&(S=="buffer"||S=="byteLength"||S=="byteOffset")||a(S,O)))&&j.push(S);return j}return fg=d,fg}var mg,j_;function JD(){if(j_)return mg;j_=1;var t=Object.prototype;function e(r){var n=r&&r.constructor,a=typeof n=="function"&&n.prototype||t;return r===a}return mg=e,mg}var hg,S_;function kP(){if(S_)return hg;S_=1;function t(e,r){return function(n){return e(r(n))}}return hg=t,hg}var pg,__;function e4(){if(__)return pg;__=1;var t=kP(),e=t(Object.keys,Object);return pg=e,pg}var gg,N_;function t4(){if(N_)return gg;N_=1;var t=JD(),e=e4(),r=Object.prototype,n=r.hasOwnProperty;function a(o){if(!t(o))return e(o);var c=[];for(var u in Object(o))n.call(o,u)&&u!="constructor"&&c.push(u);return c}return gg=a,gg}var yg,k_;function Xl(){if(k_)return yg;k_=1;var t=cx(),e=_x();function r(n){return n!=null&&e(n.length)&&!t(n)}return yg=r,yg}var vg,O_;function Kd(){if(O_)return vg;O_=1;var t=ZD(),e=t4(),r=Xl();function n(a){return r(a)?t(a):e(a)}return vg=n,vg}var xg,A_;function r4(){if(A_)return xg;A_=1;var t=UD(),e=GD(),r=Kd();function n(a){return t(a,r,e)}return xg=n,xg}var bg,P_;function n4(){if(P_)return bg;P_=1;var t=r4(),e=1,r=Object.prototype,n=r.hasOwnProperty;function a(o,c,u,d,m,p){var h=u&e,y=t(o),v=y.length,w=t(c),b=w.length;if(v!=b&&!h)return!1;for(var j=v;j--;){var O=y[j];if(!(h?O in c:n.call(c,O)))return!1}var S=p.get(o),k=p.get(c);if(S&&k)return S==c&&k==o;var A=!0;p.set(o,c),p.set(c,o);for(var N=h;++j<v;){O=y[j];var P=o[O],T=c[O];if(d)var $=h?d(T,P,O,c,o,p):d(P,T,O,o,c,p);if(!($===void 0?P===T||m(P,T,u,d,p):$)){A=!1;break}N||(N=O=="constructor")}if(A&&!N){var M=o.constructor,q=c.constructor;M!=q&&"constructor"in o&&"constructor"in c&&!(typeof M=="function"&&M instanceof M&&typeof q=="function"&&q instanceof q)&&(A=!1)}return p.delete(o),p.delete(c),A}return bg=a,bg}var wg,E_;function a4(){if(E_)return wg;E_=1;var t=gi(),e=Sn(),r=t(e,"DataView");return wg=r,wg}var jg,T_;function i4(){if(T_)return jg;T_=1;var t=gi(),e=Sn(),r=t(e,"Promise");return jg=r,jg}var Sg,C_;function OP(){if(C_)return Sg;C_=1;var t=gi(),e=Sn(),r=t(e,"Set");return Sg=r,Sg}var _g,I_;function s4(){if(I_)return _g;I_=1;var t=gi(),e=Sn(),r=t(e,"WeakMap");return _g=r,_g}var Ng,M_;function o4(){if(M_)return Ng;M_=1;var t=a4(),e=dx(),r=i4(),n=OP(),a=s4(),o=Gn(),c=WA(),u="[object Map]",d="[object Object]",m="[object Promise]",p="[object Set]",h="[object WeakMap]",y="[object DataView]",v=c(t),w=c(e),b=c(r),j=c(n),O=c(a),S=o;return(t&&S(new t(new ArrayBuffer(1)))!=y||e&&S(new e)!=u||r&&S(r.resolve())!=m||n&&S(new n)!=p||a&&S(new a)!=h)&&(S=function(k){var A=o(k),N=A==d?k.constructor:void 0,P=N?c(N):"";if(P)switch(P){case v:return y;case w:return u;case b:return m;case j:return p;case O:return h}return A}),Ng=S,Ng}var kg,R_;function l4(){if(R_)return kg;R_=1;var t=yP(),e=wP(),r=qD(),n=n4(),a=o4(),o=gr(),c=SP(),u=NP(),d=1,m="[object Arguments]",p="[object Array]",h="[object Object]",y=Object.prototype,v=y.hasOwnProperty;function w(b,j,O,S,k,A){var N=o(b),P=o(j),T=N?p:a(b),$=P?p:a(j);T=T==m?h:T,$=$==m?h:$;var M=T==h,q=$==h,R=T==$;if(R&&c(b)){if(!c(j))return!1;N=!0,M=!1}if(R&&!M)return A||(A=new t),N||u(b)?e(b,j,O,S,k,A):r(b,j,T,O,S,k,A);if(!(O&d)){var U=M&&v.call(b,"__wrapped__"),B=q&&v.call(j,"__wrapped__");if(U||B){var V=U?b.value():b,L=B?j.value():j;return A||(A=new t),k(V,L,O,S,A)}}return R?(A||(A=new t),n(b,j,O,S,k,A)):!1}return kg=w,kg}var Og,D_;function Nx(){if(D_)return Og;D_=1;var t=l4(),e=Vn();function r(n,a,o,c,u){return n===a?!0:n==null||a==null||!e(n)&&!e(a)?n!==n&&a!==a:t(n,a,o,c,r,u)}return Og=r,Og}var Ag,$_;function c4(){if($_)return Ag;$_=1;var t=yP(),e=Nx(),r=1,n=2;function a(o,c,u,d){var m=u.length,p=m,h=!d;if(o==null)return!p;for(o=Object(o);m--;){var y=u[m];if(h&&y[2]?y[1]!==o[y[0]]:!(y[0]in o))return!1}for(;++m<p;){y=u[m];var v=y[0],w=o[v],b=y[1];if(h&&y[2]){if(w===void 0&&!(v in o))return!1}else{var j=new t;if(d)var O=d(w,b,v,o,c,j);if(!(O===void 0?e(b,w,r|n,d,j):O))return!1}}return!0}return Ag=a,Ag}var Pg,L_;function AP(){if(L_)return Pg;L_=1;var t=Pa();function e(r){return r===r&&!t(r)}return Pg=e,Pg}var Eg,F_;function u4(){if(F_)return Eg;F_=1;var t=AP(),e=Kd();function r(n){for(var a=e(n),o=a.length;o--;){var c=a[o],u=n[c];a[o]=[c,u,t(u)]}return a}return Eg=r,Eg}var Tg,B_;function PP(){if(B_)return Tg;B_=1;function t(e,r){return function(n){return n==null?!1:n[e]===r&&(r!==void 0||e in Object(n))}}return Tg=t,Tg}var Cg,z_;function d4(){if(z_)return Cg;z_=1;var t=c4(),e=u4(),r=PP();function n(a){var o=e(a);return o.length==1&&o[0][2]?r(o[0][0],o[0][1]):function(c){return c===a||t(c,a,o)}}return Cg=n,Cg}var Ig,q_;function f4(){if(q_)return Ig;q_=1;function t(e,r){return e!=null&&r in Object(e)}return Ig=t,Ig}var Mg,U_;function m4(){if(U_)return Mg;U_=1;var t=VA(),e=jx(),r=gr(),n=Sx(),a=_x(),o=qd();function c(u,d,m){d=t(d,u);for(var p=-1,h=d.length,y=!1;++p<h;){var v=o(d[p]);if(!(y=u!=null&&m(u,v)))break;u=u[v]}return y||++p!=h?y:(h=u==null?0:u.length,!!h&&a(h)&&n(v,h)&&(r(u)||e(u)))}return Mg=c,Mg}var Rg,W_;function h4(){if(W_)return Rg;W_=1;var t=f4(),e=m4();function r(n,a){return n!=null&&e(n,a,t)}return Rg=r,Rg}var Dg,H_;function p4(){if(H_)return Dg;H_=1;var t=Nx(),e=KA(),r=h4(),n=lx(),a=AP(),o=PP(),c=qd(),u=1,d=2;function m(p,h){return n(p)&&a(h)?o(c(p),h):function(y){var v=e(y,p);return v===void 0&&v===h?r(y,p):t(h,v,u|d)}}return Dg=m,Dg}var $g,G_;function Vs(){if(G_)return $g;G_=1;function t(e){return e}return $g=t,$g}var Lg,V_;function g4(){if(V_)return Lg;V_=1;function t(e){return function(r){return r?.[e]}}return Lg=t,Lg}var Fg,K_;function y4(){if(K_)return Fg;K_=1;var t=hx();function e(r){return function(n){return t(n,r)}}return Fg=e,Fg}var Bg,Y_;function v4(){if(Y_)return Bg;Y_=1;var t=g4(),e=y4(),r=lx(),n=qd();function a(o){return r(o)?t(n(o)):e(o)}return Bg=a,Bg}var zg,X_;function _n(){if(X_)return zg;X_=1;var t=d4(),e=p4(),r=Vs(),n=gr(),a=v4();function o(c){return typeof c=="function"?c:c==null?r:typeof c=="object"?n(c)?e(c[0],c[1]):t(c):a(c)}return zg=o,zg}var qg,Q_;function EP(){if(Q_)return qg;Q_=1;function t(e,r,n,a){for(var o=e.length,c=n+(a?1:-1);a?c--:++c<o;)if(r(e[c],c,e))return c;return-1}return qg=t,qg}var Ug,Z_;function x4(){if(Z_)return Ug;Z_=1;function t(e){return e!==e}return Ug=t,Ug}var Wg,J_;function b4(){if(J_)return Wg;J_=1;function t(e,r,n){for(var a=n-1,o=e.length;++a<o;)if(e[a]===r)return a;return-1}return Wg=t,Wg}var Hg,eN;function w4(){if(eN)return Hg;eN=1;var t=EP(),e=x4(),r=b4();function n(a,o,c){return o===o?r(a,o,c):t(a,e,c)}return Hg=n,Hg}var Gg,tN;function j4(){if(tN)return Gg;tN=1;var t=w4();function e(r,n){var a=r==null?0:r.length;return!!a&&t(r,n,0)>-1}return Gg=e,Gg}var Vg,rN;function S4(){if(rN)return Vg;rN=1;function t(e,r,n){for(var a=-1,o=e==null?0:e.length;++a<o;)if(n(r,e[a]))return!0;return!1}return Vg=t,Vg}var Kg,nN;function _4(){if(nN)return Kg;nN=1;function t(){}return Kg=t,Kg}var Yg,aN;function N4(){if(aN)return Yg;aN=1;var t=OP(),e=_4(),r=wx(),n=1/0,a=t&&1/r(new t([,-0]))[1]==n?function(o){return new t(o)}:e;return Yg=a,Yg}var Xg,iN;function k4(){if(iN)return Xg;iN=1;var t=vP(),e=j4(),r=S4(),n=bP(),a=N4(),o=wx(),c=200;function u(d,m,p){var h=-1,y=e,v=d.length,w=!0,b=[],j=b;if(p)w=!1,y=r;else if(v>=c){var O=m?null:a(d);if(O)return o(O);w=!1,y=n,j=new t}else j=m?[]:b;e:for(;++h<v;){var S=d[h],k=m?m(S):S;if(S=p||S!==0?S:0,w&&k===k){for(var A=j.length;A--;)if(j[A]===k)continue e;m&&j.push(k),b.push(S)}else y(j,k,p)||(j!==b&&j.push(k),b.push(S))}return b}return Xg=u,Xg}var Qg,sN;function O4(){if(sN)return Qg;sN=1;var t=_n(),e=k4();function r(n,a){return n&&n.length?e(n,t(a,2)):[]}return Qg=r,Qg}var A4=O4();const oN=We(A4);function TP(t,e,r){return e===!0?oN(t,r):Oe(e)?oN(t,e):t}function ps(t){"@babel/helpers - typeof";return ps=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ps(t)}var P4=["ref"];function lN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function In(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lN(Object(r),!0).forEach(function(n){Yd(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function E4(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cN(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,IP(n.key),n)}}function T4(t,e,r){return e&&cN(t.prototype,e),r&&cN(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function C4(t,e,r){return e=qu(e),I4(t,CP()?Reflect.construct(e,r||[],qu(t).constructor):e.apply(t,r))}function I4(t,e){if(e&&(ps(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return M4(t)}function M4(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function CP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CP=function(){return!!t})()}function qu(t){return qu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qu(t)}function R4(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&W0(t,e)}function W0(t,e){return W0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},W0(t,e)}function Yd(t,e,r){return e=IP(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function IP(t){var e=D4(t,"string");return ps(e)=="symbol"?e:e+""}function D4(t,e){if(ps(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ps(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function $4(t,e){if(t==null)return{};var r=L4(t,e),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(a=0;a<o.length;a++)n=o[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function L4(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function F4(t){return t.value}function B4(t,e){if(W.isValidElement(t))return W.cloneElement(t,e);if(typeof t=="function")return W.createElement(t,e);e.ref;var r=$4(e,P4);return W.createElement(bx,r)}var uN=1,Zt=(function(t){function e(){var r;E4(this,e);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=C4(this,e,[].concat(a)),Yd(r,"lastBoundingBox",{width:-1,height:-1}),r}return R4(e,t),T4(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>uN||Math.abs(a.height-this.lastBoundingBox.height)>uN)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?In({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,o=a.layout,c=a.align,u=a.verticalAlign,d=a.margin,m=a.chartWidth,p=a.chartHeight,h,y;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(c==="center"&&o==="vertical"){var v=this.getBBoxSnapshot();h={left:((m||0)-v.width)/2}}else h=c==="right"?{right:d&&d.right||0}:{left:d&&d.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(u==="middle"){var w=this.getBBoxSnapshot();y={top:((p||0)-w.height)/2}}else y=u==="bottom"?{bottom:d&&d.bottom||0}:{top:d&&d.top||0};return In(In({},h),y)}},{key:"render",value:function(){var n=this,a=this.props,o=a.content,c=a.width,u=a.height,d=a.wrapperStyle,m=a.payloadUniqBy,p=a.payload,h=In(In({position:"absolute",width:c||"auto",height:u||"auto"},this.getDefaultPosition(d)),d);return W.createElement("div",{className:"recharts-legend-wrapper",style:h,ref:function(v){n.wrapperNode=v}},B4(o,In(In({},this.props),{},{payload:TP(p,m,F4)})))}}],[{key:"getWithHeight",value:function(n,a){var o=In(In({},this.defaultProps),n.props),c=o.layout;return c==="vertical"&&le(n.props.height)?{height:n.props.height}:c==="horizontal"?{width:n.props.width||a}:null}}])})(I.PureComponent);Yd(Zt,"displayName","Legend");Yd(Zt,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Zg,dN;function z4(){if(dN)return Zg;dN=1;var t=Yl(),e=jx(),r=gr(),n=t?t.isConcatSpreadable:void 0;function a(o){return r(o)||e(o)||!!(n&&o&&o[n])}return Zg=a,Zg}var Jg,fN;function MP(){if(fN)return Jg;fN=1;var t=jP(),e=z4();function r(n,a,o,c,u){var d=-1,m=n.length;for(o||(o=e),u||(u=[]);++d<m;){var p=n[d];a>0&&o(p)?a>1?r(p,a-1,o,c,u):t(u,p):c||(u[u.length]=p)}return u}return Jg=r,Jg}var ey,mN;function q4(){if(mN)return ey;mN=1;function t(e){return function(r,n,a){for(var o=-1,c=Object(r),u=a(r),d=u.length;d--;){var m=u[e?d:++o];if(n(c[m],m,c)===!1)break}return r}}return ey=t,ey}var ty,hN;function U4(){if(hN)return ty;hN=1;var t=q4(),e=t();return ty=e,ty}var ry,pN;function RP(){if(pN)return ry;pN=1;var t=U4(),e=Kd();function r(n,a){return n&&t(n,a,e)}return ry=r,ry}var ny,gN;function W4(){if(gN)return ny;gN=1;var t=Xl();function e(r,n){return function(a,o){if(a==null)return a;if(!t(a))return r(a,o);for(var c=a.length,u=n?c:-1,d=Object(a);(n?u--:++u<c)&&o(d[u],u,d)!==!1;);return a}}return ny=e,ny}var ay,yN;function kx(){if(yN)return ay;yN=1;var t=RP(),e=W4(),r=e(t);return ay=r,ay}var iy,vN;function DP(){if(vN)return iy;vN=1;var t=kx(),e=Xl();function r(n,a){var o=-1,c=e(n)?Array(n.length):[];return t(n,function(u,d,m){c[++o]=a(u,d,m)}),c}return iy=r,iy}var sy,xN;function H4(){if(xN)return sy;xN=1;function t(e,r){var n=e.length;for(e.sort(r);n--;)e[n]=e[n].value;return e}return sy=t,sy}var oy,bN;function G4(){if(bN)return oy;bN=1;var t=Ws();function e(r,n){if(r!==n){var a=r!==void 0,o=r===null,c=r===r,u=t(r),d=n!==void 0,m=n===null,p=n===n,h=t(n);if(!m&&!h&&!u&&r>n||u&&d&&p&&!m&&!h||o&&d&&p||!a&&p||!c)return 1;if(!o&&!u&&!h&&r<n||h&&a&&c&&!o&&!u||m&&a&&c||!d&&c||!p)return-1}return 0}return oy=e,oy}var ly,wN;function V4(){if(wN)return ly;wN=1;var t=G4();function e(r,n,a){for(var o=-1,c=r.criteria,u=n.criteria,d=c.length,m=a.length;++o<d;){var p=t(c[o],u[o]);if(p){if(o>=m)return p;var h=a[o];return p*(h=="desc"?-1:1)}}return r.index-n.index}return ly=e,ly}var cy,jN;function K4(){if(jN)return cy;jN=1;var t=mx(),e=hx(),r=_n(),n=DP(),a=H4(),o=_P(),c=V4(),u=Vs(),d=gr();function m(p,h,y){h.length?h=t(h,function(b){return d(b)?function(j){return e(j,b.length===1?b[0]:b)}:b}):h=[u];var v=-1;h=t(h,o(r));var w=n(p,function(b,j,O){var S=t(h,function(k){return k(b)});return{criteria:S,index:++v,value:b}});return a(w,function(b,j){return c(b,j,y)})}return cy=m,cy}var uy,SN;function Y4(){if(SN)return uy;SN=1;function t(e,r,n){switch(n.length){case 0:return e.call(r);case 1:return e.call(r,n[0]);case 2:return e.call(r,n[0],n[1]);case 3:return e.call(r,n[0],n[1],n[2])}return e.apply(r,n)}return uy=t,uy}var dy,_N;function X4(){if(_N)return dy;_N=1;var t=Y4(),e=Math.max;function r(n,a,o){return a=e(a===void 0?n.length-1:a,0),function(){for(var c=arguments,u=-1,d=e(c.length-a,0),m=Array(d);++u<d;)m[u]=c[a+u];u=-1;for(var p=Array(a+1);++u<a;)p[u]=c[u];return p[a]=o(m),t(n,this,p)}}return dy=r,dy}var fy,NN;function Q4(){if(NN)return fy;NN=1;function t(e){return function(){return e}}return fy=t,fy}var my,kN;function $P(){if(kN)return my;kN=1;var t=gi(),e=(function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}})();return my=e,my}var hy,ON;function Z4(){if(ON)return hy;ON=1;var t=Q4(),e=$P(),r=Vs(),n=e?function(a,o){return e(a,"toString",{configurable:!0,enumerable:!1,value:t(o),writable:!0})}:r;return hy=n,hy}var py,AN;function J4(){if(AN)return py;AN=1;var t=800,e=16,r=Date.now;function n(a){var o=0,c=0;return function(){var u=r(),d=e-(u-c);if(c=u,d>0){if(++o>=t)return arguments[0]}else o=0;return a.apply(void 0,arguments)}}return py=n,py}var gy,PN;function e$(){if(PN)return gy;PN=1;var t=Z4(),e=J4(),r=e(t);return gy=r,gy}var yy,EN;function t$(){if(EN)return yy;EN=1;var t=Vs(),e=X4(),r=e$();function n(a,o){return r(e(a,o,t),a+"")}return yy=n,yy}var vy,TN;function Xd(){if(TN)return vy;TN=1;var t=ux(),e=Xl(),r=Sx(),n=Pa();function a(o,c,u){if(!n(u))return!1;var d=typeof c;return(d=="number"?e(u)&&r(c,u.length):d=="string"&&c in u)?t(u[c],o):!1}return vy=a,vy}var xy,CN;function r$(){if(CN)return xy;CN=1;var t=MP(),e=K4(),r=t$(),n=Xd(),a=r(function(o,c){if(o==null)return[];var u=c.length;return u>1&&n(o,c[0],c[1])?c=[]:u>2&&n(c[0],c[1],c[2])&&(c=[c[0]]),e(o,t(c,1),[])});return xy=a,xy}var n$=r$();const Ox=We(n$);function gl(t){"@babel/helpers - typeof";return gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gl(t)}function H0(){return H0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},H0.apply(this,arguments)}function a$(t,e){return l$(t)||o$(t,e)||s$(t,e)||i$()}function i$(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function s$(t,e){if(t){if(typeof t=="string")return IN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return IN(t,e)}}function IN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function o$(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,o,c,u=[],d=!0,m=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(p){m=!0,a=p}finally{try{if(!d&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(m)throw a}}return u}}function l$(t){if(Array.isArray(t))return t}function MN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function by(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?MN(Object(r),!0).forEach(function(n){c$(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):MN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function c$(t,e,r){return e=u$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function u$(t){var e=d$(t,"string");return gl(e)=="symbol"?e:e+""}function d$(t,e){if(gl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(gl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function f$(t){return Array.isArray(t)&&Pt(t[0])&&Pt(t[1])?t.join(" ~ "):t}var m$=function(e){var r=e.separator,n=r===void 0?" : ":r,a=e.contentStyle,o=a===void 0?{}:a,c=e.itemStyle,u=c===void 0?{}:c,d=e.labelStyle,m=d===void 0?{}:d,p=e.payload,h=e.formatter,y=e.itemSorter,v=e.wrapperClassName,w=e.labelClassName,b=e.label,j=e.labelFormatter,O=e.accessibilityLayer,S=O===void 0?!1:O,k=function(){if(p&&p.length){var U={padding:0,margin:0},B=(y?Ox(p,y):p).map(function(V,L){if(V.type==="none")return null;var D=by({display:"block",paddingTop:4,paddingBottom:4,color:V.color||"#000"},u),G=V.formatter||h||f$,C=V.value,F=V.name,Q=C,z=F;if(G&&Q!=null&&z!=null){var Y=G(C,F,V,L,p);if(Array.isArray(Y)){var ne=a$(Y,2);Q=ne[0],z=ne[1]}else Q=Y}return W.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(L),style:D},Pt(z)?W.createElement("span",{className:"recharts-tooltip-item-name"},z):null,Pt(z)?W.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,W.createElement("span",{className:"recharts-tooltip-item-value"},Q),W.createElement("span",{className:"recharts-tooltip-item-unit"},V.unit||""))});return W.createElement("ul",{className:"recharts-tooltip-item-list",style:U},B)}return null},A=by({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),N=by({margin:0},m),P=!ke(b),T=P?b:"",$=Ie("recharts-default-tooltip",v),M=Ie("recharts-tooltip-label",w);P&&j&&p!==void 0&&p!==null&&(T=j(b,p));var q=S?{role:"status","aria-live":"assertive"}:{};return W.createElement("div",H0({className:$,style:A},q),W.createElement("p",{className:M,style:N},W.isValidElement(T)?T:"".concat(T)),k())};function yl(t){"@babel/helpers - typeof";return yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yl(t)}function yu(t,e,r){return e=h$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function h$(t){var e=p$(t,"string");return yl(e)=="symbol"?e:e+""}function p$(t,e){if(yl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(yl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qo="recharts-tooltip-wrapper",g$={visibility:"hidden"};function y$(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return Ie(qo,yu(yu(yu(yu({},"".concat(qo,"-right"),le(r)&&e&&le(e.x)&&r>=e.x),"".concat(qo,"-left"),le(r)&&e&&le(e.x)&&r<e.x),"".concat(qo,"-bottom"),le(n)&&e&&le(e.y)&&n>=e.y),"".concat(qo,"-top"),le(n)&&e&&le(e.y)&&n<e.y))}function RN(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,a=t.offsetTopLeft,o=t.position,c=t.reverseDirection,u=t.tooltipDimension,d=t.viewBox,m=t.viewBoxDimension;if(o&&le(o[n]))return o[n];var p=r[n]-u-a,h=r[n]+a;if(e[n])return c[n]?p:h;if(c[n]){var y=p,v=d[n];return y<v?Math.max(h,d[n]):Math.max(p,d[n])}var w=h+u,b=d[n]+m;return w>b?Math.max(p,d[n]):Math.max(h,d[n])}function v$(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function x$(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,a=t.position,o=t.reverseDirection,c=t.tooltipBox,u=t.useTranslate3d,d=t.viewBox,m,p,h;return c.height>0&&c.width>0&&r?(p=RN({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:o,tooltipDimension:c.width,viewBox:d,viewBoxDimension:d.width}),h=RN({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:o,tooltipDimension:c.height,viewBox:d,viewBoxDimension:d.height}),m=v$({translateX:p,translateY:h,useTranslate3d:u})):m=g$,{cssProperties:m,cssClasses:y$({translateX:p,translateY:h,coordinate:r})}}function gs(t){"@babel/helpers - typeof";return gs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gs(t)}function DN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function $N(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?DN(Object(r),!0).forEach(function(n){V0(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):DN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function b$(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function w$(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,FP(n.key),n)}}function j$(t,e,r){return e&&w$(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function S$(t,e,r){return e=Uu(e),_$(t,LP()?Reflect.construct(e,r||[],Uu(t).constructor):e.apply(t,r))}function _$(t,e){if(e&&(gs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return N$(t)}function N$(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function LP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LP=function(){return!!t})()}function Uu(t){return Uu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Uu(t)}function k$(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&G0(t,e)}function G0(t,e){return G0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},G0(t,e)}function V0(t,e,r){return e=FP(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function FP(t){var e=O$(t,"string");return gs(e)=="symbol"?e:e+""}function O$(t,e){if(gs(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(gs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var LN=1,A$=(function(t){function e(){var r;b$(this,e);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=S$(this,e,[].concat(a)),V0(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),V0(r,"handleKeyDown",function(c){if(c.key==="Escape"){var u,d,m,p;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.x)!==null&&u!==void 0?u:0,y:(m=(p=r.props.coordinate)===null||p===void 0?void 0:p.y)!==null&&m!==void 0?m:0}})}}),r}return k$(e,t),j$(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>LN||Math.abs(n.height-this.state.lastBoundingBox.height)>LN)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,o=a.active,c=a.allowEscapeViewBox,u=a.animationDuration,d=a.animationEasing,m=a.children,p=a.coordinate,h=a.hasPayload,y=a.isAnimationActive,v=a.offset,w=a.position,b=a.reverseDirection,j=a.useTranslate3d,O=a.viewBox,S=a.wrapperStyle,k=x$({allowEscapeViewBox:c,coordinate:p,offsetTopLeft:v,position:w,reverseDirection:b,tooltipBox:this.state.lastBoundingBox,useTranslate3d:j,viewBox:O}),A=k.cssClasses,N=k.cssProperties,P=$N($N({transition:y&&o?"transform ".concat(u,"ms ").concat(d):void 0},N),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&h?"visible":"hidden",position:"absolute",top:0,left:0},S);return W.createElement("div",{tabIndex:-1,className:A,style:P,ref:function($){n.wrapperNode=$}},m)}}])})(I.PureComponent),P$=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Kn={isSsr:P$()};function ys(t){"@babel/helpers - typeof";return ys=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ys(t)}function FN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function BN(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?FN(Object(r),!0).forEach(function(n){Ax(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):FN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function E$(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function T$(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,zP(n.key),n)}}function C$(t,e,r){return e&&T$(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function I$(t,e,r){return e=Wu(e),M$(t,BP()?Reflect.construct(e,r||[],Wu(t).constructor):e.apply(t,r))}function M$(t,e){if(e&&(ys(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return R$(t)}function R$(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function BP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BP=function(){return!!t})()}function Wu(t){return Wu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Wu(t)}function D$(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&K0(t,e)}function K0(t,e){return K0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},K0(t,e)}function Ax(t,e,r){return e=zP(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zP(t){var e=$$(t,"string");return ys(e)=="symbol"?e:e+""}function $$(t,e){if(ys(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ys(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function L$(t){return t.dataKey}function F$(t,e){return W.isValidElement(t)?W.cloneElement(t,e):typeof t=="function"?W.createElement(t,e):W.createElement(m$,e)}var ze=(function(t){function e(){return E$(this,e),I$(this,e,arguments)}return D$(e,t),C$(e,[{key:"render",value:function(){var n=this,a=this.props,o=a.active,c=a.allowEscapeViewBox,u=a.animationDuration,d=a.animationEasing,m=a.content,p=a.coordinate,h=a.filterNull,y=a.isAnimationActive,v=a.offset,w=a.payload,b=a.payloadUniqBy,j=a.position,O=a.reverseDirection,S=a.useTranslate3d,k=a.viewBox,A=a.wrapperStyle,N=w??[];h&&N.length&&(N=TP(w.filter(function(T){return T.value!=null&&(T.hide!==!0||n.props.includeHidden)}),b,L$));var P=N.length>0;return W.createElement(A$,{allowEscapeViewBox:c,animationDuration:u,animationEasing:d,isAnimationActive:y,active:o,coordinate:p,hasPayload:P,offset:v,position:j,reverseDirection:O,useTranslate3d:S,viewBox:k,wrapperStyle:A},F$(m,BN(BN({},this.props),{},{payload:N})))}}])})(I.PureComponent);Ax(ze,"displayName","Tooltip");Ax(ze,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Kn.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var wy,zN;function B$(){if(zN)return wy;zN=1;var t=Sn(),e=function(){return t.Date.now()};return wy=e,wy}var jy,qN;function z$(){if(qN)return jy;qN=1;var t=/\s/;function e(r){for(var n=r.length;n--&&t.test(r.charAt(n)););return n}return jy=e,jy}var Sy,UN;function q$(){if(UN)return Sy;UN=1;var t=z$(),e=/^\s+/;function r(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return Sy=r,Sy}var _y,WN;function qP(){if(WN)return _y;WN=1;var t=q$(),e=Pa(),r=Ws(),n=NaN,a=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,c=/^0o[0-7]+$/i,u=parseInt;function d(m){if(typeof m=="number")return m;if(r(m))return n;if(e(m)){var p=typeof m.valueOf=="function"?m.valueOf():m;m=e(p)?p+"":p}if(typeof m!="string")return m===0?m:+m;m=t(m);var h=o.test(m);return h||c.test(m)?u(m.slice(2),h?2:8):a.test(m)?n:+m}return _y=d,_y}var Ny,HN;function U$(){if(HN)return Ny;HN=1;var t=Pa(),e=B$(),r=qP(),n="Expected a function",a=Math.max,o=Math.min;function c(u,d,m){var p,h,y,v,w,b,j=0,O=!1,S=!1,k=!0;if(typeof u!="function")throw new TypeError(n);d=r(d)||0,t(m)&&(O=!!m.leading,S="maxWait"in m,y=S?a(r(m.maxWait)||0,d):y,k="trailing"in m?!!m.trailing:k);function A(B){var V=p,L=h;return p=h=void 0,j=B,v=u.apply(L,V),v}function N(B){return j=B,w=setTimeout($,d),O?A(B):v}function P(B){var V=B-b,L=B-j,D=d-V;return S?o(D,y-L):D}function T(B){var V=B-b,L=B-j;return b===void 0||V>=d||V<0||S&&L>=y}function $(){var B=e();if(T(B))return M(B);w=setTimeout($,P(B))}function M(B){return w=void 0,k&&p?A(B):(p=h=void 0,v)}function q(){w!==void 0&&clearTimeout(w),j=0,p=b=h=w=void 0}function R(){return w===void 0?v:M(e())}function U(){var B=e(),V=T(B);if(p=arguments,h=this,b=B,V){if(w===void 0)return N(b);if(S)return clearTimeout(w),w=setTimeout($,d),A(b)}return w===void 0&&(w=setTimeout($,d)),v}return U.cancel=q,U.flush=R,U}return Ny=c,Ny}var ky,GN;function W$(){if(GN)return ky;GN=1;var t=U$(),e=Pa(),r="Expected a function";function n(a,o,c){var u=!0,d=!0;if(typeof a!="function")throw new TypeError(r);return e(c)&&(u="leading"in c?!!c.leading:u,d="trailing"in c?!!c.trailing:d),t(a,o,{leading:u,maxWait:o,trailing:d})}return ky=n,ky}var H$=W$();const UP=We(H$);function vl(t){"@babel/helpers - typeof";return vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vl(t)}function VN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function vu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?VN(Object(r),!0).forEach(function(n){G$(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):VN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function G$(t,e,r){return e=V$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function V$(t){var e=K$(t,"string");return vl(e)=="symbol"?e:e+""}function K$(t,e){if(vl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(vl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Y$(t,e){return J$(t)||Z$(t,e)||Q$(t,e)||X$()}function X$(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Q$(t,e){if(t){if(typeof t=="string")return KN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return KN(t,e)}}function KN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Z$(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,o,c,u=[],d=!0,m=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(p){m=!0,a=p}finally{try{if(!d&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(m)throw a}}return u}}function J$(t){if(Array.isArray(t))return t}var xt=I.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,a=n===void 0?{width:-1,height:-1}:n,o=t.width,c=o===void 0?"100%":o,u=t.height,d=u===void 0?"100%":u,m=t.minWidth,p=m===void 0?0:m,h=t.minHeight,y=t.maxHeight,v=t.children,w=t.debounce,b=w===void 0?0:w,j=t.id,O=t.className,S=t.onResize,k=t.style,A=k===void 0?{}:k,N=I.useRef(null),P=I.useRef();P.current=S,I.useImperativeHandle(e,function(){return Object.defineProperty(N.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),N.current},configurable:!0})});var T=I.useState({containerWidth:a.width,containerHeight:a.height}),$=Y$(T,2),M=$[0],q=$[1],R=I.useCallback(function(B,V){q(function(L){var D=Math.round(B),G=Math.round(V);return L.containerWidth===D&&L.containerHeight===G?L:{containerWidth:D,containerHeight:G}})},[]);I.useEffect(function(){var B=function(F){var Q,z=F[0].contentRect,Y=z.width,ne=z.height;R(Y,ne),(Q=P.current)===null||Q===void 0||Q.call(P,Y,ne)};b>0&&(B=UP(B,b,{trailing:!0,leading:!1}));var V=new ResizeObserver(B),L=N.current.getBoundingClientRect(),D=L.width,G=L.height;return R(D,G),V.observe(N.current),function(){V.disconnect()}},[R,b]);var U=I.useMemo(function(){var B=M.containerWidth,V=M.containerHeight;if(B<0||V<0)return null;an(Ja(c)||Ja(d),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,c,d),an(!r||r>0,"The aspect(%s) must be greater than zero.",r);var L=Ja(c)?B:c,D=Ja(d)?V:d;r&&r>0&&(L?D=L/r:D&&(L=D*r),y&&D>y&&(D=y)),an(L>0||D>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,L,D,c,d,p,h,r);var G=!Array.isArray(v)&&Bn(v.type).endsWith("Chart");return W.Children.map(v,function(C){return W.isValidElement(C)?I.cloneElement(C,vu({width:L,height:D},G?{style:vu({height:"100%",width:"100%",maxHeight:D,maxWidth:L},C.props.style)}:{})):C})},[r,v,d,y,h,p,M,c]);return W.createElement("div",{id:j?"".concat(j):void 0,className:Ie("recharts-responsive-container",O),style:vu(vu({},A),{},{width:c,height:d,minWidth:p,minHeight:h,maxHeight:y}),ref:N},U)}),yi=function(e){return null};yi.displayName="Cell";function xl(t){"@babel/helpers - typeof";return xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xl(t)}function YN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Y0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?YN(Object(r),!0).forEach(function(n){e5(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):YN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function e5(t,e,r){return e=t5(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function t5(t){var e=r5(t,"string");return xl(e)=="symbol"?e:e+""}function r5(t,e){if(xl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(xl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Vi={widthCache:{},cacheCount:0},n5=2e3,a5={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},XN="recharts_measurement_span";function i5(t){var e=Y0({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var rl=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Kn.isSsr)return{width:0,height:0};var n=i5(r),a=JSON.stringify({text:e,copyStyle:n});if(Vi.widthCache[a])return Vi.widthCache[a];try{var o=document.getElementById(XN);o||(o=document.createElement("span"),o.setAttribute("id",XN),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var c=Y0(Y0({},a5),n);Object.assign(o.style,c),o.textContent="".concat(e);var u=o.getBoundingClientRect(),d={width:u.width,height:u.height};return Vi.widthCache[a]=d,++Vi.cacheCount>n5&&(Vi.cacheCount=0,Vi.widthCache={}),d}catch{return{width:0,height:0}}},s5=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function bl(t){"@babel/helpers - typeof";return bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bl(t)}function Hu(t,e){return u5(t)||c5(t,e)||l5(t,e)||o5()}function o5(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function l5(t,e){if(t){if(typeof t=="string")return QN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return QN(t,e)}}function QN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function c5(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,o,c,u=[],d=!0,m=!1;try{if(o=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(p){m=!0,a=p}finally{try{if(!d&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(m)throw a}}return u}}function u5(t){if(Array.isArray(t))return t}function d5(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ZN(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,m5(n.key),n)}}function f5(t,e,r){return e&&ZN(t.prototype,e),r&&ZN(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function m5(t){var e=h5(t,"string");return bl(e)=="symbol"?e:e+""}function h5(t,e){if(bl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(bl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var JN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,e2=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,p5=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,g5=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,WP={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},y5=Object.keys(WP),Ji="NaN";function v5(t,e){return t*WP[e]}var xu=(function(){function t(e,r){d5(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!p5.test(r)&&(this.num=NaN,this.unit=""),y5.includes(r)&&(this.num=v5(e,r),this.unit="px")}return f5(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=g5.exec(r))!==null&&n!==void 0?n:[],o=Hu(a,3),c=o[1],u=o[2];return new t(parseFloat(c),u??"")}}])})();function HP(t){if(t.includes(Ji))return Ji;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=JN.exec(e))!==null&&r!==void 0?r:[],a=Hu(n,4),o=a[1],c=a[2],u=a[3],d=xu.parse(o??""),m=xu.parse(u??""),p=c==="*"?d.multiply(m):d.divide(m);if(p.isNaN())return Ji;e=e.replace(JN,p.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var h,y=(h=e2.exec(e))!==null&&h!==void 0?h:[],v=Hu(y,4),w=v[1],b=v[2],j=v[3],O=xu.parse(w??""),S=xu.parse(j??""),k=b==="+"?O.add(S):O.subtract(S);if(k.isNaN())return Ji;e=e.replace(e2,k.toString())}return e}var t2=/\(([^()]*)\)/;function x5(t){for(var e=t;e.includes("(");){var r=t2.exec(e),n=Hu(r,2),a=n[1];e=e.replace(t2,HP(a))}return e}function b5(t){var e=t.replace(/\s+/g,"");return e=x5(e),e=HP(e),e}function w5(t){try{return b5(t)}catch{return Ji}}function Oy(t){var e=w5(t.slice(5,-1));return e===Ji?"":e}var j5=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],S5=["dx","dy","angle","className","breakAll"];function X0(){return X0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},X0.apply(this,arguments)}function r2(t,e){if(t==null)return{};var r=_5(t,e),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(a=0;a<o.length;a++)n=o[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function _5(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function n2(t,e){return A5(t)||O5(t,e)||k5(t,e)||N5()}function N5(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function k5(t,e){if(t){if(typeof t=="string")return a2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a2(t,e)}}function a2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function O5(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,o,c,u=[],d=!0,m=!1;try{if(o=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(p){m=!0,a=p}finally{try{if(!d&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(m)throw a}}return u}}function A5(t){if(Array.isArray(t))return t}var GP=/[ \f\n\r\t\v\u2028\u2029]+/,VP=function(e){var r=e.children,n=e.breakAll,a=e.style;try{var o=[];ke(r)||(n?o=r.toString().split(""):o=r.toString().split(GP));var c=o.map(function(d){return{word:d,width:rl(d,a).width}}),u=n?0:rl("",a).width;return{wordsWithComputedWidth:c,spaceWidth:u}}catch{return null}},P5=function(e,r,n,a,o){var c=e.maxLines,u=e.children,d=e.style,m=e.breakAll,p=le(c),h=u,y=function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return L.reduce(function(D,G){var C=G.word,F=G.width,Q=D[D.length-1];if(Q&&(a==null||o||Q.width+F+n<Number(a)))Q.words.push(C),Q.width+=F+n;else{var z={words:[C],width:F};D.push(z)}return D},[])},v=y(r),w=function(L){return L.reduce(function(D,G){return D.width>G.width?D:G})};if(!p)return v;for(var b="",j=function(L){var D=h.slice(0,L),G=VP({breakAll:m,style:d,children:D+b}).wordsWithComputedWidth,C=y(G),F=C.length>c||w(C).width>Number(a);return[F,C]},O=0,S=h.length-1,k=0,A;O<=S&&k<=h.length-1;){var N=Math.floor((O+S)/2),P=N-1,T=j(P),$=n2(T,2),M=$[0],q=$[1],R=j(N),U=n2(R,1),B=U[0];if(!M&&!B&&(O=N+1),M&&B&&(S=N-1),!M&&B){A=q;break}k++}return A||v},i2=function(e){var r=ke(e)?[]:e.toString().split(GP);return[{words:r}]},E5=function(e){var r=e.width,n=e.scaleToFit,a=e.children,o=e.style,c=e.breakAll,u=e.maxLines;if((r||n)&&!Kn.isSsr){var d,m,p=VP({breakAll:c,children:a,style:o});if(p){var h=p.wordsWithComputedWidth,y=p.spaceWidth;d=h,m=y}else return i2(a);return P5({breakAll:c,children:a,maxLines:u,style:o},d,m,r,n)}return i2(a)},s2="#808080",ci=function(e){var r=e.x,n=r===void 0?0:r,a=e.y,o=a===void 0?0:a,c=e.lineHeight,u=c===void 0?"1em":c,d=e.capHeight,m=d===void 0?"0.71em":d,p=e.scaleToFit,h=p===void 0?!1:p,y=e.textAnchor,v=y===void 0?"start":y,w=e.verticalAnchor,b=w===void 0?"end":w,j=e.fill,O=j===void 0?s2:j,S=r2(e,j5),k=I.useMemo(function(){return E5({breakAll:S.breakAll,children:S.children,maxLines:S.maxLines,scaleToFit:h,style:S.style,width:S.width})},[S.breakAll,S.children,S.maxLines,h,S.style,S.width]),A=S.dx,N=S.dy,P=S.angle,T=S.className,$=S.breakAll,M=r2(S,S5);if(!Pt(n)||!Pt(o))return null;var q=n+(le(A)?A:0),R=o+(le(N)?N:0),U;switch(b){case"start":U=Oy("calc(".concat(m,")"));break;case"middle":U=Oy("calc(".concat((k.length-1)/2," * -").concat(u," + (").concat(m," / 2))"));break;default:U=Oy("calc(".concat(k.length-1," * -").concat(u,")"));break}var B=[];if(h){var V=k[0].width,L=S.width;B.push("scale(".concat((le(L)?L/V:1)/V,")"))}return P&&B.push("rotate(".concat(P,", ").concat(q,", ").concat(R,")")),B.length&&(M.transform=B.join(" ")),W.createElement("text",X0({},ve(M,!0),{x:q,y:R,className:Ie("recharts-text",T),textAnchor:v,fill:O.includes("url")?s2:O}),k.map(function(D,G){var C=D.words.join($?"":" ");return W.createElement("tspan",{x:q,dy:G===0?U:u,key:"".concat(C,"-").concat(G)},C)}))};function Sa(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function T5(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Px(t){let e,r,n;t.length!==2?(e=Sa,r=(u,d)=>Sa(t(u),d),n=(u,d)=>t(u)-d):(e=t===Sa||t===T5?t:C5,r=t,n=t);function a(u,d,m=0,p=u.length){if(m<p){if(e(d,d)!==0)return p;do{const h=m+p>>>1;r(u[h],d)<0?m=h+1:p=h}while(m<p)}return m}function o(u,d,m=0,p=u.length){if(m<p){if(e(d,d)!==0)return p;do{const h=m+p>>>1;r(u[h],d)<=0?m=h+1:p=h}while(m<p)}return m}function c(u,d,m=0,p=u.length){const h=a(u,d,m,p-1);return h>m&&n(u[h-1],d)>-n(u[h],d)?h-1:h}return{left:a,center:c,right:o}}function C5(){return 0}function KP(t){return t===null?NaN:+t}function*I5(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const M5=Px(Sa),Ql=M5.right;Px(KP).center;class o2 extends Map{constructor(e,r=$5){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,a]of e)this.set(n,a)}get(e){return super.get(l2(this,e))}has(e){return super.has(l2(this,e))}set(e,r){return super.set(R5(this,e),r)}delete(e){return super.delete(D5(this,e))}}function l2({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function R5({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function D5({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function $5(t){return t!==null&&typeof t=="object"?t.valueOf():t}function L5(t=Sa){if(t===Sa)return YP;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function YP(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const F5=Math.sqrt(50),B5=Math.sqrt(10),z5=Math.sqrt(2);function Gu(t,e,r){const n=(e-t)/Math.max(0,r),a=Math.floor(Math.log10(n)),o=n/Math.pow(10,a),c=o>=F5?10:o>=B5?5:o>=z5?2:1;let u,d,m;return a<0?(m=Math.pow(10,-a)/c,u=Math.round(t*m),d=Math.round(e*m),u/m<t&&++u,d/m>e&&--d,m=-m):(m=Math.pow(10,a)*c,u=Math.round(t/m),d=Math.round(e/m),u*m<t&&++u,d*m>e&&--d),d<u&&.5<=r&&r<2?Gu(t,e,r*2):[u,d,m]}function Q0(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[a,o,c]=n?Gu(e,t,r):Gu(t,e,r);if(!(o>=a))return[];const u=o-a+1,d=new Array(u);if(n)if(c<0)for(let m=0;m<u;++m)d[m]=(o-m)/-c;else for(let m=0;m<u;++m)d[m]=(o-m)*c;else if(c<0)for(let m=0;m<u;++m)d[m]=(a+m)/-c;else for(let m=0;m<u;++m)d[m]=(a+m)*c;return d}function Z0(t,e,r){return e=+e,t=+t,r=+r,Gu(t,e,r)[2]}function J0(t,e,r){e=+e,t=+t,r=+r;const n=e<t,a=n?Z0(e,t,r):Z0(t,e,r);return(n?-1:1)*(a<0?1/-a:a)}function c2(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function u2(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function XP(t,e,r=0,n=1/0,a){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(a=a===void 0?YP:L5(a);n>r;){if(n-r>600){const d=n-r+1,m=e-r+1,p=Math.log(d),h=.5*Math.exp(2*p/3),y=.5*Math.sqrt(p*h*(d-h)/d)*(m-d/2<0?-1:1),v=Math.max(r,Math.floor(e-m*h/d+y)),w=Math.min(n,Math.floor(e+(d-m)*h/d+y));XP(t,e,v,w,a)}const o=t[e];let c=r,u=n;for(Uo(t,r,e),a(t[n],o)>0&&Uo(t,r,n);c<u;){for(Uo(t,c,u),++c,--u;a(t[c],o)<0;)++c;for(;a(t[u],o)>0;)--u}a(t[r],o)===0?Uo(t,r,u):(++u,Uo(t,u,n)),u<=e&&(r=u+1),e<=u&&(n=u-1)}return t}function Uo(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function q5(t,e,r){if(t=Float64Array.from(I5(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return u2(t);if(e>=1)return c2(t);var n,a=(n-1)*e,o=Math.floor(a),c=c2(XP(t,o).subarray(0,o+1)),u=u2(t.subarray(o+1));return c+(u-c)*(a-o)}}function U5(t,e,r=KP){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,a=(n-1)*e,o=Math.floor(a),c=+r(t[o],o,t),u=+r(t[o+1],o+1,t);return c+(u-c)*(a-o)}}function W5(t,e,r){t=+t,e=+e,r=(a=arguments.length)<2?(e=t,t=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((e-t)/r))|0,o=new Array(a);++n<a;)o[n]=t+n*r;return o}function Wr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Yn(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const ev=Symbol("implicit");function Ex(){var t=new o2,e=[],r=[],n=ev;function a(o){let c=t.get(o);if(c===void 0){if(n!==ev)return n;t.set(o,c=e.push(o)-1)}return r[c%r.length]}return a.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new o2;for(const c of o)t.has(c)||t.set(c,e.push(c)-1);return a},a.range=function(o){return arguments.length?(r=Array.from(o),a):r.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.copy=function(){return Ex(e,r).unknown(n)},Wr.apply(a,arguments),a}function wl(){var t=Ex().unknown(void 0),e=t.domain,r=t.range,n=0,a=1,o,c,u=!1,d=0,m=0,p=.5;delete t.unknown;function h(){var y=e().length,v=a<n,w=v?a:n,b=v?n:a;o=(b-w)/Math.max(1,y-d+m*2),u&&(o=Math.floor(o)),w+=(b-w-o*(y-d))*p,c=o*(1-d),u&&(w=Math.round(w),c=Math.round(c));var j=W5(y).map(function(O){return w+o*O});return r(v?j.reverse():j)}return t.domain=function(y){return arguments.length?(e(y),h()):e()},t.range=function(y){return arguments.length?([n,a]=y,n=+n,a=+a,h()):[n,a]},t.rangeRound=function(y){return[n,a]=y,n=+n,a=+a,u=!0,h()},t.bandwidth=function(){return c},t.step=function(){return o},t.round=function(y){return arguments.length?(u=!!y,h()):u},t.padding=function(y){return arguments.length?(d=Math.min(1,m=+y),h()):d},t.paddingInner=function(y){return arguments.length?(d=Math.min(1,y),h()):d},t.paddingOuter=function(y){return arguments.length?(m=+y,h()):m},t.align=function(y){return arguments.length?(p=Math.max(0,Math.min(1,y)),h()):p},t.copy=function(){return wl(e(),[n,a]).round(u).paddingInner(d).paddingOuter(m).align(p)},Wr.apply(h(),arguments)}function QP(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return QP(e())},t}function nl(){return QP(wl.apply(null,arguments).paddingInner(1))}function Tx(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function ZP(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function Zl(){}var jl=.7,Vu=1/jl,cs="\\s*([+-]?\\d+)\\s*",Sl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",bn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",H5=/^#([0-9a-f]{3,8})$/,G5=new RegExp(`^rgb\\(${cs},${cs},${cs}\\)$`),V5=new RegExp(`^rgb\\(${bn},${bn},${bn}\\)$`),K5=new RegExp(`^rgba\\(${cs},${cs},${cs},${Sl}\\)$`),Y5=new RegExp(`^rgba\\(${bn},${bn},${bn},${Sl}\\)$`),X5=new RegExp(`^hsl\\(${Sl},${bn},${bn}\\)$`),Q5=new RegExp(`^hsla\\(${Sl},${bn},${bn},${Sl}\\)$`),d2={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Tx(Zl,_l,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:f2,formatHex:f2,formatHex8:Z5,formatHsl:J5,formatRgb:m2,toString:m2});function f2(){return this.rgb().formatHex()}function Z5(){return this.rgb().formatHex8()}function J5(){return JP(this).formatHsl()}function m2(){return this.rgb().formatRgb()}function _l(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=H5.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?h2(e):r===3?new pr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?bu(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?bu(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=G5.exec(t))?new pr(e[1],e[2],e[3],1):(e=V5.exec(t))?new pr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=K5.exec(t))?bu(e[1],e[2],e[3],e[4]):(e=Y5.exec(t))?bu(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=X5.exec(t))?y2(e[1],e[2]/100,e[3]/100,1):(e=Q5.exec(t))?y2(e[1],e[2]/100,e[3]/100,e[4]):d2.hasOwnProperty(t)?h2(d2[t]):t==="transparent"?new pr(NaN,NaN,NaN,0):null}function h2(t){return new pr(t>>16&255,t>>8&255,t&255,1)}function bu(t,e,r,n){return n<=0&&(t=e=r=NaN),new pr(t,e,r,n)}function e6(t){return t instanceof Zl||(t=_l(t)),t?(t=t.rgb(),new pr(t.r,t.g,t.b,t.opacity)):new pr}function tv(t,e,r,n){return arguments.length===1?e6(t):new pr(t,e,r,n??1)}function pr(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}Tx(pr,tv,ZP(Zl,{brighter(t){return t=t==null?Vu:Math.pow(Vu,t),new pr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?jl:Math.pow(jl,t),new pr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new pr(ai(this.r),ai(this.g),ai(this.b),Ku(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:p2,formatHex:p2,formatHex8:t6,formatRgb:g2,toString:g2}));function p2(){return`#${ei(this.r)}${ei(this.g)}${ei(this.b)}`}function t6(){return`#${ei(this.r)}${ei(this.g)}${ei(this.b)}${ei((isNaN(this.opacity)?1:this.opacity)*255)}`}function g2(){const t=Ku(this.opacity);return`${t===1?"rgb(":"rgba("}${ai(this.r)}, ${ai(this.g)}, ${ai(this.b)}${t===1?")":`, ${t})`}`}function Ku(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ai(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function ei(t){return t=ai(t),(t<16?"0":"")+t.toString(16)}function y2(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new nn(t,e,r,n)}function JP(t){if(t instanceof nn)return new nn(t.h,t.s,t.l,t.opacity);if(t instanceof Zl||(t=_l(t)),!t)return new nn;if(t instanceof nn)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,a=Math.min(e,r,n),o=Math.max(e,r,n),c=NaN,u=o-a,d=(o+a)/2;return u?(e===o?c=(r-n)/u+(r<n)*6:r===o?c=(n-e)/u+2:c=(e-r)/u+4,u/=d<.5?o+a:2-o-a,c*=60):u=d>0&&d<1?0:c,new nn(c,u,d,t.opacity)}function r6(t,e,r,n){return arguments.length===1?JP(t):new nn(t,e,r,n??1)}function nn(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}Tx(nn,r6,ZP(Zl,{brighter(t){return t=t==null?Vu:Math.pow(Vu,t),new nn(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?jl:Math.pow(jl,t),new nn(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,a=2*r-n;return new pr(Ay(t>=240?t-240:t+120,a,n),Ay(t,a,n),Ay(t<120?t+240:t-120,a,n),this.opacity)},clamp(){return new nn(v2(this.h),wu(this.s),wu(this.l),Ku(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Ku(this.opacity);return`${t===1?"hsl(":"hsla("}${v2(this.h)}, ${wu(this.s)*100}%, ${wu(this.l)*100}%${t===1?")":`, ${t})`}`}}));function v2(t){return t=(t||0)%360,t<0?t+360:t}function wu(t){return Math.max(0,Math.min(1,t||0))}function Ay(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const Cx=t=>()=>t;function n6(t,e){return function(r){return t+r*e}}function a6(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function i6(t){return(t=+t)==1?eE:function(e,r){return r-e?a6(e,r,t):Cx(isNaN(e)?r:e)}}function eE(t,e){var r=e-t;return r?n6(t,r):Cx(isNaN(t)?e:t)}const x2=(function t(e){var r=i6(e);function n(a,o){var c=r((a=tv(a)).r,(o=tv(o)).r),u=r(a.g,o.g),d=r(a.b,o.b),m=eE(a.opacity,o.opacity);return function(p){return a.r=c(p),a.g=u(p),a.b=d(p),a.opacity=m(p),a+""}}return n.gamma=t,n})(1);function s6(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),a;return function(o){for(a=0;a<r;++a)n[a]=t[a]*(1-o)+e[a]*o;return n}}function o6(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function l6(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,a=new Array(n),o=new Array(r),c;for(c=0;c<n;++c)a[c]=Ks(t[c],e[c]);for(;c<r;++c)o[c]=e[c];return function(u){for(c=0;c<n;++c)o[c]=a[c](u);return o}}function c6(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function Yu(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function u6(t,e){var r={},n={},a;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(a in e)a in t?r[a]=Ks(t[a],e[a]):n[a]=e[a];return function(o){for(a in r)n[a]=r[a](o);return n}}var rv=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Py=new RegExp(rv.source,"g");function d6(t){return function(){return t}}function f6(t){return function(e){return t(e)+""}}function m6(t,e){var r=rv.lastIndex=Py.lastIndex=0,n,a,o,c=-1,u=[],d=[];for(t=t+"",e=e+"";(n=rv.exec(t))&&(a=Py.exec(e));)(o=a.index)>r&&(o=e.slice(r,o),u[c]?u[c]+=o:u[++c]=o),(n=n[0])===(a=a[0])?u[c]?u[c]+=a:u[++c]=a:(u[++c]=null,d.push({i:c,x:Yu(n,a)})),r=Py.lastIndex;return r<e.length&&(o=e.slice(r),u[c]?u[c]+=o:u[++c]=o),u.length<2?d[0]?f6(d[0].x):d6(e):(e=d.length,function(m){for(var p=0,h;p<e;++p)u[(h=d[p]).i]=h.x(m);return u.join("")})}function Ks(t,e){var r=typeof e,n;return e==null||r==="boolean"?Cx(e):(r==="number"?Yu:r==="string"?(n=_l(e))?(e=n,x2):m6:e instanceof _l?x2:e instanceof Date?c6:o6(e)?s6:Array.isArray(e)?l6:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?u6:Yu)(t,e)}function Ix(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function h6(t,e){e===void 0&&(e=t,t=Ks);for(var r=0,n=e.length-1,a=e[0],o=new Array(n<0?0:n);r<n;)o[r]=t(a,a=e[++r]);return function(c){var u=Math.max(0,Math.min(n-1,Math.floor(c*=n)));return o[u](c-u)}}function p6(t){return function(){return t}}function Xu(t){return+t}var b2=[0,1];function ir(t){return t}function nv(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:p6(isNaN(e)?NaN:.5)}function g6(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function y6(t,e,r){var n=t[0],a=t[1],o=e[0],c=e[1];return a<n?(n=nv(a,n),o=r(c,o)):(n=nv(n,a),o=r(o,c)),function(u){return o(n(u))}}function v6(t,e,r){var n=Math.min(t.length,e.length)-1,a=new Array(n),o=new Array(n),c=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++c<n;)a[c]=nv(t[c],t[c+1]),o[c]=r(e[c],e[c+1]);return function(u){var d=Ql(t,u,1,n)-1;return o[d](a[d](u))}}function Jl(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Qd(){var t=b2,e=b2,r=Ks,n,a,o,c=ir,u,d,m;function p(){var y=Math.min(t.length,e.length);return c!==ir&&(c=g6(t[0],t[y-1])),u=y>2?v6:y6,d=m=null,h}function h(y){return y==null||isNaN(y=+y)?o:(d||(d=u(t.map(n),e,r)))(n(c(y)))}return h.invert=function(y){return c(a((m||(m=u(e,t.map(n),Yu)))(y)))},h.domain=function(y){return arguments.length?(t=Array.from(y,Xu),p()):t.slice()},h.range=function(y){return arguments.length?(e=Array.from(y),p()):e.slice()},h.rangeRound=function(y){return e=Array.from(y),r=Ix,p()},h.clamp=function(y){return arguments.length?(c=y?!0:ir,p()):c!==ir},h.interpolate=function(y){return arguments.length?(r=y,p()):r},h.unknown=function(y){return arguments.length?(o=y,h):o},function(y,v){return n=y,a=v,p()}}function Mx(){return Qd()(ir,ir)}function x6(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Qu(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function vs(t){return t=Qu(Math.abs(t)),t?t[1]:NaN}function b6(t,e){return function(r,n){for(var a=r.length,o=[],c=0,u=t[0],d=0;a>0&&u>0&&(d+u+1>n&&(u=Math.max(1,n-d)),o.push(r.substring(a-=u,a+u)),!((d+=u+1)>n));)u=t[c=(c+1)%t.length];return o.reverse().join(e)}}function w6(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var j6=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Nl(t){if(!(e=j6.exec(t)))throw new Error("invalid format: "+t);var e;return new Rx({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Nl.prototype=Rx.prototype;function Rx(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Rx.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function S6(t){e:for(var e=t.length,r=1,n=-1,a;r<e;++r)switch(t[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(a+1):t}var tE;function _6(t,e){var r=Qu(t,e);if(!r)return t+"";var n=r[0],a=r[1],o=a-(tE=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,c=n.length;return o===c?n:o>c?n+new Array(o-c+1).join("0"):o>0?n.slice(0,o)+"."+n.slice(o):"0."+new Array(1-o).join("0")+Qu(t,Math.max(0,e+o-1))[0]}function w2(t,e){var r=Qu(t,e);if(!r)return t+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const j2={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:x6,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>w2(t*100,e),r:w2,s:_6,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function S2(t){return t}var _2=Array.prototype.map,N2=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function N6(t){var e=t.grouping===void 0||t.thousands===void 0?S2:b6(_2.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",a=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?S2:w6(_2.call(t.numerals,String)),c=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"":t.minus+"",d=t.nan===void 0?"NaN":t.nan+"";function m(h){h=Nl(h);var y=h.fill,v=h.align,w=h.sign,b=h.symbol,j=h.zero,O=h.width,S=h.comma,k=h.precision,A=h.trim,N=h.type;N==="n"?(S=!0,N="g"):j2[N]||(k===void 0&&(k=12),A=!0,N="g"),(j||y==="0"&&v==="=")&&(j=!0,y="0",v="=");var P=b==="$"?r:b==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",T=b==="$"?n:/[%p]/.test(N)?c:"",$=j2[N],M=/[defgprs%]/.test(N);k=k===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,k)):Math.max(0,Math.min(20,k));function q(R){var U=P,B=T,V,L,D;if(N==="c")B=$(R)+B,R="";else{R=+R;var G=R<0||1/R<0;if(R=isNaN(R)?d:$(Math.abs(R),k),A&&(R=S6(R)),G&&+R==0&&w!=="+"&&(G=!1),U=(G?w==="("?w:u:w==="-"||w==="("?"":w)+U,B=(N==="s"?N2[8+tE/3]:"")+B+(G&&w==="("?")":""),M){for(V=-1,L=R.length;++V<L;)if(D=R.charCodeAt(V),48>D||D>57){B=(D===46?a+R.slice(V+1):R.slice(V))+B,R=R.slice(0,V);break}}}S&&!j&&(R=e(R,1/0));var C=U.length+R.length+B.length,F=C<O?new Array(O-C+1).join(y):"";switch(S&&j&&(R=e(F+R,F.length?O-B.length:1/0),F=""),v){case"<":R=U+R+B+F;break;case"=":R=U+F+R+B;break;case"^":R=F.slice(0,C=F.length>>1)+U+R+B+F.slice(C);break;default:R=F+U+R+B;break}return o(R)}return q.toString=function(){return h+""},q}function p(h,y){var v=m((h=Nl(h),h.type="f",h)),w=Math.max(-8,Math.min(8,Math.floor(vs(y)/3)))*3,b=Math.pow(10,-w),j=N2[8+w/3];return function(O){return v(b*O)+j}}return{format:m,formatPrefix:p}}var ju,Dx,rE;k6({thousands:",",grouping:[3],currency:["$",""]});function k6(t){return ju=N6(t),Dx=ju.format,rE=ju.formatPrefix,ju}function O6(t){return Math.max(0,-vs(Math.abs(t)))}function A6(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(vs(e)/3)))*3-vs(Math.abs(t)))}function P6(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,vs(e)-vs(t))+1}function nE(t,e,r,n){var a=J0(t,e,r),o;switch(n=Nl(n??",f"),n.type){case"s":{var c=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(o=A6(a,c))&&(n.precision=o),rE(n,c)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(o=P6(a,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=o-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(o=O6(a))&&(n.precision=o-(n.type==="%")*2);break}}return Dx(n)}function Ta(t){var e=t.domain;return t.ticks=function(r){var n=e();return Q0(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var a=e();return nE(a[0],a[a.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),a=0,o=n.length-1,c=n[a],u=n[o],d,m,p=10;for(u<c&&(m=c,c=u,u=m,m=a,a=o,o=m);p-- >0;){if(m=Z0(c,u,r),m===d)return n[a]=c,n[o]=u,e(n);if(m>0)c=Math.floor(c/m)*m,u=Math.ceil(u/m)*m;else if(m<0)c=Math.ceil(c*m)/m,u=Math.floor(u*m)/m;else break;d=m}return t},t}function Zu(){var t=Mx();return t.copy=function(){return Jl(t,Zu())},Wr.apply(t,arguments),Ta(t)}function aE(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,Xu),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return aE(t).unknown(e)},t=arguments.length?Array.from(t,Xu):[0,1],Ta(r)}function iE(t,e){t=t.slice();var r=0,n=t.length-1,a=t[r],o=t[n],c;return o<a&&(c=r,r=n,n=c,c=a,a=o,o=c),t[r]=e.floor(a),t[n]=e.ceil(o),t}function k2(t){return Math.log(t)}function O2(t){return Math.exp(t)}function E6(t){return-Math.log(-t)}function T6(t){return-Math.exp(-t)}function C6(t){return isFinite(t)?+("1e"+t):t<0?0:t}function I6(t){return t===10?C6:t===Math.E?Math.exp:e=>Math.pow(t,e)}function M6(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function A2(t){return(e,r)=>-t(-e,r)}function $x(t){const e=t(k2,O2),r=e.domain;let n=10,a,o;function c(){return a=M6(n),o=I6(n),r()[0]<0?(a=A2(a),o=A2(o),t(E6,T6)):t(k2,O2),e}return e.base=function(u){return arguments.length?(n=+u,c()):n},e.domain=function(u){return arguments.length?(r(u),c()):r()},e.ticks=u=>{const d=r();let m=d[0],p=d[d.length-1];const h=p<m;h&&([m,p]=[p,m]);let y=a(m),v=a(p),w,b;const j=u==null?10:+u;let O=[];if(!(n%1)&&v-y<j){if(y=Math.floor(y),v=Math.ceil(v),m>0){for(;y<=v;++y)for(w=1;w<n;++w)if(b=y<0?w/o(-y):w*o(y),!(b<m)){if(b>p)break;O.push(b)}}else for(;y<=v;++y)for(w=n-1;w>=1;--w)if(b=y>0?w/o(-y):w*o(y),!(b<m)){if(b>p)break;O.push(b)}O.length*2<j&&(O=Q0(m,p,j))}else O=Q0(y,v,Math.min(v-y,j)).map(o);return h?O.reverse():O},e.tickFormat=(u,d)=>{if(u==null&&(u=10),d==null&&(d=n===10?"s":","),typeof d!="function"&&(!(n%1)&&(d=Nl(d)).precision==null&&(d.trim=!0),d=Dx(d)),u===1/0)return d;const m=Math.max(1,n*u/e.ticks().length);return p=>{let h=p/o(Math.round(a(p)));return h*n<n-.5&&(h*=n),h<=m?d(p):""}},e.nice=()=>r(iE(r(),{floor:u=>o(Math.floor(a(u))),ceil:u=>o(Math.ceil(a(u)))})),e}function sE(){const t=$x(Qd()).domain([1,10]);return t.copy=()=>Jl(t,sE()).base(t.base()),Wr.apply(t,arguments),t}function P2(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function E2(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function Lx(t){var e=1,r=t(P2(e),E2(e));return r.constant=function(n){return arguments.length?t(P2(e=+n),E2(e)):e},Ta(r)}function oE(){var t=Lx(Qd());return t.copy=function(){return Jl(t,oE()).constant(t.constant())},Wr.apply(t,arguments)}function T2(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function R6(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function D6(t){return t<0?-t*t:t*t}function Fx(t){var e=t(ir,ir),r=1;function n(){return r===1?t(ir,ir):r===.5?t(R6,D6):t(T2(r),T2(1/r))}return e.exponent=function(a){return arguments.length?(r=+a,n()):r},Ta(e)}function Bx(){var t=Fx(Qd());return t.copy=function(){return Jl(t,Bx()).exponent(t.exponent())},Wr.apply(t,arguments),t}function $6(){return Bx.apply(null,arguments).exponent(.5)}function C2(t){return Math.sign(t)*t*t}function L6(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function lE(){var t=Mx(),e=[0,1],r=!1,n;function a(o){var c=L6(t(o));return isNaN(c)?n:r?Math.round(c):c}return a.invert=function(o){return t.invert(C2(o))},a.domain=function(o){return arguments.length?(t.domain(o),a):t.domain()},a.range=function(o){return arguments.length?(t.range((e=Array.from(o,Xu)).map(C2)),a):e.slice()},a.rangeRound=function(o){return a.range(o).round(!0)},a.round=function(o){return arguments.length?(r=!!o,a):r},a.clamp=function(o){return arguments.length?(t.clamp(o),a):t.clamp()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.copy=function(){return lE(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},Wr.apply(a,arguments),Ta(a)}function cE(){var t=[],e=[],r=[],n;function a(){var c=0,u=Math.max(1,e.length);for(r=new Array(u-1);++c<u;)r[c-1]=U5(t,c/u);return o}function o(c){return c==null||isNaN(c=+c)?n:e[Ql(r,c)]}return o.invertExtent=function(c){var u=e.indexOf(c);return u<0?[NaN,NaN]:[u>0?r[u-1]:t[0],u<r.length?r[u]:t[t.length-1]]},o.domain=function(c){if(!arguments.length)return t.slice();t=[];for(let u of c)u!=null&&!isNaN(u=+u)&&t.push(u);return t.sort(Sa),a()},o.range=function(c){return arguments.length?(e=Array.from(c),a()):e.slice()},o.unknown=function(c){return arguments.length?(n=c,o):n},o.quantiles=function(){return r.slice()},o.copy=function(){return cE().domain(t).range(e).unknown(n)},Wr.apply(o,arguments)}function uE(){var t=0,e=1,r=1,n=[.5],a=[0,1],o;function c(d){return d!=null&&d<=d?a[Ql(n,d,0,r)]:o}function u(){var d=-1;for(n=new Array(r);++d<r;)n[d]=((d+1)*e-(d-r)*t)/(r+1);return c}return c.domain=function(d){return arguments.length?([t,e]=d,t=+t,e=+e,u()):[t,e]},c.range=function(d){return arguments.length?(r=(a=Array.from(d)).length-1,u()):a.slice()},c.invertExtent=function(d){var m=a.indexOf(d);return m<0?[NaN,NaN]:m<1?[t,n[0]]:m>=r?[n[r-1],e]:[n[m-1],n[m]]},c.unknown=function(d){return arguments.length&&(o=d),c},c.thresholds=function(){return n.slice()},c.copy=function(){return uE().domain([t,e]).range(a).unknown(o)},Wr.apply(Ta(c),arguments)}function dE(){var t=[.5],e=[0,1],r,n=1;function a(o){return o!=null&&o<=o?e[Ql(t,o,0,n)]:r}return a.domain=function(o){return arguments.length?(t=Array.from(o),n=Math.min(t.length,e.length-1),a):t.slice()},a.range=function(o){return arguments.length?(e=Array.from(o),n=Math.min(t.length,e.length-1),a):e.slice()},a.invertExtent=function(o){var c=e.indexOf(o);return[t[c-1],t[c]]},a.unknown=function(o){return arguments.length?(r=o,a):r},a.copy=function(){return dE().domain(t).range(e).unknown(r)},Wr.apply(a,arguments)}const Ey=new Date,Ty=new Date;function Et(t,e,r,n){function a(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return a.floor=o=>(t(o=new Date(+o)),o),a.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),a.round=o=>{const c=a(o),u=a.ceil(o);return o-c<u-o?c:u},a.offset=(o,c)=>(e(o=new Date(+o),c==null?1:Math.floor(c)),o),a.range=(o,c,u)=>{const d=[];if(o=a.ceil(o),u=u==null?1:Math.floor(u),!(o<c)||!(u>0))return d;let m;do d.push(m=new Date(+o)),e(o,u),t(o);while(m<o&&o<c);return d},a.filter=o=>Et(c=>{if(c>=c)for(;t(c),!o(c);)c.setTime(c-1)},(c,u)=>{if(c>=c)if(u<0)for(;++u<=0;)for(;e(c,-1),!o(c););else for(;--u>=0;)for(;e(c,1),!o(c););}),r&&(a.count=(o,c)=>(Ey.setTime(+o),Ty.setTime(+c),t(Ey),t(Ty),Math.floor(r(Ey,Ty))),a.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?a.filter(n?c=>n(c)%o===0:c=>a.count(0,c)%o===0):a)),a}const Ju=Et(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Ju.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Et(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):Ju);Ju.range;const $n=1e3,zr=$n*60,Ln=zr*60,qn=Ln*24,zx=qn*7,I2=qn*30,Cy=qn*365,ti=Et(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*$n)},(t,e)=>(e-t)/$n,t=>t.getUTCSeconds());ti.range;const qx=Et(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*$n)},(t,e)=>{t.setTime(+t+e*zr)},(t,e)=>(e-t)/zr,t=>t.getMinutes());qx.range;const Ux=Et(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*zr)},(t,e)=>(e-t)/zr,t=>t.getUTCMinutes());Ux.range;const Wx=Et(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*$n-t.getMinutes()*zr)},(t,e)=>{t.setTime(+t+e*Ln)},(t,e)=>(e-t)/Ln,t=>t.getHours());Wx.range;const Hx=Et(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Ln)},(t,e)=>(e-t)/Ln,t=>t.getUTCHours());Hx.range;const ec=Et(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*zr)/qn,t=>t.getDate()-1);ec.range;const Zd=Et(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/qn,t=>t.getUTCDate()-1);Zd.range;const fE=Et(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/qn,t=>Math.floor(t/qn));fE.range;function vi(t){return Et(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*zr)/zx)}const Jd=vi(0),ed=vi(1),F6=vi(2),B6=vi(3),xs=vi(4),z6=vi(5),q6=vi(6);Jd.range;ed.range;F6.range;B6.range;xs.range;z6.range;q6.range;function xi(t){return Et(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/zx)}const ef=xi(0),td=xi(1),U6=xi(2),W6=xi(3),bs=xi(4),H6=xi(5),G6=xi(6);ef.range;td.range;U6.range;W6.range;bs.range;H6.range;G6.range;const Gx=Et(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());Gx.range;const Vx=Et(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());Vx.range;const Un=Et(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Un.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Et(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});Un.range;const Wn=Et(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Wn.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Et(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});Wn.range;function mE(t,e,r,n,a,o){const c=[[ti,1,$n],[ti,5,5*$n],[ti,15,15*$n],[ti,30,30*$n],[o,1,zr],[o,5,5*zr],[o,15,15*zr],[o,30,30*zr],[a,1,Ln],[a,3,3*Ln],[a,6,6*Ln],[a,12,12*Ln],[n,1,qn],[n,2,2*qn],[r,1,zx],[e,1,I2],[e,3,3*I2],[t,1,Cy]];function u(m,p,h){const y=p<m;y&&([m,p]=[p,m]);const v=h&&typeof h.range=="function"?h:d(m,p,h),w=v?v.range(m,+p+1):[];return y?w.reverse():w}function d(m,p,h){const y=Math.abs(p-m)/h,v=Px(([,,j])=>j).right(c,y);if(v===c.length)return t.every(J0(m/Cy,p/Cy,h));if(v===0)return Ju.every(Math.max(J0(m,p,h),1));const[w,b]=c[y/c[v-1][2]<c[v][2]/y?v-1:v];return w.every(b)}return[u,d]}const[V6,K6]=mE(Wn,Vx,ef,fE,Hx,Ux),[Y6,X6]=mE(Un,Gx,Jd,ec,Wx,qx);function Iy(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function My(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Wo(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function Q6(t){var e=t.dateTime,r=t.date,n=t.time,a=t.periods,o=t.days,c=t.shortDays,u=t.months,d=t.shortMonths,m=Ho(a),p=Go(a),h=Ho(o),y=Go(o),v=Ho(c),w=Go(c),b=Ho(u),j=Go(u),O=Ho(d),S=Go(d),k={a:G,A:C,b:F,B:Q,c:null,d:F2,e:F2,f:bL,g:EL,G:CL,H:yL,I:vL,j:xL,L:hE,m:wL,M:jL,p:z,q:Y,Q:q2,s:U2,S:SL,u:_L,U:NL,V:kL,w:OL,W:AL,x:null,X:null,y:PL,Y:TL,Z:IL,"%":z2},A={a:ne,A:ue,b:we,B:be,c:null,d:B2,e:B2,f:$L,g:VL,G:YL,H:ML,I:RL,j:DL,L:gE,m:LL,M:FL,p:$e,q:Ee,Q:q2,s:U2,S:BL,u:zL,U:qL,V:UL,w:WL,W:HL,x:null,X:null,y:GL,Y:KL,Z:XL,"%":z2},N={a:q,A:R,b:U,B,c:V,d:$2,e:$2,f:mL,g:D2,G:R2,H:L2,I:L2,j:cL,L:fL,m:lL,M:uL,p:M,q:oL,Q:pL,s:gL,S:dL,u:rL,U:nL,V:aL,w:tL,W:iL,x:L,X:D,y:D2,Y:R2,Z:sL,"%":hL};k.x=P(r,k),k.X=P(n,k),k.c=P(e,k),A.x=P(r,A),A.X=P(n,A),A.c=P(e,A);function P(se,fe){return function(Ce){var ie=[],Ve=-1,De=0,ut=se.length,dt,Tt,Hr;for(Ce instanceof Date||(Ce=new Date(+Ce));++Ve<ut;)se.charCodeAt(Ve)===37&&(ie.push(se.slice(De,Ve)),(Tt=M2[dt=se.charAt(++Ve)])!=null?dt=se.charAt(++Ve):Tt=dt==="e"?" ":"0",(Hr=fe[dt])&&(dt=Hr(Ce,Tt)),ie.push(dt),De=Ve+1);return ie.push(se.slice(De,Ve)),ie.join("")}}function T(se,fe){return function(Ce){var ie=Wo(1900,void 0,1),Ve=$(ie,se,Ce+="",0),De,ut;if(Ve!=Ce.length)return null;if("Q"in ie)return new Date(ie.Q);if("s"in ie)return new Date(ie.s*1e3+("L"in ie?ie.L:0));if(fe&&!("Z"in ie)&&(ie.Z=0),"p"in ie&&(ie.H=ie.H%12+ie.p*12),ie.m===void 0&&(ie.m="q"in ie?ie.q:0),"V"in ie){if(ie.V<1||ie.V>53)return null;"w"in ie||(ie.w=1),"Z"in ie?(De=My(Wo(ie.y,0,1)),ut=De.getUTCDay(),De=ut>4||ut===0?td.ceil(De):td(De),De=Zd.offset(De,(ie.V-1)*7),ie.y=De.getUTCFullYear(),ie.m=De.getUTCMonth(),ie.d=De.getUTCDate()+(ie.w+6)%7):(De=Iy(Wo(ie.y,0,1)),ut=De.getDay(),De=ut>4||ut===0?ed.ceil(De):ed(De),De=ec.offset(De,(ie.V-1)*7),ie.y=De.getFullYear(),ie.m=De.getMonth(),ie.d=De.getDate()+(ie.w+6)%7)}else("W"in ie||"U"in ie)&&("w"in ie||(ie.w="u"in ie?ie.u%7:"W"in ie?1:0),ut="Z"in ie?My(Wo(ie.y,0,1)).getUTCDay():Iy(Wo(ie.y,0,1)).getDay(),ie.m=0,ie.d="W"in ie?(ie.w+6)%7+ie.W*7-(ut+5)%7:ie.w+ie.U*7-(ut+6)%7);return"Z"in ie?(ie.H+=ie.Z/100|0,ie.M+=ie.Z%100,My(ie)):Iy(ie)}}function $(se,fe,Ce,ie){for(var Ve=0,De=fe.length,ut=Ce.length,dt,Tt;Ve<De;){if(ie>=ut)return-1;if(dt=fe.charCodeAt(Ve++),dt===37){if(dt=fe.charAt(Ve++),Tt=N[dt in M2?fe.charAt(Ve++):dt],!Tt||(ie=Tt(se,Ce,ie))<0)return-1}else if(dt!=Ce.charCodeAt(ie++))return-1}return ie}function M(se,fe,Ce){var ie=m.exec(fe.slice(Ce));return ie?(se.p=p.get(ie[0].toLowerCase()),Ce+ie[0].length):-1}function q(se,fe,Ce){var ie=v.exec(fe.slice(Ce));return ie?(se.w=w.get(ie[0].toLowerCase()),Ce+ie[0].length):-1}function R(se,fe,Ce){var ie=h.exec(fe.slice(Ce));return ie?(se.w=y.get(ie[0].toLowerCase()),Ce+ie[0].length):-1}function U(se,fe,Ce){var ie=O.exec(fe.slice(Ce));return ie?(se.m=S.get(ie[0].toLowerCase()),Ce+ie[0].length):-1}function B(se,fe,Ce){var ie=b.exec(fe.slice(Ce));return ie?(se.m=j.get(ie[0].toLowerCase()),Ce+ie[0].length):-1}function V(se,fe,Ce){return $(se,e,fe,Ce)}function L(se,fe,Ce){return $(se,r,fe,Ce)}function D(se,fe,Ce){return $(se,n,fe,Ce)}function G(se){return c[se.getDay()]}function C(se){return o[se.getDay()]}function F(se){return d[se.getMonth()]}function Q(se){return u[se.getMonth()]}function z(se){return a[+(se.getHours()>=12)]}function Y(se){return 1+~~(se.getMonth()/3)}function ne(se){return c[se.getUTCDay()]}function ue(se){return o[se.getUTCDay()]}function we(se){return d[se.getUTCMonth()]}function be(se){return u[se.getUTCMonth()]}function $e(se){return a[+(se.getUTCHours()>=12)]}function Ee(se){return 1+~~(se.getUTCMonth()/3)}return{format:function(se){var fe=P(se+="",k);return fe.toString=function(){return se},fe},parse:function(se){var fe=T(se+="",!1);return fe.toString=function(){return se},fe},utcFormat:function(se){var fe=P(se+="",A);return fe.toString=function(){return se},fe},utcParse:function(se){var fe=T(se+="",!0);return fe.toString=function(){return se},fe}}}var M2={"-":"",_:" ",0:"0"},$t=/^\s*\d+/,Z6=/^%/,J6=/[\\^$*+?|[\]().{}]/g;function Be(t,e,r){var n=t<0?"-":"",a=(n?-t:t)+"",o=a.length;return n+(o<r?new Array(r-o+1).join(e)+a:a)}function eL(t){return t.replace(J6,"\\$&")}function Ho(t){return new RegExp("^(?:"+t.map(eL).join("|")+")","i")}function Go(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function tL(t,e,r){var n=$t.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function rL(t,e,r){var n=$t.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function nL(t,e,r){var n=$t.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function aL(t,e,r){var n=$t.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function iL(t,e,r){var n=$t.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function R2(t,e,r){var n=$t.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function D2(t,e,r){var n=$t.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function sL(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function oL(t,e,r){var n=$t.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function lL(t,e,r){var n=$t.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function $2(t,e,r){var n=$t.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function cL(t,e,r){var n=$t.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function L2(t,e,r){var n=$t.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function uL(t,e,r){var n=$t.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function dL(t,e,r){var n=$t.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function fL(t,e,r){var n=$t.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function mL(t,e,r){var n=$t.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function hL(t,e,r){var n=Z6.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function pL(t,e,r){var n=$t.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function gL(t,e,r){var n=$t.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function F2(t,e){return Be(t.getDate(),e,2)}function yL(t,e){return Be(t.getHours(),e,2)}function vL(t,e){return Be(t.getHours()%12||12,e,2)}function xL(t,e){return Be(1+ec.count(Un(t),t),e,3)}function hE(t,e){return Be(t.getMilliseconds(),e,3)}function bL(t,e){return hE(t,e)+"000"}function wL(t,e){return Be(t.getMonth()+1,e,2)}function jL(t,e){return Be(t.getMinutes(),e,2)}function SL(t,e){return Be(t.getSeconds(),e,2)}function _L(t){var e=t.getDay();return e===0?7:e}function NL(t,e){return Be(Jd.count(Un(t)-1,t),e,2)}function pE(t){var e=t.getDay();return e>=4||e===0?xs(t):xs.ceil(t)}function kL(t,e){return t=pE(t),Be(xs.count(Un(t),t)+(Un(t).getDay()===4),e,2)}function OL(t){return t.getDay()}function AL(t,e){return Be(ed.count(Un(t)-1,t),e,2)}function PL(t,e){return Be(t.getFullYear()%100,e,2)}function EL(t,e){return t=pE(t),Be(t.getFullYear()%100,e,2)}function TL(t,e){return Be(t.getFullYear()%1e4,e,4)}function CL(t,e){var r=t.getDay();return t=r>=4||r===0?xs(t):xs.ceil(t),Be(t.getFullYear()%1e4,e,4)}function IL(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Be(e/60|0,"0",2)+Be(e%60,"0",2)}function B2(t,e){return Be(t.getUTCDate(),e,2)}function ML(t,e){return Be(t.getUTCHours(),e,2)}function RL(t,e){return Be(t.getUTCHours()%12||12,e,2)}function DL(t,e){return Be(1+Zd.count(Wn(t),t),e,3)}function gE(t,e){return Be(t.getUTCMilliseconds(),e,3)}function $L(t,e){return gE(t,e)+"000"}function LL(t,e){return Be(t.getUTCMonth()+1,e,2)}function FL(t,e){return Be(t.getUTCMinutes(),e,2)}function BL(t,e){return Be(t.getUTCSeconds(),e,2)}function zL(t){var e=t.getUTCDay();return e===0?7:e}function qL(t,e){return Be(ef.count(Wn(t)-1,t),e,2)}function yE(t){var e=t.getUTCDay();return e>=4||e===0?bs(t):bs.ceil(t)}function UL(t,e){return t=yE(t),Be(bs.count(Wn(t),t)+(Wn(t).getUTCDay()===4),e,2)}function WL(t){return t.getUTCDay()}function HL(t,e){return Be(td.count(Wn(t)-1,t),e,2)}function GL(t,e){return Be(t.getUTCFullYear()%100,e,2)}function VL(t,e){return t=yE(t),Be(t.getUTCFullYear()%100,e,2)}function KL(t,e){return Be(t.getUTCFullYear()%1e4,e,4)}function YL(t,e){var r=t.getUTCDay();return t=r>=4||r===0?bs(t):bs.ceil(t),Be(t.getUTCFullYear()%1e4,e,4)}function XL(){return"+0000"}function z2(){return"%"}function q2(t){return+t}function U2(t){return Math.floor(+t/1e3)}var Ki,vE,xE;QL({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function QL(t){return Ki=Q6(t),vE=Ki.format,Ki.parse,xE=Ki.utcFormat,Ki.utcParse,Ki}function ZL(t){return new Date(t)}function JL(t){return t instanceof Date?+t:+new Date(+t)}function Kx(t,e,r,n,a,o,c,u,d,m){var p=Mx(),h=p.invert,y=p.domain,v=m(".%L"),w=m(":%S"),b=m("%I:%M"),j=m("%I %p"),O=m("%a %d"),S=m("%b %d"),k=m("%B"),A=m("%Y");function N(P){return(d(P)<P?v:u(P)<P?w:c(P)<P?b:o(P)<P?j:n(P)<P?a(P)<P?O:S:r(P)<P?k:A)(P)}return p.invert=function(P){return new Date(h(P))},p.domain=function(P){return arguments.length?y(Array.from(P,JL)):y().map(ZL)},p.ticks=function(P){var T=y();return t(T[0],T[T.length-1],P??10)},p.tickFormat=function(P,T){return T==null?N:m(T)},p.nice=function(P){var T=y();return(!P||typeof P.range!="function")&&(P=e(T[0],T[T.length-1],P??10)),P?y(iE(T,P)):p},p.copy=function(){return Jl(p,Kx(t,e,r,n,a,o,c,u,d,m))},p}function e8(){return Wr.apply(Kx(Y6,X6,Un,Gx,Jd,ec,Wx,qx,ti,vE).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function t8(){return Wr.apply(Kx(V6,K6,Wn,Vx,ef,Zd,Hx,Ux,ti,xE).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function tf(){var t=0,e=1,r,n,a,o,c=ir,u=!1,d;function m(h){return h==null||isNaN(h=+h)?d:c(a===0?.5:(h=(o(h)-r)*a,u?Math.max(0,Math.min(1,h)):h))}m.domain=function(h){return arguments.length?([t,e]=h,r=o(t=+t),n=o(e=+e),a=r===n?0:1/(n-r),m):[t,e]},m.clamp=function(h){return arguments.length?(u=!!h,m):u},m.interpolator=function(h){return arguments.length?(c=h,m):c};function p(h){return function(y){var v,w;return arguments.length?([v,w]=y,c=h(v,w),m):[c(0),c(1)]}}return m.range=p(Ks),m.rangeRound=p(Ix),m.unknown=function(h){return arguments.length?(d=h,m):d},function(h){return o=h,r=h(t),n=h(e),a=r===n?0:1/(n-r),m}}function Ca(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function bE(){var t=Ta(tf()(ir));return t.copy=function(){return Ca(t,bE())},Yn.apply(t,arguments)}function wE(){var t=$x(tf()).domain([1,10]);return t.copy=function(){return Ca(t,wE()).base(t.base())},Yn.apply(t,arguments)}function jE(){var t=Lx(tf());return t.copy=function(){return Ca(t,jE()).constant(t.constant())},Yn.apply(t,arguments)}function Yx(){var t=Fx(tf());return t.copy=function(){return Ca(t,Yx()).exponent(t.exponent())},Yn.apply(t,arguments)}function r8(){return Yx.apply(null,arguments).exponent(.5)}function SE(){var t=[],e=ir;function r(n){if(n!=null&&!isNaN(n=+n))return e((Ql(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let a of n)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(Sa),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,a)=>e(a/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,o)=>q5(t,o/n))},r.copy=function(){return SE(e).domain(t)},Yn.apply(r,arguments)}function rf(){var t=0,e=.5,r=1,n=1,a,o,c,u,d,m=ir,p,h=!1,y;function v(b){return isNaN(b=+b)?y:(b=.5+((b=+p(b))-o)*(n*b<n*o?u:d),m(h?Math.max(0,Math.min(1,b)):b))}v.domain=function(b){return arguments.length?([t,e,r]=b,a=p(t=+t),o=p(e=+e),c=p(r=+r),u=a===o?0:.5/(o-a),d=o===c?0:.5/(c-o),n=o<a?-1:1,v):[t,e,r]},v.clamp=function(b){return arguments.length?(h=!!b,v):h},v.interpolator=function(b){return arguments.length?(m=b,v):m};function w(b){return function(j){var O,S,k;return arguments.length?([O,S,k]=j,m=h6(b,[O,S,k]),v):[m(0),m(.5),m(1)]}}return v.range=w(Ks),v.rangeRound=w(Ix),v.unknown=function(b){return arguments.length?(y=b,v):y},function(b){return p=b,a=b(t),o=b(e),c=b(r),u=a===o?0:.5/(o-a),d=o===c?0:.5/(c-o),n=o<a?-1:1,v}}function _E(){var t=Ta(rf()(ir));return t.copy=function(){return Ca(t,_E())},Yn.apply(t,arguments)}function NE(){var t=$x(rf()).domain([.1,1,10]);return t.copy=function(){return Ca(t,NE()).base(t.base())},Yn.apply(t,arguments)}function kE(){var t=Lx(rf());return t.copy=function(){return Ca(t,kE()).constant(t.constant())},Yn.apply(t,arguments)}function Xx(){var t=Fx(rf());return t.copy=function(){return Ca(t,Xx()).exponent(t.exponent())},Yn.apply(t,arguments)}function n8(){return Xx.apply(null,arguments).exponent(.5)}const W2=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:wl,scaleDiverging:_E,scaleDivergingLog:NE,scaleDivergingPow:Xx,scaleDivergingSqrt:n8,scaleDivergingSymlog:kE,scaleIdentity:aE,scaleImplicit:ev,scaleLinear:Zu,scaleLog:sE,scaleOrdinal:Ex,scalePoint:nl,scalePow:Bx,scaleQuantile:cE,scaleQuantize:uE,scaleRadial:lE,scaleSequential:bE,scaleSequentialLog:wE,scaleSequentialPow:Yx,scaleSequentialQuantile:SE,scaleSequentialSqrt:r8,scaleSequentialSymlog:jE,scaleSqrt:$6,scaleSymlog:oE,scaleThreshold:dE,scaleTime:e8,scaleUtc:t8,tickFormat:nE},Symbol.toStringTag,{value:"Module"}));var Ry,H2;function nf(){if(H2)return Ry;H2=1;var t=Ws();function e(r,n,a){for(var o=-1,c=r.length;++o<c;){var u=r[o],d=n(u);if(d!=null&&(m===void 0?d===d&&!t(d):a(d,m)))var m=d,p=u}return p}return Ry=e,Ry}var Dy,G2;function OE(){if(G2)return Dy;G2=1;function t(e,r){return e>r}return Dy=t,Dy}var $y,V2;function a8(){if(V2)return $y;V2=1;var t=nf(),e=OE(),r=Vs();function n(a){return a&&a.length?t(a,r,e):void 0}return $y=n,$y}var i8=a8();const xa=We(i8);var Ly,K2;function AE(){if(K2)return Ly;K2=1;function t(e,r){return e<r}return Ly=t,Ly}var Fy,Y2;function s8(){if(Y2)return Fy;Y2=1;var t=nf(),e=AE(),r=Vs();function n(a){return a&&a.length?t(a,r,e):void 0}return Fy=n,Fy}var o8=s8();const af=We(o8);var By,X2;function l8(){if(X2)return By;X2=1;var t=mx(),e=_n(),r=DP(),n=gr();function a(o,c){var u=n(o)?t:r;return u(o,e(c,3))}return By=a,By}var zy,Q2;function c8(){if(Q2)return zy;Q2=1;var t=MP(),e=l8();function r(n,a){return t(e(n,a),1)}return zy=r,zy}var u8=c8();const d8=We(u8);var qy,Z2;function f8(){if(Z2)return qy;Z2=1;var t=Nx();function e(r,n){return t(r,n)}return qy=e,qy}var m8=f8();const ka=We(m8);var Ys=1e9,h8={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Zx,st=!0,qr="[DecimalError] ",ii=qr+"Invalid argument: ",Qx=qr+"Exponent out of range: ",Xs=Math.floor,Qa=Math.pow,p8=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Nr,Rt=1e7,rt=7,PE=9007199254740991,rd=Xs(PE/rt),pe={};pe.absoluteValue=pe.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};pe.comparedTo=pe.cmp=function(t){var e,r,n,a,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(n=o.d.length,a=t.d.length,e=0,r=n<a?n:a;e<r;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return n===a?0:n>a^o.s<0?1:-1};pe.decimalPlaces=pe.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*rt;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};pe.dividedBy=pe.div=function(t){return zn(this,new this.constructor(t))};pe.dividedToIntegerBy=pe.idiv=function(t){var e=this,r=e.constructor;return Ke(zn(e,new r(t),0,1),r.precision)};pe.equals=pe.eq=function(t){return!this.cmp(t)};pe.exponent=function(){return jt(this)};pe.greaterThan=pe.gt=function(t){return this.cmp(t)>0};pe.greaterThanOrEqualTo=pe.gte=function(t){return this.cmp(t)>=0};pe.isInteger=pe.isint=function(){return this.e>this.d.length-2};pe.isNegative=pe.isneg=function(){return this.s<0};pe.isPositive=pe.ispos=function(){return this.s>0};pe.isZero=function(){return this.s===0};pe.lessThan=pe.lt=function(t){return this.cmp(t)<0};pe.lessThanOrEqualTo=pe.lte=function(t){return this.cmp(t)<1};pe.logarithm=pe.log=function(t){var e,r=this,n=r.constructor,a=n.precision,o=a+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(Nr))throw Error(qr+"NaN");if(r.s<1)throw Error(qr+(r.s?"NaN":"-Infinity"));return r.eq(Nr)?new n(0):(st=!1,e=zn(kl(r,o),kl(t,o),o),st=!0,Ke(e,a))};pe.minus=pe.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?CE(e,t):EE(e,(t.s=-t.s,t))};pe.modulo=pe.mod=function(t){var e,r=this,n=r.constructor,a=n.precision;if(t=new n(t),!t.s)throw Error(qr+"NaN");return r.s?(st=!1,e=zn(r,t,0,1).times(t),st=!0,r.minus(e)):Ke(new n(r),a)};pe.naturalExponential=pe.exp=function(){return TE(this)};pe.naturalLogarithm=pe.ln=function(){return kl(this)};pe.negated=pe.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};pe.plus=pe.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?EE(e,t):CE(e,(t.s=-t.s,t))};pe.precision=pe.sd=function(t){var e,r,n,a=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(ii+t);if(e=jt(a)+1,n=a.d.length-1,r=n*rt+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};pe.squareRoot=pe.sqrt=function(){var t,e,r,n,a,o,c,u=this,d=u.constructor;if(u.s<1){if(!u.s)return new d(0);throw Error(qr+"NaN")}for(t=jt(u),st=!1,a=Math.sqrt(+u),a==0||a==1/0?(e=vn(u.d),(e.length+t)%2==0&&(e+="0"),a=Math.sqrt(e),t=Xs((t+1)/2)-(t<0||t%2),a==1/0?e="5e"+t:(e=a.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new d(e)):n=new d(a.toString()),r=d.precision,a=c=r+3;;)if(o=n,n=o.plus(zn(u,o,c+2)).times(.5),vn(o.d).slice(0,c)===(e=vn(n.d)).slice(0,c)){if(e=e.slice(c-3,c+1),a==c&&e=="4999"){if(Ke(o,r+1,0),o.times(o).eq(u)){n=o;break}}else if(e!="9999")break;c+=4}return st=!0,Ke(n,r)};pe.times=pe.mul=function(t){var e,r,n,a,o,c,u,d,m,p=this,h=p.constructor,y=p.d,v=(t=new h(t)).d;if(!p.s||!t.s)return new h(0);for(t.s*=p.s,r=p.e+t.e,d=y.length,m=v.length,d<m&&(o=y,y=v,v=o,c=d,d=m,m=c),o=[],c=d+m,n=c;n--;)o.push(0);for(n=m;--n>=0;){for(e=0,a=d+n;a>n;)u=o[a]+v[n]*y[a-n-1]+e,o[a--]=u%Rt|0,e=u/Rt|0;o[a]=(o[a]+e)%Rt|0}for(;!o[--c];)o.pop();return e?++r:o.shift(),t.d=o,t.e=r,st?Ke(t,h.precision):t};pe.toDecimalPlaces=pe.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(jn(t,0,Ys),e===void 0?e=n.rounding:jn(e,0,8),Ke(r,t+jt(r)+1,e))};pe.toExponential=function(t,e){var r,n=this,a=n.constructor;return t===void 0?r=ui(n,!0):(jn(t,0,Ys),e===void 0?e=a.rounding:jn(e,0,8),n=Ke(new a(n),t+1,e),r=ui(n,!0,t+1)),r};pe.toFixed=function(t,e){var r,n,a=this,o=a.constructor;return t===void 0?ui(a):(jn(t,0,Ys),e===void 0?e=o.rounding:jn(e,0,8),n=Ke(new o(a),t+jt(a)+1,e),r=ui(n.abs(),!1,t+jt(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};pe.toInteger=pe.toint=function(){var t=this,e=t.constructor;return Ke(new e(t),jt(t)+1,e.rounding)};pe.toNumber=function(){return+this};pe.toPower=pe.pow=function(t){var e,r,n,a,o,c,u=this,d=u.constructor,m=12,p=+(t=new d(t));if(!t.s)return new d(Nr);if(u=new d(u),!u.s){if(t.s<1)throw Error(qr+"Infinity");return u}if(u.eq(Nr))return u;if(n=d.precision,t.eq(Nr))return Ke(u,n);if(e=t.e,r=t.d.length-1,c=e>=r,o=u.s,c){if((r=p<0?-p:p)<=PE){for(a=new d(Nr),e=Math.ceil(n/rt+4),st=!1;r%2&&(a=a.times(u),ek(a.d,e)),r=Xs(r/2),r!==0;)u=u.times(u),ek(u.d,e);return st=!0,t.s<0?new d(Nr).div(a):Ke(a,n)}}else if(o<0)throw Error(qr+"NaN");return o=o<0&&t.d[Math.max(e,r)]&1?-1:1,u.s=1,st=!1,a=t.times(kl(u,n+m)),st=!0,a=TE(a),a.s=o,a};pe.toPrecision=function(t,e){var r,n,a=this,o=a.constructor;return t===void 0?(r=jt(a),n=ui(a,r<=o.toExpNeg||r>=o.toExpPos)):(jn(t,1,Ys),e===void 0?e=o.rounding:jn(e,0,8),a=Ke(new o(a),t,e),r=jt(a),n=ui(a,t<=r||r<=o.toExpNeg,t)),n};pe.toSignificantDigits=pe.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(jn(t,1,Ys),e===void 0?e=n.rounding:jn(e,0,8)),Ke(new n(r),t,e)};pe.toString=pe.valueOf=pe.val=pe.toJSON=pe[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=jt(t),r=t.constructor;return ui(t,e<=r.toExpNeg||e>=r.toExpPos)};function EE(t,e){var r,n,a,o,c,u,d,m,p=t.constructor,h=p.precision;if(!t.s||!e.s)return e.s||(e=new p(t)),st?Ke(e,h):e;if(d=t.d,m=e.d,c=t.e,a=e.e,d=d.slice(),o=c-a,o){for(o<0?(n=d,o=-o,u=m.length):(n=m,a=c,u=d.length),c=Math.ceil(h/rt),u=c>u?c+1:u+1,o>u&&(o=u,n.length=1),n.reverse();o--;)n.push(0);n.reverse()}for(u=d.length,o=m.length,u-o<0&&(o=u,n=m,m=d,d=n),r=0;o;)r=(d[--o]=d[o]+m[o]+r)/Rt|0,d[o]%=Rt;for(r&&(d.unshift(r),++a),u=d.length;d[--u]==0;)d.pop();return e.d=d,e.e=a,st?Ke(e,h):e}function jn(t,e,r){if(t!==~~t||t<e||t>r)throw Error(ii+t)}function vn(t){var e,r,n,a=t.length-1,o="",c=t[0];if(a>0){for(o+=c,e=1;e<a;e++)n=t[e]+"",r=rt-n.length,r&&(o+=ga(r)),o+=n;c=t[e],n=c+"",r=rt-n.length,r&&(o+=ga(r))}else if(c===0)return"0";for(;c%10===0;)c/=10;return o+c}var zn=(function(){function t(n,a){var o,c=0,u=n.length;for(n=n.slice();u--;)o=n[u]*a+c,n[u]=o%Rt|0,c=o/Rt|0;return c&&n.unshift(c),n}function e(n,a,o,c){var u,d;if(o!=c)d=o>c?1:-1;else for(u=d=0;u<o;u++)if(n[u]!=a[u]){d=n[u]>a[u]?1:-1;break}return d}function r(n,a,o){for(var c=0;o--;)n[o]-=c,c=n[o]<a[o]?1:0,n[o]=c*Rt+n[o]-a[o];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,o,c){var u,d,m,p,h,y,v,w,b,j,O,S,k,A,N,P,T,$,M=n.constructor,q=n.s==a.s?1:-1,R=n.d,U=a.d;if(!n.s)return new M(n);if(!a.s)throw Error(qr+"Division by zero");for(d=n.e-a.e,T=U.length,N=R.length,v=new M(q),w=v.d=[],m=0;U[m]==(R[m]||0);)++m;if(U[m]>(R[m]||0)&&--d,o==null?S=o=M.precision:c?S=o+(jt(n)-jt(a))+1:S=o,S<0)return new M(0);if(S=S/rt+2|0,m=0,T==1)for(p=0,U=U[0],S++;(m<N||p)&&S--;m++)k=p*Rt+(R[m]||0),w[m]=k/U|0,p=k%U|0;else{for(p=Rt/(U[0]+1)|0,p>1&&(U=t(U,p),R=t(R,p),T=U.length,N=R.length),A=T,b=R.slice(0,T),j=b.length;j<T;)b[j++]=0;$=U.slice(),$.unshift(0),P=U[0],U[1]>=Rt/2&&++P;do p=0,u=e(U,b,T,j),u<0?(O=b[0],T!=j&&(O=O*Rt+(b[1]||0)),p=O/P|0,p>1?(p>=Rt&&(p=Rt-1),h=t(U,p),y=h.length,j=b.length,u=e(h,b,y,j),u==1&&(p--,r(h,T<y?$:U,y))):(p==0&&(u=p=1),h=U.slice()),y=h.length,y<j&&h.unshift(0),r(b,h,j),u==-1&&(j=b.length,u=e(U,b,T,j),u<1&&(p++,r(b,T<j?$:U,j))),j=b.length):u===0&&(p++,b=[0]),w[m++]=p,u&&b[0]?b[j++]=R[A]||0:(b=[R[A]],j=1);while((A++<N||b[0]!==void 0)&&S--)}return w[0]||w.shift(),v.e=d,Ke(v,c?o+jt(v)+1:o)}})();function TE(t,e){var r,n,a,o,c,u,d=0,m=0,p=t.constructor,h=p.precision;if(jt(t)>16)throw Error(Qx+jt(t));if(!t.s)return new p(Nr);for(st=!1,u=h,c=new p(.03125);t.abs().gte(.1);)t=t.times(c),m+=5;for(n=Math.log(Qa(2,m))/Math.LN10*2+5|0,u+=n,r=a=o=new p(Nr),p.precision=u;;){if(a=Ke(a.times(t),u),r=r.times(++d),c=o.plus(zn(a,r,u)),vn(c.d).slice(0,u)===vn(o.d).slice(0,u)){for(;m--;)o=Ke(o.times(o),u);return p.precision=h,e==null?(st=!0,Ke(o,h)):o}o=c}}function jt(t){for(var e=t.e*rt,r=t.d[0];r>=10;r/=10)e++;return e}function Uy(t,e,r){if(e>t.LN10.sd())throw st=!0,r&&(t.precision=r),Error(qr+"LN10 precision limit exceeded");return Ke(new t(t.LN10),e)}function ga(t){for(var e="";t--;)e+="0";return e}function kl(t,e){var r,n,a,o,c,u,d,m,p,h=1,y=10,v=t,w=v.d,b=v.constructor,j=b.precision;if(v.s<1)throw Error(qr+(v.s?"NaN":"-Infinity"));if(v.eq(Nr))return new b(0);if(e==null?(st=!1,m=j):m=e,v.eq(10))return e==null&&(st=!0),Uy(b,m);if(m+=y,b.precision=m,r=vn(w),n=r.charAt(0),o=jt(v),Math.abs(o)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)v=v.times(t),r=vn(v.d),n=r.charAt(0),h++;o=jt(v),n>1?(v=new b("0."+r),o++):v=new b(n+"."+r.slice(1))}else return d=Uy(b,m+2,j).times(o+""),v=kl(new b(n+"."+r.slice(1)),m-y).plus(d),b.precision=j,e==null?(st=!0,Ke(v,j)):v;for(u=c=v=zn(v.minus(Nr),v.plus(Nr),m),p=Ke(v.times(v),m),a=3;;){if(c=Ke(c.times(p),m),d=u.plus(zn(c,new b(a),m)),vn(d.d).slice(0,m)===vn(u.d).slice(0,m))return u=u.times(2),o!==0&&(u=u.plus(Uy(b,m+2,j).times(o+""))),u=zn(u,new b(h),m),b.precision=j,e==null?(st=!0,Ke(u,j)):u;u=d,a+=2}}function J2(t,e){var r,n,a;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(a=e.length;e.charCodeAt(a-1)===48;)--a;if(e=e.slice(n,a),e){if(a-=n,r=r-n-1,t.e=Xs(r/rt),t.d=[],n=(r+1)%rt,r<0&&(n+=rt),n<a){for(n&&t.d.push(+e.slice(0,n)),a-=rt;n<a;)t.d.push(+e.slice(n,n+=rt));e=e.slice(n),n=rt-e.length}else n-=a;for(;n--;)e+="0";if(t.d.push(+e),st&&(t.e>rd||t.e<-rd))throw Error(Qx+r)}else t.s=0,t.e=0,t.d=[0];return t}function Ke(t,e,r){var n,a,o,c,u,d,m,p,h=t.d;for(c=1,o=h[0];o>=10;o/=10)c++;if(n=e-c,n<0)n+=rt,a=e,m=h[p=0];else{if(p=Math.ceil((n+1)/rt),o=h.length,p>=o)return t;for(m=o=h[p],c=1;o>=10;o/=10)c++;n%=rt,a=n-rt+c}if(r!==void 0&&(o=Qa(10,c-a-1),u=m/o%10|0,d=e<0||h[p+1]!==void 0||m%o,d=r<4?(u||d)&&(r==0||r==(t.s<0?3:2)):u>5||u==5&&(r==4||d||r==6&&(n>0?a>0?m/Qa(10,c-a):0:h[p-1])%10&1||r==(t.s<0?8:7))),e<1||!h[0])return d?(o=jt(t),h.length=1,e=e-o-1,h[0]=Qa(10,(rt-e%rt)%rt),t.e=Xs(-e/rt)||0):(h.length=1,h[0]=t.e=t.s=0),t;if(n==0?(h.length=p,o=1,p--):(h.length=p+1,o=Qa(10,rt-n),h[p]=a>0?(m/Qa(10,c-a)%Qa(10,a)|0)*o:0),d)for(;;)if(p==0){(h[0]+=o)==Rt&&(h[0]=1,++t.e);break}else{if(h[p]+=o,h[p]!=Rt)break;h[p--]=0,o=1}for(n=h.length;h[--n]===0;)h.pop();if(st&&(t.e>rd||t.e<-rd))throw Error(Qx+jt(t));return t}function CE(t,e){var r,n,a,o,c,u,d,m,p,h,y=t.constructor,v=y.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new y(t),st?Ke(e,v):e;if(d=t.d,h=e.d,n=e.e,m=t.e,d=d.slice(),c=m-n,c){for(p=c<0,p?(r=d,c=-c,u=h.length):(r=h,n=m,u=d.length),a=Math.max(Math.ceil(v/rt),u)+2,c>a&&(c=a,r.length=1),r.reverse(),a=c;a--;)r.push(0);r.reverse()}else{for(a=d.length,u=h.length,p=a<u,p&&(u=a),a=0;a<u;a++)if(d[a]!=h[a]){p=d[a]<h[a];break}c=0}for(p&&(r=d,d=h,h=r,e.s=-e.s),u=d.length,a=h.length-u;a>0;--a)d[u++]=0;for(a=h.length;a>c;){if(d[--a]<h[a]){for(o=a;o&&d[--o]===0;)d[o]=Rt-1;--d[o],d[a]+=Rt}d[a]-=h[a]}for(;d[--u]===0;)d.pop();for(;d[0]===0;d.shift())--n;return d[0]?(e.d=d,e.e=n,st?Ke(e,v):e):new y(0)}function ui(t,e,r){var n,a=jt(t),o=vn(t.d),c=o.length;return e?(r&&(n=r-c)>0?o=o.charAt(0)+"."+o.slice(1)+ga(n):c>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(a<0?"e":"e+")+a):a<0?(o="0."+ga(-a-1)+o,r&&(n=r-c)>0&&(o+=ga(n))):a>=c?(o+=ga(a+1-c),r&&(n=r-a-1)>0&&(o=o+"."+ga(n))):((n=a+1)<c&&(o=o.slice(0,n)+"."+o.slice(n)),r&&(n=r-c)>0&&(a+1===c&&(o+="."),o+=ga(n))),t.s<0?"-"+o:o}function ek(t,e){if(t.length>e)return t.length=e,!0}function IE(t){var e,r,n;function a(o){var c=this;if(!(c instanceof a))return new a(o);if(c.constructor=a,o instanceof a){c.s=o.s,c.e=o.e,c.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(ii+o);if(o>0)c.s=1;else if(o<0)o=-o,c.s=-1;else{c.s=0,c.e=0,c.d=[0];return}if(o===~~o&&o<1e7){c.e=0,c.d=[o];return}return J2(c,o.toString())}else if(typeof o!="string")throw Error(ii+o);if(o.charCodeAt(0)===45?(o=o.slice(1),c.s=-1):c.s=1,p8.test(o))J2(c,o);else throw Error(ii+o)}if(a.prototype=pe,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=IE,a.config=a.set=g8,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return a.config(t),a}function g8(t){if(!t||typeof t!="object")throw Error(qr+"Object expected");var e,r,n,a=["precision",1,Ys,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<a.length;e+=3)if((n=t[r=a[e]])!==void 0)if(Xs(n)===n&&n>=a[e+1]&&n<=a[e+2])this[r]=n;else throw Error(ii+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(ii+r+": "+n);return this}var Zx=IE(h8);Nr=new Zx(1);const Ge=Zx;function y8(t){return w8(t)||b8(t)||x8(t)||v8()}function v8(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x8(t,e){if(t){if(typeof t=="string")return av(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return av(t,e)}}function b8(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function w8(t){if(Array.isArray(t))return av(t)}function av(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var j8=function(e){return e},ME={},RE=function(e){return e===ME},tk=function(e){return function r(){return arguments.length===0||arguments.length===1&&RE(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},S8=function t(e,r){return e===1?r:tk(function(){for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];var c=a.filter(function(u){return u!==ME}).length;return c>=e?r.apply(void 0,a):t(e-c,tk(function(){for(var u=arguments.length,d=new Array(u),m=0;m<u;m++)d[m]=arguments[m];var p=a.map(function(h){return RE(h)?d.shift():h});return r.apply(void 0,y8(p).concat(d))}))})},sf=function(e){return S8(e.length,e)},iv=function(e,r){for(var n=[],a=e;a<r;++a)n[a-e]=a;return n},_8=sf(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),N8=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return j8;var a=r.reverse(),o=a[0],c=a.slice(1);return function(){return c.reduce(function(u,d){return d(u)},o.apply(void 0,arguments))}},sv=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},DE=function(e){var r=null,n=null;return function(){for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return r&&o.every(function(u,d){return u===r[d]})||(r=o,n=e.apply(void 0,o)),n}};function k8(t){var e;return t===0?e=1:e=Math.floor(new Ge(t).abs().log(10).toNumber())+1,e}function O8(t,e,r){for(var n=new Ge(t),a=0,o=[];n.lt(e)&&a<1e5;)o.push(n.toNumber()),n=n.add(r),a++;return o}var A8=sf(function(t,e,r){var n=+t,a=+e;return n+r*(a-n)}),P8=sf(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),E8=sf(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const of={rangeStep:O8,getDigitCount:k8,interpolateNumber:A8,uninterpolateNumber:P8,uninterpolateTruncation:E8};function ov(t){return I8(t)||C8(t)||$E(t)||T8()}function T8(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function C8(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function I8(t){if(Array.isArray(t))return lv(t)}function Ol(t,e){return D8(t)||R8(t,e)||$E(t,e)||M8()}function M8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $E(t,e){if(t){if(typeof t=="string")return lv(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lv(t,e)}}function lv(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function R8(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,a=!1,o=void 0;try{for(var c=t[Symbol.iterator](),u;!(n=(u=c.next()).done)&&(r.push(u.value),!(e&&r.length===e));n=!0);}catch(d){a=!0,o=d}finally{try{!n&&c.return!=null&&c.return()}finally{if(a)throw o}}return r}}function D8(t){if(Array.isArray(t))return t}function LE(t){var e=Ol(t,2),r=e[0],n=e[1],a=r,o=n;return r>n&&(a=n,o=r),[a,o]}function FE(t,e,r){if(t.lte(0))return new Ge(0);var n=of.getDigitCount(t.toNumber()),a=new Ge(10).pow(n),o=t.div(a),c=n!==1?.05:.1,u=new Ge(Math.ceil(o.div(c).toNumber())).add(r).mul(c),d=u.mul(a);return e?d:new Ge(Math.ceil(d))}function $8(t,e,r){var n=1,a=new Ge(t);if(!a.isint()&&r){var o=Math.abs(t);o<1?(n=new Ge(10).pow(of.getDigitCount(t)-1),a=new Ge(Math.floor(a.div(n).toNumber())).mul(n)):o>1&&(a=new Ge(Math.floor(t)))}else t===0?a=new Ge(Math.floor((e-1)/2)):r||(a=new Ge(Math.floor(t)));var c=Math.floor((e-1)/2),u=N8(_8(function(d){return a.add(new Ge(d-c).mul(n)).toNumber()}),iv);return u(0,e)}function BE(t,e,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new Ge(0),tickMin:new Ge(0),tickMax:new Ge(0)};var o=FE(new Ge(e).sub(t).div(r-1),n,a),c;t<=0&&e>=0?c=new Ge(0):(c=new Ge(t).add(e).div(2),c=c.sub(new Ge(c).mod(o)));var u=Math.ceil(c.sub(t).div(o).toNumber()),d=Math.ceil(new Ge(e).sub(c).div(o).toNumber()),m=u+d+1;return m>r?BE(t,e,r,n,a+1):(m<r&&(d=e>0?d+(r-m):d,u=e>0?u:u+(r-m)),{step:o,tickMin:c.sub(new Ge(u).mul(o)),tickMax:c.add(new Ge(d).mul(o))})}function L8(t){var e=Ol(t,2),r=e[0],n=e[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,c=Math.max(a,2),u=LE([r,n]),d=Ol(u,2),m=d[0],p=d[1];if(m===-1/0||p===1/0){var h=p===1/0?[m].concat(ov(iv(0,a-1).map(function(){return 1/0}))):[].concat(ov(iv(0,a-1).map(function(){return-1/0})),[p]);return r>n?sv(h):h}if(m===p)return $8(m,a,o);var y=BE(m,p,c,o),v=y.step,w=y.tickMin,b=y.tickMax,j=of.rangeStep(w,b.add(new Ge(.1).mul(v)),v);return r>n?sv(j):j}function F8(t,e){var r=Ol(t,2),n=r[0],a=r[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,c=LE([n,a]),u=Ol(c,2),d=u[0],m=u[1];if(d===-1/0||m===1/0)return[n,a];if(d===m)return[d];var p=Math.max(e,2),h=FE(new Ge(m).sub(d).div(p-1),o,0),y=[].concat(ov(of.rangeStep(new Ge(d),new Ge(m).sub(new Ge(.99).mul(h)),h)),[m]);return n>a?sv(y):y}var B8=DE(L8),z8=DE(F8),q8="Invariant failed";function di(t,e){throw new Error(q8)}var U8=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function ws(t){"@babel/helpers - typeof";return ws=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ws(t)}function nd(){return nd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},nd.apply(this,arguments)}function W8(t,e){return K8(t)||V8(t,e)||G8(t,e)||H8()}function H8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function G8(t,e){if(t){if(typeof t=="string")return rk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rk(t,e)}}function rk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function V8(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,o,c,u=[],d=!0,m=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(p){m=!0,a=p}finally{try{if(!d&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(m)throw a}}return u}}function K8(t){if(Array.isArray(t))return t}function Y8(t,e){if(t==null)return{};var r=X8(t,e),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(a=0;a<o.length;a++)n=o[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function X8(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Q8(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Z8(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,UE(n.key),n)}}function J8(t,e,r){return e&&Z8(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function eF(t,e,r){return e=ad(e),tF(t,zE()?Reflect.construct(e,r||[],ad(t).constructor):e.apply(t,r))}function tF(t,e){if(e&&(ws(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rF(t)}function rF(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zE(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zE=function(){return!!t})()}function ad(t){return ad=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ad(t)}function nF(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cv(t,e)}function cv(t,e){return cv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},cv(t,e)}function qE(t,e,r){return e=UE(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function UE(t){var e=aF(t,"string");return ws(e)=="symbol"?e:e+""}function aF(t,e){if(ws(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ws(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Qs=(function(t){function e(){return Q8(this,e),eF(this,e,arguments)}return nF(e,t),J8(e,[{key:"render",value:function(){var n=this.props,a=n.offset,o=n.layout,c=n.width,u=n.dataKey,d=n.data,m=n.dataPointFormatter,p=n.xAxis,h=n.yAxis,y=Y8(n,U8),v=ve(y,!1);this.props.direction==="x"&&p.type!=="number"&&di();var w=d.map(function(b){var j=m(b,u),O=j.x,S=j.y,k=j.value,A=j.errorVal;if(!A)return null;var N=[],P,T;if(Array.isArray(A)){var $=W8(A,2);P=$[0],T=$[1]}else P=T=A;if(o==="vertical"){var M=p.scale,q=S+a,R=q+c,U=q-c,B=M(k-P),V=M(k+T);N.push({x1:V,y1:R,x2:V,y2:U}),N.push({x1:B,y1:q,x2:V,y2:q}),N.push({x1:B,y1:R,x2:B,y2:U})}else if(o==="horizontal"){var L=h.scale,D=O+a,G=D-c,C=D+c,F=L(k-P),Q=L(k+T);N.push({x1:G,y1:Q,x2:C,y2:Q}),N.push({x1:D,y1:F,x2:D,y2:Q}),N.push({x1:G,y1:F,x2:C,y2:F})}return W.createElement(Me,nd({className:"recharts-errorBar",key:"bar-".concat(N.map(function(z){return"".concat(z.x1,"-").concat(z.x2,"-").concat(z.y1,"-").concat(z.y2)}))},v),N.map(function(z){return W.createElement("line",nd({},z,{key:"line-".concat(z.x1,"-").concat(z.x2,"-").concat(z.y1,"-").concat(z.y2)}))}))});return W.createElement(Me,{className:"recharts-errorBars"},w)}}])})(W.Component);qE(Qs,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});qE(Qs,"displayName","ErrorBar");function Al(t){"@babel/helpers - typeof";return Al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Al(t)}function nk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Va(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nk(Object(r),!0).forEach(function(n){iF(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function iF(t,e,r){return e=sF(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sF(t){var e=oF(t,"string");return Al(e)=="symbol"?e:e+""}function oF(t,e){if(Al(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Al(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var WE=function(e){var r=e.children,n=e.formattedGraphicalItems,a=e.legendWidth,o=e.legendContent,c=Sr(r,Zt);if(!c)return null;var u=Zt.defaultProps,d=u!==void 0?Va(Va({},u),c.props):{},m;return c.props&&c.props.payload?m=c.props&&c.props.payload:o==="children"?m=(n||[]).reduce(function(p,h){var y=h.item,v=h.props,w=v.sectors||v.data||[];return p.concat(w.map(function(b){return{type:c.props.iconType||y.props.legendType,value:b.name,color:b.fill,payload:b}}))},[]):m=(n||[]).map(function(p){var h=p.item,y=h.type.defaultProps,v=y!==void 0?Va(Va({},y),h.props):{},w=v.dataKey,b=v.name,j=v.legendType,O=v.hide;return{inactive:O,dataKey:w,type:d.iconType||j||"square",color:Jx(h),value:b||w,payload:v}}),Va(Va(Va({},d),Zt.getWithHeight(c,a)),{},{payload:m,item:c})};function Pl(t){"@babel/helpers - typeof";return Pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pl(t)}function ak(t){return dF(t)||uF(t)||cF(t)||lF()}function lF(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cF(t,e){if(t){if(typeof t=="string")return uv(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uv(t,e)}}function uF(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function dF(t){if(Array.isArray(t))return uv(t)}function uv(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ik(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function gt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ik(Object(r),!0).forEach(function(n){us(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ik(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function us(t,e,r){return e=fF(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fF(t){var e=mF(t,"string");return Pl(e)=="symbol"?e:e+""}function mF(t,e){if(Pl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Pl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nt(t,e,r){return ke(t)||ke(e)?r:Pt(e)?kr(t,e,r):Oe(e)?e(t):r}function al(t,e,r,n){var a=d8(t,function(u){return nt(u,e)});if(r==="number"){var o=a.filter(function(u){return le(u)||parseFloat(u)});return o.length?[af(o),xa(o)]:[1/0,-1/0]}var c=n?a.filter(function(u){return!ke(u)}):a;return c.map(function(u){return Pt(u)||u instanceof Date?u:""})}var hF=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,c=-1,u=(r=n?.length)!==null&&r!==void 0?r:0;if(u<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var d=o.range,m=0;m<u;m++){var p=m>0?a[m-1].coordinate:a[u-1].coordinate,h=a[m].coordinate,y=m>=u-1?a[0].coordinate:a[m+1].coordinate,v=void 0;if(nr(h-p)!==nr(y-h)){var w=[];if(nr(y-h)===nr(d[1]-d[0])){v=y;var b=h+d[1]-d[0];w[0]=Math.min(b,(b+p)/2),w[1]=Math.max(b,(b+p)/2)}else{v=p;var j=y+d[1]-d[0];w[0]=Math.min(h,(j+h)/2),w[1]=Math.max(h,(j+h)/2)}var O=[Math.min(h,(v+h)/2),Math.max(h,(v+h)/2)];if(e>O[0]&&e<=O[1]||e>=w[0]&&e<=w[1]){c=a[m].index;break}}else{var S=Math.min(p,y),k=Math.max(p,y);if(e>(S+h)/2&&e<=(k+h)/2){c=a[m].index;break}}}else for(var A=0;A<u;A++)if(A===0&&e<=(n[A].coordinate+n[A+1].coordinate)/2||A>0&&A<u-1&&e>(n[A].coordinate+n[A-1].coordinate)/2&&e<=(n[A].coordinate+n[A+1].coordinate)/2||A===u-1&&e>(n[A].coordinate+n[A-1].coordinate)/2){c=n[A].index;break}return c},Jx=function(e){var r,n=e,a=n.type.displayName,o=(r=e.type)!==null&&r!==void 0&&r.defaultProps?gt(gt({},e.type.defaultProps),e.props):e.props,c=o.stroke,u=o.fill,d;switch(a){case"Line":d=c;break;case"Area":case"Radar":d=c&&c!=="none"?c:u;break;default:d=u;break}return d},pF=function(e){var r=e.barSize,n=e.totalSize,a=e.stackGroups,o=a===void 0?{}:a;if(!o)return{};for(var c={},u=Object.keys(o),d=0,m=u.length;d<m;d++)for(var p=o[u[d]].stackGroups,h=Object.keys(p),y=0,v=h.length;y<v;y++){var w=p[h[y]],b=w.items,j=w.cateAxisId,O=b.filter(function(T){return Bn(T.type).indexOf("Bar")>=0});if(O&&O.length){var S=O[0].type.defaultProps,k=S!==void 0?gt(gt({},S),O[0].props):O[0].props,A=k.barSize,N=k[j];c[N]||(c[N]=[]);var P=ke(A)?r:A;c[N].push({item:O[0],stackList:O.slice(1),barSize:ke(P)?void 0:ar(P,n,0)})}}return c},gF=function(e){var r=e.barGap,n=e.barCategoryGap,a=e.bandSize,o=e.sizeList,c=o===void 0?[]:o,u=e.maxBarSize,d=c.length;if(d<1)return null;var m=ar(r,a,0,!0),p,h=[];if(c[0].barSize===+c[0].barSize){var y=!1,v=a/d,w=c.reduce(function(A,N){return A+N.barSize||0},0);w+=(d-1)*m,w>=a&&(w-=(d-1)*m,m=0),w>=a&&v>0&&(y=!0,v*=.9,w=d*v);var b=(a-w)/2>>0,j={offset:b-m,size:0};p=c.reduce(function(A,N){var P={item:N.item,position:{offset:j.offset+j.size+m,size:y?v:N.barSize}},T=[].concat(ak(A),[P]);return j=T[T.length-1].position,N.stackList&&N.stackList.length&&N.stackList.forEach(function($){T.push({item:$,position:j})}),T},h)}else{var O=ar(n,a,0,!0);a-2*O-(d-1)*m<=0&&(m=0);var S=(a-2*O-(d-1)*m)/d;S>1&&(S>>=0);var k=u===+u?Math.min(S,u):S;p=c.reduce(function(A,N,P){var T=[].concat(ak(A),[{item:N.item,position:{offset:O+(S+m)*P+(S-k)/2,size:k}}]);return N.stackList&&N.stackList.length&&N.stackList.forEach(function($){T.push({item:$,position:T[T.length-1].position})}),T},h)}return p},yF=function(e,r,n,a){var o=n.children,c=n.width,u=n.margin,d=c-(u.left||0)-(u.right||0),m=WE({children:o,legendWidth:d});if(m){var p=a||{},h=p.width,y=p.height,v=m.align,w=m.verticalAlign,b=m.layout;if((b==="vertical"||b==="horizontal"&&w==="middle")&&v!=="center"&&le(e[v]))return gt(gt({},e),{},us({},v,e[v]+(h||0)));if((b==="horizontal"||b==="vertical"&&v==="center")&&w!=="middle"&&le(e[w]))return gt(gt({},e),{},us({},w,e[w]+(y||0)))}return e},vF=function(e,r,n){return ke(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},HE=function(e,r,n,a,o){var c=r.props.children,u=sr(c,Qs).filter(function(m){return vF(a,o,m.props.direction)});if(u&&u.length){var d=u.map(function(m){return m.props.dataKey});return e.reduce(function(m,p){var h=nt(p,n);if(ke(h))return m;var y=Array.isArray(h)?[af(h),xa(h)]:[h,h],v=d.reduce(function(w,b){var j=nt(p,b,0),O=y[0]-Math.abs(Array.isArray(j)?j[0]:j),S=y[1]+Math.abs(Array.isArray(j)?j[1]:j);return[Math.min(O,w[0]),Math.max(S,w[1])]},[1/0,-1/0]);return[Math.min(v[0],m[0]),Math.max(v[1],m[1])]},[1/0,-1/0])}return null},xF=function(e,r,n,a,o){var c=r.map(function(u){return HE(e,u,n,o,a)}).filter(function(u){return!ke(u)});return c&&c.length?c.reduce(function(u,d){return[Math.min(u[0],d[0]),Math.max(u[1],d[1])]},[1/0,-1/0]):null},GE=function(e,r,n,a,o){var c=r.map(function(d){var m=d.props.dataKey;return n==="number"&&m&&HE(e,d,m,a)||al(e,m,n,o)});if(n==="number")return c.reduce(function(d,m){return[Math.min(d[0],m[0]),Math.max(d[1],m[1])]},[1/0,-1/0]);var u={};return c.reduce(function(d,m){for(var p=0,h=m.length;p<h;p++)u[m[p]]||(u[m[p]]=!0,d.push(m[p]));return d},[])},VE=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},KE=function(e,r,n,a){if(a)return e.map(function(d){return d.coordinate});var o,c,u=e.map(function(d){return d.coordinate===r&&(o=!0),d.coordinate===n&&(c=!0),d.coordinate});return o||u.push(r),c||u.push(n),u},Fn=function(e,r,n){if(!e)return null;var a=e.scale,o=e.duplicateDomain,c=e.type,u=e.range,d=e.realScaleType==="scaleBand"?a.bandwidth()/2:2,m=(r||n)&&c==="category"&&a.bandwidth?a.bandwidth()/d:0;if(m=e.axisType==="angleAxis"&&u?.length>=2?nr(u[0]-u[1])*2*m:m,r&&(e.ticks||e.niceTicks)){var p=(e.ticks||e.niceTicks).map(function(h){var y=o?o.indexOf(h):h;return{coordinate:a(y)+m,value:h,offset:m}});return p.filter(function(h){return!Gs(h.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(h,y){return{coordinate:a(h)+m,value:h,index:y,offset:m}}):a.ticks&&!n?a.ticks(e.tickCount).map(function(h){return{coordinate:a(h)+m,value:h,offset:m}}):a.domain().map(function(h,y){return{coordinate:a(h)+m,value:o?o[h]:h,index:y,offset:m}})},Wy=new WeakMap,Su=function(e,r){if(typeof r!="function")return e;Wy.has(e)||Wy.set(e,new WeakMap);var n=Wy.get(e);if(n.has(r))return n.get(r);var a=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},YE=function(e,r,n){var a=e.scale,o=e.type,c=e.layout,u=e.axisType;if(a==="auto")return c==="radial"&&u==="radiusAxis"?{scale:wl(),realScaleType:"band"}:c==="radial"&&u==="angleAxis"?{scale:Zu(),realScaleType:"linear"}:o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:nl(),realScaleType:"point"}:o==="category"?{scale:wl(),realScaleType:"band"}:{scale:Zu(),realScaleType:"linear"};if(li(a)){var d="scale".concat(Ud(a));return{scale:(W2[d]||nl)(),realScaleType:W2[d]?d:"point"}}return Oe(a)?{scale:a}:{scale:nl(),realScaleType:"point"}},sk=1e-4,XE=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,a=e.range(),o=Math.min(a[0],a[1])-sk,c=Math.max(a[0],a[1])+sk,u=e(r[0]),d=e(r[n-1]);(u<o||u>c||d<o||d>c)&&e.domain([r[0],r[n-1]])}},bF=function(e,r){if(!e)return null;for(var n=0,a=e.length;n<a;n++)if(e[n].item===r)return e[n].position;return null},wF=function(e,r){if(!r||r.length!==2||!le(r[0])||!le(r[1]))return e;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),o=[e[0],e[1]];return(!le(e[0])||e[0]<n)&&(o[0]=n),(!le(e[1])||e[1]>a)&&(o[1]=a),o[0]>a&&(o[0]=a),o[1]<n&&(o[1]=n),o},jF=function(e){var r=e.length;if(!(r<=0))for(var n=0,a=e[0].length;n<a;++n)for(var o=0,c=0,u=0;u<r;++u){var d=Gs(e[u][n][1])?e[u][n][0]:e[u][n][1];d>=0?(e[u][n][0]=o,e[u][n][1]=o+d,o=e[u][n][1]):(e[u][n][0]=c,e[u][n][1]=c+d,c=e[u][n][1])}},SF=function(e){var r=e.length;if(!(r<=0))for(var n=0,a=e[0].length;n<a;++n)for(var o=0,c=0;c<r;++c){var u=Gs(e[c][n][1])?e[c][n][0]:e[c][n][1];u>=0?(e[c][n][0]=o,e[c][n][1]=o+u,o=e[c][n][1]):(e[c][n][0]=0,e[c][n][1]=0)}},_F={sign:jF,expand:dD,none:ms,silhouette:fD,wiggle:mD,positive:SF},NF=function(e,r,n){var a=r.map(function(u){return u.props.dataKey}),o=_F[n],c=uD().keys(a).value(function(u,d){return+nt(u,d,0)}).order(B0).offset(o);return c(e)},kF=function(e,r,n,a,o,c){if(!e)return null;var u=c?r.reverse():r,d={},m=u.reduce(function(h,y){var v,w=(v=y.type)!==null&&v!==void 0&&v.defaultProps?gt(gt({},y.type.defaultProps),y.props):y.props,b=w.stackId,j=w.hide;if(j)return h;var O=w[n],S=h[O]||{hasStack:!1,stackGroups:{}};if(Pt(b)){var k=S.stackGroups[b]||{numericAxisId:n,cateAxisId:a,items:[]};k.items.push(y),S.hasStack=!0,S.stackGroups[b]=k}else S.stackGroups[Ea("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[y]};return gt(gt({},h),{},us({},O,S))},d),p={};return Object.keys(m).reduce(function(h,y){var v=m[y];if(v.hasStack){var w={};v.stackGroups=Object.keys(v.stackGroups).reduce(function(b,j){var O=v.stackGroups[j];return gt(gt({},b),{},us({},j,{numericAxisId:n,cateAxisId:a,items:O.items,stackedData:NF(e,O.items,o)}))},w)}return gt(gt({},h),{},us({},y,v))},p)},QE=function(e,r){var n=r.realScaleType,a=r.type,o=r.tickCount,c=r.originalDomain,u=r.allowDecimals,d=n||r.scale;if(d!=="auto"&&d!=="linear")return null;if(o&&a==="number"&&c&&(c[0]==="auto"||c[1]==="auto")){var m=e.domain();if(!m.length)return null;var p=B8(m,o,u);return e.domain([af(p),xa(p)]),{niceTicks:p}}if(o&&a==="number"){var h=e.domain(),y=z8(h,o,u);return{niceTicks:y}}return null};function js(t){var e=t.axis,r=t.ticks,n=t.bandSize,a=t.entry,o=t.index,c=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!ke(a[e.dataKey])){var u=Mu(r,"value",a[e.dataKey]);if(u)return u.coordinate+n/2}return r[o]?r[o].coordinate+n/2:null}var d=nt(a,ke(c)?e.dataKey:c);return ke(d)?null:e.scale(d)}var ok=function(e){var r=e.axis,n=e.ticks,a=e.offset,o=e.bandSize,c=e.entry,u=e.index;if(r.type==="category")return n[u]?n[u].coordinate+a:null;var d=nt(c,r.dataKey,r.domain[u]);return ke(d)?null:r.scale(d)-o/2+a},OF=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),o=Math.max(n[0],n[1]);return a<=0&&o>=0?0:o<0?o:a}return n[0]},AF=function(e,r){var n,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?gt(gt({},e.type.defaultProps),e.props):e.props,o=a.stackId;if(Pt(o)){var c=r[o];if(c){var u=c.items.indexOf(e);return u>=0?c.stackedData[u]:null}}return null},PF=function(e){return e.reduce(function(r,n){return[af(n.concat([r[0]]).filter(le)),xa(n.concat([r[1]]).filter(le))]},[1/0,-1/0])},ZE=function(e,r,n){return Object.keys(e).reduce(function(a,o){var c=e[o],u=c.stackedData,d=u.reduce(function(m,p){var h=PF(p.slice(r,n+1));return[Math.min(m[0],h[0]),Math.max(m[1],h[1])]},[1/0,-1/0]);return[Math.min(d[0],a[0]),Math.max(d[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},lk=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,ck=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,dv=function(e,r,n){if(Oe(e))return e(r,n);if(!Array.isArray(e))return r;var a=[];if(le(e[0]))a[0]=n?e[0]:Math.min(e[0],r[0]);else if(lk.test(e[0])){var o=+lk.exec(e[0])[1];a[0]=r[0]-o}else Oe(e[0])?a[0]=e[0](r[0]):a[0]=r[0];if(le(e[1]))a[1]=n?e[1]:Math.max(e[1],r[1]);else if(ck.test(e[1])){var c=+ck.exec(e[1])[1];a[1]=r[1]+c}else Oe(e[1])?a[1]=e[1](r[1]):a[1]=r[1];return a},id=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var a=e.scale.bandwidth();if(!n||a>0)return a}if(e&&r&&r.length>=2){for(var o=Ox(r,function(h){return h.coordinate}),c=1/0,u=1,d=o.length;u<d;u++){var m=o[u],p=o[u-1];c=Math.min((m.coordinate||0)-(p.coordinate||0),c)}return c===1/0?0:c}return n?void 0:0},uk=function(e,r,n){return!e||!e.length||ka(e,kr(n,"type.defaultProps.domain"))?r:e},JE=function(e,r){var n=e.type.defaultProps?gt(gt({},e.type.defaultProps),e.props):e.props,a=n.dataKey,o=n.name,c=n.unit,u=n.formatter,d=n.tooltipType,m=n.chartType,p=n.hide;return gt(gt({},ve(e,!1)),{},{dataKey:a,unit:c,formatter:u,name:o||a,color:Jx(e),value:nt(r,a),type:d,payload:r,chartType:m,hide:p})};function El(t){"@babel/helpers - typeof";return El=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},El(t)}function dk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Rn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dk(Object(r),!0).forEach(function(n){eT(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function eT(t,e,r){return e=EF(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function EF(t){var e=TF(t,"string");return El(e)=="symbol"?e:e+""}function TF(t,e){if(El(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(El(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function CF(t,e){return DF(t)||RF(t,e)||MF(t,e)||IF()}function IF(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MF(t,e){if(t){if(typeof t=="string")return fk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fk(t,e)}}function fk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function RF(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,o,c,u=[],d=!0,m=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(p){m=!0,a=p}finally{try{if(!d&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(m)throw a}}return u}}function DF(t){if(Array.isArray(t))return t}var sd=Math.PI/180,$F=function(e){return e*180/Math.PI},Ze=function(e,r,n,a){return{x:e+Math.cos(-sd*a)*n,y:r+Math.sin(-sd*a)*n}},tT=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},LF=function(e,r,n,a,o){var c=e.width,u=e.height,d=e.startAngle,m=e.endAngle,p=ar(e.cx,c,c/2),h=ar(e.cy,u,u/2),y=tT(c,u,n),v=ar(e.innerRadius,y,0),w=ar(e.outerRadius,y,y*.8),b=Object.keys(r);return b.reduce(function(j,O){var S=r[O],k=S.domain,A=S.reversed,N;if(ke(S.range))a==="angleAxis"?N=[d,m]:a==="radiusAxis"&&(N=[v,w]),A&&(N=[N[1],N[0]]);else{N=S.range;var P=N,T=CF(P,2);d=T[0],m=T[1]}var $=YE(S,o),M=$.realScaleType,q=$.scale;q.domain(k).range(N),XE(q);var R=QE(q,Rn(Rn({},S),{},{realScaleType:M})),U=Rn(Rn(Rn({},S),R),{},{range:N,radius:w,realScaleType:M,scale:q,cx:p,cy:h,innerRadius:v,outerRadius:w,startAngle:d,endAngle:m});return Rn(Rn({},j),{},eT({},O,U))},{})},FF=function(e,r){var n=e.x,a=e.y,o=r.x,c=r.y;return Math.sqrt(Math.pow(n-o,2)+Math.pow(a-c,2))},BF=function(e,r){var n=e.x,a=e.y,o=r.cx,c=r.cy,u=FF({x:n,y:a},{x:o,y:c});if(u<=0)return{radius:u};var d=(n-o)/u,m=Math.acos(d);return a>c&&(m=2*Math.PI-m),{radius:u,angle:$F(m),angleInRadian:m}},zF=function(e){var r=e.startAngle,n=e.endAngle,a=Math.floor(r/360),o=Math.floor(n/360),c=Math.min(a,o);return{startAngle:r-c*360,endAngle:n-c*360}},qF=function(e,r){var n=r.startAngle,a=r.endAngle,o=Math.floor(n/360),c=Math.floor(a/360),u=Math.min(o,c);return e+u*360},mk=function(e,r){var n=e.x,a=e.y,o=BF({x:n,y:a},r),c=o.radius,u=o.angle,d=r.innerRadius,m=r.outerRadius;if(c<d||c>m)return!1;if(c===0)return!0;var p=zF(r),h=p.startAngle,y=p.endAngle,v=u,w;if(h<=y){for(;v>y;)v-=360;for(;v<h;)v+=360;w=v>=h&&v<=y}else{for(;v>h;)v-=360;for(;v<y;)v+=360;w=v>=y&&v<=h}return w?Rn(Rn({},r),{},{radius:c,angle:qF(v,r)}):null},rT=function(e){return!I.isValidElement(e)&&!Oe(e)&&typeof e!="boolean"?e.className:""};function Tl(t){"@babel/helpers - typeof";return Tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tl(t)}var UF=["offset"];function WF(t){return KF(t)||VF(t)||GF(t)||HF()}function HF(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GF(t,e){if(t){if(typeof t=="string")return fv(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fv(t,e)}}function VF(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function KF(t){if(Array.isArray(t))return fv(t)}function fv(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function YF(t,e){if(t==null)return{};var r=XF(t,e),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(a=0;a<o.length;a++)n=o[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function XF(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function hk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Ot(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hk(Object(r),!0).forEach(function(n){QF(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function QF(t,e,r){return e=ZF(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ZF(t){var e=JF(t,"string");return Tl(e)=="symbol"?e:e+""}function JF(t,e){if(Tl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Tl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Cl(){return Cl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Cl.apply(this,arguments)}var eB=function(e){var r=e.value,n=e.formatter,a=ke(e.children)?r:e.children;return Oe(n)?n(a):a},tB=function(e,r){var n=nr(r-e),a=Math.min(Math.abs(r-e),360);return n*a},rB=function(e,r,n){var a=e.position,o=e.viewBox,c=e.offset,u=e.className,d=o,m=d.cx,p=d.cy,h=d.innerRadius,y=d.outerRadius,v=d.startAngle,w=d.endAngle,b=d.clockWise,j=(h+y)/2,O=tB(v,w),S=O>=0?1:-1,k,A;a==="insideStart"?(k=v+S*c,A=b):a==="insideEnd"?(k=w-S*c,A=!b):a==="end"&&(k=w+S*c,A=b),A=O<=0?A:!A;var N=Ze(m,p,j,k),P=Ze(m,p,j,k+(A?1:-1)*359),T="M".concat(N.x,",").concat(N.y,`
    A`).concat(j,",").concat(j,",0,1,").concat(A?0:1,`,
    `).concat(P.x,",").concat(P.y),$=ke(e.id)?Ea("recharts-radial-line-"):e.id;return W.createElement("text",Cl({},n,{dominantBaseline:"central",className:Ie("recharts-radial-bar-label",u)}),W.createElement("defs",null,W.createElement("path",{id:$,d:T})),W.createElement("textPath",{xlinkHref:"#".concat($)},r))},nB=function(e){var r=e.viewBox,n=e.offset,a=e.position,o=r,c=o.cx,u=o.cy,d=o.innerRadius,m=o.outerRadius,p=o.startAngle,h=o.endAngle,y=(p+h)/2;if(a==="outside"){var v=Ze(c,u,m+n,y),w=v.x,b=v.y;return{x:w,y:b,textAnchor:w>=c?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:c,y:u,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:c,y:u,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:c,y:u,textAnchor:"middle",verticalAnchor:"end"};var j=(d+m)/2,O=Ze(c,u,j,y),S=O.x,k=O.y;return{x:S,y:k,textAnchor:"middle",verticalAnchor:"middle"}},aB=function(e){var r=e.viewBox,n=e.parentViewBox,a=e.offset,o=e.position,c=r,u=c.x,d=c.y,m=c.width,p=c.height,h=p>=0?1:-1,y=h*a,v=h>0?"end":"start",w=h>0?"start":"end",b=m>=0?1:-1,j=b*a,O=b>0?"end":"start",S=b>0?"start":"end";if(o==="top"){var k={x:u+m/2,y:d-h*a,textAnchor:"middle",verticalAnchor:v};return Ot(Ot({},k),n?{height:Math.max(d-n.y,0),width:m}:{})}if(o==="bottom"){var A={x:u+m/2,y:d+p+y,textAnchor:"middle",verticalAnchor:w};return Ot(Ot({},A),n?{height:Math.max(n.y+n.height-(d+p),0),width:m}:{})}if(o==="left"){var N={x:u-j,y:d+p/2,textAnchor:O,verticalAnchor:"middle"};return Ot(Ot({},N),n?{width:Math.max(N.x-n.x,0),height:p}:{})}if(o==="right"){var P={x:u+m+j,y:d+p/2,textAnchor:S,verticalAnchor:"middle"};return Ot(Ot({},P),n?{width:Math.max(n.x+n.width-P.x,0),height:p}:{})}var T=n?{width:m,height:p}:{};return o==="insideLeft"?Ot({x:u+j,y:d+p/2,textAnchor:S,verticalAnchor:"middle"},T):o==="insideRight"?Ot({x:u+m-j,y:d+p/2,textAnchor:O,verticalAnchor:"middle"},T):o==="insideTop"?Ot({x:u+m/2,y:d+y,textAnchor:"middle",verticalAnchor:w},T):o==="insideBottom"?Ot({x:u+m/2,y:d+p-y,textAnchor:"middle",verticalAnchor:v},T):o==="insideTopLeft"?Ot({x:u+j,y:d+y,textAnchor:S,verticalAnchor:w},T):o==="insideTopRight"?Ot({x:u+m-j,y:d+y,textAnchor:O,verticalAnchor:w},T):o==="insideBottomLeft"?Ot({x:u+j,y:d+p-y,textAnchor:S,verticalAnchor:v},T):o==="insideBottomRight"?Ot({x:u+m-j,y:d+p-y,textAnchor:O,verticalAnchor:v},T):Hs(o)&&(le(o.x)||Ja(o.x))&&(le(o.y)||Ja(o.y))?Ot({x:u+ar(o.x,m),y:d+ar(o.y,p),textAnchor:"end",verticalAnchor:"end"},T):Ot({x:u+m/2,y:d+p/2,textAnchor:"middle",verticalAnchor:"middle"},T)},iB=function(e){return"cx"in e&&le(e.cx)};function Dt(t){var e=t.offset,r=e===void 0?5:e,n=YF(t,UF),a=Ot({offset:r},n),o=a.viewBox,c=a.position,u=a.value,d=a.children,m=a.content,p=a.className,h=p===void 0?"":p,y=a.textBreakAll;if(!o||ke(u)&&ke(d)&&!I.isValidElement(m)&&!Oe(m))return null;if(I.isValidElement(m))return I.cloneElement(m,a);var v;if(Oe(m)){if(v=I.createElement(m,a),I.isValidElement(v))return v}else v=eB(a);var w=iB(o),b=ve(a,!0);if(w&&(c==="insideStart"||c==="insideEnd"||c==="end"))return rB(a,v,b);var j=w?nB(a):aB(a);return W.createElement(ci,Cl({className:Ie("recharts-label",h)},b,j,{breakAll:y}),v)}Dt.displayName="Label";var nT=function(e){var r=e.cx,n=e.cy,a=e.angle,o=e.startAngle,c=e.endAngle,u=e.r,d=e.radius,m=e.innerRadius,p=e.outerRadius,h=e.x,y=e.y,v=e.top,w=e.left,b=e.width,j=e.height,O=e.clockWise,S=e.labelViewBox;if(S)return S;if(le(b)&&le(j)){if(le(h)&&le(y))return{x:h,y,width:b,height:j};if(le(v)&&le(w))return{x:v,y:w,width:b,height:j}}return le(h)&&le(y)?{x:h,y,width:0,height:0}:le(r)&&le(n)?{cx:r,cy:n,startAngle:o||a||0,endAngle:c||a||0,innerRadius:m||0,outerRadius:p||d||u||0,clockWise:O}:e.viewBox?e.viewBox:{}},sB=function(e,r){return e?e===!0?W.createElement(Dt,{key:"label-implicit",viewBox:r}):Pt(e)?W.createElement(Dt,{key:"label-implicit",viewBox:r,value:e}):I.isValidElement(e)?e.type===Dt?I.cloneElement(e,{key:"label-implicit",viewBox:r}):W.createElement(Dt,{key:"label-implicit",content:e,viewBox:r}):Oe(e)?W.createElement(Dt,{key:"label-implicit",content:e,viewBox:r}):Hs(e)?W.createElement(Dt,Cl({viewBox:r},e,{key:"label-implicit"})):null:null},oB=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var a=e.children,o=nT(e),c=sr(a,Dt).map(function(d,m){return I.cloneElement(d,{viewBox:r||o,key:"label-".concat(m)})});if(!n)return c;var u=sB(e.label,r||o);return[u].concat(WF(c))};Dt.parseViewBox=nT;Dt.renderCallByParent=oB;var Hy,pk;function lB(){if(pk)return Hy;pk=1;function t(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}return Hy=t,Hy}var cB=lB();const uB=We(cB);function Il(t){"@babel/helpers - typeof";return Il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Il(t)}var dB=["valueAccessor"],fB=["data","dataKey","clockWise","id","textBreakAll"];function mB(t){return yB(t)||gB(t)||pB(t)||hB()}function hB(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pB(t,e){if(t){if(typeof t=="string")return mv(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mv(t,e)}}function gB(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function yB(t){if(Array.isArray(t))return mv(t)}function mv(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function od(){return od=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},od.apply(this,arguments)}function gk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function yk(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gk(Object(r),!0).forEach(function(n){vB(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vB(t,e,r){return e=xB(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xB(t){var e=bB(t,"string");return Il(e)=="symbol"?e:e+""}function bB(t,e){if(Il(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Il(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vk(t,e){if(t==null)return{};var r=wB(t,e),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(a=0;a<o.length;a++)n=o[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function wB(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var jB=function(e){return Array.isArray(e.value)?uB(e.value):e.value};function sn(t){var e=t.valueAccessor,r=e===void 0?jB:e,n=vk(t,dB),a=n.data,o=n.dataKey,c=n.clockWise,u=n.id,d=n.textBreakAll,m=vk(n,fB);return!a||!a.length?null:W.createElement(Me,{className:"recharts-label-list"},a.map(function(p,h){var y=ke(o)?r(p,h):nt(p&&p.payload,o),v=ke(u)?{}:{id:"".concat(u,"-").concat(h)};return W.createElement(Dt,od({},ve(p,!0),m,v,{parentViewBox:p.parentViewBox,value:y,textBreakAll:d,viewBox:Dt.parseViewBox(ke(c)?p:yk(yk({},p),{},{clockWise:c})),key:"label-".concat(h),index:h}))}))}sn.displayName="LabelList";function SB(t,e){return t?t===!0?W.createElement(sn,{key:"labelList-implicit",data:e}):W.isValidElement(t)||Oe(t)?W.createElement(sn,{key:"labelList-implicit",data:e,content:t}):Hs(t)?W.createElement(sn,od({data:e},t,{key:"labelList-implicit"})):null:null}function _B(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,a=sr(n,sn).map(function(c,u){return I.cloneElement(c,{data:e,key:"labelList-".concat(u)})});if(!r)return a;var o=SB(t.label,e);return[o].concat(mB(a))}sn.renderCallByParent=_B;function Ml(t){"@babel/helpers - typeof";return Ml=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ml(t)}function hv(){return hv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hv.apply(this,arguments)}function xk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function bk(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xk(Object(r),!0).forEach(function(n){NB(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function NB(t,e,r){return e=kB(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kB(t){var e=OB(t,"string");return Ml(e)=="symbol"?e:e+""}function OB(t,e){if(Ml(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ml(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var AB=function(e,r){var n=nr(r-e),a=Math.min(Math.abs(r-e),359.999);return n*a},_u=function(e){var r=e.cx,n=e.cy,a=e.radius,o=e.angle,c=e.sign,u=e.isExternal,d=e.cornerRadius,m=e.cornerIsExternal,p=d*(u?1:-1)+a,h=Math.asin(d/p)/sd,y=m?o:o+c*h,v=Ze(r,n,p,y),w=Ze(r,n,a,y),b=m?o-c*h:o,j=Ze(r,n,p*Math.cos(h*sd),b);return{center:v,circleTangency:w,lineTangency:j,theta:h}},aT=function(e){var r=e.cx,n=e.cy,a=e.innerRadius,o=e.outerRadius,c=e.startAngle,u=e.endAngle,d=AB(c,u),m=c+d,p=Ze(r,n,o,c),h=Ze(r,n,o,m),y="M ".concat(p.x,",").concat(p.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(c>m),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(a>0){var v=Ze(r,n,a,c),w=Ze(r,n,a,m);y+="L ".concat(w.x,",").concat(w.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(c<=m),`,
            `).concat(v.x,",").concat(v.y," Z")}else y+="L ".concat(r,",").concat(n," Z");return y},PB=function(e){var r=e.cx,n=e.cy,a=e.innerRadius,o=e.outerRadius,c=e.cornerRadius,u=e.forceCornerRadius,d=e.cornerIsExternal,m=e.startAngle,p=e.endAngle,h=nr(p-m),y=_u({cx:r,cy:n,radius:o,angle:m,sign:h,cornerRadius:c,cornerIsExternal:d}),v=y.circleTangency,w=y.lineTangency,b=y.theta,j=_u({cx:r,cy:n,radius:o,angle:p,sign:-h,cornerRadius:c,cornerIsExternal:d}),O=j.circleTangency,S=j.lineTangency,k=j.theta,A=d?Math.abs(m-p):Math.abs(m-p)-b-k;if(A<0)return u?"M ".concat(w.x,",").concat(w.y,`
        a`).concat(c,",").concat(c,",0,0,1,").concat(c*2,`,0
        a`).concat(c,",").concat(c,",0,0,1,").concat(-c*2,`,0
      `):aT({cx:r,cy:n,innerRadius:a,outerRadius:o,startAngle:m,endAngle:p});var N="M ".concat(w.x,",").concat(w.y,`
    A`).concat(c,",").concat(c,",0,0,").concat(+(h<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(A>180),",").concat(+(h<0),",").concat(O.x,",").concat(O.y,`
    A`).concat(c,",").concat(c,",0,0,").concat(+(h<0),",").concat(S.x,",").concat(S.y,`
  `);if(a>0){var P=_u({cx:r,cy:n,radius:a,angle:m,sign:h,isExternal:!0,cornerRadius:c,cornerIsExternal:d}),T=P.circleTangency,$=P.lineTangency,M=P.theta,q=_u({cx:r,cy:n,radius:a,angle:p,sign:-h,isExternal:!0,cornerRadius:c,cornerIsExternal:d}),R=q.circleTangency,U=q.lineTangency,B=q.theta,V=d?Math.abs(m-p):Math.abs(m-p)-M-B;if(V<0&&c===0)return"".concat(N,"L").concat(r,",").concat(n,"Z");N+="L".concat(U.x,",").concat(U.y,`
      A`).concat(c,",").concat(c,",0,0,").concat(+(h<0),",").concat(R.x,",").concat(R.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(V>180),",").concat(+(h>0),",").concat(T.x,",").concat(T.y,`
      A`).concat(c,",").concat(c,",0,0,").concat(+(h<0),",").concat($.x,",").concat($.y,"Z")}else N+="L".concat(r,",").concat(n,"Z");return N},EB={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},iT=function(e){var r=bk(bk({},EB),e),n=r.cx,a=r.cy,o=r.innerRadius,c=r.outerRadius,u=r.cornerRadius,d=r.forceCornerRadius,m=r.cornerIsExternal,p=r.startAngle,h=r.endAngle,y=r.className;if(c<o||p===h)return null;var v=Ie("recharts-sector",y),w=c-o,b=ar(u,w,0,!0),j;return b>0&&Math.abs(p-h)<360?j=PB({cx:n,cy:a,innerRadius:o,outerRadius:c,cornerRadius:Math.min(b,w/2),forceCornerRadius:d,cornerIsExternal:m,startAngle:p,endAngle:h}):j=aT({cx:n,cy:a,innerRadius:o,outerRadius:c,startAngle:p,endAngle:h}),W.createElement("path",hv({},ve(r,!0),{className:v,d:j,role:"img"}))};function Rl(t){"@babel/helpers - typeof";return Rl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rl(t)}function pv(){return pv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},pv.apply(this,arguments)}function wk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function jk(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wk(Object(r),!0).forEach(function(n){TB(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function TB(t,e,r){return e=CB(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function CB(t){var e=IB(t,"string");return Rl(e)=="symbol"?e:e+""}function IB(t,e){if(Rl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Rl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Sk={curveBasisClosed:JR,curveBasisOpen:eD,curveBasis:ZR,curveBumpX:LR,curveBumpY:FR,curveLinearClosed:tD,curveLinear:Hd,curveMonotoneX:rD,curveMonotoneY:nD,curveNatural:aD,curveStep:iD,curveStepAfter:oD,curveStepBefore:sD},Nu=function(e){return e.x===+e.x&&e.y===+e.y},Vo=function(e){return e.x},Ko=function(e){return e.y},MB=function(e,r){if(Oe(e))return e;var n="curve".concat(Ud(e));return(n==="curveMonotone"||n==="curveBump")&&r?Sk["".concat(n).concat(r==="vertical"?"Y":"X")]:Sk[n]||Hd},RB=function(e){var r=e.type,n=r===void 0?"linear":r,a=e.points,o=a===void 0?[]:a,c=e.baseLine,u=e.layout,d=e.connectNulls,m=d===void 0?!1:d,p=MB(n,u),h=m?o.filter(function(b){return Nu(b)}):o,y;if(Array.isArray(c)){var v=m?c.filter(function(b){return Nu(b)}):c,w=h.map(function(b,j){return jk(jk({},b),{},{base:v[j]})});return u==="vertical"?y=gu().y(Ko).x1(Vo).x0(function(b){return b.base.x}):y=gu().x(Vo).y1(Ko).y0(function(b){return b.base.y}),y.defined(Nu).curve(p),y(w)}return u==="vertical"&&le(c)?y=gu().y(Ko).x1(Vo).x0(c):le(c)?y=gu().x(Vo).y1(Ko).y0(c):y=nP().x(Vo).y(Ko),y.defined(Nu).curve(p),y(h)},_a=function(e){var r=e.className,n=e.points,a=e.path,o=e.pathRef;if((!n||!n.length)&&!a)return null;var c=n&&n.length?RB(e):a;return I.createElement("path",pv({},ve(e,!1),Ru(e),{className:Ie("recharts-curve",r),d:c,ref:o}))},Gy={exports:{}},Vy,_k;function DB(){if(_k)return Vy;_k=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Vy=t,Vy}var Ky,Nk;function $B(){if(Nk)return Ky;Nk=1;var t=DB();function e(){}function r(){}return r.resetWarningCache=e,Ky=function(){function n(c,u,d,m,p,h){if(h!==t){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}n.isRequired=n;function a(){return n}var o={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:a,element:n,elementType:n,instanceOf:a,node:n,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:r,resetWarningCache:e};return o.PropTypes=o,o},Ky}var kk;function LB(){return kk||(kk=1,Gy.exports=$B()()),Gy.exports}var FB=LB();const Ue=We(FB);var BB=Object.getOwnPropertyNames,zB=Object.getOwnPropertySymbols,qB=Object.prototype.hasOwnProperty;function Ok(t,e){return function(n,a,o){return t(n,a,o)&&e(n,a,o)}}function ku(t){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,a);var o=a.cache,c=o.get(r),u=o.get(n);if(c&&u)return c===n&&u===r;o.set(r,n),o.set(n,r);var d=t(r,n,a);return o.delete(r),o.delete(n),d}}function Ak(t){return BB(t).concat(zB(t))}var UB=Object.hasOwn||(function(t,e){return qB.call(t,e)});function bi(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var WB="__v",HB="__o",GB="_owner",Pk=Object.getOwnPropertyDescriptor,Ek=Object.keys;function VB(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function KB(t,e){return bi(t.getTime(),e.getTime())}function YB(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function XB(t,e){return t===e}function Tk(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var a=new Array(n),o=t.entries(),c,u,d=0;(c=o.next())&&!c.done;){for(var m=e.entries(),p=!1,h=0;(u=m.next())&&!u.done;){if(a[h]){h++;continue}var y=c.value,v=u.value;if(r.equals(y[0],v[0],d,h,t,e,r)&&r.equals(y[1],v[1],y[0],v[0],t,e,r)){p=a[h]=!0;break}h++}if(!p)return!1;d++}return!0}var QB=bi;function ZB(t,e,r){var n=Ek(t),a=n.length;if(Ek(e).length!==a)return!1;for(;a-- >0;)if(!sT(t,e,r,n[a]))return!1;return!0}function Yo(t,e,r){var n=Ak(t),a=n.length;if(Ak(e).length!==a)return!1;for(var o,c,u;a-- >0;)if(o=n[a],!sT(t,e,r,o)||(c=Pk(t,o),u=Pk(e,o),(c||u)&&(!c||!u||c.configurable!==u.configurable||c.enumerable!==u.enumerable||c.writable!==u.writable)))return!1;return!0}function JB(t,e){return bi(t.valueOf(),e.valueOf())}function ez(t,e){return t.source===e.source&&t.flags===e.flags}function Ck(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var a=new Array(n),o=t.values(),c,u;(c=o.next())&&!c.done;){for(var d=e.values(),m=!1,p=0;(u=d.next())&&!u.done;){if(!a[p]&&r.equals(c.value,u.value,c.value,u.value,t,e,r)){m=a[p]=!0;break}p++}if(!m)return!1}return!0}function tz(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function rz(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function sT(t,e,r,n){return(n===GB||n===HB||n===WB)&&(t.$$typeof||e.$$typeof)?!0:UB(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var nz="[object Arguments]",az="[object Boolean]",iz="[object Date]",sz="[object Error]",oz="[object Map]",lz="[object Number]",cz="[object Object]",uz="[object RegExp]",dz="[object Set]",fz="[object String]",mz="[object URL]",hz=Array.isArray,Ik=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,Mk=Object.assign,pz=Object.prototype.toString.call.bind(Object.prototype.toString);function gz(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,a=t.areFunctionsEqual,o=t.areMapsEqual,c=t.areNumbersEqual,u=t.areObjectsEqual,d=t.arePrimitiveWrappersEqual,m=t.areRegExpsEqual,p=t.areSetsEqual,h=t.areTypedArraysEqual,y=t.areUrlsEqual;return function(w,b,j){if(w===b)return!0;if(w==null||b==null)return!1;var O=typeof w;if(O!==typeof b)return!1;if(O!=="object")return O==="number"?c(w,b,j):O==="function"?a(w,b,j):!1;var S=w.constructor;if(S!==b.constructor)return!1;if(S===Object)return u(w,b,j);if(hz(w))return e(w,b,j);if(Ik!=null&&Ik(w))return h(w,b,j);if(S===Date)return r(w,b,j);if(S===RegExp)return m(w,b,j);if(S===Map)return o(w,b,j);if(S===Set)return p(w,b,j);var k=pz(w);return k===iz?r(w,b,j):k===uz?m(w,b,j):k===oz?o(w,b,j):k===dz?p(w,b,j):k===cz?typeof w.then!="function"&&typeof b.then!="function"&&u(w,b,j):k===mz?y(w,b,j):k===sz?n(w,b,j):k===nz?u(w,b,j):k===az||k===lz||k===fz?d(w,b,j):!1}}function yz(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,a={areArraysEqual:n?Yo:VB,areDatesEqual:KB,areErrorsEqual:YB,areFunctionsEqual:XB,areMapsEqual:n?Ok(Tk,Yo):Tk,areNumbersEqual:QB,areObjectsEqual:n?Yo:ZB,arePrimitiveWrappersEqual:JB,areRegExpsEqual:ez,areSetsEqual:n?Ok(Ck,Yo):Ck,areTypedArraysEqual:n?Yo:tz,areUrlsEqual:rz};if(r&&(a=Mk({},a,r(a))),e){var o=ku(a.areArraysEqual),c=ku(a.areMapsEqual),u=ku(a.areObjectsEqual),d=ku(a.areSetsEqual);a=Mk({},a,{areArraysEqual:o,areMapsEqual:c,areObjectsEqual:u,areSetsEqual:d})}return a}function vz(t){return function(e,r,n,a,o,c,u){return t(e,r,u)}}function xz(t){var e=t.circular,r=t.comparator,n=t.createState,a=t.equals,o=t.strict;if(n)return function(d,m){var p=n(),h=p.cache,y=h===void 0?e?new WeakMap:void 0:h,v=p.meta;return r(d,m,{cache:y,equals:a,meta:v,strict:o})};if(e)return function(d,m){return r(d,m,{cache:new WeakMap,equals:a,meta:void 0,strict:o})};var c={cache:void 0,equals:a,meta:void 0,strict:o};return function(d,m){return r(d,m,c)}}var bz=Ia();Ia({strict:!0});Ia({circular:!0});Ia({circular:!0,strict:!0});Ia({createInternalComparator:function(){return bi}});Ia({strict:!0,createInternalComparator:function(){return bi}});Ia({circular:!0,createInternalComparator:function(){return bi}});Ia({circular:!0,createInternalComparator:function(){return bi},strict:!0});function Ia(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,a=t.createState,o=t.strict,c=o===void 0?!1:o,u=yz(t),d=gz(u),m=n?n(d):vz(d);return xz({circular:r,comparator:d,createState:a,equals:m,strict:c})}function wz(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function Rk(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(o){r<0&&(r=o),o-r>e?(t(o),r=-1):wz(a)};requestAnimationFrame(n)}function gv(t){"@babel/helpers - typeof";return gv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gv(t)}function jz(t){return kz(t)||Nz(t)||_z(t)||Sz()}function Sz(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _z(t,e){if(t){if(typeof t=="string")return Dk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Dk(t,e)}}function Dk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Nz(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function kz(t){if(Array.isArray(t))return t}function Oz(){var t={},e=function(){return null},r=!1,n=function a(o){if(!r){if(Array.isArray(o)){if(!o.length)return;var c=o,u=jz(c),d=u[0],m=u.slice(1);if(typeof d=="number"){Rk(a.bind(null,m),d);return}a(d),Rk(a.bind(null,m));return}gv(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){r=!0},start:function(o){r=!1,n(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function Dl(t){"@babel/helpers - typeof";return Dl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dl(t)}function $k(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Lk(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$k(Object(r),!0).forEach(function(n){oT(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$k(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function oT(t,e,r){return e=Az(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Az(t){var e=Pz(t,"string");return Dl(e)==="symbol"?e:String(e)}function Pz(t,e){if(Dl(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Dl(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ez=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,a){return n.filter(function(o){return a.includes(o)})})},Tz=function(e){return e},Cz=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},il=function(e,r){return Object.keys(r).reduce(function(n,a){return Lk(Lk({},n),{},oT({},a,e(a,r[a])))},{})},Fk=function(e,r,n){return e.map(function(a){return"".concat(Cz(a)," ").concat(r,"ms ").concat(n)}).join(",")};function Iz(t,e){return Dz(t)||Rz(t,e)||lT(t,e)||Mz()}function Mz(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rz(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,o,c,u=[],d=!0,m=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(p){m=!0,a=p}finally{try{if(!d&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(m)throw a}}return u}}function Dz(t){if(Array.isArray(t))return t}function $z(t){return Bz(t)||Fz(t)||lT(t)||Lz()}function Lz(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lT(t,e){if(t){if(typeof t=="string")return yv(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yv(t,e)}}function Fz(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Bz(t){if(Array.isArray(t))return yv(t)}function yv(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var ld=1e-4,cT=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},uT=function(e,r){return e.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},Bk=function(e,r){return function(n){var a=cT(e,r);return uT(a,n)}},zz=function(e,r){return function(n){var a=cT(e,r),o=[].concat($z(a.map(function(c,u){return c*u}).slice(1)),[0]);return uT(o,n)}},zk=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var a=r[0],o=r[1],c=r[2],u=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,o=0,c=1,u=1;break;case"ease":a=.25,o=.1,c=.25,u=1;break;case"ease-in":a=.42,o=0,c=1,u=1;break;case"ease-out":a=.42,o=0,c=.58,u=1;break;case"ease-in-out":a=0,o=0,c=.58,u=1;break;default:{var d=r[0].split("(");if(d[0]==="cubic-bezier"&&d[1].split(")")[0].split(",").length===4){var m=d[1].split(")")[0].split(",").map(function(j){return parseFloat(j)}),p=Iz(m,4);a=p[0],o=p[1],c=p[2],u=p[3]}}}var h=Bk(a,c),y=Bk(o,u),v=zz(a,c),w=function(O){return O>1?1:O<0?0:O},b=function(O){for(var S=O>1?1:O,k=S,A=0;A<8;++A){var N=h(k)-S,P=v(k);if(Math.abs(N-S)<ld||P<ld)return y(k);k=w(k-N/P)}return y(k)};return b.isStepper=!1,b},qz=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,a=e.damping,o=a===void 0?8:a,c=e.dt,u=c===void 0?17:c,d=function(p,h,y){var v=-(p-h)*n,w=y*o,b=y+(v-w)*u/1e3,j=y*u/1e3+p;return Math.abs(j-h)<ld&&Math.abs(b)<ld?[h,0]:[j,b]};return d.isStepper=!0,d.dt=u,d},Uz=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return zk(a);case"spring":return qz();default:if(a.split("(")[0]==="cubic-bezier")return zk(a)}return typeof a=="function"?a:null};function $l(t){"@babel/helpers - typeof";return $l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$l(t)}function qk(t){return Gz(t)||Hz(t)||dT(t)||Wz()}function Wz(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hz(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Gz(t){if(Array.isArray(t))return xv(t)}function Uk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Bt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Uk(Object(r),!0).forEach(function(n){vv(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Uk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vv(t,e,r){return e=Vz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Vz(t){var e=Kz(t,"string");return $l(e)==="symbol"?e:String(e)}function Kz(t,e){if($l(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($l(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yz(t,e){return Zz(t)||Qz(t,e)||dT(t,e)||Xz()}function Xz(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dT(t,e){if(t){if(typeof t=="string")return xv(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xv(t,e)}}function xv(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Qz(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,o,c,u=[],d=!0,m=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(p){m=!0,a=p}finally{try{if(!d&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(m)throw a}}return u}}function Zz(t){if(Array.isArray(t))return t}var cd=function(e,r,n){return e+(r-e)*n},bv=function(e){var r=e.from,n=e.to;return r!==n},Jz=function t(e,r,n){var a=il(function(o,c){if(bv(c)){var u=e(c.from,c.to,c.velocity),d=Yz(u,2),m=d[0],p=d[1];return Bt(Bt({},c),{},{from:m,velocity:p})}return c},r);return n<1?il(function(o,c){return bv(c)?Bt(Bt({},c),{},{velocity:cd(c.velocity,a[o].velocity,n),from:cd(c.from,a[o].from,n)}):c},r):t(e,a,n-1)};const e7=(function(t,e,r,n,a){var o=Ez(t,e),c=o.reduce(function(j,O){return Bt(Bt({},j),{},vv({},O,[t[O],e[O]]))},{}),u=o.reduce(function(j,O){return Bt(Bt({},j),{},vv({},O,{from:t[O],velocity:0,to:e[O]}))},{}),d=-1,m,p,h=function(){return null},y=function(){return il(function(O,S){return S.from},u)},v=function(){return!Object.values(u).filter(bv).length},w=function(O){m||(m=O);var S=O-m,k=S/r.dt;u=Jz(r,u,k),a(Bt(Bt(Bt({},t),e),y())),m=O,v()||(d=requestAnimationFrame(h))},b=function(O){p||(p=O);var S=(O-p)/n,k=il(function(N,P){return cd.apply(void 0,qk(P).concat([r(S)]))},c);if(a(Bt(Bt(Bt({},t),e),k)),S<1)d=requestAnimationFrame(h);else{var A=il(function(N,P){return cd.apply(void 0,qk(P).concat([r(1)]))},c);a(Bt(Bt(Bt({},t),e),A))}};return h=r.isStepper?w:b,function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(d)}}});function Ss(t){"@babel/helpers - typeof";return Ss=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ss(t)}var t7=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function r7(t,e){if(t==null)return{};var r=n7(t,e),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(a=0;a<o.length;a++)n=o[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function n7(t,e){if(t==null)return{};var r={},n=Object.keys(t),a,o;for(o=0;o<n.length;o++)a=n[o],!(e.indexOf(a)>=0)&&(r[a]=t[a]);return r}function Yy(t){return o7(t)||s7(t)||i7(t)||a7()}function a7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i7(t,e){if(t){if(typeof t=="string")return wv(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wv(t,e)}}function s7(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function o7(t){if(Array.isArray(t))return wv(t)}function wv(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Wk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function en(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Wk(Object(r),!0).forEach(function(n){Jo(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Wk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Jo(t,e,r){return e=fT(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function l7(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c7(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,fT(n.key),n)}}function u7(t,e,r){return e&&c7(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function fT(t){var e=d7(t,"string");return Ss(e)==="symbol"?e:String(e)}function d7(t,e){if(Ss(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ss(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function f7(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jv(t,e)}function jv(t,e){return jv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},jv(t,e)}function m7(t){var e=h7();return function(){var n=ud(t),a;if(e){var o=ud(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return Sv(this,a)}}function Sv(t,e){if(e&&(Ss(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _v(t)}function _v(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h7(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ud(t){return ud=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ud(t)}var Ur=(function(t){f7(r,t);var e=m7(r);function r(n,a){var o;l7(this,r),o=e.call(this,n,a);var c=o.props,u=c.isActive,d=c.attributeName,m=c.from,p=c.to,h=c.steps,y=c.children,v=c.duration;if(o.handleStyleChange=o.handleStyleChange.bind(_v(o)),o.changeStyle=o.changeStyle.bind(_v(o)),!u||v<=0)return o.state={style:{}},typeof y=="function"&&(o.state={style:p}),Sv(o);if(h&&h.length)o.state={style:h[0].style};else if(m){if(typeof y=="function")return o.state={style:m},Sv(o);o.state={style:d?Jo({},d,m):m}}else o.state={style:{}};return o}return u7(r,[{key:"componentDidMount",value:function(){var a=this.props,o=a.isActive,c=a.canBegin;this.mounted=!0,!(!o||!c)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var o=this.props,c=o.isActive,u=o.canBegin,d=o.attributeName,m=o.shouldReAnimate,p=o.to,h=o.from,y=this.state.style;if(u){if(!c){var v={style:d?Jo({},d,p):p};this.state&&y&&(d&&y[d]!==p||!d&&y!==p)&&this.setState(v);return}if(!(bz(a.to,p)&&a.canBegin&&a.isActive)){var w=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var b=w||m?h:a.to;if(this.state&&y){var j={style:d?Jo({},d,b):b};(d&&y[d]!==b||!d&&y!==b)&&this.setState(j)}this.runAnimation(en(en({},this.props),{},{from:b,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var o=this,c=a.from,u=a.to,d=a.duration,m=a.easing,p=a.begin,h=a.onAnimationEnd,y=a.onAnimationStart,v=e7(c,u,Uz(m),d,this.changeStyle),w=function(){o.stopJSAnimation=v()};this.manager.start([y,p,w,d,h])}},{key:"runStepAnimation",value:function(a){var o=this,c=a.steps,u=a.begin,d=a.onAnimationStart,m=c[0],p=m.style,h=m.duration,y=h===void 0?0:h,v=function(b,j,O){if(O===0)return b;var S=j.duration,k=j.easing,A=k===void 0?"ease":k,N=j.style,P=j.properties,T=j.onAnimationEnd,$=O>0?c[O-1]:j,M=P||Object.keys(N);if(typeof A=="function"||A==="spring")return[].concat(Yy(b),[o.runJSAnimation.bind(o,{from:$.style,to:N,duration:S,easing:A}),S]);var q=Fk(M,S,A),R=en(en(en({},$.style),N),{},{transition:q});return[].concat(Yy(b),[R,S,T]).filter(Tz)};return this.manager.start([d].concat(Yy(c.reduce(v,[p,Math.max(y,u)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=Oz());var o=a.begin,c=a.duration,u=a.attributeName,d=a.to,m=a.easing,p=a.onAnimationStart,h=a.onAnimationEnd,y=a.steps,v=a.children,w=this.manager;if(this.unSubscribe=w.subscribe(this.handleStyleChange),typeof m=="function"||typeof v=="function"||m==="spring"){this.runJSAnimation(a);return}if(y.length>1){this.runStepAnimation(a);return}var b=u?Jo({},u,d):d,j=Fk(Object.keys(b),c,m);w.start([p,o,en(en({},b),{},{transition:j}),c,h])}},{key:"render",value:function(){var a=this.props,o=a.children;a.begin;var c=a.duration;a.attributeName,a.easing;var u=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var d=r7(a,t7),m=I.Children.count(o),p=this.state.style;if(typeof o=="function")return o(p);if(!u||m===0||c<=0)return o;var h=function(v){var w=v.props,b=w.style,j=b===void 0?{}:b,O=w.className,S=I.cloneElement(v,en(en({},d),{},{style:en(en({},j),p),className:O}));return S};return m===1?h(I.Children.only(o)):W.createElement("div",null,I.Children.map(o,function(y){return h(y)}))}}]),r})(I.PureComponent);Ur.displayName="Animate";Ur.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Ur.propTypes={from:Ue.oneOfType([Ue.object,Ue.string]),to:Ue.oneOfType([Ue.object,Ue.string]),attributeName:Ue.string,duration:Ue.number,begin:Ue.number,easing:Ue.oneOfType([Ue.string,Ue.func]),steps:Ue.arrayOf(Ue.shape({duration:Ue.number.isRequired,style:Ue.object.isRequired,easing:Ue.oneOfType([Ue.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Ue.func]),properties:Ue.arrayOf("string"),onAnimationEnd:Ue.func})),children:Ue.oneOfType([Ue.node,Ue.func]),isActive:Ue.bool,canBegin:Ue.bool,onAnimationEnd:Ue.func,shouldReAnimate:Ue.bool,onAnimationStart:Ue.func,onAnimationReStart:Ue.func};function Ll(t){"@babel/helpers - typeof";return Ll=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ll(t)}function dd(){return dd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},dd.apply(this,arguments)}function p7(t,e){return x7(t)||v7(t,e)||y7(t,e)||g7()}function g7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y7(t,e){if(t){if(typeof t=="string")return Hk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Hk(t,e)}}function Hk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function v7(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,o,c,u=[],d=!0,m=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(p){m=!0,a=p}finally{try{if(!d&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(m)throw a}}return u}}function x7(t){if(Array.isArray(t))return t}function Gk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Vk(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Gk(Object(r),!0).forEach(function(n){b7(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Gk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function b7(t,e,r){return e=w7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function w7(t){var e=j7(t,"string");return Ll(e)=="symbol"?e:e+""}function j7(t,e){if(Ll(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ll(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Kk=function(e,r,n,a,o){var c=Math.min(Math.abs(n)/2,Math.abs(a)/2),u=a>=0?1:-1,d=n>=0?1:-1,m=a>=0&&n>=0||a<0&&n<0?1:0,p;if(c>0&&o instanceof Array){for(var h=[0,0,0,0],y=0,v=4;y<v;y++)h[y]=o[y]>c?c:o[y];p="M".concat(e,",").concat(r+u*h[0]),h[0]>0&&(p+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(m,",").concat(e+d*h[0],",").concat(r)),p+="L ".concat(e+n-d*h[1],",").concat(r),h[1]>0&&(p+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(m,`,
        `).concat(e+n,",").concat(r+u*h[1])),p+="L ".concat(e+n,",").concat(r+a-u*h[2]),h[2]>0&&(p+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(m,`,
        `).concat(e+n-d*h[2],",").concat(r+a)),p+="L ".concat(e+d*h[3],",").concat(r+a),h[3]>0&&(p+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(m,`,
        `).concat(e,",").concat(r+a-u*h[3])),p+="Z"}else if(c>0&&o===+o&&o>0){var w=Math.min(c,o);p="M ".concat(e,",").concat(r+u*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(m,",").concat(e+d*w,",").concat(r,`
            L `).concat(e+n-d*w,",").concat(r,`
            A `).concat(w,",").concat(w,",0,0,").concat(m,",").concat(e+n,",").concat(r+u*w,`
            L `).concat(e+n,",").concat(r+a-u*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(m,",").concat(e+n-d*w,",").concat(r+a,`
            L `).concat(e+d*w,",").concat(r+a,`
            A `).concat(w,",").concat(w,",0,0,").concat(m,",").concat(e,",").concat(r+a-u*w," Z")}else p="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return p},S7=function(e,r){if(!e||!r)return!1;var n=e.x,a=e.y,o=r.x,c=r.y,u=r.width,d=r.height;if(Math.abs(u)>0&&Math.abs(d)>0){var m=Math.min(o,o+u),p=Math.max(o,o+u),h=Math.min(c,c+d),y=Math.max(c,c+d);return n>=m&&n<=p&&a>=h&&a<=y}return!1},_7={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},eb=function(e){var r=Vk(Vk({},_7),e),n=I.useRef(),a=I.useState(-1),o=p7(a,2),c=o[0],u=o[1];I.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var A=n.current.getTotalLength();A&&u(A)}catch{}},[]);var d=r.x,m=r.y,p=r.width,h=r.height,y=r.radius,v=r.className,w=r.animationEasing,b=r.animationDuration,j=r.animationBegin,O=r.isAnimationActive,S=r.isUpdateAnimationActive;if(d!==+d||m!==+m||p!==+p||h!==+h||p===0||h===0)return null;var k=Ie("recharts-rectangle",v);return S?W.createElement(Ur,{canBegin:c>0,from:{width:p,height:h,x:d,y:m},to:{width:p,height:h,x:d,y:m},duration:b,animationEasing:w,isActive:S},function(A){var N=A.width,P=A.height,T=A.x,$=A.y;return W.createElement(Ur,{canBegin:c>0,from:"0px ".concat(c===-1?1:c,"px"),to:"".concat(c,"px 0px"),attributeName:"strokeDasharray",begin:j,duration:b,isActive:O,easing:w},W.createElement("path",dd({},ve(r,!0),{className:k,d:Kk(T,$,N,P,y),ref:n})))}):W.createElement("path",dd({},ve(r,!0),{className:k,d:Kk(d,m,p,h,y)}))},N7=["points","className","baseLinePoints","connectNulls"];function es(){return es=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},es.apply(this,arguments)}function k7(t,e){if(t==null)return{};var r=O7(t,e),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(a=0;a<o.length;a++)n=o[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function O7(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Yk(t){return T7(t)||E7(t)||P7(t)||A7()}function A7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function P7(t,e){if(t){if(typeof t=="string")return Nv(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Nv(t,e)}}function E7(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function T7(t){if(Array.isArray(t))return Nv(t)}function Nv(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Xk=function(e){return e&&e.x===+e.x&&e.y===+e.y},C7=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){Xk(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),Xk(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},sl=function(e,r){var n=C7(e);r&&(n=[n.reduce(function(o,c){return[].concat(Yk(o),Yk(c))},[])]);var a=n.map(function(o){return o.reduce(function(c,u,d){return"".concat(c).concat(d===0?"M":"L").concat(u.x,",").concat(u.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},I7=function(e,r,n){var a=sl(e,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(sl(r.reverse(),n).slice(1))},M7=function(e){var r=e.points,n=e.className,a=e.baseLinePoints,o=e.connectNulls,c=k7(e,N7);if(!r||!r.length)return null;var u=Ie("recharts-polygon",n);if(a&&a.length){var d=c.stroke&&c.stroke!=="none",m=I7(r,a,o);return W.createElement("g",{className:u},W.createElement("path",es({},ve(c,!0),{fill:m.slice(-1)==="Z"?c.fill:"none",stroke:"none",d:m})),d?W.createElement("path",es({},ve(c,!0),{fill:"none",d:sl(r,o)})):null,d?W.createElement("path",es({},ve(c,!0),{fill:"none",d:sl(a,o)})):null)}var p=sl(r,o);return W.createElement("path",es({},ve(c,!0),{fill:p.slice(-1)==="Z"?c.fill:"none",className:u,d:p}))};function kv(){return kv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},kv.apply(this,arguments)}var tc=function(e){var r=e.cx,n=e.cy,a=e.r,o=e.className,c=Ie("recharts-dot",o);return r===+r&&n===+n&&a===+a?I.createElement("circle",kv({},ve(e,!1),Ru(e),{className:c,cx:r,cy:n,r:a})):null};function Fl(t){"@babel/helpers - typeof";return Fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fl(t)}var R7=["x","y","top","left","width","height","className"];function Ov(){return Ov=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ov.apply(this,arguments)}function Qk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function D7(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Qk(Object(r),!0).forEach(function(n){$7(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Qk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $7(t,e,r){return e=L7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function L7(t){var e=F7(t,"string");return Fl(e)=="symbol"?e:e+""}function F7(t,e){if(Fl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Fl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function B7(t,e){if(t==null)return{};var r=z7(t,e),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(a=0;a<o.length;a++)n=o[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function z7(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var q7=function(e,r,n,a,o,c){return"M".concat(e,",").concat(o,"v").concat(a,"M").concat(c,",").concat(r,"h").concat(n)},U7=function(e){var r=e.x,n=r===void 0?0:r,a=e.y,o=a===void 0?0:a,c=e.top,u=c===void 0?0:c,d=e.left,m=d===void 0?0:d,p=e.width,h=p===void 0?0:p,y=e.height,v=y===void 0?0:y,w=e.className,b=B7(e,R7),j=D7({x:n,y:o,top:u,left:m,width:h,height:v},b);return!le(n)||!le(o)||!le(h)||!le(v)||!le(u)||!le(m)?null:W.createElement("path",Ov({},ve(j,!0),{className:Ie("recharts-cross",w),d:q7(n,o,h,v,u,m)}))},Xy,Zk;function W7(){if(Zk)return Xy;Zk=1;var t=nf(),e=OE(),r=_n();function n(a,o){return a&&a.length?t(a,r(o,2),e):void 0}return Xy=n,Xy}var H7=W7();const G7=We(H7);var Qy,Jk;function V7(){if(Jk)return Qy;Jk=1;var t=nf(),e=_n(),r=AE();function n(a,o){return a&&a.length?t(a,e(o,2),r):void 0}return Qy=n,Qy}var K7=V7();const Y7=We(K7);var X7=["cx","cy","angle","ticks","axisLine"],Q7=["ticks","tick","angle","tickFormatter","stroke"];function _s(t){"@babel/helpers - typeof";return _s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_s(t)}function ol(){return ol=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ol.apply(this,arguments)}function eO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Ka(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eO(Object(r),!0).forEach(function(n){lf(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function tO(t,e){if(t==null)return{};var r=Z7(t,e),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(a=0;a<o.length;a++)n=o[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Z7(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function J7(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rO(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,hT(n.key),n)}}function eq(t,e,r){return e&&rO(t.prototype,e),r&&rO(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function tq(t,e,r){return e=fd(e),rq(t,mT()?Reflect.construct(e,r||[],fd(t).constructor):e.apply(t,r))}function rq(t,e){if(e&&(_s(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nq(t)}function nq(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mT(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mT=function(){return!!t})()}function fd(t){return fd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},fd(t)}function aq(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Av(t,e)}function Av(t,e){return Av=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Av(t,e)}function lf(t,e,r){return e=hT(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hT(t){var e=iq(t,"string");return _s(e)=="symbol"?e:e+""}function iq(t,e){if(_s(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_s(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var cf=(function(t){function e(){return J7(this,e),tq(this,e,arguments)}return aq(e,t),eq(e,[{key:"getTickValueCoord",value:function(n){var a=n.coordinate,o=this.props,c=o.angle,u=o.cx,d=o.cy;return Ze(u,d,a,c)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,a;switch(n){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var n=this.props,a=n.cx,o=n.cy,c=n.angle,u=n.ticks,d=G7(u,function(p){return p.coordinate||0}),m=Y7(u,function(p){return p.coordinate||0});return{cx:a,cy:o,startAngle:c,endAngle:c,innerRadius:m.coordinate||0,outerRadius:d.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,o=n.cy,c=n.angle,u=n.ticks,d=n.axisLine,m=tO(n,X7),p=u.reduce(function(w,b){return[Math.min(w[0],b.coordinate),Math.max(w[1],b.coordinate)]},[1/0,-1/0]),h=Ze(a,o,p[0],c),y=Ze(a,o,p[1],c),v=Ka(Ka(Ka({},ve(m,!1)),{},{fill:"none"},ve(d,!1)),{},{x1:h.x,y1:h.y,x2:y.x,y2:y.y});return W.createElement("line",ol({className:"recharts-polar-radius-axis-line"},v))}},{key:"renderTicks",value:function(){var n=this,a=this.props,o=a.ticks,c=a.tick,u=a.angle,d=a.tickFormatter,m=a.stroke,p=tO(a,Q7),h=this.getTickTextAnchor(),y=ve(p,!1),v=ve(c,!1),w=o.map(function(b,j){var O=n.getTickValueCoord(b),S=Ka(Ka(Ka(Ka({textAnchor:h,transform:"rotate(".concat(90-u,", ").concat(O.x,", ").concat(O.y,")")},y),{},{stroke:"none",fill:m},v),{},{index:j},O),{},{payload:b});return W.createElement(Me,ol({className:Ie("recharts-polar-radius-axis-tick",rT(c)),key:"tick-".concat(b.coordinate)},Na(n.props,b,j)),e.renderTickItem(c,S,d?d(b.value,j):b.value))});return W.createElement(Me,{className:"recharts-polar-radius-axis-ticks"},w)}},{key:"render",value:function(){var n=this.props,a=n.ticks,o=n.axisLine,c=n.tick;return!a||!a.length?null:W.createElement(Me,{className:Ie("recharts-polar-radius-axis",this.props.className)},o&&this.renderAxisLine(),c&&this.renderTicks(),Dt.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,a,o){var c;return W.isValidElement(n)?c=W.cloneElement(n,a):Oe(n)?c=n(a):c=W.createElement(ci,ol({},a,{className:"recharts-polar-radius-axis-tick-value"}),o),c}}])})(I.PureComponent);lf(cf,"displayName","PolarRadiusAxis");lf(cf,"axisType","radiusAxis");lf(cf,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Ns(t){"@babel/helpers - typeof";return Ns=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ns(t)}function Za(){return Za=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Za.apply(this,arguments)}function nO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Ya(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nO(Object(r),!0).forEach(function(n){uf(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function sq(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aO(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,gT(n.key),n)}}function oq(t,e,r){return e&&aO(t.prototype,e),r&&aO(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function lq(t,e,r){return e=md(e),cq(t,pT()?Reflect.construct(e,r||[],md(t).constructor):e.apply(t,r))}function cq(t,e){if(e&&(Ns(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uq(t)}function uq(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pT(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pT=function(){return!!t})()}function md(t){return md=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},md(t)}function dq(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Pv(t,e)}function Pv(t,e){return Pv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Pv(t,e)}function uf(t,e,r){return e=gT(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gT(t){var e=fq(t,"string");return Ns(e)=="symbol"?e:e+""}function fq(t,e){if(Ns(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ns(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var mq=Math.PI/180,iO=1e-5,df=(function(t){function e(){return sq(this,e),lq(this,e,arguments)}return dq(e,t),oq(e,[{key:"getTickLineCoord",value:function(n){var a=this.props,o=a.cx,c=a.cy,u=a.radius,d=a.orientation,m=a.tickSize,p=m||8,h=Ze(o,c,u,n.coordinate),y=Ze(o,c,u+(d==="inner"?-1:1)*p,n.coordinate);return{x1:h.x,y1:h.y,x2:y.x,y2:y.y}}},{key:"getTickTextAnchor",value:function(n){var a=this.props.orientation,o=Math.cos(-n.coordinate*mq),c;return o>iO?c=a==="outer"?"start":"end":o<-iO?c=a==="outer"?"end":"start":c="middle",c}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,o=n.cy,c=n.radius,u=n.axisLine,d=n.axisLineType,m=Ya(Ya({},ve(this.props,!1)),{},{fill:"none"},ve(u,!1));if(d==="circle")return W.createElement(tc,Za({className:"recharts-polar-angle-axis-line"},m,{cx:a,cy:o,r:c}));var p=this.props.ticks,h=p.map(function(y){return Ze(a,o,c,y.coordinate)});return W.createElement(M7,Za({className:"recharts-polar-angle-axis-line"},m,{points:h}))}},{key:"renderTicks",value:function(){var n=this,a=this.props,o=a.ticks,c=a.tick,u=a.tickLine,d=a.tickFormatter,m=a.stroke,p=ve(this.props,!1),h=ve(c,!1),y=Ya(Ya({},p),{},{fill:"none"},ve(u,!1)),v=o.map(function(w,b){var j=n.getTickLineCoord(w),O=n.getTickTextAnchor(w),S=Ya(Ya(Ya({textAnchor:O},p),{},{stroke:"none",fill:m},h),{},{index:b,payload:w,x:j.x2,y:j.y2});return W.createElement(Me,Za({className:Ie("recharts-polar-angle-axis-tick",rT(c)),key:"tick-".concat(w.coordinate)},Na(n.props,w,b)),u&&W.createElement("line",Za({className:"recharts-polar-angle-axis-tick-line"},y,j)),c&&e.renderTickItem(c,S,d?d(w.value,b):w.value))});return W.createElement(Me,{className:"recharts-polar-angle-axis-ticks"},v)}},{key:"render",value:function(){var n=this.props,a=n.ticks,o=n.radius,c=n.axisLine;return o<=0||!a||!a.length?null:W.createElement(Me,{className:Ie("recharts-polar-angle-axis",this.props.className)},c&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,a,o){var c;return W.isValidElement(n)?c=W.cloneElement(n,a):Oe(n)?c=n(a):c=W.createElement(ci,Za({},a,{className:"recharts-polar-angle-axis-tick-value"}),o),c}}])})(I.PureComponent);uf(df,"displayName","PolarAngleAxis");uf(df,"axisType","angleAxis");uf(df,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Zy,sO;function hq(){if(sO)return Zy;sO=1;var t=kP(),e=t(Object.getPrototypeOf,Object);return Zy=e,Zy}var Jy,oO;function pq(){if(oO)return Jy;oO=1;var t=Gn(),e=hq(),r=Vn(),n="[object Object]",a=Function.prototype,o=Object.prototype,c=a.toString,u=o.hasOwnProperty,d=c.call(Object);function m(p){if(!r(p)||t(p)!=n)return!1;var h=e(p);if(h===null)return!0;var y=u.call(h,"constructor")&&h.constructor;return typeof y=="function"&&y instanceof y&&c.call(y)==d}return Jy=m,Jy}var gq=pq();const yq=We(gq);var e0,lO;function vq(){if(lO)return e0;lO=1;var t=Gn(),e=Vn(),r="[object Boolean]";function n(a){return a===!0||a===!1||e(a)&&t(a)==r}return e0=n,e0}var xq=vq();const bq=We(xq);function Bl(t){"@babel/helpers - typeof";return Bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bl(t)}function hd(){return hd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hd.apply(this,arguments)}function wq(t,e){return Nq(t)||_q(t,e)||Sq(t,e)||jq()}function jq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sq(t,e){if(t){if(typeof t=="string")return cO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cO(t,e)}}function cO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function _q(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,o,c,u=[],d=!0,m=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(p){m=!0,a=p}finally{try{if(!d&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(m)throw a}}return u}}function Nq(t){if(Array.isArray(t))return t}function uO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function dO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uO(Object(r),!0).forEach(function(n){kq(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kq(t,e,r){return e=Oq(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Oq(t){var e=Aq(t,"string");return Bl(e)=="symbol"?e:e+""}function Aq(t,e){if(Bl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fO=function(e,r,n,a,o){var c=n-a,u;return u="M ".concat(e,",").concat(r),u+="L ".concat(e+n,",").concat(r),u+="L ".concat(e+n-c/2,",").concat(r+o),u+="L ".concat(e+n-c/2-a,",").concat(r+o),u+="L ".concat(e,",").concat(r," Z"),u},Pq={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Eq=function(e){var r=dO(dO({},Pq),e),n=I.useRef(),a=I.useState(-1),o=wq(a,2),c=o[0],u=o[1];I.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var k=n.current.getTotalLength();k&&u(k)}catch{}},[]);var d=r.x,m=r.y,p=r.upperWidth,h=r.lowerWidth,y=r.height,v=r.className,w=r.animationEasing,b=r.animationDuration,j=r.animationBegin,O=r.isUpdateAnimationActive;if(d!==+d||m!==+m||p!==+p||h!==+h||y!==+y||p===0&&h===0||y===0)return null;var S=Ie("recharts-trapezoid",v);return O?W.createElement(Ur,{canBegin:c>0,from:{upperWidth:0,lowerWidth:0,height:y,x:d,y:m},to:{upperWidth:p,lowerWidth:h,height:y,x:d,y:m},duration:b,animationEasing:w,isActive:O},function(k){var A=k.upperWidth,N=k.lowerWidth,P=k.height,T=k.x,$=k.y;return W.createElement(Ur,{canBegin:c>0,from:"0px ".concat(c===-1?1:c,"px"),to:"".concat(c,"px 0px"),attributeName:"strokeDasharray",begin:j,duration:b,easing:w},W.createElement("path",hd({},ve(r,!0),{className:S,d:fO(T,$,A,N,P),ref:n})))}):W.createElement("g",null,W.createElement("path",hd({},ve(r,!0),{className:S,d:fO(d,m,p,h,y)})))},Tq=["option","shapeType","propTransformer","activeClassName","isActive"];function zl(t){"@babel/helpers - typeof";return zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zl(t)}function Cq(t,e){if(t==null)return{};var r=Iq(t,e),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(a=0;a<o.length;a++)n=o[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Iq(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function mO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function pd(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mO(Object(r),!0).forEach(function(n){Mq(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Mq(t,e,r){return e=Rq(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Rq(t){var e=Dq(t,"string");return zl(e)=="symbol"?e:e+""}function Dq(t,e){if(zl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $q(t,e){return pd(pd({},e),t)}function Lq(t,e){return t==="symbols"}function hO(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return W.createElement(eb,r);case"trapezoid":return W.createElement(Eq,r);case"sector":return W.createElement(iT,r);case"symbols":if(Lq(e))return W.createElement(Vd,r);break;default:return null}}function Fq(t){return I.isValidElement(t)?t.props:t}function gd(t){var e=t.option,r=t.shapeType,n=t.propTransformer,a=n===void 0?$q:n,o=t.activeClassName,c=o===void 0?"recharts-active-shape":o,u=t.isActive,d=Cq(t,Tq),m;if(I.isValidElement(e))m=I.cloneElement(e,pd(pd({},d),Fq(e)));else if(Oe(e))m=e(d);else if(yq(e)&&!bq(e)){var p=a(e,d);m=W.createElement(hO,{shapeType:r,elementProps:p})}else{var h=d;m=W.createElement(hO,{shapeType:r,elementProps:h})}return u?W.createElement(Me,{className:c},m):m}function ff(t,e){return e!=null&&"trapezoids"in t.props}function mf(t,e){return e!=null&&"sectors"in t.props}function ql(t,e){return e!=null&&"points"in t.props}function Bq(t,e){var r,n,a=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,o=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return a&&o}function zq(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function qq(t,e){var r=t.x===e.x,n=t.y===e.y,a=t.z===e.z;return r&&n&&a}function Uq(t,e){var r;return ff(t,e)?r=Bq:mf(t,e)?r=zq:ql(t,e)&&(r=qq),r}function Wq(t,e){var r;return ff(t,e)?r="trapezoids":mf(t,e)?r="sectors":ql(t,e)&&(r="points"),r}function Hq(t,e){if(ff(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(mf(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return ql(t,e)?e.payload:{}}function Gq(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,a=Wq(r,e),o=Hq(r,e),c=n.filter(function(d,m){var p=ka(o,d),h=r.props[a].filter(function(w){var b=Uq(r,e);return b(w,e)}),y=r.props[a].indexOf(h[h.length-1]),v=m===y;return p&&v}),u=n.indexOf(c[c.length-1]);return u}var Tu;function ks(t){"@babel/helpers - typeof";return ks=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ks(t)}function ts(){return ts=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ts.apply(this,arguments)}function pO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Xe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pO(Object(r),!0).forEach(function(n){Fr(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Vq(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gO(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,vT(n.key),n)}}function Kq(t,e,r){return e&&gO(t.prototype,e),r&&gO(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Yq(t,e,r){return e=yd(e),Xq(t,yT()?Reflect.construct(e,r||[],yd(t).constructor):e.apply(t,r))}function Xq(t,e){if(e&&(ks(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qq(t)}function Qq(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yT(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yT=function(){return!!t})()}function yd(t){return yd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yd(t)}function Zq(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ev(t,e)}function Ev(t,e){return Ev=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Ev(t,e)}function Fr(t,e,r){return e=vT(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vT(t){var e=Jq(t,"string");return ks(e)=="symbol"?e:e+""}function Jq(t,e){if(ks(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ks(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ln=(function(t){function e(r){var n;return Vq(this,e),n=Yq(this,e,[r]),Fr(n,"pieRef",null),Fr(n,"sectorRefs",[]),Fr(n,"id",Ea("recharts-pie-")),Fr(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Oe(a)&&a()}),Fr(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Oe(a)&&a()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return Zq(e,t),Kq(e,[{key:"isActiveIndex",value:function(n){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(n)!==-1:n===a}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var o=this.props,c=o.label,u=o.labelLine,d=o.dataKey,m=o.valueKey,p=ve(this.props,!1),h=ve(c,!1),y=ve(u,!1),v=c&&c.offsetRadius||20,w=n.map(function(b,j){var O=(b.startAngle+b.endAngle)/2,S=Ze(b.cx,b.cy,b.outerRadius+v,O),k=Xe(Xe(Xe(Xe({},p),b),{},{stroke:"none"},h),{},{index:j,textAnchor:e.getTextAnchor(S.x,b.cx)},S),A=Xe(Xe(Xe(Xe({},p),b),{},{fill:"none",stroke:b.fill},y),{},{index:j,points:[Ze(b.cx,b.cy,b.outerRadius,O),S]}),N=d;return ke(d)&&ke(m)?N="value":ke(d)&&(N=m),W.createElement(Me,{key:"label-".concat(b.startAngle,"-").concat(b.endAngle,"-").concat(b.midAngle,"-").concat(j)},u&&e.renderLabelLineItem(u,A,"line"),e.renderLabelItem(c,k,nt(b,N)))});return W.createElement(Me,{className:"recharts-pie-labels"},w)}},{key:"renderSectorsStatically",value:function(n){var a=this,o=this.props,c=o.activeShape,u=o.blendStroke,d=o.inactiveShape;return n.map(function(m,p){if(m?.startAngle===0&&m?.endAngle===0&&n.length!==1)return null;var h=a.isActiveIndex(p),y=d&&a.hasActiveIndex()?d:null,v=h?c:y,w=Xe(Xe({},m),{},{stroke:u?m.fill:m.stroke,tabIndex:-1});return W.createElement(Me,ts({ref:function(j){j&&!a.sectorRefs.includes(j)&&a.sectorRefs.push(j)},tabIndex:-1,className:"recharts-pie-sector"},Na(a.props,m,p),{key:"sector-".concat(m?.startAngle,"-").concat(m?.endAngle,"-").concat(m.midAngle,"-").concat(p)}),W.createElement(gd,ts({option:v,isActive:h,shapeType:"sector"},w)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,a=this.props,o=a.sectors,c=a.isAnimationActive,u=a.animationBegin,d=a.animationDuration,m=a.animationEasing,p=a.animationId,h=this.state,y=h.prevSectors,v=h.prevIsAnimationActive;return W.createElement(Ur,{begin:u,duration:d,isActive:c,easing:m,from:{t:0},to:{t:1},key:"pie-".concat(p,"-").concat(v),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(w){var b=w.t,j=[],O=o&&o[0],S=O.startAngle;return o.forEach(function(k,A){var N=y&&y[A],P=A>0?kr(k,"paddingAngle",0):0;if(N){var T=ct(N.endAngle-N.startAngle,k.endAngle-k.startAngle),$=Xe(Xe({},k),{},{startAngle:S+P,endAngle:S+T(b)+P});j.push($),S=$.endAngle}else{var M=k.endAngle,q=k.startAngle,R=ct(0,M-q),U=R(b),B=Xe(Xe({},k),{},{startAngle:S+P,endAngle:S+U+P});j.push(B),S=B.endAngle}}),W.createElement(Me,null,n.renderSectorsStatically(j))})}},{key:"attachKeyboardHandlers",value:function(n){var a=this;n.onkeydown=function(o){if(!o.altKey)switch(o.key){case"ArrowLeft":{var c=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[c].focus(),a.setState({sectorToFocus:c});break}case"ArrowRight":{var u=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[u].focus(),a.setState({sectorToFocus:u});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,a=n.sectors,o=n.isAnimationActive,c=this.state.prevSectors;return o&&a&&a.length&&(!c||!ka(c,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,a=this.props,o=a.hide,c=a.sectors,u=a.className,d=a.label,m=a.cx,p=a.cy,h=a.innerRadius,y=a.outerRadius,v=a.isAnimationActive,w=this.state.isAnimationFinished;if(o||!c||!c.length||!le(m)||!le(p)||!le(h)||!le(y))return null;var b=Ie("recharts-pie",u);return W.createElement(Me,{tabIndex:this.props.rootTabIndex,className:b,ref:function(O){n.pieRef=O}},this.renderSectors(),d&&this.renderLabels(c),Dt.renderCallByParent(this.props,null,!1),(!v||w)&&sn.renderCallByParent(this.props,c,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return a.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:n.sectors!==a.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,a){return n>a?"start":n<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,a,o){if(W.isValidElement(n))return W.cloneElement(n,a);if(Oe(n))return n(a);var c=Ie("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return W.createElement(_a,ts({},a,{key:o,type:"linear",className:c}))}},{key:"renderLabelItem",value:function(n,a,o){if(W.isValidElement(n))return W.cloneElement(n,a);var c=o;if(Oe(n)&&(c=n(a),W.isValidElement(c)))return c;var u=Ie("recharts-pie-label-text",typeof n!="boolean"&&!Oe(n)?n.className:"");return W.createElement(ci,ts({},a,{alignmentBaseline:"middle",className:u}),c)}}])})(I.PureComponent);Tu=ln;Fr(ln,"displayName","Pie");Fr(ln,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Kn.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Fr(ln,"parseDeltaAngle",function(t,e){var r=nr(e-t),n=Math.min(Math.abs(e-t),360);return r*n});Fr(ln,"getRealPieData",function(t){var e=t.data,r=t.children,n=ve(t,!1),a=sr(r,yi);return e&&e.length?e.map(function(o,c){return Xe(Xe(Xe({payload:o},n),o),a&&a[c]&&a[c].props)}):a&&a.length?a.map(function(o){return Xe(Xe({},n),o.props)}):[]});Fr(ln,"parseCoordinateOfPie",function(t,e){var r=e.top,n=e.left,a=e.width,o=e.height,c=tT(a,o),u=n+ar(t.cx,a,a/2),d=r+ar(t.cy,o,o/2),m=ar(t.innerRadius,c,0),p=ar(t.outerRadius,c,c*.8),h=t.maxRadius||Math.sqrt(a*a+o*o)/2;return{cx:u,cy:d,innerRadius:m,outerRadius:p,maxRadius:h}});Fr(ln,"getComposedData",function(t){var e=t.item,r=t.offset,n=e.type.defaultProps!==void 0?Xe(Xe({},e.type.defaultProps),e.props):e.props,a=Tu.getRealPieData(n);if(!a||!a.length)return null;var o=n.cornerRadius,c=n.startAngle,u=n.endAngle,d=n.paddingAngle,m=n.dataKey,p=n.nameKey,h=n.valueKey,y=n.tooltipType,v=Math.abs(n.minAngle),w=Tu.parseCoordinateOfPie(n,r),b=Tu.parseDeltaAngle(c,u),j=Math.abs(b),O=m;ke(m)&&ke(h)?(an(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),O="value"):ke(m)&&(an(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),O=h);var S=a.filter(function($){return nt($,O,0)!==0}).length,k=(j>=360?S:S-1)*d,A=j-S*v-k,N=a.reduce(function($,M){var q=nt(M,O,0);return $+(le(q)?q:0)},0),P;if(N>0){var T;P=a.map(function($,M){var q=nt($,O,0),R=nt($,p,M),U=(le(q)?q:0)/N,B;M?B=T.endAngle+nr(b)*d*(q!==0?1:0):B=c;var V=B+nr(b)*((q!==0?v:0)+U*A),L=(B+V)/2,D=(w.innerRadius+w.outerRadius)/2,G=[{name:R,value:q,payload:$,dataKey:O,type:y}],C=Ze(w.cx,w.cy,D,L);return T=Xe(Xe(Xe({percent:U,cornerRadius:o,name:R,tooltipPayload:G,midAngle:L,middleRadius:D,tooltipPosition:C},$),w),{},{value:nt($,O),startAngle:B,endAngle:V,payload:$,paddingAngle:nr(b)*d}),T})}return Xe(Xe({},w),{},{sectors:P,data:a})});var t0,yO;function eU(){if(yO)return t0;yO=1;var t=Math.ceil,e=Math.max;function r(n,a,o,c){for(var u=-1,d=e(t((a-n)/(o||1)),0),m=Array(d);d--;)m[c?d:++u]=n,n+=o;return m}return t0=r,t0}var r0,vO;function xT(){if(vO)return r0;vO=1;var t=qP(),e=1/0,r=17976931348623157e292;function n(a){if(!a)return a===0?a:0;if(a=t(a),a===e||a===-e){var o=a<0?-1:1;return o*r}return a===a?a:0}return r0=n,r0}var n0,xO;function tU(){if(xO)return n0;xO=1;var t=eU(),e=Xd(),r=xT();function n(a){return function(o,c,u){return u&&typeof u!="number"&&e(o,c,u)&&(c=u=void 0),o=r(o),c===void 0?(c=o,o=0):c=r(c),u=u===void 0?o<c?1:-1:r(u),t(o,c,u,a)}}return n0=n,n0}var a0,bO;function rU(){if(bO)return a0;bO=1;var t=tU(),e=t();return a0=e,a0}var nU=rU();const vd=We(nU);function Ul(t){"@babel/helpers - typeof";return Ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ul(t)}function wO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function jO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wO(Object(r),!0).forEach(function(n){bT(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bT(t,e,r){return e=aU(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function aU(t){var e=iU(t,"string");return Ul(e)=="symbol"?e:e+""}function iU(t,e){if(Ul(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ul(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sU=["Webkit","Moz","O","ms"],oU=function(e,r){var n=e.replace(/(\w)/,function(o){return o.toUpperCase()}),a=sU.reduce(function(o,c){return jO(jO({},o),{},bT({},c+n,r))},{});return a[e]=r,a};function Os(t){"@babel/helpers - typeof";return Os=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Os(t)}function xd(){return xd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},xd.apply(this,arguments)}function SO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function i0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?SO(Object(r),!0).forEach(function(n){jr(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):SO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lU(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _O(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,jT(n.key),n)}}function cU(t,e,r){return e&&_O(t.prototype,e),r&&_O(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function uU(t,e,r){return e=bd(e),dU(t,wT()?Reflect.construct(e,r||[],bd(t).constructor):e.apply(t,r))}function dU(t,e){if(e&&(Os(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fU(t)}function fU(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wT(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wT=function(){return!!t})()}function bd(t){return bd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bd(t)}function mU(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Tv(t,e)}function Tv(t,e){return Tv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Tv(t,e)}function jr(t,e,r){return e=jT(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jT(t){var e=hU(t,"string");return Os(e)=="symbol"?e:e+""}function hU(t,e){if(Os(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Os(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var pU=function(e){var r=e.data,n=e.startIndex,a=e.endIndex,o=e.x,c=e.width,u=e.travellerWidth;if(!r||!r.length)return{};var d=r.length,m=nl().domain(vd(0,d)).range([o,o+c-u]),p=m.domain().map(function(h){return m(h)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:m(n),endX:m(a),scale:m,scaleValues:p}},NO=function(e){return e.changedTouches&&!!e.changedTouches.length},As=(function(t){function e(r){var n;return lU(this,e),n=uU(this,e,[r]),jr(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),jr(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),jr(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,o=a.endIndex,c=a.onDragEnd,u=a.startIndex;c?.({endIndex:o,startIndex:u})}),n.detachDragEndListener()}),jr(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),jr(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),jr(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),jr(n,"handleSlideDragStart",function(a){var o=NO(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return mU(e,t),cU(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,o=n.endX,c=this.state.scaleValues,u=this.props,d=u.gap,m=u.data,p=m.length-1,h=Math.min(a,o),y=Math.max(a,o),v=e.getIndexInRange(c,h),w=e.getIndexInRange(c,y);return{startIndex:v-v%d,endIndex:w===p?p:w-w%d}}},{key:"getTextOfTick",value:function(n){var a=this.props,o=a.data,c=a.tickFormatter,u=a.dataKey,d=nt(o[n],u,n);return Oe(c)?c(d,n):d}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,o=a.slideMoveStartX,c=a.startX,u=a.endX,d=this.props,m=d.x,p=d.width,h=d.travellerWidth,y=d.startIndex,v=d.endIndex,w=d.onChange,b=n.pageX-o;b>0?b=Math.min(b,m+p-h-u,m+p-h-c):b<0&&(b=Math.max(b,m-c,m-u));var j=this.getIndex({startX:c+b,endX:u+b});(j.startIndex!==y||j.endIndex!==v)&&w&&w(j),this.setState({startX:c+b,endX:u+b,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var o=NO(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,o=a.brushMoveStartX,c=a.movingTravellerId,u=a.endX,d=a.startX,m=this.state[c],p=this.props,h=p.x,y=p.width,v=p.travellerWidth,w=p.onChange,b=p.gap,j=p.data,O={startX:this.state.startX,endX:this.state.endX},S=n.pageX-o;S>0?S=Math.min(S,h+y-v-m):S<0&&(S=Math.max(S,h-m)),O[c]=m+S;var k=this.getIndex(O),A=k.startIndex,N=k.endIndex,P=function(){var $=j.length-1;return c==="startX"&&(u>d?A%b===0:N%b===0)||u<d&&N===$||c==="endX"&&(u>d?N%b===0:A%b===0)||u>d&&N===$};this.setState(jr(jr({},c,m+S),"brushMoveStartX",n.pageX),function(){w&&P()&&w(k)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var o=this,c=this.state,u=c.scaleValues,d=c.startX,m=c.endX,p=this.state[a],h=u.indexOf(p);if(h!==-1){var y=h+n;if(!(y===-1||y>=u.length)){var v=u[y];a==="startX"&&v>=m||a==="endX"&&v<=d||this.setState(jr({},a,v),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,o=n.y,c=n.width,u=n.height,d=n.fill,m=n.stroke;return W.createElement("rect",{stroke:m,fill:d,x:a,y:o,width:c,height:u})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,o=n.y,c=n.width,u=n.height,d=n.data,m=n.children,p=n.padding,h=I.Children.only(m);return h?W.cloneElement(h,{x:a,y:o,width:c,height:u,margin:p,compact:!0,data:d}):null}},{key:"renderTravellerLayer",value:function(n,a){var o,c,u=this,d=this.props,m=d.y,p=d.travellerWidth,h=d.height,y=d.traveller,v=d.ariaLabel,w=d.data,b=d.startIndex,j=d.endIndex,O=Math.max(n,this.props.x),S=i0(i0({},ve(this.props,!1)),{},{x:O,y:m,width:p,height:h}),k=v||"Min value: ".concat((o=w[b])===null||o===void 0?void 0:o.name,", Max value: ").concat((c=w[j])===null||c===void 0?void 0:c.name);return W.createElement(Me,{tabIndex:0,role:"slider","aria-label":k,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(N){["ArrowLeft","ArrowRight"].includes(N.key)&&(N.preventDefault(),N.stopPropagation(),u.handleTravellerMoveKeyboard(N.key==="ArrowRight"?1:-1,a))},onFocus:function(){u.setState({isTravellerFocused:!0})},onBlur:function(){u.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(y,S))}},{key:"renderSlide",value:function(n,a){var o=this.props,c=o.y,u=o.height,d=o.stroke,m=o.travellerWidth,p=Math.min(n,a)+m,h=Math.max(Math.abs(a-n)-m,0);return W.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:d,fillOpacity:.2,x:p,y:c,width:h,height:u})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,o=n.endIndex,c=n.y,u=n.height,d=n.travellerWidth,m=n.stroke,p=this.state,h=p.startX,y=p.endX,v=5,w={pointerEvents:"none",fill:m};return W.createElement(Me,{className:"recharts-brush-texts"},W.createElement(ci,xd({textAnchor:"end",verticalAnchor:"middle",x:Math.min(h,y)-v,y:c+u/2},w),this.getTextOfTick(a)),W.createElement(ci,xd({textAnchor:"start",verticalAnchor:"middle",x:Math.max(h,y)+d+v,y:c+u/2},w),this.getTextOfTick(o)))}},{key:"render",value:function(){var n=this.props,a=n.data,o=n.className,c=n.children,u=n.x,d=n.y,m=n.width,p=n.height,h=n.alwaysShowText,y=this.state,v=y.startX,w=y.endX,b=y.isTextActive,j=y.isSlideMoving,O=y.isTravellerMoving,S=y.isTravellerFocused;if(!a||!a.length||!le(u)||!le(d)||!le(m)||!le(p)||m<=0||p<=0)return null;var k=Ie("recharts-brush",o),A=W.Children.count(c)===1,N=oU("userSelect","none");return W.createElement(Me,{className:k,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:N},this.renderBackground(),A&&this.renderPanorama(),this.renderSlide(v,w),this.renderTravellerLayer(v,"startX"),this.renderTravellerLayer(w,"endX"),(b||j||O||S||h)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,o=n.y,c=n.width,u=n.height,d=n.stroke,m=Math.floor(o+u/2)-1;return W.createElement(W.Fragment,null,W.createElement("rect",{x:a,y:o,width:c,height:u,fill:d,stroke:"none"}),W.createElement("line",{x1:a+1,y1:m,x2:a+c-1,y2:m,fill:"none",stroke:"#fff"}),W.createElement("line",{x1:a+1,y1:m+2,x2:a+c-1,y2:m+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var o;return W.isValidElement(n)?o=W.cloneElement(n,a):Oe(n)?o=n(a):o=e.renderDefaultTraveller(a),o}},{key:"getDerivedStateFromProps",value:function(n,a){var o=n.data,c=n.width,u=n.x,d=n.travellerWidth,m=n.updateId,p=n.startIndex,h=n.endIndex;if(o!==a.prevData||m!==a.prevUpdateId)return i0({prevData:o,prevTravellerWidth:d,prevUpdateId:m,prevX:u,prevWidth:c},o&&o.length?pU({data:o,width:c,x:u,travellerWidth:d,startIndex:p,endIndex:h}):{scale:null,scaleValues:null});if(a.scale&&(c!==a.prevWidth||u!==a.prevX||d!==a.prevTravellerWidth)){a.scale.range([u,u+c-d]);var y=a.scale.domain().map(function(v){return a.scale(v)});return{prevData:o,prevTravellerWidth:d,prevUpdateId:m,prevX:u,prevWidth:c,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:y}}return null}},{key:"getIndexInRange",value:function(n,a){for(var o=n.length,c=0,u=o-1;u-c>1;){var d=Math.floor((c+u)/2);n[d]>a?u=d:c=d}return a>=n[u]?u:c}}])})(I.PureComponent);jr(As,"displayName","Brush");jr(As,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var s0,kO;function gU(){if(kO)return s0;kO=1;var t=kx();function e(r,n){var a;return t(r,function(o,c,u){return a=n(o,c,u),!a}),!!a}return s0=e,s0}var o0,OO;function yU(){if(OO)return o0;OO=1;var t=xP(),e=_n(),r=gU(),n=gr(),a=Xd();function o(c,u,d){var m=n(c)?t:r;return d&&a(c,u,d)&&(u=void 0),m(c,e(u,3))}return o0=o,o0}var vU=yU();const xU=We(vU);var wn=function(e,r){var n=e.alwaysShow,a=e.ifOverflow;return n&&(a="extendDomain"),a===r},l0,AO;function bU(){if(AO)return l0;AO=1;var t=$P();function e(r,n,a){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:a,writable:!0}):r[n]=a}return l0=e,l0}var c0,PO;function wU(){if(PO)return c0;PO=1;var t=bU(),e=RP(),r=_n();function n(a,o){var c={};return o=r(o,3),e(a,function(u,d,m){t(c,d,o(u,d,m))}),c}return c0=n,c0}var jU=wU();const SU=We(jU);var u0,EO;function _U(){if(EO)return u0;EO=1;function t(e,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(!r(e[n],n,e))return!1;return!0}return u0=t,u0}var d0,TO;function NU(){if(TO)return d0;TO=1;var t=kx();function e(r,n){var a=!0;return t(r,function(o,c,u){return a=!!n(o,c,u),a}),a}return d0=e,d0}var f0,CO;function kU(){if(CO)return f0;CO=1;var t=_U(),e=NU(),r=_n(),n=gr(),a=Xd();function o(c,u,d){var m=n(c)?t:e;return d&&a(c,u,d)&&(u=void 0),m(c,r(u,3))}return f0=o,f0}var OU=kU();const ST=We(OU);var AU=["x","y"];function Wl(t){"@babel/helpers - typeof";return Wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wl(t)}function Cv(){return Cv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Cv.apply(this,arguments)}function IO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Xo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?IO(Object(r),!0).forEach(function(n){PU(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):IO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function PU(t,e,r){return e=EU(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function EU(t){var e=TU(t,"string");return Wl(e)=="symbol"?e:e+""}function TU(t,e){if(Wl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function CU(t,e){if(t==null)return{};var r=IU(t,e),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(a=0;a<o.length;a++)n=o[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function IU(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function MU(t,e){var r=t.x,n=t.y,a=CU(t,AU),o="".concat(r),c=parseInt(o,10),u="".concat(n),d=parseInt(u,10),m="".concat(e.height||a.height),p=parseInt(m,10),h="".concat(e.width||a.width),y=parseInt(h,10);return Xo(Xo(Xo(Xo(Xo({},e),a),c?{x:c}:{}),d?{y:d}:{}),{},{height:p,width:y,name:e.name,radius:e.radius})}function MO(t){return W.createElement(gd,Cv({shapeType:"rectangle",propTransformer:MU,activeClassName:"recharts-active-bar"},t))}var RU=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof e=="number")return e;var o=le(n)||iR(n);return o?e(n,a):(o||di(),r)}},DU=["value","background"],_T;function Ps(t){"@babel/helpers - typeof";return Ps=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ps(t)}function $U(t,e){if(t==null)return{};var r=LU(t,e),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(a=0;a<o.length;a++)n=o[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function LU(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function wd(){return wd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},wd.apply(this,arguments)}function RO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function wt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?RO(Object(r),!0).forEach(function(n){ba(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):RO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function FU(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function DO(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,kT(n.key),n)}}function BU(t,e,r){return e&&DO(t.prototype,e),r&&DO(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function zU(t,e,r){return e=jd(e),qU(t,NT()?Reflect.construct(e,r||[],jd(t).constructor):e.apply(t,r))}function qU(t,e){if(e&&(Ps(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UU(t)}function UU(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function NT(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NT=function(){return!!t})()}function jd(t){return jd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jd(t)}function WU(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Iv(t,e)}function Iv(t,e){return Iv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Iv(t,e)}function ba(t,e,r){return e=kT(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kT(t){var e=HU(t,"string");return Ps(e)=="symbol"?e:e+""}function HU(t,e){if(Ps(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ps(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Wt=(function(t){function e(){var r;FU(this,e);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=zU(this,e,[].concat(a)),ba(r,"state",{isAnimationFinished:!1}),ba(r,"id",Ea("recharts-bar-")),ba(r,"handleAnimationEnd",function(){var c=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),c&&c()}),ba(r,"handleAnimationStart",function(){var c=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),c&&c()}),r}return WU(e,t),BU(e,[{key:"renderRectanglesStatically",value:function(n){var a=this,o=this.props,c=o.shape,u=o.dataKey,d=o.activeIndex,m=o.activeBar,p=ve(this.props,!1);return n&&n.map(function(h,y){var v=y===d,w=v?m:c,b=wt(wt(wt({},p),h),{},{isActive:v,option:w,index:y,dataKey:u,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return W.createElement(Me,wd({className:"recharts-bar-rectangle"},Na(a.props,h,y),{key:"rectangle-".concat(h?.x,"-").concat(h?.y,"-").concat(h?.value,"-").concat(y)}),W.createElement(MO,b))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,o=a.data,c=a.layout,u=a.isAnimationActive,d=a.animationBegin,m=a.animationDuration,p=a.animationEasing,h=a.animationId,y=this.state.prevData;return W.createElement(Ur,{begin:d,duration:m,isActive:u,easing:p,from:{t:0},to:{t:1},key:"bar-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(v){var w=v.t,b=o.map(function(j,O){var S=y&&y[O];if(S){var k=ct(S.x,j.x),A=ct(S.y,j.y),N=ct(S.width,j.width),P=ct(S.height,j.height);return wt(wt({},j),{},{x:k(w),y:A(w),width:N(w),height:P(w)})}if(c==="horizontal"){var T=ct(0,j.height),$=T(w);return wt(wt({},j),{},{y:j.y+j.height-$,height:$})}var M=ct(0,j.width),q=M(w);return wt(wt({},j),{},{width:q})});return W.createElement(Me,null,n.renderRectanglesStatically(b))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,o=n.isAnimationActive,c=this.state.prevData;return o&&a&&a.length&&(!c||!ka(c,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,o=a.data,c=a.dataKey,u=a.activeIndex,d=ve(this.props.background,!1);return o.map(function(m,p){m.value;var h=m.background,y=$U(m,DU);if(!h)return null;var v=wt(wt(wt(wt(wt({},y),{},{fill:"#eee"},h),d),Na(n.props,m,p)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:c,index:p,className:"recharts-bar-background-rectangle"});return W.createElement(MO,wd({key:"background-bar-".concat(p),option:n.props.background,isActive:p===u},v))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,c=o.data,u=o.xAxis,d=o.yAxis,m=o.layout,p=o.children,h=sr(p,Qs);if(!h)return null;var y=m==="vertical"?c[0].height/2:c[0].width/2,v=function(j,O){var S=Array.isArray(j.value)?j.value[1]:j.value;return{x:j.x,y:j.y,value:S,errorVal:nt(j,O)}},w={clipPath:n?"url(#clipPath-".concat(a,")"):null};return W.createElement(Me,w,h.map(function(b){return W.cloneElement(b,{key:"error-bar-".concat(a,"-").concat(b.props.dataKey),data:c,xAxis:u,yAxis:d,layout:m,offset:y,dataPointFormatter:v})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,o=n.data,c=n.className,u=n.xAxis,d=n.yAxis,m=n.left,p=n.top,h=n.width,y=n.height,v=n.isAnimationActive,w=n.background,b=n.id;if(a||!o||!o.length)return null;var j=this.state.isAnimationFinished,O=Ie("recharts-bar",c),S=u&&u.allowDataOverflow,k=d&&d.allowDataOverflow,A=S||k,N=ke(b)?this.id:b;return W.createElement(Me,{className:O},S||k?W.createElement("defs",null,W.createElement("clipPath",{id:"clipPath-".concat(N)},W.createElement("rect",{x:S?m:m-h/2,y:k?p:p-y/2,width:S?h:h*2,height:k?y:y*2}))):null,W.createElement(Me,{className:"recharts-bar-rectangles",clipPath:A?"url(#clipPath-".concat(N,")"):null},w?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(A,N),(!v||j)&&sn.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])})(I.PureComponent);_T=Wt;ba(Wt,"displayName","Bar");ba(Wt,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Kn.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});ba(Wt,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,a=t.bandSize,o=t.xAxis,c=t.yAxis,u=t.xAxisTicks,d=t.yAxisTicks,m=t.stackedData,p=t.dataStartIndex,h=t.displayedData,y=t.offset,v=bF(n,r);if(!v)return null;var w=e.layout,b=r.type.defaultProps,j=b!==void 0?wt(wt({},b),r.props):r.props,O=j.dataKey,S=j.children,k=j.minPointSize,A=w==="horizontal"?c:o,N=m?A.scale.domain():null,P=OF({numericAxis:A}),T=sr(S,yi),$=h.map(function(M,q){var R,U,B,V,L,D;m?R=wF(m[p+q],N):(R=nt(M,O),Array.isArray(R)||(R=[P,R]));var G=RU(k,_T.defaultProps.minPointSize)(R[1],q);if(w==="horizontal"){var C,F=[c.scale(R[0]),c.scale(R[1])],Q=F[0],z=F[1];U=ok({axis:o,ticks:u,bandSize:a,offset:v.offset,entry:M,index:q}),B=(C=z??Q)!==null&&C!==void 0?C:void 0,V=v.size;var Y=Q-z;if(L=Number.isNaN(Y)?0:Y,D={x:U,y:c.y,width:V,height:c.height},Math.abs(G)>0&&Math.abs(L)<Math.abs(G)){var ne=nr(L||G)*(Math.abs(G)-Math.abs(L));B-=ne,L+=ne}}else{var ue=[o.scale(R[0]),o.scale(R[1])],we=ue[0],be=ue[1];if(U=we,B=ok({axis:c,ticks:d,bandSize:a,offset:v.offset,entry:M,index:q}),V=be-we,L=v.size,D={x:o.x,y:B,width:o.width,height:L},Math.abs(G)>0&&Math.abs(V)<Math.abs(G)){var $e=nr(V||G)*(Math.abs(G)-Math.abs(V));V+=$e}}return wt(wt(wt({},M),{},{x:U,y:B,width:V,height:L,value:m?R:R[1],payload:M,background:D},T&&T[q]&&T[q].props),{},{tooltipPayload:[JE(r,M)],tooltipPosition:{x:U+V/2,y:B+L/2}})});return wt({data:$,layout:w},y)});function Hl(t){"@babel/helpers - typeof";return Hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hl(t)}function GU(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $O(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,OT(n.key),n)}}function VU(t,e,r){return e&&$O(t.prototype,e),r&&$O(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function LO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function tn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?LO(Object(r),!0).forEach(function(n){hf(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hf(t,e,r){return e=OT(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function OT(t){var e=KU(t,"string");return Hl(e)=="symbol"?e:e+""}function KU(t,e){if(Hl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pf=function(e,r,n,a,o){var c=e.width,u=e.height,d=e.layout,m=e.children,p=Object.keys(r),h={left:n.left,leftMirror:n.left,right:c-n.right,rightMirror:c-n.right,top:n.top,topMirror:n.top,bottom:u-n.bottom,bottomMirror:u-n.bottom},y=!!Sr(m,Wt);return p.reduce(function(v,w){var b=r[w],j=b.orientation,O=b.domain,S=b.padding,k=S===void 0?{}:S,A=b.mirror,N=b.reversed,P="".concat(j).concat(A?"Mirror":""),T,$,M,q,R;if(b.type==="number"&&(b.padding==="gap"||b.padding==="no-gap")){var U=O[1]-O[0],B=1/0,V=b.categoricalDomain.sort(cR);if(V.forEach(function(ue,we){we>0&&(B=Math.min((ue||0)-(V[we-1]||0),B))}),Number.isFinite(B)){var L=B/U,D=b.layout==="vertical"?n.height:n.width;if(b.padding==="gap"&&(T=L*D/2),b.padding==="no-gap"){var G=ar(e.barCategoryGap,L*D),C=L*D/2;T=C-G-(C-G)/D*G}}}a==="xAxis"?$=[n.left+(k.left||0)+(T||0),n.left+n.width-(k.right||0)-(T||0)]:a==="yAxis"?$=d==="horizontal"?[n.top+n.height-(k.bottom||0),n.top+(k.top||0)]:[n.top+(k.top||0)+(T||0),n.top+n.height-(k.bottom||0)-(T||0)]:$=b.range,N&&($=[$[1],$[0]]);var F=YE(b,o,y),Q=F.scale,z=F.realScaleType;Q.domain(O).range($),XE(Q);var Y=QE(Q,tn(tn({},b),{},{realScaleType:z}));a==="xAxis"?(R=j==="top"&&!A||j==="bottom"&&A,M=n.left,q=h[P]-R*b.height):a==="yAxis"&&(R=j==="left"&&!A||j==="right"&&A,M=h[P]-R*b.width,q=n.top);var ne=tn(tn(tn({},b),Y),{},{realScaleType:z,x:M,y:q,scale:Q,width:a==="xAxis"?n.width:b.width,height:a==="yAxis"?n.height:b.height});return ne.bandSize=id(ne,Y),!b.hide&&a==="xAxis"?h[P]+=(R?-1:1)*ne.height:b.hide||(h[P]+=(R?-1:1)*ne.width),tn(tn({},v),{},hf({},w,ne))},{})},AT=function(e,r){var n=e.x,a=e.y,o=r.x,c=r.y;return{x:Math.min(n,o),y:Math.min(a,c),width:Math.abs(o-n),height:Math.abs(c-a)}},YU=function(e){var r=e.x1,n=e.y1,a=e.x2,o=e.y2;return AT({x:r,y:n},{x:a,y:o})},PT=(function(){function t(e){GU(this,t),this.scale=e}return VU(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,o=n.position;if(r!==void 0){if(o)switch(o){case"start":return this.scale(r);case"middle":{var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}case"end":{var u=this.bandwidth?this.bandwidth():0;return this.scale(r)+u}default:return this.scale(r)}if(a){var d=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+d}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],o=n[n.length-1];return a<=o?r>=a&&r<=o:r>=o&&r<=a}}],[{key:"create",value:function(r){return new t(r)}}])})();hf(PT,"EPS",1e-4);var tb=function(e){var r=Object.keys(e).reduce(function(n,a){return tn(tn({},n),{},hf({},a,PT.create(e[a])))},{});return tn(tn({},r),{},{apply:function(a){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=o.bandAware,u=o.position;return SU(a,function(d,m){return r[m].apply(d,{bandAware:c,position:u})})},isInRange:function(a){return ST(a,function(o,c){return r[c].isInRange(o)})}})};function XU(t){return(t%180+180)%180}var QU=function(e){var r=e.width,n=e.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=XU(a),c=o*Math.PI/180,u=Math.atan(n/r),d=c>u&&c<Math.PI-u?n/Math.sin(c):r/Math.cos(c);return Math.abs(d)},m0,FO;function ZU(){if(FO)return m0;FO=1;var t=_n(),e=Xl(),r=Kd();function n(a){return function(o,c,u){var d=Object(o);if(!e(o)){var m=t(c,3);o=r(o),c=function(h){return m(d[h],h,d)}}var p=a(o,c,u);return p>-1?d[m?o[p]:p]:void 0}}return m0=n,m0}var h0,BO;function JU(){if(BO)return h0;BO=1;var t=xT();function e(r){var n=t(r),a=n%1;return n===n?a?n-a:n:0}return h0=e,h0}var p0,zO;function e9(){if(zO)return p0;zO=1;var t=EP(),e=_n(),r=JU(),n=Math.max;function a(o,c,u){var d=o==null?0:o.length;if(!d)return-1;var m=u==null?0:r(u);return m<0&&(m=n(d+m,0)),t(o,e(c,3),m)}return p0=a,p0}var g0,qO;function t9(){if(qO)return g0;qO=1;var t=ZU(),e=e9(),r=t(e);return g0=r,g0}var r9=t9();const n9=We(r9);var a9=HA();const i9=We(a9);var s9=i9(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),rb=I.createContext(void 0),nb=I.createContext(void 0),ET=I.createContext(void 0),TT=I.createContext({}),CT=I.createContext(void 0),IT=I.createContext(0),MT=I.createContext(0),UO=function(e){var r=e.state,n=r.xAxisMap,a=r.yAxisMap,o=r.offset,c=e.clipPathId,u=e.children,d=e.width,m=e.height,p=s9(o);return W.createElement(rb.Provider,{value:n},W.createElement(nb.Provider,{value:a},W.createElement(TT.Provider,{value:o},W.createElement(ET.Provider,{value:p},W.createElement(CT.Provider,{value:c},W.createElement(IT.Provider,{value:m},W.createElement(MT.Provider,{value:d},u)))))))},o9=function(){return I.useContext(CT)},RT=function(e){var r=I.useContext(rb);r==null&&di();var n=r[e];return n==null&&di(),n},l9=function(){var e=I.useContext(rb);return ya(e)},c9=function(){var e=I.useContext(nb),r=n9(e,function(n){return ST(n.domain,Number.isFinite)});return r||ya(e)},DT=function(e){var r=I.useContext(nb);r==null&&di();var n=r[e];return n==null&&di(),n},u9=function(){var e=I.useContext(ET);return e},d9=function(){return I.useContext(TT)},ab=function(){return I.useContext(MT)},ib=function(){return I.useContext(IT)};function Es(t){"@babel/helpers - typeof";return Es=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Es(t)}function f9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function m9(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,LT(n.key),n)}}function h9(t,e,r){return e&&m9(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function p9(t,e,r){return e=Sd(e),g9(t,$T()?Reflect.construct(e,r||[],Sd(t).constructor):e.apply(t,r))}function g9(t,e){if(e&&(Es(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return y9(t)}function y9(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $T(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($T=function(){return!!t})()}function Sd(t){return Sd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Sd(t)}function v9(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Mv(t,e)}function Mv(t,e){return Mv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Mv(t,e)}function WO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function HO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?WO(Object(r),!0).forEach(function(n){sb(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):WO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function sb(t,e,r){return e=LT(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function LT(t){var e=x9(t,"string");return Es(e)=="symbol"?e:e+""}function x9(t,e){if(Es(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Es(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function b9(t,e){return _9(t)||S9(t,e)||j9(t,e)||w9()}function w9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function j9(t,e){if(t){if(typeof t=="string")return GO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return GO(t,e)}}function GO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function S9(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,o,c,u=[],d=!0,m=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(p){m=!0,a=p}finally{try{if(!d&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(m)throw a}}return u}}function _9(t){if(Array.isArray(t))return t}function Rv(){return Rv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Rv.apply(this,arguments)}var N9=function(e,r){var n;return W.isValidElement(e)?n=W.cloneElement(e,r):Oe(e)?n=e(r):n=W.createElement("line",Rv({},r,{className:"recharts-reference-line-line"})),n},k9=function(e,r,n,a,o,c,u,d,m){var p=o.x,h=o.y,y=o.width,v=o.height;if(n){var w=m.y,b=e.y.apply(w,{position:c});if(wn(m,"discard")&&!e.y.isInRange(b))return null;var j=[{x:p+y,y:b},{x:p,y:b}];return d==="left"?j.reverse():j}if(r){var O=m.x,S=e.x.apply(O,{position:c});if(wn(m,"discard")&&!e.x.isInRange(S))return null;var k=[{x:S,y:h+v},{x:S,y:h}];return u==="top"?k.reverse():k}if(a){var A=m.segment,N=A.map(function(P){return e.apply(P,{position:c})});return wn(m,"discard")&&xU(N,function(P){return!e.isInRange(P)})?null:N}return null};function O9(t){var e=t.x,r=t.y,n=t.segment,a=t.xAxisId,o=t.yAxisId,c=t.shape,u=t.className,d=t.alwaysShow,m=o9(),p=RT(a),h=DT(o),y=u9();if(!m||!y)return null;an(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var v=tb({x:p.scale,y:h.scale}),w=Pt(e),b=Pt(r),j=n&&n.length===2,O=k9(v,w,b,j,y,t.position,p.orientation,h.orientation,t);if(!O)return null;var S=b9(O,2),k=S[0],A=k.x,N=k.y,P=S[1],T=P.x,$=P.y,M=wn(t,"hidden")?"url(#".concat(m,")"):void 0,q=HO(HO({clipPath:M},ve(t,!0)),{},{x1:A,y1:N,x2:T,y2:$});return W.createElement(Me,{className:Ie("recharts-reference-line",u)},N9(c,q),Dt.renderCallByParent(t,YU({x1:A,y1:N,x2:T,y2:$})))}var ob=(function(t){function e(){return f9(this,e),p9(this,e,arguments)}return v9(e,t),h9(e,[{key:"render",value:function(){return W.createElement(O9,this.props)}}])})(W.Component);sb(ob,"displayName","ReferenceLine");sb(ob,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Dv(){return Dv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Dv.apply(this,arguments)}function Ts(t){"@babel/helpers - typeof";return Ts=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ts(t)}function VO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function KO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?VO(Object(r),!0).forEach(function(n){gf(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):VO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function A9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function P9(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,BT(n.key),n)}}function E9(t,e,r){return e&&P9(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function T9(t,e,r){return e=_d(e),C9(t,FT()?Reflect.construct(e,r||[],_d(t).constructor):e.apply(t,r))}function C9(t,e){if(e&&(Ts(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return I9(t)}function I9(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function FT(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FT=function(){return!!t})()}function _d(t){return _d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_d(t)}function M9(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$v(t,e)}function $v(t,e){return $v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},$v(t,e)}function gf(t,e,r){return e=BT(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function BT(t){var e=R9(t,"string");return Ts(e)=="symbol"?e:e+""}function R9(t,e){if(Ts(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ts(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var D9=function(e){var r=e.x,n=e.y,a=e.xAxis,o=e.yAxis,c=tb({x:a.scale,y:o.scale}),u=c.apply({x:r,y:n},{bandAware:!0});return wn(e,"discard")&&!c.isInRange(u)?null:u},yf=(function(t){function e(){return A9(this,e),T9(this,e,arguments)}return M9(e,t),E9(e,[{key:"render",value:function(){var n=this.props,a=n.x,o=n.y,c=n.r,u=n.alwaysShow,d=n.clipPathId,m=Pt(a),p=Pt(o);if(an(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!m||!p)return null;var h=D9(this.props);if(!h)return null;var y=h.x,v=h.y,w=this.props,b=w.shape,j=w.className,O=wn(this.props,"hidden")?"url(#".concat(d,")"):void 0,S=KO(KO({clipPath:O},ve(this.props,!0)),{},{cx:y,cy:v});return W.createElement(Me,{className:Ie("recharts-reference-dot",j)},e.renderDot(b,S),Dt.renderCallByParent(this.props,{x:y-c,y:v-c,width:2*c,height:2*c}))}}])})(W.Component);gf(yf,"displayName","ReferenceDot");gf(yf,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});gf(yf,"renderDot",function(t,e){var r;return W.isValidElement(t)?r=W.cloneElement(t,e):Oe(t)?r=t(e):r=W.createElement(tc,Dv({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function Lv(){return Lv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Lv.apply(this,arguments)}function Cs(t){"@babel/helpers - typeof";return Cs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cs(t)}function YO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function XO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?YO(Object(r),!0).forEach(function(n){vf(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):YO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function L9(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,qT(n.key),n)}}function F9(t,e,r){return e&&L9(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function B9(t,e,r){return e=Nd(e),z9(t,zT()?Reflect.construct(e,r||[],Nd(t).constructor):e.apply(t,r))}function z9(t,e){if(e&&(Cs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return q9(t)}function q9(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zT(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zT=function(){return!!t})()}function Nd(t){return Nd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Nd(t)}function U9(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Fv(t,e)}function Fv(t,e){return Fv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Fv(t,e)}function vf(t,e,r){return e=qT(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qT(t){var e=W9(t,"string");return Cs(e)=="symbol"?e:e+""}function W9(t,e){if(Cs(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Cs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var H9=function(e,r,n,a,o){var c=o.x1,u=o.x2,d=o.y1,m=o.y2,p=o.xAxis,h=o.yAxis;if(!p||!h)return null;var y=tb({x:p.scale,y:h.scale}),v={x:e?y.x.apply(c,{position:"start"}):y.x.rangeMin,y:n?y.y.apply(d,{position:"start"}):y.y.rangeMin},w={x:r?y.x.apply(u,{position:"end"}):y.x.rangeMax,y:a?y.y.apply(m,{position:"end"}):y.y.rangeMax};return wn(o,"discard")&&(!y.isInRange(v)||!y.isInRange(w))?null:AT(v,w)},xf=(function(t){function e(){return $9(this,e),B9(this,e,arguments)}return U9(e,t),F9(e,[{key:"render",value:function(){var n=this.props,a=n.x1,o=n.x2,c=n.y1,u=n.y2,d=n.className,m=n.alwaysShow,p=n.clipPathId;an(m===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=Pt(a),y=Pt(o),v=Pt(c),w=Pt(u),b=this.props.shape;if(!h&&!y&&!v&&!w&&!b)return null;var j=H9(h,y,v,w,this.props);if(!j&&!b)return null;var O=wn(this.props,"hidden")?"url(#".concat(p,")"):void 0;return W.createElement(Me,{className:Ie("recharts-reference-area",d)},e.renderRect(b,XO(XO({clipPath:O},ve(this.props,!0)),j)),Dt.renderCallByParent(this.props,j))}}])})(W.Component);vf(xf,"displayName","ReferenceArea");vf(xf,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});vf(xf,"renderRect",function(t,e){var r;return W.isValidElement(t)?r=W.cloneElement(t,e):Oe(t)?r=t(e):r=W.createElement(eb,Lv({},e,{className:"recharts-reference-area-rect"})),r});function UT(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],a=0;a<t.length;a+=e)n.push(t[a]);return n}function G9(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return QU(n,r)}function V9(t,e,r){var n=r==="width",a=t.x,o=t.y,c=t.width,u=t.height;return e===1?{start:n?a:o,end:n?a+c:o+u}:{start:n?a+c:o+u,end:n?a:o}}function kd(t,e,r,n,a){if(t*e<t*n||t*e>t*a)return!1;var o=r();return t*(e-t*o/2-n)>=0&&t*(e+t*o/2-a)<=0}function K9(t,e){return UT(t,e+1)}function Y9(t,e,r,n,a){for(var o=(n||[]).slice(),c=e.start,u=e.end,d=0,m=1,p=c,h=function(){var w=n?.[d];if(w===void 0)return{v:UT(n,m)};var b=d,j,O=function(){return j===void 0&&(j=r(w,b)),j},S=w.coordinate,k=d===0||kd(t,S,O,p,u);k||(d=0,p=c,m+=1),k&&(p=S+t*(O()/2+a),d+=m)},y;m<=o.length;)if(y=h(),y)return y.v;return[]}function Gl(t){"@babel/helpers - typeof";return Gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gl(t)}function QO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Yt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?QO(Object(r),!0).forEach(function(n){X9(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):QO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function X9(t,e,r){return e=Q9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Q9(t){var e=Z9(t,"string");return Gl(e)=="symbol"?e:e+""}function Z9(t,e){if(Gl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function J9(t,e,r,n,a){for(var o=(n||[]).slice(),c=o.length,u=e.start,d=e.end,m=function(y){var v=o[y],w,b=function(){return w===void 0&&(w=r(v,y)),w};if(y===c-1){var j=t*(v.coordinate+t*b()/2-d);o[y]=v=Yt(Yt({},v),{},{tickCoord:j>0?v.coordinate-j*t:v.coordinate})}else o[y]=v=Yt(Yt({},v),{},{tickCoord:v.coordinate});var O=kd(t,v.tickCoord,b,u,d);O&&(d=v.tickCoord-t*(b()/2+a),o[y]=Yt(Yt({},v),{},{isShow:!0}))},p=c-1;p>=0;p--)m(p);return o}function eW(t,e,r,n,a,o){var c=(n||[]).slice(),u=c.length,d=e.start,m=e.end;if(o){var p=n[u-1],h=r(p,u-1),y=t*(p.coordinate+t*h/2-m);c[u-1]=p=Yt(Yt({},p),{},{tickCoord:y>0?p.coordinate-y*t:p.coordinate});var v=kd(t,p.tickCoord,function(){return h},d,m);v&&(m=p.tickCoord-t*(h/2+a),c[u-1]=Yt(Yt({},p),{},{isShow:!0}))}for(var w=o?u-1:u,b=function(S){var k=c[S],A,N=function(){return A===void 0&&(A=r(k,S)),A};if(S===0){var P=t*(k.coordinate-t*N()/2-d);c[S]=k=Yt(Yt({},k),{},{tickCoord:P<0?k.coordinate-P*t:k.coordinate})}else c[S]=k=Yt(Yt({},k),{},{tickCoord:k.coordinate});var T=kd(t,k.tickCoord,N,d,m);T&&(d=k.tickCoord+t*(N()/2+a),c[S]=Yt(Yt({},k),{},{isShow:!0}))},j=0;j<w;j++)b(j);return c}function lb(t,e,r){var n=t.tick,a=t.ticks,o=t.viewBox,c=t.minTickGap,u=t.orientation,d=t.interval,m=t.tickFormatter,p=t.unit,h=t.angle;if(!a||!a.length||!n)return[];if(le(d)||Kn.isSsr)return K9(a,typeof d=="number"&&le(d)?d:0);var y=[],v=u==="top"||u==="bottom"?"width":"height",w=p&&v==="width"?rl(p,{fontSize:e,letterSpacing:r}):{width:0,height:0},b=function(k,A){var N=Oe(m)?m(k.value,A):k.value;return v==="width"?G9(rl(N,{fontSize:e,letterSpacing:r}),w,h):rl(N,{fontSize:e,letterSpacing:r})[v]},j=a.length>=2?nr(a[1].coordinate-a[0].coordinate):1,O=V9(o,j,v);return d==="equidistantPreserveStart"?Y9(j,O,b,a,c):(d==="preserveStart"||d==="preserveStartEnd"?y=eW(j,O,b,a,c,d==="preserveStartEnd"):y=J9(j,O,b,a,c),y.filter(function(S){return S.isShow}))}var tW=["viewBox"],rW=["viewBox"],nW=["ticks"];function Is(t){"@babel/helpers - typeof";return Is=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Is(t)}function rs(){return rs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},rs.apply(this,arguments)}function ZO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function kt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ZO(Object(r),!0).forEach(function(n){cb(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ZO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function y0(t,e){if(t==null)return{};var r=aW(t,e),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(a=0;a<o.length;a++)n=o[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function aW(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function iW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function JO(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,HT(n.key),n)}}function sW(t,e,r){return e&&JO(t.prototype,e),r&&JO(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function oW(t,e,r){return e=Od(e),lW(t,WT()?Reflect.construct(e,r||[],Od(t).constructor):e.apply(t,r))}function lW(t,e){if(e&&(Is(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cW(t)}function cW(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function WT(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WT=function(){return!!t})()}function Od(t){return Od=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Od(t)}function uW(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Bv(t,e)}function Bv(t,e){return Bv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Bv(t,e)}function cb(t,e,r){return e=HT(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function HT(t){var e=dW(t,"string");return Is(e)=="symbol"?e:e+""}function dW(t,e){if(Is(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Is(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Zs=(function(t){function e(r){var n;return iW(this,e),n=oW(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return uW(e,t),sW(e,[{key:"shouldComponentUpdate",value:function(n,a){var o=n.viewBox,c=y0(n,tW),u=this.props,d=u.viewBox,m=y0(u,rW);return!ls(o,d)||!ls(c,m)||!ls(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,o=a.x,c=a.y,u=a.width,d=a.height,m=a.orientation,p=a.tickSize,h=a.mirror,y=a.tickMargin,v,w,b,j,O,S,k=h?-1:1,A=n.tickSize||p,N=le(n.tickCoord)?n.tickCoord:n.coordinate;switch(m){case"top":v=w=n.coordinate,j=c+ +!h*d,b=j-k*A,S=b-k*y,O=N;break;case"left":b=j=n.coordinate,w=o+ +!h*u,v=w-k*A,O=v-k*y,S=N;break;case"right":b=j=n.coordinate,w=o+ +h*u,v=w+k*A,O=v+k*y,S=N;break;default:v=w=n.coordinate,j=c+ +h*d,b=j+k*A,S=b+k*y,O=N;break}return{line:{x1:v,y1:b,x2:w,y2:j},tick:{x:O,y:S}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,o=n.mirror,c;switch(a){case"left":c=o?"start":"end";break;case"right":c=o?"end":"start";break;default:c="middle";break}return c}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,o=n.mirror,c="end";switch(a){case"left":case"right":c="middle";break;case"top":c=o?"start":"end";break;default:c=o?"end":"start";break}return c}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,o=n.y,c=n.width,u=n.height,d=n.orientation,m=n.mirror,p=n.axisLine,h=kt(kt(kt({},ve(this.props,!1)),ve(p,!1)),{},{fill:"none"});if(d==="top"||d==="bottom"){var y=+(d==="top"&&!m||d==="bottom"&&m);h=kt(kt({},h),{},{x1:a,y1:o+y*u,x2:a+c,y2:o+y*u})}else{var v=+(d==="left"&&!m||d==="right"&&m);h=kt(kt({},h),{},{x1:a+v*c,y1:o,x2:a+v*c,y2:o+u})}return W.createElement("line",rs({},h,{className:Ie("recharts-cartesian-axis-line",kr(p,"className"))}))}},{key:"renderTicks",value:function(n,a,o){var c=this,u=this.props,d=u.tickLine,m=u.stroke,p=u.tick,h=u.tickFormatter,y=u.unit,v=lb(kt(kt({},this.props),{},{ticks:n}),a,o),w=this.getTickTextAnchor(),b=this.getTickVerticalAnchor(),j=ve(this.props,!1),O=ve(p,!1),S=kt(kt({},j),{},{fill:"none"},ve(d,!1)),k=v.map(function(A,N){var P=c.getTickLineCoord(A),T=P.line,$=P.tick,M=kt(kt(kt(kt({textAnchor:w,verticalAnchor:b},j),{},{stroke:"none",fill:m},O),$),{},{index:N,payload:A,visibleTicksCount:v.length,tickFormatter:h});return W.createElement(Me,rs({className:"recharts-cartesian-axis-tick",key:"tick-".concat(A.value,"-").concat(A.coordinate,"-").concat(A.tickCoord)},Na(c.props,A,N)),d&&W.createElement("line",rs({},S,T,{className:Ie("recharts-cartesian-axis-tick-line",kr(d,"className"))})),p&&e.renderTickItem(p,M,"".concat(Oe(h)?h(A.value,N):A.value).concat(y||"")))});return W.createElement("g",{className:"recharts-cartesian-axis-ticks"},k)}},{key:"render",value:function(){var n=this,a=this.props,o=a.axisLine,c=a.width,u=a.height,d=a.ticksGenerator,m=a.className,p=a.hide;if(p)return null;var h=this.props,y=h.ticks,v=y0(h,nW),w=y;return Oe(d)&&(w=y&&y.length>0?d(this.props):d(v)),c<=0||u<=0||!w||!w.length?null:W.createElement(Me,{className:Ie("recharts-cartesian-axis",m),ref:function(j){n.layerReference=j}},o&&this.renderAxisLine(),this.renderTicks(w,this.state.fontSize,this.state.letterSpacing),Dt.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,o){var c,u=Ie(a.className,"recharts-cartesian-axis-tick-value");return W.isValidElement(n)?c=W.cloneElement(n,kt(kt({},a),{},{className:u})):Oe(n)?c=n(kt(kt({},a),{},{className:u})):c=W.createElement(ci,rs({},a,{className:"recharts-cartesian-axis-tick-value"}),o),c}}])})(I.Component);cb(Zs,"displayName","CartesianAxis");cb(Zs,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var fW=["x1","y1","x2","y2","key"],mW=["offset"];function fi(t){"@babel/helpers - typeof";return fi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fi(t)}function eA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Xt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eA(Object(r),!0).forEach(function(n){hW(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hW(t,e,r){return e=pW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pW(t){var e=gW(t,"string");return fi(e)=="symbol"?e:e+""}function gW(t,e){if(fi(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(fi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ri(){return ri=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ri.apply(this,arguments)}function tA(t,e){if(t==null)return{};var r=yW(t,e),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(a=0;a<o.length;a++)n=o[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function yW(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var vW=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,a=e.x,o=e.y,c=e.width,u=e.height,d=e.ry;return W.createElement("rect",{x:a,y:o,ry:d,width:c,height:u,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function GT(t,e){var r;if(W.isValidElement(t))r=W.cloneElement(t,e);else if(Oe(t))r=t(e);else{var n=e.x1,a=e.y1,o=e.x2,c=e.y2,u=e.key,d=tA(e,fW),m=ve(d,!1);m.offset;var p=tA(m,mW);r=W.createElement("line",ri({},p,{x1:n,y1:a,x2:o,y2:c,fill:"none",key:u}))}return r}function xW(t){var e=t.x,r=t.width,n=t.horizontal,a=n===void 0?!0:n,o=t.horizontalPoints;if(!a||!o||!o.length)return null;var c=o.map(function(u,d){var m=Xt(Xt({},t),{},{x1:e,y1:u,x2:e+r,y2:u,key:"line-".concat(d),index:d});return GT(a,m)});return W.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function bW(t){var e=t.y,r=t.height,n=t.vertical,a=n===void 0?!0:n,o=t.verticalPoints;if(!a||!o||!o.length)return null;var c=o.map(function(u,d){var m=Xt(Xt({},t),{},{x1:u,y1:e,x2:u,y2:e+r,key:"line-".concat(d),index:d});return GT(a,m)});return W.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function wW(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,a=t.y,o=t.width,c=t.height,u=t.horizontalPoints,d=t.horizontal,m=d===void 0?!0:d;if(!m||!e||!e.length)return null;var p=u.map(function(y){return Math.round(y+a-a)}).sort(function(y,v){return y-v});a!==p[0]&&p.unshift(0);var h=p.map(function(y,v){var w=!p[v+1],b=w?a+c-y:p[v+1]-y;if(b<=0)return null;var j=v%e.length;return W.createElement("rect",{key:"react-".concat(v),y,x:n,height:b,width:o,stroke:"none",fill:e[j],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return W.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function jW(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,a=t.fillOpacity,o=t.x,c=t.y,u=t.width,d=t.height,m=t.verticalPoints;if(!r||!n||!n.length)return null;var p=m.map(function(y){return Math.round(y+o-o)}).sort(function(y,v){return y-v});o!==p[0]&&p.unshift(0);var h=p.map(function(y,v){var w=!p[v+1],b=w?o+u-y:p[v+1]-y;if(b<=0)return null;var j=v%n.length;return W.createElement("rect",{key:"react-".concat(v),x:y,y:c,width:b,height:d,stroke:"none",fill:n[j],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return W.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var SW=function(e,r){var n=e.xAxis,a=e.width,o=e.height,c=e.offset;return KE(lb(Xt(Xt(Xt({},Zs.defaultProps),n),{},{ticks:Fn(n,!0),viewBox:{x:0,y:0,width:a,height:o}})),c.left,c.left+c.width,r)},_W=function(e,r){var n=e.yAxis,a=e.width,o=e.height,c=e.offset;return KE(lb(Xt(Xt(Xt({},Zs.defaultProps),n),{},{ticks:Fn(n,!0),viewBox:{x:0,y:0,width:a,height:o}})),c.top,c.top+c.height,r)},Yi={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function St(t){var e,r,n,a,o,c,u=ab(),d=ib(),m=d9(),p=Xt(Xt({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Yi.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:Yi.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:Yi.horizontal,horizontalFill:(a=t.horizontalFill)!==null&&a!==void 0?a:Yi.horizontalFill,vertical:(o=t.vertical)!==null&&o!==void 0?o:Yi.vertical,verticalFill:(c=t.verticalFill)!==null&&c!==void 0?c:Yi.verticalFill,x:le(t.x)?t.x:m.left,y:le(t.y)?t.y:m.top,width:le(t.width)?t.width:m.width,height:le(t.height)?t.height:m.height}),h=p.x,y=p.y,v=p.width,w=p.height,b=p.syncWithTicks,j=p.horizontalValues,O=p.verticalValues,S=l9(),k=c9();if(!le(v)||v<=0||!le(w)||w<=0||!le(h)||h!==+h||!le(y)||y!==+y)return null;var A=p.verticalCoordinatesGenerator||SW,N=p.horizontalCoordinatesGenerator||_W,P=p.horizontalPoints,T=p.verticalPoints;if((!P||!P.length)&&Oe(N)){var $=j&&j.length,M=N({yAxis:k?Xt(Xt({},k),{},{ticks:$?j:k.ticks}):void 0,width:u,height:d,offset:m},$?!0:b);an(Array.isArray(M),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(fi(M),"]")),Array.isArray(M)&&(P=M)}if((!T||!T.length)&&Oe(A)){var q=O&&O.length,R=A({xAxis:S?Xt(Xt({},S),{},{ticks:q?O:S.ticks}):void 0,width:u,height:d,offset:m},q?!0:b);an(Array.isArray(R),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(fi(R),"]")),Array.isArray(R)&&(T=R)}return W.createElement("g",{className:"recharts-cartesian-grid"},W.createElement(vW,{fill:p.fill,fillOpacity:p.fillOpacity,x:p.x,y:p.y,width:p.width,height:p.height,ry:p.ry}),W.createElement(xW,ri({},p,{offset:m,horizontalPoints:P,xAxis:S,yAxis:k})),W.createElement(bW,ri({},p,{offset:m,verticalPoints:T,xAxis:S,yAxis:k})),W.createElement(wW,ri({},p,{horizontalPoints:P})),W.createElement(jW,ri({},p,{verticalPoints:T})))}St.displayName="CartesianGrid";var NW=["type","layout","connectNulls","ref"],kW=["key"];function Ms(t){"@babel/helpers - typeof";return Ms=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ms(t)}function rA(t,e){if(t==null)return{};var r=OW(t,e),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(a=0;a<o.length;a++)n=o[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function OW(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function ll(){return ll=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ll.apply(this,arguments)}function nA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function wr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nA(Object(r),!0).forEach(function(n){rn(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Xi(t){return TW(t)||EW(t)||PW(t)||AW()}function AW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PW(t,e){if(t){if(typeof t=="string")return zv(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zv(t,e)}}function EW(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function TW(t){if(Array.isArray(t))return zv(t)}function zv(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function CW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,KT(n.key),n)}}function IW(t,e,r){return e&&aA(t.prototype,e),r&&aA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function MW(t,e,r){return e=Ad(e),RW(t,VT()?Reflect.construct(e,r||[],Ad(t).constructor):e.apply(t,r))}function RW(t,e){if(e&&(Ms(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return DW(t)}function DW(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function VT(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VT=function(){return!!t})()}function Ad(t){return Ad=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ad(t)}function $W(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qv(t,e)}function qv(t,e){return qv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},qv(t,e)}function rn(t,e,r){return e=KT(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function KT(t){var e=LW(t,"string");return Ms(e)=="symbol"?e:e+""}function LW(t,e){if(Ms(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ms(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Qt=(function(t){function e(){var r;CW(this,e);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=MW(this,e,[].concat(a)),rn(r,"state",{isAnimationFinished:!0,totalLength:0}),rn(r,"generateSimpleStrokeDasharray",function(c,u){return"".concat(u,"px ").concat(c-u,"px")}),rn(r,"getStrokeDasharray",function(c,u,d){var m=d.reduce(function(O,S){return O+S});if(!m)return r.generateSimpleStrokeDasharray(u,c);for(var p=Math.floor(c/m),h=c%m,y=u-c,v=[],w=0,b=0;w<d.length;b+=d[w],++w)if(b+d[w]>h){v=[].concat(Xi(d.slice(0,w)),[h-b]);break}var j=v.length%2===0?[0,y]:[y];return[].concat(Xi(e.repeat(d,p)),Xi(v),j).map(function(O){return"".concat(O,"px")}).join(", ")}),rn(r,"id",Ea("recharts-line-")),rn(r,"pathRef",function(c){r.mainCurve=c}),rn(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),rn(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return $W(e,t),IW(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,c=o.points,u=o.xAxis,d=o.yAxis,m=o.layout,p=o.children,h=sr(p,Qs);if(!h)return null;var y=function(b,j){return{x:b.x,y:b.y,value:b.value,errorVal:nt(b.payload,j)}},v={clipPath:n?"url(#clipPath-".concat(a,")"):null};return W.createElement(Me,v,h.map(function(w){return W.cloneElement(w,{key:"bar-".concat(w.props.dataKey),data:c,xAxis:u,yAxis:d,layout:m,dataPointFormatter:y})}))}},{key:"renderDots",value:function(n,a,o){var c=this.props.isAnimationActive;if(c&&!this.state.isAnimationFinished)return null;var u=this.props,d=u.dot,m=u.points,p=u.dataKey,h=ve(this.props,!1),y=ve(d,!0),v=m.map(function(b,j){var O=wr(wr(wr({key:"dot-".concat(j),r:3},h),y),{},{index:j,cx:b.x,cy:b.y,value:b.value,dataKey:p,payload:b.payload,points:m});return e.renderDotItem(d,O)}),w={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(o,")"):null};return W.createElement(Me,ll({className:"recharts-line-dots",key:"dots"},w),v)}},{key:"renderCurveStatically",value:function(n,a,o,c){var u=this.props,d=u.type,m=u.layout,p=u.connectNulls;u.ref;var h=rA(u,NW),y=wr(wr(wr({},ve(h,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(o,")"):null,points:n},c),{},{type:d,layout:m,connectNulls:p});return W.createElement(_a,ll({},y,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var o=this,c=this.props,u=c.points,d=c.strokeDasharray,m=c.isAnimationActive,p=c.animationBegin,h=c.animationDuration,y=c.animationEasing,v=c.animationId,w=c.animateNewValues,b=c.width,j=c.height,O=this.state,S=O.prevPoints,k=O.totalLength;return W.createElement(Ur,{begin:p,duration:h,isActive:m,easing:y,from:{t:0},to:{t:1},key:"line-".concat(v),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(A){var N=A.t;if(S){var P=S.length/u.length,T=u.map(function(U,B){var V=Math.floor(B*P);if(S[V]){var L=S[V],D=ct(L.x,U.x),G=ct(L.y,U.y);return wr(wr({},U),{},{x:D(N),y:G(N)})}if(w){var C=ct(b*2,U.x),F=ct(j/2,U.y);return wr(wr({},U),{},{x:C(N),y:F(N)})}return wr(wr({},U),{},{x:U.x,y:U.y})});return o.renderCurveStatically(T,n,a)}var $=ct(0,k),M=$(N),q;if(d){var R="".concat(d).split(/[,\s]+/gim).map(function(U){return parseFloat(U)});q=o.getStrokeDasharray(M,k,R)}else q=o.generateSimpleStrokeDasharray(k,M);return o.renderCurveStatically(u,n,a,{strokeDasharray:q})})}},{key:"renderCurve",value:function(n,a){var o=this.props,c=o.points,u=o.isAnimationActive,d=this.state,m=d.prevPoints,p=d.totalLength;return u&&c&&c.length&&(!m&&p>0||!ka(m,c))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(c,n,a)}},{key:"render",value:function(){var n,a=this.props,o=a.hide,c=a.dot,u=a.points,d=a.className,m=a.xAxis,p=a.yAxis,h=a.top,y=a.left,v=a.width,w=a.height,b=a.isAnimationActive,j=a.id;if(o||!u||!u.length)return null;var O=this.state.isAnimationFinished,S=u.length===1,k=Ie("recharts-line",d),A=m&&m.allowDataOverflow,N=p&&p.allowDataOverflow,P=A||N,T=ke(j)?this.id:j,$=(n=ve(c,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},M=$.r,q=M===void 0?3:M,R=$.strokeWidth,U=R===void 0?2:R,B=XA(c)?c:{},V=B.clipDot,L=V===void 0?!0:V,D=q*2+U;return W.createElement(Me,{className:k},A||N?W.createElement("defs",null,W.createElement("clipPath",{id:"clipPath-".concat(T)},W.createElement("rect",{x:A?y:y-v/2,y:N?h:h-w/2,width:A?v:v*2,height:N?w:w*2})),!L&&W.createElement("clipPath",{id:"clipPath-dots-".concat(T)},W.createElement("rect",{x:y-D/2,y:h-D/2,width:v+D,height:w+D}))):null,!S&&this.renderCurve(P,T),this.renderErrorBar(P,T),(S||c)&&this.renderDots(P,L,T),(!b||O)&&sn.renderCallByParent(this.props,u))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var o=n.length%2!==0?[].concat(Xi(n),[0]):n,c=[],u=0;u<a;++u)c=[].concat(Xi(c),Xi(o));return c}},{key:"renderDotItem",value:function(n,a){var o;if(W.isValidElement(n))o=W.cloneElement(n,a);else if(Oe(n))o=n(a);else{var c=a.key,u=rA(a,kW),d=Ie("recharts-line-dot",typeof n!="boolean"?n.className:"");o=W.createElement(tc,ll({key:c},u,{className:d}))}return o}}])})(I.PureComponent);rn(Qt,"displayName","Line");rn(Qt,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Kn.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});rn(Qt,"getComposedData",function(t){var e=t.props,r=t.xAxis,n=t.yAxis,a=t.xAxisTicks,o=t.yAxisTicks,c=t.dataKey,u=t.bandSize,d=t.displayedData,m=t.offset,p=e.layout,h=d.map(function(y,v){var w=nt(y,c);return p==="horizontal"?{x:js({axis:r,ticks:a,bandSize:u,entry:y,index:v}),y:ke(w)?null:n.scale(w),value:w,payload:y}:{x:ke(w)?null:r.scale(w),y:js({axis:n,ticks:o,bandSize:u,entry:y,index:v}),value:w,payload:y}});return wr({points:h,layout:p},m)});var FW=["layout","type","stroke","connectNulls","isRange","ref"],BW=["key"],YT;function Rs(t){"@babel/helpers - typeof";return Rs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rs(t)}function XT(t,e){if(t==null)return{};var r=zW(t,e),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(a=0;a<o.length;a++)n=o[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function zW(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function ni(){return ni=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ni.apply(this,arguments)}function iA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function pa(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?iA(Object(r),!0).forEach(function(n){xn(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function qW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ZT(n.key),n)}}function UW(t,e,r){return e&&sA(t.prototype,e),r&&sA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function WW(t,e,r){return e=Pd(e),HW(t,QT()?Reflect.construct(e,r||[],Pd(t).constructor):e.apply(t,r))}function HW(t,e){if(e&&(Rs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GW(t)}function GW(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function QT(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QT=function(){return!!t})()}function Pd(t){return Pd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Pd(t)}function VW(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Uv(t,e)}function Uv(t,e){return Uv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Uv(t,e)}function xn(t,e,r){return e=ZT(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ZT(t){var e=KW(t,"string");return Rs(e)=="symbol"?e:e+""}function KW(t,e){if(Rs(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Rs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Hn=(function(t){function e(){var r;qW(this,e);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=WW(this,e,[].concat(a)),xn(r,"state",{isAnimationFinished:!0}),xn(r,"id",Ea("recharts-area-")),xn(r,"handleAnimationEnd",function(){var c=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Oe(c)&&c()}),xn(r,"handleAnimationStart",function(){var c=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Oe(c)&&c()}),r}return VW(e,t),UW(e,[{key:"renderDots",value:function(n,a,o){var c=this.props.isAnimationActive,u=this.state.isAnimationFinished;if(c&&!u)return null;var d=this.props,m=d.dot,p=d.points,h=d.dataKey,y=ve(this.props,!1),v=ve(m,!0),w=p.map(function(j,O){var S=pa(pa(pa({key:"dot-".concat(O),r:3},y),v),{},{index:O,cx:j.x,cy:j.y,dataKey:h,value:j.value,payload:j.payload,points:p});return e.renderDotItem(m,S)}),b={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(o,")"):null};return W.createElement(Me,ni({className:"recharts-area-dots"},b),w)}},{key:"renderHorizontalRect",value:function(n){var a=this.props,o=a.baseLine,c=a.points,u=a.strokeWidth,d=c[0].x,m=c[c.length-1].x,p=n*Math.abs(d-m),h=xa(c.map(function(y){return y.y||0}));return le(o)&&typeof o=="number"?h=Math.max(o,h):o&&Array.isArray(o)&&o.length&&(h=Math.max(xa(o.map(function(y){return y.y||0})),h)),le(h)?W.createElement("rect",{x:d<m?d:d-p,y:0,width:p,height:Math.floor(h+(u?parseInt("".concat(u),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var a=this.props,o=a.baseLine,c=a.points,u=a.strokeWidth,d=c[0].y,m=c[c.length-1].y,p=n*Math.abs(d-m),h=xa(c.map(function(y){return y.x||0}));return le(o)&&typeof o=="number"?h=Math.max(o,h):o&&Array.isArray(o)&&o.length&&(h=Math.max(xa(o.map(function(y){return y.x||0})),h)),le(h)?W.createElement("rect",{x:0,y:d<m?d:d-p,width:h+(u?parseInt("".concat(u),10):1),height:Math.floor(p)}):null}},{key:"renderClipRect",value:function(n){var a=this.props.layout;return a==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,a,o,c){var u=this.props,d=u.layout,m=u.type,p=u.stroke,h=u.connectNulls,y=u.isRange;u.ref;var v=XT(u,FW);return W.createElement(Me,{clipPath:o?"url(#clipPath-".concat(c,")"):null},W.createElement(_a,ni({},ve(v,!0),{points:n,connectNulls:h,type:m,baseLine:a,layout:d,stroke:"none",className:"recharts-area-area"})),p!=="none"&&W.createElement(_a,ni({},ve(this.props,!1),{className:"recharts-area-curve",layout:d,type:m,connectNulls:h,fill:"none",points:n})),p!=="none"&&y&&W.createElement(_a,ni({},ve(this.props,!1),{className:"recharts-area-curve",layout:d,type:m,connectNulls:h,fill:"none",points:a})))}},{key:"renderAreaWithAnimation",value:function(n,a){var o=this,c=this.props,u=c.points,d=c.baseLine,m=c.isAnimationActive,p=c.animationBegin,h=c.animationDuration,y=c.animationEasing,v=c.animationId,w=this.state,b=w.prevPoints,j=w.prevBaseLine;return W.createElement(Ur,{begin:p,duration:h,isActive:m,easing:y,from:{t:0},to:{t:1},key:"area-".concat(v),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(O){var S=O.t;if(b){var k=b.length/u.length,A=u.map(function($,M){var q=Math.floor(M*k);if(b[q]){var R=b[q],U=ct(R.x,$.x),B=ct(R.y,$.y);return pa(pa({},$),{},{x:U(S),y:B(S)})}return $}),N;if(le(d)&&typeof d=="number"){var P=ct(j,d);N=P(S)}else if(ke(d)||Gs(d)){var T=ct(j,0);N=T(S)}else N=d.map(function($,M){var q=Math.floor(M*k);if(j[q]){var R=j[q],U=ct(R.x,$.x),B=ct(R.y,$.y);return pa(pa({},$),{},{x:U(S),y:B(S)})}return $});return o.renderAreaStatically(A,N,n,a)}return W.createElement(Me,null,W.createElement("defs",null,W.createElement("clipPath",{id:"animationClipPath-".concat(a)},o.renderClipRect(S))),W.createElement(Me,{clipPath:"url(#animationClipPath-".concat(a,")")},o.renderAreaStatically(u,d,n,a)))})}},{key:"renderArea",value:function(n,a){var o=this.props,c=o.points,u=o.baseLine,d=o.isAnimationActive,m=this.state,p=m.prevPoints,h=m.prevBaseLine,y=m.totalLength;return d&&c&&c.length&&(!p&&y>0||!ka(p,c)||!ka(h,u))?this.renderAreaWithAnimation(n,a):this.renderAreaStatically(c,u,n,a)}},{key:"render",value:function(){var n,a=this.props,o=a.hide,c=a.dot,u=a.points,d=a.className,m=a.top,p=a.left,h=a.xAxis,y=a.yAxis,v=a.width,w=a.height,b=a.isAnimationActive,j=a.id;if(o||!u||!u.length)return null;var O=this.state.isAnimationFinished,S=u.length===1,k=Ie("recharts-area",d),A=h&&h.allowDataOverflow,N=y&&y.allowDataOverflow,P=A||N,T=ke(j)?this.id:j,$=(n=ve(c,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},M=$.r,q=M===void 0?3:M,R=$.strokeWidth,U=R===void 0?2:R,B=XA(c)?c:{},V=B.clipDot,L=V===void 0?!0:V,D=q*2+U;return W.createElement(Me,{className:k},A||N?W.createElement("defs",null,W.createElement("clipPath",{id:"clipPath-".concat(T)},W.createElement("rect",{x:A?p:p-v/2,y:N?m:m-w/2,width:A?v:v*2,height:N?w:w*2})),!L&&W.createElement("clipPath",{id:"clipPath-dots-".concat(T)},W.createElement("rect",{x:p-D/2,y:m-D/2,width:v+D,height:w+D}))):null,S?null:this.renderArea(P,T),(c||S)&&this.renderDots(P,L,T),(!b||O)&&sn.renderCallByParent(this.props,u))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:a.curPoints,prevBaseLine:a.curBaseLine}:n.points!==a.curPoints||n.baseLine!==a.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])})(I.PureComponent);YT=Hn;xn(Hn,"displayName","Area");xn(Hn,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Kn.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});xn(Hn,"getBaseValue",function(t,e,r,n){var a=t.layout,o=t.baseValue,c=e.props.baseValue,u=c??o;if(le(u)&&typeof u=="number")return u;var d=a==="horizontal"?n:r,m=d.scale.domain();if(d.type==="number"){var p=Math.max(m[0],m[1]),h=Math.min(m[0],m[1]);return u==="dataMin"?h:u==="dataMax"||p<0?p:Math.max(Math.min(m[0],m[1]),0)}return u==="dataMin"?m[0]:u==="dataMax"?m[1]:m[0]});xn(Hn,"getComposedData",function(t){var e=t.props,r=t.item,n=t.xAxis,a=t.yAxis,o=t.xAxisTicks,c=t.yAxisTicks,u=t.bandSize,d=t.dataKey,m=t.stackedData,p=t.dataStartIndex,h=t.displayedData,y=t.offset,v=e.layout,w=m&&m.length,b=YT.getBaseValue(e,r,n,a),j=v==="horizontal",O=!1,S=h.map(function(A,N){var P;w?P=m[p+N]:(P=nt(A,d),Array.isArray(P)?O=!0:P=[b,P]);var T=P[1]==null||w&&nt(A,d)==null;return j?{x:js({axis:n,ticks:o,bandSize:u,entry:A,index:N}),y:T?null:a.scale(P[1]),value:P,payload:A}:{x:T?null:n.scale(P[1]),y:js({axis:a,ticks:c,bandSize:u,entry:A,index:N}),value:P,payload:A}}),k;return w||O?k=S.map(function(A){var N=Array.isArray(A.value)?A.value[0]:null;return j?{x:A.x,y:N!=null&&A.y!=null?a.scale(N):null}:{x:N!=null?n.scale(N):null,y:A.y}}):k=j?a.scale(b):n.scale(b),pa({points:S,baseLine:k,layout:v,isRange:O},y)});xn(Hn,"renderDotItem",function(t,e){var r;if(W.isValidElement(t))r=W.cloneElement(t,e);else if(Oe(t))r=t(e);else{var n=Ie("recharts-area-dot",typeof t!="boolean"?t.className:""),a=e.key,o=XT(e,BW);r=W.createElement(tc,ni({},o,{key:a,className:n}))}return r});function Ds(t){"@babel/helpers - typeof";return Ds=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ds(t)}function YW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function XW(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,tC(n.key),n)}}function QW(t,e,r){return e&&XW(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ZW(t,e,r){return e=Ed(e),JW(t,JT()?Reflect.construct(e,r||[],Ed(t).constructor):e.apply(t,r))}function JW(t,e){if(e&&(Ds(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eH(t)}function eH(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function JT(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JT=function(){return!!t})()}function Ed(t){return Ed=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ed(t)}function tH(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Wv(t,e)}function Wv(t,e){return Wv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Wv(t,e)}function eC(t,e,r){return e=tC(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tC(t){var e=rH(t,"string");return Ds(e)=="symbol"?e:e+""}function rH(t,e){if(Ds(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ds(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var bf=(function(t){function e(){return YW(this,e),ZW(this,e,arguments)}return tH(e,t),QW(e,[{key:"render",value:function(){return null}}])})(I.Component);eC(bf,"displayName","ZAxis");eC(bf,"defaultProps",{zAxisId:0,range:[64,64],scale:"auto",type:"number"});var nH=["option","isActive"];function cl(){return cl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},cl.apply(this,arguments)}function aH(t,e){if(t==null)return{};var r=iH(t,e),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(a=0;a<o.length;a++)n=o[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function iH(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function sH(t){var e=t.option,r=t.isActive,n=aH(t,nH);return typeof e=="string"?I.createElement(gd,cl({option:I.createElement(Vd,cl({type:e},n)),isActive:r,shapeType:"symbols"},n)):I.createElement(gd,cl({option:e,isActive:r,shapeType:"symbols"},n))}function $s(t){"@babel/helpers - typeof";return $s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$s(t)}function ul(){return ul=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ul.apply(this,arguments)}function oA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Dr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oA(Object(r),!0).forEach(function(n){wa(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function oH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,nC(n.key),n)}}function lH(t,e,r){return e&&lA(t.prototype,e),r&&lA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function cH(t,e,r){return e=Td(e),uH(t,rC()?Reflect.construct(e,r||[],Td(t).constructor):e.apply(t,r))}function uH(t,e){if(e&&($s(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dH(t)}function dH(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rC(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rC=function(){return!!t})()}function Td(t){return Td=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Td(t)}function fH(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Hv(t,e)}function Hv(t,e){return Hv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Hv(t,e)}function wa(t,e,r){return e=nC(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nC(t){var e=mH(t,"string");return $s(e)=="symbol"?e:e+""}function mH(t,e){if($s(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($s(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var wi=(function(t){function e(){var r;oH(this,e);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=cH(this,e,[].concat(a)),wa(r,"state",{isAnimationFinished:!1}),wa(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0})}),wa(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1})}),wa(r,"id",Ea("recharts-scatter-")),r}return fH(e,t),lH(e,[{key:"renderSymbolsStatically",value:function(n){var a=this,o=this.props,c=o.shape,u=o.activeShape,d=o.activeIndex,m=ve(this.props,!1);return n.map(function(p,h){var y=d===h,v=y?u:c,w=Dr(Dr({},m),p);return W.createElement(Me,ul({className:"recharts-scatter-symbol",key:"symbol-".concat(p?.cx,"-").concat(p?.cy,"-").concat(p?.size,"-").concat(h)},Na(a.props,p,h),{role:"img"}),W.createElement(sH,ul({option:v,isActive:y,key:"symbol-".concat(h)},w)))})}},{key:"renderSymbolsWithAnimation",value:function(){var n=this,a=this.props,o=a.points,c=a.isAnimationActive,u=a.animationBegin,d=a.animationDuration,m=a.animationEasing,p=a.animationId,h=this.state.prevPoints;return W.createElement(Ur,{begin:u,duration:d,isActive:c,easing:m,from:{t:0},to:{t:1},key:"pie-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(y){var v=y.t,w=o.map(function(b,j){var O=h&&h[j];if(O){var S=ct(O.cx,b.cx),k=ct(O.cy,b.cy),A=ct(O.size,b.size);return Dr(Dr({},b),{},{cx:S(v),cy:k(v),size:A(v)})}var N=ct(0,b.size);return Dr(Dr({},b),{},{size:N(v)})});return W.createElement(Me,null,n.renderSymbolsStatically(w))})}},{key:"renderSymbols",value:function(){var n=this.props,a=n.points,o=n.isAnimationActive,c=this.state.prevPoints;return o&&a&&a.length&&(!c||!ka(c,a))?this.renderSymbolsWithAnimation():this.renderSymbolsStatically(a)}},{key:"renderErrorBar",value:function(){var n=this.props.isAnimationActive;if(n&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.points,c=a.xAxis,u=a.yAxis,d=a.children,m=sr(d,Qs);return m?m.map(function(p,h){var y=p.props,v=y.direction,w=y.dataKey;return W.cloneElement(p,{key:"".concat(v,"-").concat(w,"-").concat(o[h]),data:o,xAxis:c,yAxis:u,layout:v==="x"?"vertical":"horizontal",dataPointFormatter:function(j,O){return{x:j.cx,y:j.cy,value:v==="x"?+j.node.x:+j.node.y,errorVal:nt(j,O)}}})}):null}},{key:"renderLine",value:function(){var n=this.props,a=n.points,o=n.line,c=n.lineType,u=n.lineJointType,d=ve(this.props,!1),m=ve(o,!1),p,h;if(c==="joint")p=a.map(function(k){return{x:k.cx,y:k.cy}});else if(c==="fitting"){var y=lR(a),v=y.xmin,w=y.xmax,b=y.a,j=y.b,O=function(A){return b*A+j};p=[{x:v,y:O(v)},{x:w,y:O(w)}]}var S=Dr(Dr(Dr({},d),{},{fill:"none",stroke:d&&d.fill},m),{},{points:p});return W.isValidElement(o)?h=W.cloneElement(o,S):Oe(o)?h=o(S):h=W.createElement(_a,ul({},S,{type:u})),W.createElement(Me,{className:"recharts-scatter-line",key:"recharts-scatter-line"},h)}},{key:"render",value:function(){var n=this.props,a=n.hide,o=n.points,c=n.line,u=n.className,d=n.xAxis,m=n.yAxis,p=n.left,h=n.top,y=n.width,v=n.height,w=n.id,b=n.isAnimationActive;if(a||!o||!o.length)return null;var j=this.state.isAnimationFinished,O=Ie("recharts-scatter",u),S=d&&d.allowDataOverflow,k=m&&m.allowDataOverflow,A=S||k,N=ke(w)?this.id:w;return W.createElement(Me,{className:O,clipPath:A?"url(#clipPath-".concat(N,")"):null},S||k?W.createElement("defs",null,W.createElement("clipPath",{id:"clipPath-".concat(N)},W.createElement("rect",{x:S?p:p-y/2,y:k?h:h-v/2,width:S?y:y*2,height:k?v:v*2}))):null,c&&this.renderLine(),this.renderErrorBar(),W.createElement(Me,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!b||j)&&sn.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}}])})(I.PureComponent);wa(wi,"displayName","Scatter");wa(wi,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!Kn.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"});wa(wi,"getComposedData",function(t){var e=t.xAxis,r=t.yAxis,n=t.zAxis,a=t.item,o=t.displayedData,c=t.xAxisTicks,u=t.yAxisTicks,d=t.offset,m=a.props.tooltipType,p=sr(a.props.children,yi),h=ke(e.dataKey)?a.props.dataKey:e.dataKey,y=ke(r.dataKey)?a.props.dataKey:r.dataKey,v=n&&n.dataKey,w=n?n.range:bf.defaultProps.range,b=w&&w[0],j=e.scale.bandwidth?e.scale.bandwidth():0,O=r.scale.bandwidth?r.scale.bandwidth():0,S=o.map(function(k,A){var N=nt(k,h),P=nt(k,y),T=!ke(v)&&nt(k,v)||"-",$=[{name:ke(e.dataKey)?a.props.name:e.name||e.dataKey,unit:e.unit||"",value:N,payload:k,dataKey:h,type:m},{name:ke(r.dataKey)?a.props.name:r.name||r.dataKey,unit:r.unit||"",value:P,payload:k,dataKey:y,type:m}];T!=="-"&&$.push({name:n.name||n.dataKey,unit:n.unit||"",value:T,payload:k,dataKey:v,type:m});var M=js({axis:e,ticks:c,bandSize:j,entry:k,index:A,dataKey:h}),q=js({axis:r,ticks:u,bandSize:O,entry:k,index:A,dataKey:y}),R=T!=="-"?n.scale(T):b,U=Math.sqrt(Math.max(R,0)/Math.PI);return Dr(Dr({},k),{},{cx:M,cy:q,x:M-U,y:q-U,xAxis:e,yAxis:r,zAxis:n,width:2*U,height:2*U,size:R,node:{x:N,y:P,z:T},tooltipPayload:$,tooltipPosition:{x:M,y:q},payload:k},p&&p[A]&&p[A].props)});return Dr({points:S},d)});function Ls(t){"@babel/helpers - typeof";return Ls=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ls(t)}function hH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pH(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,sC(n.key),n)}}function gH(t,e,r){return e&&pH(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function yH(t,e,r){return e=Cd(e),vH(t,aC()?Reflect.construct(e,r||[],Cd(t).constructor):e.apply(t,r))}function vH(t,e){if(e&&(Ls(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xH(t)}function xH(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function aC(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aC=function(){return!!t})()}function Cd(t){return Cd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Cd(t)}function bH(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Gv(t,e)}function Gv(t,e){return Gv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Gv(t,e)}function iC(t,e,r){return e=sC(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sC(t){var e=wH(t,"string");return Ls(e)=="symbol"?e:e+""}function wH(t,e){if(Ls(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ls(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Vv(){return Vv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Vv.apply(this,arguments)}function jH(t){var e=t.xAxisId,r=ab(),n=ib(),a=RT(e);return a==null?null:I.createElement(Zs,Vv({},a,{className:Ie("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(c){return Fn(c,!0)}}))}var at=(function(t){function e(){return hH(this,e),yH(this,e,arguments)}return bH(e,t),gH(e,[{key:"render",value:function(){return I.createElement(jH,this.props)}}])})(I.Component);iC(at,"displayName","XAxis");iC(at,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Fs(t){"@babel/helpers - typeof";return Fs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fs(t)}function SH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _H(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,cC(n.key),n)}}function NH(t,e,r){return e&&_H(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function kH(t,e,r){return e=Id(e),OH(t,oC()?Reflect.construct(e,r||[],Id(t).constructor):e.apply(t,r))}function OH(t,e){if(e&&(Fs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return AH(t)}function AH(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oC(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oC=function(){return!!t})()}function Id(t){return Id=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Id(t)}function PH(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Kv(t,e)}function Kv(t,e){return Kv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Kv(t,e)}function lC(t,e,r){return e=cC(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cC(t){var e=EH(t,"string");return Fs(e)=="symbol"?e:e+""}function EH(t,e){if(Fs(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Fs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Yv(){return Yv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Yv.apply(this,arguments)}var TH=function(e){var r=e.yAxisId,n=ab(),a=ib(),o=DT(r);return o==null?null:I.createElement(Zs,Yv({},o,{className:Ie("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(u){return Fn(u,!0)}}))},Je=(function(t){function e(){return SH(this,e),kH(this,e,arguments)}return PH(e,t),NH(e,[{key:"render",value:function(){return I.createElement(TH,this.props)}}])})(I.Component);lC(Je,"displayName","YAxis");lC(Je,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function cA(t){return RH(t)||MH(t)||IH(t)||CH()}function CH(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IH(t,e){if(t){if(typeof t=="string")return Xv(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Xv(t,e)}}function MH(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function RH(t){if(Array.isArray(t))return Xv(t)}function Xv(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Qv=function(e,r,n,a,o){var c=sr(e,ob),u=sr(e,yf),d=[].concat(cA(c),cA(u)),m=sr(e,xf),p="".concat(a,"Id"),h=a[0],y=r;if(d.length&&(y=d.reduce(function(b,j){if(j.props[p]===n&&wn(j.props,"extendDomain")&&le(j.props[h])){var O=j.props[h];return[Math.min(b[0],O),Math.max(b[1],O)]}return b},y)),m.length){var v="".concat(h,"1"),w="".concat(h,"2");y=m.reduce(function(b,j){if(j.props[p]===n&&wn(j.props,"extendDomain")&&le(j.props[v])&&le(j.props[w])){var O=j.props[v],S=j.props[w];return[Math.min(b[0],O,S),Math.max(b[1],O,S)]}return b},y)}return o&&o.length&&(y=o.reduce(function(b,j){return le(j)?[Math.min(b[0],j),Math.max(b[1],j)]:b},y)),y},v0={exports:{}},uA;function DH(){return uA||(uA=1,(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(d,m,p){this.fn=d,this.context=m,this.once=p||!1}function o(d,m,p,h,y){if(typeof p!="function")throw new TypeError("The listener must be a function");var v=new a(p,h||d,y),w=r?r+m:m;return d._events[w]?d._events[w].fn?d._events[w]=[d._events[w],v]:d._events[w].push(v):(d._events[w]=v,d._eventsCount++),d}function c(d,m){--d._eventsCount===0?d._events=new n:delete d._events[m]}function u(){this._events=new n,this._eventsCount=0}u.prototype.eventNames=function(){var m=[],p,h;if(this._eventsCount===0)return m;for(h in p=this._events)e.call(p,h)&&m.push(r?h.slice(1):h);return Object.getOwnPropertySymbols?m.concat(Object.getOwnPropertySymbols(p)):m},u.prototype.listeners=function(m){var p=r?r+m:m,h=this._events[p];if(!h)return[];if(h.fn)return[h.fn];for(var y=0,v=h.length,w=new Array(v);y<v;y++)w[y]=h[y].fn;return w},u.prototype.listenerCount=function(m){var p=r?r+m:m,h=this._events[p];return h?h.fn?1:h.length:0},u.prototype.emit=function(m,p,h,y,v,w){var b=r?r+m:m;if(!this._events[b])return!1;var j=this._events[b],O=arguments.length,S,k;if(j.fn){switch(j.once&&this.removeListener(m,j.fn,void 0,!0),O){case 1:return j.fn.call(j.context),!0;case 2:return j.fn.call(j.context,p),!0;case 3:return j.fn.call(j.context,p,h),!0;case 4:return j.fn.call(j.context,p,h,y),!0;case 5:return j.fn.call(j.context,p,h,y,v),!0;case 6:return j.fn.call(j.context,p,h,y,v,w),!0}for(k=1,S=new Array(O-1);k<O;k++)S[k-1]=arguments[k];j.fn.apply(j.context,S)}else{var A=j.length,N;for(k=0;k<A;k++)switch(j[k].once&&this.removeListener(m,j[k].fn,void 0,!0),O){case 1:j[k].fn.call(j[k].context);break;case 2:j[k].fn.call(j[k].context,p);break;case 3:j[k].fn.call(j[k].context,p,h);break;case 4:j[k].fn.call(j[k].context,p,h,y);break;default:if(!S)for(N=1,S=new Array(O-1);N<O;N++)S[N-1]=arguments[N];j[k].fn.apply(j[k].context,S)}}return!0},u.prototype.on=function(m,p,h){return o(this,m,p,h,!1)},u.prototype.once=function(m,p,h){return o(this,m,p,h,!0)},u.prototype.removeListener=function(m,p,h,y){var v=r?r+m:m;if(!this._events[v])return this;if(!p)return c(this,v),this;var w=this._events[v];if(w.fn)w.fn===p&&(!y||w.once)&&(!h||w.context===h)&&c(this,v);else{for(var b=0,j=[],O=w.length;b<O;b++)(w[b].fn!==p||y&&!w[b].once||h&&w[b].context!==h)&&j.push(w[b]);j.length?this._events[v]=j.length===1?j[0]:j:c(this,v)}return this},u.prototype.removeAllListeners=function(m){var p;return m?(p=r?r+m:m,this._events[p]&&c(this,p)):(this._events=new n,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=r,u.EventEmitter=u,t.exports=u})(v0)),v0.exports}var $H=DH();const LH=We($H);var x0=new LH,b0="recharts.syncMouseEvents";function Vl(t){"@babel/helpers - typeof";return Vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vl(t)}function FH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function BH(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,uC(n.key),n)}}function zH(t,e,r){return e&&BH(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function w0(t,e,r){return e=uC(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uC(t){var e=qH(t,"string");return Vl(e)=="symbol"?e:e+""}function qH(t,e){if(Vl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var UH=(function(){function t(){FH(this,t),w0(this,"activeIndex",0),w0(this,"coordinateList",[]),w0(this,"layout","horizontal")}return zH(t,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,o=a===void 0?null:a,c=r.container,u=c===void 0?null:c,d=r.layout,m=d===void 0?null:d,p=r.offset,h=p===void 0?null:p,y=r.mouseHandlerCallback,v=y===void 0?null:y;this.coordinateList=(n=o??this.coordinateList)!==null&&n!==void 0?n:[],this.container=u??this.container,this.layout=m??this.layout,this.offset=h??this.offset,this.mouseHandlerCallback=v??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),o=a.x,c=a.y,u=a.height,d=this.coordinateList[this.activeIndex].coordinate,m=((r=window)===null||r===void 0?void 0:r.scrollX)||0,p=((n=window)===null||n===void 0?void 0:n.scrollY)||0,h=o+d+m,y=c+this.offset.top+u/2+p;this.mouseHandlerCallback({pageX:h,pageY:y})}}}])})();function WH(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t?.[0],a=t?.[1];if(n&&a&&le(n)&&le(a))return!0}return!1}function HH(t,e,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-a:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-a,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function dC(t){var e=t.cx,r=t.cy,n=t.radius,a=t.startAngle,o=t.endAngle,c=Ze(e,r,n,a),u=Ze(e,r,n,o);return{points:[c,u],cx:e,cy:r,radius:n,startAngle:a,endAngle:o}}function GH(t,e,r){var n,a,o,c;if(t==="horizontal")n=e.x,o=n,a=r.top,c=r.top+r.height;else if(t==="vertical")a=e.y,c=a,n=r.left,o=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var u=e.cx,d=e.cy,m=e.innerRadius,p=e.outerRadius,h=e.angle,y=Ze(u,d,m,h),v=Ze(u,d,p,h);n=y.x,a=y.y,o=v.x,c=v.y}else return dC(e);return[{x:n,y:a},{x:o,y:c}]}function Kl(t){"@babel/helpers - typeof";return Kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kl(t)}function dA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Ou(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dA(Object(r),!0).forEach(function(n){VH(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function VH(t,e,r){return e=KH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function KH(t){var e=YH(t,"string");return Kl(e)=="symbol"?e:e+""}function YH(t,e){if(Kl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Kl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function XH(t){var e,r,n=t.element,a=t.tooltipEventType,o=t.isActive,c=t.activeCoordinate,u=t.activePayload,d=t.offset,m=t.activeTooltipIndex,p=t.tooltipAxisBandSize,h=t.layout,y=t.chartName,v=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!v||!o||!c||y!=="ScatterChart"&&a!=="axis")return null;var w,b=_a;if(y==="ScatterChart")w=c,b=U7;else if(y==="BarChart")w=HH(h,c,d,p),b=eb;else if(h==="radial"){var j=dC(c),O=j.cx,S=j.cy,k=j.radius,A=j.startAngle,N=j.endAngle;w={cx:O,cy:S,startAngle:A,endAngle:N,innerRadius:k,outerRadius:k},b=iT}else w={points:GH(h,c,d)},b=_a;var P=Ou(Ou(Ou(Ou({stroke:"#ccc",pointerEvents:"none"},d),w),ve(v,!1)),{},{payload:u,payloadIndex:m,className:Ie("recharts-tooltip-cursor",v.className)});return I.isValidElement(v)?I.cloneElement(v,P):I.createElement(b,P)}var QH=["item"],ZH=["children","className","width","height","style","compact","title","desc"];function Bs(t){"@babel/helpers - typeof";return Bs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bs(t)}function ns(){return ns=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ns.apply(this,arguments)}function fA(t,e){return tG(t)||eG(t,e)||mC(t,e)||JH()}function JH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eG(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,o,c,u=[],d=!0,m=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(p){m=!0,a=p}finally{try{if(!d&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(m)throw a}}return u}}function tG(t){if(Array.isArray(t))return t}function mA(t,e){if(t==null)return{};var r=rG(t,e),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(a=0;a<o.length;a++)n=o[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function rG(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function nG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aG(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,hC(n.key),n)}}function iG(t,e,r){return e&&aG(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function sG(t,e,r){return e=Md(e),oG(t,fC()?Reflect.construct(e,r||[],Md(t).constructor):e.apply(t,r))}function oG(t,e){if(e&&(Bs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lG(t)}function lG(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fC(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fC=function(){return!!t})()}function Md(t){return Md=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Md(t)}function cG(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Zv(t,e)}function Zv(t,e){return Zv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Zv(t,e)}function zs(t){return fG(t)||dG(t)||mC(t)||uG()}function uG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mC(t,e){if(t){if(typeof t=="string")return Jv(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Jv(t,e)}}function dG(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function fG(t){if(Array.isArray(t))return Jv(t)}function Jv(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function hA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function te(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hA(Object(r),!0).forEach(function(n){Ae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ae(t,e,r){return e=hC(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hC(t){var e=mG(t,"string");return Bs(e)=="symbol"?e:e+""}function mG(t,e){if(Bs(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hG={xAxis:["bottom","top"],yAxis:["left","right"]},pG={width:"100%",height:"100%"},pC={x:0,y:0};function Au(t){return t}var gG=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},yG=function(e,r,n,a){var o=r.find(function(p){return p&&p.index===n});if(o){if(e==="horizontal")return{x:o.coordinate,y:a.y};if(e==="vertical")return{x:a.x,y:o.coordinate};if(e==="centric"){var c=o.coordinate,u=a.radius;return te(te(te({},a),Ze(a.cx,a.cy,u,c)),{},{angle:c,radius:u})}var d=o.coordinate,m=a.angle;return te(te(te({},a),Ze(a.cx,a.cy,d,m)),{},{angle:m,radius:d})}return pC},wf=function(e,r){var n=r.graphicalItems,a=r.dataStartIndex,o=r.dataEndIndex,c=(n??[]).reduce(function(u,d){var m=d.props.data;return m&&m.length?[].concat(zs(u),zs(m)):u},[]);return c.length>0?c:e&&e.length&&le(a)&&le(o)?e.slice(a,o+1):[]};function gC(t){return t==="number"?[0,"auto"]:void 0}var ex=function(e,r,n,a){var o=e.graphicalItems,c=e.tooltipAxis,u=wf(r,e);return n<0||!o||!o.length||n>=u.length?null:o.reduce(function(d,m){var p,h=(p=m.props.data)!==null&&p!==void 0?p:r;h&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(h=h.slice(e.dataStartIndex,e.dataEndIndex+1));var y;if(c.dataKey&&!c.allowDuplicatedCategory){var v=h===void 0?u:h;y=Mu(v,c.dataKey,a)}else y=h&&h[n]||u[n];return y?[].concat(zs(d),[JE(m,y)]):d},[])},pA=function(e,r,n,a){var o=a||{x:e.chartX,y:e.chartY},c=gG(o,n),u=e.orderedTooltipTicks,d=e.tooltipAxis,m=e.tooltipTicks,p=hF(c,u,m,d);if(p>=0&&m){var h=m[p]&&m[p].value,y=ex(e,r,p,h),v=yG(n,u,p,o);return{activeTooltipIndex:p,activeLabel:h,activePayload:y,activeCoordinate:v}}return null},vG=function(e,r){var n=r.axes,a=r.graphicalItems,o=r.axisType,c=r.axisIdKey,u=r.stackGroups,d=r.dataStartIndex,m=r.dataEndIndex,p=e.layout,h=e.children,y=e.stackOffset,v=VE(p,o);return n.reduce(function(w,b){var j,O=b.type.defaultProps!==void 0?te(te({},b.type.defaultProps),b.props):b.props,S=O.type,k=O.dataKey,A=O.allowDataOverflow,N=O.allowDuplicatedCategory,P=O.scale,T=O.ticks,$=O.includeHidden,M=O[c];if(w[M])return w;var q=wf(e.data,{graphicalItems:a.filter(function(Y){var ne,ue=c in Y.props?Y.props[c]:(ne=Y.type.defaultProps)===null||ne===void 0?void 0:ne[c];return ue===M}),dataStartIndex:d,dataEndIndex:m}),R=q.length,U,B,V;WH(O.domain,A,S)&&(U=dv(O.domain,null,A),v&&(S==="number"||P!=="auto")&&(V=al(q,k,"category")));var L=gC(S);if(!U||U.length===0){var D,G=(D=O.domain)!==null&&D!==void 0?D:L;if(k){if(U=al(q,k,S),S==="category"&&v){var C=oR(U);N&&C?(B=U,U=vd(0,R)):N||(U=uk(G,U,b).reduce(function(Y,ne){return Y.indexOf(ne)>=0?Y:[].concat(zs(Y),[ne])},[]))}else if(S==="category")N?U=U.filter(function(Y){return Y!==""&&!ke(Y)}):U=uk(G,U,b).reduce(function(Y,ne){return Y.indexOf(ne)>=0||ne===""||ke(ne)?Y:[].concat(zs(Y),[ne])},[]);else if(S==="number"){var F=xF(q,a.filter(function(Y){var ne,ue,we=c in Y.props?Y.props[c]:(ne=Y.type.defaultProps)===null||ne===void 0?void 0:ne[c],be="hide"in Y.props?Y.props.hide:(ue=Y.type.defaultProps)===null||ue===void 0?void 0:ue.hide;return we===M&&($||!be)}),k,o,p);F&&(U=F)}v&&(S==="number"||P!=="auto")&&(V=al(q,k,"category"))}else v?U=vd(0,R):u&&u[M]&&u[M].hasStack&&S==="number"?U=y==="expand"?[0,1]:ZE(u[M].stackGroups,d,m):U=GE(q,a.filter(function(Y){var ne=c in Y.props?Y.props[c]:Y.type.defaultProps[c],ue="hide"in Y.props?Y.props.hide:Y.type.defaultProps.hide;return ne===M&&($||!ue)}),S,p,!0);if(S==="number")U=Qv(h,U,M,o,T),G&&(U=dv(G,U,A));else if(S==="category"&&G){var Q=G,z=U.every(function(Y){return Q.indexOf(Y)>=0});z&&(U=Q)}}return te(te({},w),{},Ae({},M,te(te({},O),{},{axisType:o,domain:U,categoricalDomain:V,duplicateDomain:B,originalDomain:(j=O.domain)!==null&&j!==void 0?j:L,isCategorical:v,layout:p})))},{})},xG=function(e,r){var n=r.graphicalItems,a=r.Axis,o=r.axisType,c=r.axisIdKey,u=r.stackGroups,d=r.dataStartIndex,m=r.dataEndIndex,p=e.layout,h=e.children,y=wf(e.data,{graphicalItems:n,dataStartIndex:d,dataEndIndex:m}),v=y.length,w=VE(p,o),b=-1;return n.reduce(function(j,O){var S=O.type.defaultProps!==void 0?te(te({},O.type.defaultProps),O.props):O.props,k=S[c],A=gC("number");if(!j[k]){b++;var N;return w?N=vd(0,v):u&&u[k]&&u[k].hasStack?(N=ZE(u[k].stackGroups,d,m),N=Qv(h,N,k,o)):(N=dv(A,GE(y,n.filter(function(P){var T,$,M=c in P.props?P.props[c]:(T=P.type.defaultProps)===null||T===void 0?void 0:T[c],q="hide"in P.props?P.props.hide:($=P.type.defaultProps)===null||$===void 0?void 0:$.hide;return M===k&&!q}),"number",p),a.defaultProps.allowDataOverflow),N=Qv(h,N,k,o)),te(te({},j),{},Ae({},k,te(te({axisType:o},a.defaultProps),{},{hide:!0,orientation:kr(hG,"".concat(o,".").concat(b%2),null),domain:N,originalDomain:A,isCategorical:w,layout:p})))}return j},{})},bG=function(e,r){var n=r.axisType,a=n===void 0?"xAxis":n,o=r.AxisComp,c=r.graphicalItems,u=r.stackGroups,d=r.dataStartIndex,m=r.dataEndIndex,p=e.children,h="".concat(a,"Id"),y=sr(p,o),v={};return y&&y.length?v=vG(e,{axes:y,graphicalItems:c,axisType:a,axisIdKey:h,stackGroups:u,dataStartIndex:d,dataEndIndex:m}):c&&c.length&&(v=xG(e,{Axis:o,graphicalItems:c,axisType:a,axisIdKey:h,stackGroups:u,dataStartIndex:d,dataEndIndex:m})),v},wG=function(e){var r=ya(e),n=Fn(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:Ox(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:id(r,n)}},gA=function(e){var r=e.children,n=e.defaultShowTooltip,a=Sr(r,As),o=0,c=0;return e.data&&e.data.length!==0&&(c=e.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(o=a.props.startIndex),a.props.endIndex>=0&&(c=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:c,activeTooltipIndex:-1,isTooltipActive:!!n}},jG=function(e){return!e||!e.length?!1:e.some(function(r){var n=Bn(r&&r.type);return n&&n.indexOf("Bar")>=0})},yA=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},SG=function(e,r){var n=e.props,a=e.graphicalItems,o=e.xAxisMap,c=o===void 0?{}:o,u=e.yAxisMap,d=u===void 0?{}:u,m=n.width,p=n.height,h=n.children,y=n.margin||{},v=Sr(h,As),w=Sr(h,Zt),b=Object.keys(d).reduce(function(N,P){var T=d[P],$=T.orientation;return!T.mirror&&!T.hide?te(te({},N),{},Ae({},$,N[$]+T.width)):N},{left:y.left||0,right:y.right||0}),j=Object.keys(c).reduce(function(N,P){var T=c[P],$=T.orientation;return!T.mirror&&!T.hide?te(te({},N),{},Ae({},$,kr(N,"".concat($))+T.height)):N},{top:y.top||0,bottom:y.bottom||0}),O=te(te({},j),b),S=O.bottom;v&&(O.bottom+=v.props.height||As.defaultProps.height),w&&r&&(O=yF(O,a,n,r));var k=m-O.left-O.right,A=p-O.top-O.bottom;return te(te({brushBottom:S},O),{},{width:Math.max(k,0),height:Math.max(A,0)})},_G=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},rc=function(e){var r=e.chartName,n=e.GraphicalChild,a=e.defaultTooltipEventType,o=a===void 0?"axis":a,c=e.validateTooltipEventTypes,u=c===void 0?["axis"]:c,d=e.axisComponents,m=e.legendContent,p=e.formatAxisMap,h=e.defaultProps,y=function(O,S){var k=S.graphicalItems,A=S.stackGroups,N=S.offset,P=S.updateId,T=S.dataStartIndex,$=S.dataEndIndex,M=O.barSize,q=O.layout,R=O.barGap,U=O.barCategoryGap,B=O.maxBarSize,V=yA(q),L=V.numericAxisName,D=V.cateAxisName,G=jG(k),C=[];return k.forEach(function(F,Q){var z=wf(O.data,{graphicalItems:[F],dataStartIndex:T,dataEndIndex:$}),Y=F.type.defaultProps!==void 0?te(te({},F.type.defaultProps),F.props):F.props,ne=Y.dataKey,ue=Y.maxBarSize,we=Y["".concat(L,"Id")],be=Y["".concat(D,"Id")],$e={},Ee=d.reduce(function(or,Gr){var ji=S["".concat(Gr.axisType,"Map")],Js=Y["".concat(Gr.axisType,"Id")];ji&&ji[Js]||Gr.axisType==="zAxis"||di();var eo=ji[Js];return te(te({},or),{},Ae(Ae({},Gr.axisType,eo),"".concat(Gr.axisType,"Ticks"),Fn(eo)))},$e),se=Ee[D],fe=Ee["".concat(D,"Ticks")],Ce=A&&A[we]&&A[we].hasStack&&AF(F,A[we].stackGroups),ie=Bn(F.type).indexOf("Bar")>=0,Ve=id(se,fe),De=[],ut=G&&pF({barSize:M,stackGroups:A,totalSize:_G(Ee,D)});if(ie){var dt,Tt,Hr=ke(ue)?B:ue,cn=(dt=(Tt=id(se,fe,!0))!==null&&Tt!==void 0?Tt:Hr)!==null&&dt!==void 0?dt:0;De=gF({barGap:R,barCategoryGap:U,bandSize:cn!==Ve?cn:Ve,sizeList:ut[be],maxBarSize:Hr}),cn!==Ve&&(De=De.map(function(or){return te(te({},or),{},{position:te(te({},or.position),{},{offset:or.position.offset-cn/2})})}))}var un=F&&F.type&&F.type.getComposedData;un&&C.push({props:te(te({},un(te(te({},Ee),{},{displayedData:z,props:O,dataKey:ne,item:F,bandSize:Ve,barPosition:De,offset:N,stackedData:Ce,layout:q,dataStartIndex:T,dataEndIndex:$}))),{},Ae(Ae(Ae({key:F.key||"item-".concat(Q)},L,Ee[L]),D,Ee[D]),"animationId",P)),childIndex:bR(F,O.children),item:F})}),C},v=function(O,S){var k=O.props,A=O.dataStartIndex,N=O.dataEndIndex,P=O.updateId;if(!NS({props:k}))return null;var T=k.children,$=k.layout,M=k.stackOffset,q=k.data,R=k.reverseStackOrder,U=yA($),B=U.numericAxisName,V=U.cateAxisName,L=sr(T,n),D=kF(q,L,"".concat(B,"Id"),"".concat(V,"Id"),M,R),G=d.reduce(function(Y,ne){var ue="".concat(ne.axisType,"Map");return te(te({},Y),{},Ae({},ue,bG(k,te(te({},ne),{},{graphicalItems:L,stackGroups:ne.axisType===B&&D,dataStartIndex:A,dataEndIndex:N}))))},{}),C=SG(te(te({},G),{},{props:k,graphicalItems:L}),S?.legendBBox);Object.keys(G).forEach(function(Y){G[Y]=p(k,G[Y],C,Y.replace("Map",""),r)});var F=G["".concat(V,"Map")],Q=wG(F),z=y(k,te(te({},G),{},{dataStartIndex:A,dataEndIndex:N,updateId:P,graphicalItems:L,stackGroups:D,offset:C}));return te(te({formattedGraphicalItems:z,graphicalItems:L,offset:C,stackGroups:D},Q),G)},w=(function(j){function O(S){var k,A,N;return nG(this,O),N=sG(this,O,[S]),Ae(N,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ae(N,"accessibilityManager",new UH),Ae(N,"handleLegendBBoxUpdate",function(P){if(P){var T=N.state,$=T.dataStartIndex,M=T.dataEndIndex,q=T.updateId;N.setState(te({legendBBox:P},v({props:N.props,dataStartIndex:$,dataEndIndex:M,updateId:q},te(te({},N.state),{},{legendBBox:P}))))}}),Ae(N,"handleReceiveSyncEvent",function(P,T,$){if(N.props.syncId===P){if($===N.eventEmitterSymbol&&typeof N.props.syncMethod!="function")return;N.applySyncEvent(T)}}),Ae(N,"handleBrushChange",function(P){var T=P.startIndex,$=P.endIndex;if(T!==N.state.dataStartIndex||$!==N.state.dataEndIndex){var M=N.state.updateId;N.setState(function(){return te({dataStartIndex:T,dataEndIndex:$},v({props:N.props,dataStartIndex:T,dataEndIndex:$,updateId:M},N.state))}),N.triggerSyncEvent({dataStartIndex:T,dataEndIndex:$})}}),Ae(N,"handleMouseEnter",function(P){var T=N.getMouseInfo(P);if(T){var $=te(te({},T),{},{isTooltipActive:!0});N.setState($),N.triggerSyncEvent($);var M=N.props.onMouseEnter;Oe(M)&&M($,P)}}),Ae(N,"triggeredAfterMouseMove",function(P){var T=N.getMouseInfo(P),$=T?te(te({},T),{},{isTooltipActive:!0}):{isTooltipActive:!1};N.setState($),N.triggerSyncEvent($);var M=N.props.onMouseMove;Oe(M)&&M($,P)}),Ae(N,"handleItemMouseEnter",function(P){N.setState(function(){return{isTooltipActive:!0,activeItem:P,activePayload:P.tooltipPayload,activeCoordinate:P.tooltipPosition||{x:P.cx,y:P.cy}}})}),Ae(N,"handleItemMouseLeave",function(){N.setState(function(){return{isTooltipActive:!1}})}),Ae(N,"handleMouseMove",function(P){P.persist(),N.throttleTriggeredAfterMouseMove(P)}),Ae(N,"handleMouseLeave",function(P){N.throttleTriggeredAfterMouseMove.cancel();var T={isTooltipActive:!1};N.setState(T),N.triggerSyncEvent(T);var $=N.props.onMouseLeave;Oe($)&&$(T,P)}),Ae(N,"handleOuterEvent",function(P){var T=xR(P),$=kr(N.props,"".concat(T));if(T&&Oe($)){var M,q;/.*touch.*/i.test(T)?q=N.getMouseInfo(P.changedTouches[0]):q=N.getMouseInfo(P),$((M=q)!==null&&M!==void 0?M:{},P)}}),Ae(N,"handleClick",function(P){var T=N.getMouseInfo(P);if(T){var $=te(te({},T),{},{isTooltipActive:!0});N.setState($),N.triggerSyncEvent($);var M=N.props.onClick;Oe(M)&&M($,P)}}),Ae(N,"handleMouseDown",function(P){var T=N.props.onMouseDown;if(Oe(T)){var $=N.getMouseInfo(P);T($,P)}}),Ae(N,"handleMouseUp",function(P){var T=N.props.onMouseUp;if(Oe(T)){var $=N.getMouseInfo(P);T($,P)}}),Ae(N,"handleTouchMove",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&N.throttleTriggeredAfterMouseMove(P.changedTouches[0])}),Ae(N,"handleTouchStart",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&N.handleMouseDown(P.changedTouches[0])}),Ae(N,"handleTouchEnd",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&N.handleMouseUp(P.changedTouches[0])}),Ae(N,"handleDoubleClick",function(P){var T=N.props.onDoubleClick;if(Oe(T)){var $=N.getMouseInfo(P);T($,P)}}),Ae(N,"handleContextMenu",function(P){var T=N.props.onContextMenu;if(Oe(T)){var $=N.getMouseInfo(P);T($,P)}}),Ae(N,"triggerSyncEvent",function(P){N.props.syncId!==void 0&&x0.emit(b0,N.props.syncId,P,N.eventEmitterSymbol)}),Ae(N,"applySyncEvent",function(P){var T=N.props,$=T.layout,M=T.syncMethod,q=N.state.updateId,R=P.dataStartIndex,U=P.dataEndIndex;if(P.dataStartIndex!==void 0||P.dataEndIndex!==void 0)N.setState(te({dataStartIndex:R,dataEndIndex:U},v({props:N.props,dataStartIndex:R,dataEndIndex:U,updateId:q},N.state)));else if(P.activeTooltipIndex!==void 0){var B=P.chartX,V=P.chartY,L=P.activeTooltipIndex,D=N.state,G=D.offset,C=D.tooltipTicks;if(!G)return;if(typeof M=="function")L=M(C,P);else if(M==="value"){L=-1;for(var F=0;F<C.length;F++)if(C[F].value===P.activeLabel){L=F;break}}var Q=te(te({},G),{},{x:G.left,y:G.top}),z=Math.min(B,Q.x+Q.width),Y=Math.min(V,Q.y+Q.height),ne=C[L]&&C[L].value,ue=ex(N.state,N.props.data,L),we=C[L]?{x:$==="horizontal"?C[L].coordinate:z,y:$==="horizontal"?Y:C[L].coordinate}:pC;N.setState(te(te({},P),{},{activeLabel:ne,activeCoordinate:we,activePayload:ue,activeTooltipIndex:L}))}else N.setState(P)}),Ae(N,"renderCursor",function(P){var T,$=N.state,M=$.isTooltipActive,q=$.activeCoordinate,R=$.activePayload,U=$.offset,B=$.activeTooltipIndex,V=$.tooltipAxisBandSize,L=N.getTooltipEventType(),D=(T=P.props.active)!==null&&T!==void 0?T:M,G=N.props.layout,C=P.key||"_recharts-cursor";return W.createElement(XH,{key:C,activeCoordinate:q,activePayload:R,activeTooltipIndex:B,chartName:r,element:P,isActive:D,layout:G,offset:U,tooltipAxisBandSize:V,tooltipEventType:L})}),Ae(N,"renderPolarAxis",function(P,T,$){var M=kr(P,"type.axisType"),q=kr(N.state,"".concat(M,"Map")),R=P.type.defaultProps,U=R!==void 0?te(te({},R),P.props):P.props,B=q&&q[U["".concat(M,"Id")]];return I.cloneElement(P,te(te({},B),{},{className:Ie(M,B.className),key:P.key||"".concat(T,"-").concat($),ticks:Fn(B,!0)}))}),Ae(N,"renderPolarGrid",function(P){var T=P.props,$=T.radialLines,M=T.polarAngles,q=T.polarRadius,R=N.state,U=R.radiusAxisMap,B=R.angleAxisMap,V=ya(U),L=ya(B),D=L.cx,G=L.cy,C=L.innerRadius,F=L.outerRadius;return I.cloneElement(P,{polarAngles:Array.isArray(M)?M:Fn(L,!0).map(function(Q){return Q.coordinate}),polarRadius:Array.isArray(q)?q:Fn(V,!0).map(function(Q){return Q.coordinate}),cx:D,cy:G,innerRadius:C,outerRadius:F,key:P.key||"polar-grid",radialLines:$})}),Ae(N,"renderLegend",function(){var P=N.state.formattedGraphicalItems,T=N.props,$=T.children,M=T.width,q=T.height,R=N.props.margin||{},U=M-(R.left||0)-(R.right||0),B=WE({children:$,formattedGraphicalItems:P,legendWidth:U,legendContent:m});if(!B)return null;var V=B.item,L=mA(B,QH);return I.cloneElement(V,te(te({},L),{},{chartWidth:M,chartHeight:q,margin:R,onBBoxUpdate:N.handleLegendBBoxUpdate}))}),Ae(N,"renderTooltip",function(){var P,T=N.props,$=T.children,M=T.accessibilityLayer,q=Sr($,ze);if(!q)return null;var R=N.state,U=R.isTooltipActive,B=R.activeCoordinate,V=R.activePayload,L=R.activeLabel,D=R.offset,G=(P=q.props.active)!==null&&P!==void 0?P:U;return I.cloneElement(q,{viewBox:te(te({},D),{},{x:D.left,y:D.top}),active:G,label:L,payload:G?V:[],coordinate:B,accessibilityLayer:M})}),Ae(N,"renderBrush",function(P){var T=N.props,$=T.margin,M=T.data,q=N.state,R=q.offset,U=q.dataStartIndex,B=q.dataEndIndex,V=q.updateId;return I.cloneElement(P,{key:P.key||"_recharts-brush",onChange:Su(N.handleBrushChange,P.props.onChange),data:M,x:le(P.props.x)?P.props.x:R.left,y:le(P.props.y)?P.props.y:R.top+R.height+R.brushBottom-($.bottom||0),width:le(P.props.width)?P.props.width:R.width,startIndex:U,endIndex:B,updateId:"brush-".concat(V)})}),Ae(N,"renderReferenceElement",function(P,T,$){if(!P)return null;var M=N,q=M.clipPathId,R=N.state,U=R.xAxisMap,B=R.yAxisMap,V=R.offset,L=P.type.defaultProps||{},D=P.props,G=D.xAxisId,C=G===void 0?L.xAxisId:G,F=D.yAxisId,Q=F===void 0?L.yAxisId:F;return I.cloneElement(P,{key:P.key||"".concat(T,"-").concat($),xAxis:U[C],yAxis:B[Q],viewBox:{x:V.left,y:V.top,width:V.width,height:V.height},clipPathId:q})}),Ae(N,"renderActivePoints",function(P){var T=P.item,$=P.activePoint,M=P.basePoint,q=P.childIndex,R=P.isRange,U=[],B=T.props.key,V=T.item.type.defaultProps!==void 0?te(te({},T.item.type.defaultProps),T.item.props):T.item.props,L=V.activeDot,D=V.dataKey,G=te(te({index:q,dataKey:D,cx:$.x,cy:$.y,r:4,fill:Jx(T.item),strokeWidth:2,stroke:"#fff",payload:$.payload,value:$.value},ve(L,!1)),Ru(L));return U.push(O.renderActiveDot(L,G,"".concat(B,"-activePoint-").concat(q))),M?U.push(O.renderActiveDot(L,te(te({},G),{},{cx:M.x,cy:M.y}),"".concat(B,"-basePoint-").concat(q))):R&&U.push(null),U}),Ae(N,"renderGraphicChild",function(P,T,$){var M=N.filterFormatItem(P,T,$);if(!M)return null;var q=N.getTooltipEventType(),R=N.state,U=R.isTooltipActive,B=R.tooltipAxis,V=R.activeTooltipIndex,L=R.activeLabel,D=N.props.children,G=Sr(D,ze),C=M.props,F=C.points,Q=C.isRange,z=C.baseLine,Y=M.item.type.defaultProps!==void 0?te(te({},M.item.type.defaultProps),M.item.props):M.item.props,ne=Y.activeDot,ue=Y.hide,we=Y.activeBar,be=Y.activeShape,$e=!!(!ue&&U&&G&&(ne||we||be)),Ee={};q!=="axis"&&G&&G.props.trigger==="click"?Ee={onClick:Su(N.handleItemMouseEnter,P.props.onClick)}:q!=="axis"&&(Ee={onMouseLeave:Su(N.handleItemMouseLeave,P.props.onMouseLeave),onMouseEnter:Su(N.handleItemMouseEnter,P.props.onMouseEnter)});var se=I.cloneElement(P,te(te({},M.props),Ee));function fe(Gr){return typeof B.dataKey=="function"?B.dataKey(Gr.payload):null}if($e)if(V>=0){var Ce,ie;if(B.dataKey&&!B.allowDuplicatedCategory){var Ve=typeof B.dataKey=="function"?fe:"payload.".concat(B.dataKey.toString());Ce=Mu(F,Ve,L),ie=Q&&z&&Mu(z,Ve,L)}else Ce=F?.[V],ie=Q&&z&&z[V];if(be||we){var De=P.props.activeIndex!==void 0?P.props.activeIndex:V;return[I.cloneElement(P,te(te(te({},M.props),Ee),{},{activeIndex:De})),null,null]}if(!ke(Ce))return[se].concat(zs(N.renderActivePoints({item:M,activePoint:Ce,basePoint:ie,childIndex:V,isRange:Q})))}else{var ut,dt=(ut=N.getItemByXY(N.state.activeCoordinate))!==null&&ut!==void 0?ut:{graphicalItem:se},Tt=dt.graphicalItem,Hr=Tt.item,cn=Hr===void 0?P:Hr,un=Tt.childIndex,or=te(te(te({},M.props),Ee),{},{activeIndex:un});return[I.cloneElement(cn,or),null,null]}return Q?[se,null,null]:[se,null]}),Ae(N,"renderCustomized",function(P,T,$){return I.cloneElement(P,te(te({key:"recharts-customized-".concat($)},N.props),N.state))}),Ae(N,"renderMap",{CartesianGrid:{handler:Au,once:!0},ReferenceArea:{handler:N.renderReferenceElement},ReferenceLine:{handler:Au},ReferenceDot:{handler:N.renderReferenceElement},XAxis:{handler:Au},YAxis:{handler:Au},Brush:{handler:N.renderBrush,once:!0},Bar:{handler:N.renderGraphicChild},Line:{handler:N.renderGraphicChild},Area:{handler:N.renderGraphicChild},Radar:{handler:N.renderGraphicChild},RadialBar:{handler:N.renderGraphicChild},Scatter:{handler:N.renderGraphicChild},Pie:{handler:N.renderGraphicChild},Funnel:{handler:N.renderGraphicChild},Tooltip:{handler:N.renderCursor,once:!0},PolarGrid:{handler:N.renderPolarGrid,once:!0},PolarAngleAxis:{handler:N.renderPolarAxis},PolarRadiusAxis:{handler:N.renderPolarAxis},Customized:{handler:N.renderCustomized}}),N.clipPathId="".concat((k=S.id)!==null&&k!==void 0?k:Ea("recharts"),"-clip"),N.throttleTriggeredAfterMouseMove=UP(N.triggeredAfterMouseMove,(A=S.throttleDelay)!==null&&A!==void 0?A:1e3/60),N.state={},N}return cG(O,j),iG(O,[{key:"componentDidMount",value:function(){var k,A;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(k=this.props.margin.left)!==null&&k!==void 0?k:0,top:(A=this.props.margin.top)!==null&&A!==void 0?A:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var k=this.props,A=k.children,N=k.data,P=k.height,T=k.layout,$=Sr(A,ze);if($){var M=$.props.defaultIndex;if(!(typeof M!="number"||M<0||M>this.state.tooltipTicks.length-1)){var q=this.state.tooltipTicks[M]&&this.state.tooltipTicks[M].value,R=ex(this.state,N,M,q),U=this.state.tooltipTicks[M].coordinate,B=(this.state.offset.top+P)/2,V=T==="horizontal",L=V?{x:U,y:B}:{y:U,x:B},D=this.state.formattedGraphicalItems.find(function(C){var F=C.item;return F.type.name==="Scatter"});D&&(L=te(te({},L),D.props.points[M].tooltipPosition),R=D.props.points[M].tooltipPayload);var G={activeTooltipIndex:M,isTooltipActive:!0,activeLabel:q,activePayload:R,activeCoordinate:L};this.setState(G),this.renderCursor($),this.accessibilityManager.setIndex(M)}}}},{key:"getSnapshotBeforeUpdate",value:function(k,A){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==A.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==k.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==k.margin){var N,P;this.accessibilityManager.setDetails({offset:{left:(N=this.props.margin.left)!==null&&N!==void 0?N:0,top:(P=this.props.margin.top)!==null&&P!==void 0?P:0}})}return null}},{key:"componentDidUpdate",value:function(k){I0([Sr(k.children,ze)],[Sr(this.props.children,ze)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var k=Sr(this.props.children,ze);if(k&&typeof k.props.shared=="boolean"){var A=k.props.shared?"axis":"item";return u.indexOf(A)>=0?A:o}return o}},{key:"getMouseInfo",value:function(k){if(!this.container)return null;var A=this.container,N=A.getBoundingClientRect(),P=s5(N),T={chartX:Math.round(k.pageX-P.left),chartY:Math.round(k.pageY-P.top)},$=N.width/A.offsetWidth||1,M=this.inRange(T.chartX,T.chartY,$);if(!M)return null;var q=this.state,R=q.xAxisMap,U=q.yAxisMap,B=this.getTooltipEventType(),V=pA(this.state,this.props.data,this.props.layout,M);if(B!=="axis"&&R&&U){var L=ya(R).scale,D=ya(U).scale,G=L&&L.invert?L.invert(T.chartX):null,C=D&&D.invert?D.invert(T.chartY):null;return te(te({},T),{},{xValue:G,yValue:C},V)}return V?te(te({},T),V):null}},{key:"inRange",value:function(k,A){var N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,P=this.props.layout,T=k/N,$=A/N;if(P==="horizontal"||P==="vertical"){var M=this.state.offset,q=T>=M.left&&T<=M.left+M.width&&$>=M.top&&$<=M.top+M.height;return q?{x:T,y:$}:null}var R=this.state,U=R.angleAxisMap,B=R.radiusAxisMap;if(U&&B){var V=ya(U);return mk({x:T,y:$},V)}return null}},{key:"parseEventsOfWrapper",value:function(){var k=this.props.children,A=this.getTooltipEventType(),N=Sr(k,ze),P={};N&&A==="axis"&&(N.props.trigger==="click"?P={onClick:this.handleClick}:P={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var T=Ru(this.props,this.handleOuterEvent);return te(te({},T),P)}},{key:"addListener",value:function(){x0.on(b0,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){x0.removeListener(b0,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(k,A,N){for(var P=this.state.formattedGraphicalItems,T=0,$=P.length;T<$;T++){var M=P[T];if(M.item===k||M.props.key===k.key||A===Bn(M.item.type)&&N===M.childIndex)return M}return null}},{key:"renderClipPath",value:function(){var k=this.clipPathId,A=this.state.offset,N=A.left,P=A.top,T=A.height,$=A.width;return W.createElement("defs",null,W.createElement("clipPath",{id:k},W.createElement("rect",{x:N,y:P,height:T,width:$})))}},{key:"getXScales",value:function(){var k=this.state.xAxisMap;return k?Object.entries(k).reduce(function(A,N){var P=fA(N,2),T=P[0],$=P[1];return te(te({},A),{},Ae({},T,$.scale))},{}):null}},{key:"getYScales",value:function(){var k=this.state.yAxisMap;return k?Object.entries(k).reduce(function(A,N){var P=fA(N,2),T=P[0],$=P[1];return te(te({},A),{},Ae({},T,$.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(k){var A;return(A=this.state.xAxisMap)===null||A===void 0||(A=A[k])===null||A===void 0?void 0:A.scale}},{key:"getYScaleByAxisId",value:function(k){var A;return(A=this.state.yAxisMap)===null||A===void 0||(A=A[k])===null||A===void 0?void 0:A.scale}},{key:"getItemByXY",value:function(k){var A=this.state,N=A.formattedGraphicalItems,P=A.activeItem;if(N&&N.length)for(var T=0,$=N.length;T<$;T++){var M=N[T],q=M.props,R=M.item,U=R.type.defaultProps!==void 0?te(te({},R.type.defaultProps),R.props):R.props,B=Bn(R.type);if(B==="Bar"){var V=(q.data||[]).find(function(C){return S7(k,C)});if(V)return{graphicalItem:M,payload:V}}else if(B==="RadialBar"){var L=(q.data||[]).find(function(C){return mk(k,C)});if(L)return{graphicalItem:M,payload:L}}else if(ff(M,P)||mf(M,P)||ql(M,P)){var D=Gq({graphicalItem:M,activeTooltipItem:P,itemData:U.data}),G=U.activeIndex===void 0?D:U.activeIndex;return{graphicalItem:te(te({},M),{},{childIndex:G}),payload:ql(M,P)?U.data[D]:M.props.data[D]}}}return null}},{key:"render",value:function(){var k=this;if(!NS(this))return null;var A=this.props,N=A.children,P=A.className,T=A.width,$=A.height,M=A.style,q=A.compact,R=A.title,U=A.desc,B=mA(A,ZH),V=ve(B,!1);if(q)return W.createElement(UO,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},W.createElement(R0,ns({},V,{width:T,height:$,title:R,desc:U}),this.renderClipPath(),OS(N,this.renderMap)));if(this.props.accessibilityLayer){var L,D;V.tabIndex=(L=this.props.tabIndex)!==null&&L!==void 0?L:0,V.role=(D=this.props.role)!==null&&D!==void 0?D:"application",V.onKeyDown=function(C){k.accessibilityManager.keyboardEvent(C)},V.onFocus=function(){k.accessibilityManager.focus()}}var G=this.parseEventsOfWrapper();return W.createElement(UO,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},W.createElement("div",ns({className:Ie("recharts-wrapper",P),style:te({position:"relative",cursor:"default",width:T,height:$},M)},G,{ref:function(F){k.container=F}}),W.createElement(R0,ns({},V,{width:T,height:$,title:R,desc:U,style:pG}),this.renderClipPath(),OS(N,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(I.Component);Ae(w,"displayName",r),Ae(w,"defaultProps",te({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),Ae(w,"getDerivedStateFromProps",function(j,O){var S=j.dataKey,k=j.data,A=j.children,N=j.width,P=j.height,T=j.layout,$=j.stackOffset,M=j.margin,q=O.dataStartIndex,R=O.dataEndIndex;if(O.updateId===void 0){var U=gA(j);return te(te(te({},U),{},{updateId:0},v(te(te({props:j},U),{},{updateId:0}),O)),{},{prevDataKey:S,prevData:k,prevWidth:N,prevHeight:P,prevLayout:T,prevStackOffset:$,prevMargin:M,prevChildren:A})}if(S!==O.prevDataKey||k!==O.prevData||N!==O.prevWidth||P!==O.prevHeight||T!==O.prevLayout||$!==O.prevStackOffset||!ls(M,O.prevMargin)){var B=gA(j),V={chartX:O.chartX,chartY:O.chartY,isTooltipActive:O.isTooltipActive},L=te(te({},pA(O,k,T)),{},{updateId:O.updateId+1}),D=te(te(te({},B),V),L);return te(te(te({},D),v(te({props:j},D),O)),{},{prevDataKey:S,prevData:k,prevWidth:N,prevHeight:P,prevLayout:T,prevStackOffset:$,prevMargin:M,prevChildren:A})}if(!I0(A,O.prevChildren)){var G,C,F,Q,z=Sr(A,As),Y=z&&(G=(C=z.props)===null||C===void 0?void 0:C.startIndex)!==null&&G!==void 0?G:q,ne=z&&(F=(Q=z.props)===null||Q===void 0?void 0:Q.endIndex)!==null&&F!==void 0?F:R,ue=Y!==q||ne!==R,we=!ke(k),be=we&&!ue?O.updateId:O.updateId+1;return te(te({updateId:be},v(te(te({props:j},O),{},{updateId:be,dataStartIndex:Y,dataEndIndex:ne}),O)),{},{prevChildren:A,dataStartIndex:Y,dataEndIndex:ne})}return null}),Ae(w,"renderActiveDot",function(j,O,S){var k;return I.isValidElement(j)?k=I.cloneElement(j,O):Oe(j)?k=j(O):k=W.createElement(tc,O),W.createElement(Me,{className:"recharts-active-dot",key:S},k)});var b=I.forwardRef(function(O,S){return W.createElement(w,ns({},O,{ref:S}))});return b.displayName=w.displayName,b},mi=rc({chartName:"LineChart",GraphicalChild:Qt,axisComponents:[{axisType:"xAxis",AxisComp:at},{axisType:"yAxis",AxisComp:Je}],formatAxisMap:pf}),Oa=rc({chartName:"BarChart",GraphicalChild:Wt,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:at},{axisType:"yAxis",AxisComp:Je}],formatAxisMap:pf}),ub=rc({chartName:"PieChart",GraphicalChild:ln,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:df},{axisType:"radiusAxis",AxisComp:cf}],formatAxisMap:LF,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),db=rc({chartName:"ScatterChart",GraphicalChild:wi,defaultTooltipEventType:"item",validateTooltipEventTypes:["item"],axisComponents:[{axisType:"xAxis",AxisComp:at},{axisType:"yAxis",AxisComp:Je},{axisType:"zAxis",AxisComp:bf}],formatAxisMap:pf}),NG=rc({chartName:"AreaChart",GraphicalChild:Hn,axisComponents:[{axisType:"xAxis",AxisComp:at},{axisType:"yAxis",AxisComp:Je}],formatAxisMap:pf});const Aa={LLM:{ANALYTICS_INSIGHT:"llm/analytics-insight",TRANSITION_REPORT:"llm/transition-report",DATA_QUALITY:"llm/data-quality",TRANSITION_KPIS:"llm/transition-kpis"},LLM_LITE:{ANALYTICS_INSIGHT:"llm-lite/analytics-insight",TRANSITION_REPORT:"llm-lite/transition-report",DATA_QUALITY:"llm-lite/data-quality",TRANSITION_KPIS:"llm-lite/transition-kpis"}},kG="true".toLowerCase()==="true";function jf(t,e){return kG?[e,t]:[t,e]}async function OG(t,e,r={}){const{json:n}=await Rd(jf(Aa.LLM.TRANSITION_REPORT,Aa.LLM_LITE.TRANSITION_REPORT),{datasetPath:t,timeframe:e},r);return n&&typeof n=="object"&&"result"in n?n.result:n}async function AG(t,e,r={}){const{json:n}=await Rd(jf(Aa.LLM.DATA_QUALITY,Aa.LLM_LITE.DATA_QUALITY),{datasetPath:t,timeframe:e},r);return n&&typeof n=="object"&&"result"in n?n.result:n}async function PG(t,e,r={}){const{json:n}=await Rd(jf(Aa.LLM.TRANSITION_KPIS,Aa.LLM_LITE.TRANSITION_KPIS),{datasetPath:t,timeframe:e},r);return n&&typeof n=="object"&&"result"in n?n.result:n}async function EG(t,e,r={}){if(!Br())return{summary:"Live analytics insights require Supabase Edge access. Offline mode is currently active, so mock datasets are displayed without LLM commentary.",key_findings:["Streaming datasets are running on local fallback samples.","Enable `VITE_ENABLE_EDGE_FETCH` with valid Supabase credentials to retrieve real-time insights."],policy_implications:["Offline review mode only provides static summaries.","Re-connect to Supabase to unlock transition impact insights."],confidence:"offline-mode"};const{json:n}=await Rd(jf(Aa.LLM.ANALYTICS_INSIGHT,Aa.LLM_LITE.ANALYTICS_INSIGHT),{datasetPath:t,timeframe:e,queryType:"overview"},r);return n&&typeof n=="object"&&"result"in n?n.result:n}const TG={sm:"640px",md:"768px",lg:"1024px",xl:"1280px","2xl":"1536px"},CG={1:"0.25rem",2:"0.5rem",3:"0.75rem",4:"1rem",5:"1.25rem",6:"1.5rem",8:"2rem",10:"2.5rem",12:"3rem",16:"4rem",20:"5rem",24:"6rem",32:"8rem"},Te={page:"max-w-screen-2xl mx-auto px-4 sm:px-6 lg:px-8 py-6",pageNarrow:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-6",pageWide:"max-w-screen-2xl mx-auto px-4 sm:px-6 lg:px-8 py-6",section:"space-y-6",sectionCompact:"space-y-4",sectionSpacious:"space-y-8",card:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",cardHeader:"p-6 border-b border-slate-200",cardBody:"p-6",cardFooter:"p-6 border-t border-slate-200 bg-slate-50",grid12:"grid grid-cols-12 gap-6",gridResponsive:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",gridCards:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",gridCharts:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",gridDashboard:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-6",flexCenter:"flex items-center justify-center",flexBetween:"flex items-center justify-between",flexStart:"flex items-center justify-start",flexColumn:"flex flex-col",flexRow:"flex flex-row",flexWrap:"flex flex-wrap",gap4:"gap-4",gap6:"gap-6",gap8:"gap-8",paddingResponsive:"px-4 sm:px-6 lg:px-8",marginResponsive:"mx-4 sm:mx-6 lg:mx-8"},el={small:200,medium:300,large:400,dashboard:250,square:"aspect-square",wide:"aspect-[16/9]",tall:"aspect-[4/3]",container:"w-full h-full min-h-[200px]",responsive:"w-full h-full",dashboardGrid:{charts:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6 mb-6",insights:"grid grid-cols-1 lg:grid-cols-3 gap-6",metrics:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6"}},Se={heading1:"text-3xl lg:text-4xl font-bold text-slate-800 mb-4",heading2:"text-2xl lg:text-3xl font-semibold text-slate-800 mb-3",heading3:"text-xl font-semibold text-slate-800 mb-2",heading4:"text-lg font-semibold text-slate-800 mb-2",body:"text-slate-700 leading-relaxed",bodySmall:"text-sm text-slate-600",caption:"text-xs text-slate-500",metric:"text-2xl font-bold text-slate-800",metricLabel:"text-sm text-slate-600 font-medium",status:"text-sm font-medium",link:"text-blue-600 hover:text-blue-800 transition-colors",button:"text-sm font-medium"},me={primary:{bg:"bg-blue-50",border:"border-blue-200",text:"text-blue-800",accent:"text-blue-600"},success:{bg:"bg-green-50",border:"border-green-200",text:"text-green-800",accent:"text-green-600"},warning:{bg:"bg-yellow-50",border:"border-yellow-200",text:"text-yellow-800",accent:"text-yellow-600"},error:{bg:"bg-red-50",border:"border-red-200",text:"text-red-800",accent:"text-red-600"},info:{bg:"bg-indigo-50",border:"border-indigo-200",text:"text-indigo-800",accent:"text-indigo-600"}},IG={hiddenMobile:"hidden md:block",hiddenDesktop:"block md:hidden",showMobile:"block md:hidden",showDesktop:"hidden md:block",flexColMobile:"flex-col md:flex-row",flexRowMobile:"flex-row md:flex-col",gridColsMobile:"grid-cols-1 md:grid-cols-2 lg:grid-cols-3",gridColsTablet:"grid-cols-2 md:grid-cols-3 lg:grid-cols-4",textResponsive:"text-sm md:text-base",headingResponsive:"text-xl md:text-2xl lg:text-3xl"},MG={fadeIn:"animate-fade-in",fadeInDelay:"animate-fade-in-delayed",fadeInSlow:"animate-fade-in-slow",float:"animate-float",pulseSlow:"animate-pulse-slow",gradient:"animate-gradient-xy"},RG=(t,e=!0)=>{if(e){if(t===1)return"grid grid-cols-1";if(t===2)return"grid grid-cols-1 md:grid-cols-2";if(t===3)return"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3";if(t===4)return"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4";if(t===6)return"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6"}return`grid grid-cols-${t}`},DG=(t,e="padding")=>`${e==="margin"?"m":"p"}-${t}`,$G={breakpoints:TG,spacing:CG,containers:Te,charts:el,text:Se,colors:me,responsive:IG,animations:MG,generateGridClasses:RG,generateSpacingClasses:DG},LG=({currentDemand:t=0,recentDemand:e=[],historicalPattern:r=[]})=>{const[n,a]=I.useState(!1),[o,c]=I.useState({show:!1,trend:0,peakTime:"",severity:"info"});I.useEffect(()=>{const h=localStorage.getItem("peak_alert_dismissed");if(h){const y=parseInt(h,10);if(Date.now()<y){a(!0);return}else localStorage.removeItem("peak_alert_dismissed")}if(e.length>=3){const y=e.slice(-6).reduce((w,b)=>w+b,0)/Math.min(e.length,6),v=(t-y)/y;if(v>.1){const w=u(r);c({show:!0,trend:v*100,peakTime:w,severity:v>.2?"error":v>.15?"warning":"info"})}else c({show:!1,trend:0,peakTime:"",severity:"info"})}},[t,e,r]);const u=h=>{if(!h||h.length===0){const w=new Date().getHours();return w<18?"6:00 PM":w<20?"8:00 PM":"Tomorrow morning"}const y=new Date().getHours(),v=h.filter(w=>w.hour>y&&w.hour<=y+6).sort((w,b)=>b.avg_demand-w.avg_demand);if(v.length>0){const w=v[0].hour,b=w>=12?"PM":"AM";return`${w>12?w-12:w}:00 ${b}`}return"6:00 PM"},d=()=>{a(!0);const h=Date.now()+3600*1e3;localStorage.setItem("peak_alert_dismissed",h.toString())};if(!o.show||n)return null;const p={error:{bg:"bg-gradient-to-r from-red-50 to-orange-50",border:"border-red-300",text:"text-red-900",icon:"text-red-600",badge:"bg-red-100 text-red-800"},warning:{bg:"bg-gradient-to-r from-yellow-50 to-orange-50",border:"border-yellow-300",text:"text-yellow-900",icon:"text-yellow-600",badge:"bg-yellow-100 text-yellow-800"},info:{bg:"bg-gradient-to-r from-blue-50 to-indigo-50",border:"border-blue-300",text:"text-blue-900",icon:"text-blue-600",badge:"bg-blue-100 text-blue-800"}}[o.severity];return s.jsx("div",{className:`${p.bg} border-l-4 ${p.border} p-4 mb-6 rounded-lg shadow-md animate-slide-down`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[s.jsx(_r,{className:`${p.icon} animate-pulse`,size:24}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("h3",{className:`font-bold ${p.text}`,children:"High Demand Alert"}),s.jsxs("span",{className:`px-2 py-1 text-xs rounded-full font-medium ${p.badge}`,children:[s.jsx(Ut,{size:12,className:"inline mr-1"}),"+",o.trend.toFixed(0),"%"]})]}),s.jsxs("p",{className:`text-sm ${p.text}`,children:["Demand is trending higher than average. Expected peak at"," ",s.jsx("span",{className:"font-bold",children:o.peakTime}),o.severity==="error"&&s.jsx("span",{className:"ml-2 font-semibold",children:" Critical surge detected"})]}),o.trend>.15&&s.jsxs("div",{className:"flex items-center gap-2 mt-2 text-xs",children:[s.jsx(fs,{size:14,className:p.icon}),s.jsx("span",{className:p.text,children:"Consider reducing non-essential power usage during peak hours"})]})]})]}),s.jsx("button",{onClick:d,className:`${p.icon} hover:opacity-70 transition-opacity ml-4`,"aria-label":"Dismiss alert",children:s.jsx(BA,{size:20})})]})})},vA={coal:820,"natural gas":490,natural_gas:490,gas:490,oil:778,petroleum:778,diesel:778,nuclear:12,hydro:24,hydroelectric:24,wind:11,solar:48,biomass:230,geothermal:38,"battery storage":0,other:400},j0=130,FG=({generationData:t=[],compact:e=!1,showBreakdown:r=!0})=>{const[n,a]=I.useState([]),[o,c]=I.useState(!1),u=I.useMemo(()=>{if(t.length===0)return{total_co2_tonnes_hour:0,total_co2_kg_hour:0,fossil_co2:0,renewable_co2:0,intensity_kg_per_mwh:0,breakdown:[],trend:"stable",comparison_to_avg:0};const h=t.reduce((N,P)=>N+P.capacity_mw,0),y=t.map(N=>{const P=N.source_type.toLowerCase().trim(),T=vA[P]||vA.other,$=N.capacity_mw*T;return{source:N.source_type,mw:N.capacity_mw,co2_kg:$,percentage:N.percentage}}),v=y.reduce((N,P)=>N+P.co2_kg,0),w=v/1e3,b=["coal","natural gas","natural_gas","gas","oil","petroleum","diesel"],j=y.filter(N=>b.includes(N.source.toLowerCase().trim())).reduce((N,P)=>N+P.co2_kg,0),O=v-j,S=h>0?v/h:0,k=(S-j0)/j0*100;let A="stable";if(n.length>0){const N=n.reduce((T,$)=>T+$,0)/n.length,P=(w-N)/N*100;P>5?A="up":P<-5&&(A="down")}return{total_co2_tonnes_hour:w,total_co2_kg_hour:v,fossil_co2:j,renewable_co2:O,intensity_kg_per_mwh:S,breakdown:y.sort((N,P)=>P.co2_kg-N.co2_kg),trend:A,comparison_to_avg:k}},[t,n]);I.useEffect(()=>{u.total_co2_tonnes_hour>0&&a(h=>[...h,u.total_co2_tonnes_hour].slice(-10))},[u.total_co2_tonnes_hour]);const d=h=>h<100?"text-green-600":h<300?"text-yellow-600":h<600?"text-orange-600":"text-red-600",m=h=>h<100?"bg-green-50 border-green-200":h<300?"bg-yellow-50 border-yellow-200":h<600?"bg-orange-50 border-orange-200":"bg-red-50 border-red-200",p=()=>{const h=["Source,Capacity (MW),CO2 (kg/h),Percentage",...u.breakdown.map(b=>`${b.source},${b.mw.toFixed(2)},${b.co2_kg.toFixed(2)},${b.percentage.toFixed(1)}%`),"",`Total CO2,${u.total_co2_kg_hour.toFixed(2)} kg/h,${u.total_co2_tonnes_hour.toFixed(3)} tonnes/h`,`Intensity,${u.intensity_kg_per_mwh.toFixed(1)} kg CO2/MWh`,`Fossil Contribution,${u.fossil_co2.toFixed(2)} kg/h`,`Renewable Contribution,${u.renewable_co2.toFixed(2)} kg/h`].join(`
`),y=new Blob([h],{type:"text/csv"}),v=URL.createObjectURL(y),w=document.createElement("a");w.href=v,w.download=`co2_emissions_${new Date().toISOString()}.csv`,w.click(),URL.revokeObjectURL(v)};return e?s.jsxs("div",{className:`${m(u.intensity_kg_per_mwh)} border-2 rounded-lg p-4`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Zi,{className:d(u.intensity_kg_per_mwh),size:20}),s.jsx("h3",{className:"font-semibold text-slate-900",children:"CO Emissions"})]}),u.trend==="up"&&s.jsx(Ut,{className:"text-red-600",size:16}),u.trend==="down"&&s.jsx(ml,{className:"text-green-600",size:16})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:`text-2xl font-bold ${d(u.intensity_kg_per_mwh)}`,children:[u.total_co2_tonnes_hour.toFixed(1),s.jsx("span",{className:"text-sm font-normal ml-1",children:"tonnes/h"})]}),s.jsxs("div",{className:"text-xs text-slate-600",children:["Intensity: ",u.intensity_kg_per_mwh.toFixed(0)," kg/MWh"]})]})]}):s.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[s.jsxs("div",{className:`${m(u.intensity_kg_per_mwh)} border-b-2 p-6`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`${m(u.intensity_kg_per_mwh)} p-3 rounded-xl border-2`,children:s.jsx(Zi,{className:d(u.intensity_kg_per_mwh),size:28})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"Real-Time CO Emissions"}),s.jsx("p",{className:"text-sm text-slate-600",children:"Live carbon footprint from electricity generation"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>c(!o),className:"p-2 hover:bg-white/50 rounded-lg transition-colors","aria-label":"Show info",children:s.jsx(os,{size:20,className:"text-slate-600"})}),s.jsxs("button",{onClick:p,className:"flex items-center gap-2 px-3 py-2 bg-white text-slate-700 rounded-lg hover:bg-slate-50 transition-colors text-sm",children:[s.jsx(sx,{size:16}),"Export"]})]})]}),o&&s.jsxs("div",{className:"bg-white border-2 border-slate-200 rounded-lg p-4 mb-4",children:[s.jsx("h4",{className:"font-semibold text-slate-900 mb-2",children:"About CO Emission Calculations"}),s.jsxs("ul",{className:"text-xs text-slate-600 space-y-1",children:[s.jsx("li",{children:" Emission factors from NRCan, EPA, and IPCC lifecycle assessments"}),s.jsx("li",{children:" Values include construction, operation, and decommissioning"}),s.jsxs("li",{children:[" Canadian grid average: ",j0," kg CO/MWh"]}),s.jsx("li",{children:" Real-time calculations based on current generation mix"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-white rounded-lg p-4 border-2 border-slate-200",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Zi,{className:d(u.intensity_kg_per_mwh),size:20}),s.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Total Emissions"})]}),s.jsx("div",{className:`text-3xl font-bold ${d(u.intensity_kg_per_mwh)}`,children:u.total_co2_tonnes_hour.toFixed(2)}),s.jsx("div",{className:"text-xs text-slate-600 mt-1",children:"tonnes CO per hour"}),u.trend!=="stable"&&s.jsx("div",{className:"flex items-center gap-1 mt-2",children:u.trend==="up"?s.jsxs(s.Fragment,{children:[s.jsx(Ut,{size:14,className:"text-red-600"}),s.jsx("span",{className:"text-xs text-red-600 font-medium",children:"Increasing"})]}):s.jsxs(s.Fragment,{children:[s.jsx(ml,{size:14,className:"text-green-600"}),s.jsx("span",{className:"text-xs text-green-600 font-medium",children:"Decreasing"})]})})]}),s.jsxs("div",{className:"bg-white rounded-lg p-4 border-2 border-slate-200",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(si,{className:"text-orange-600",size:20}),s.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Intensity"})]}),s.jsx("div",{className:`text-3xl font-bold ${d(u.intensity_kg_per_mwh)}`,children:u.intensity_kg_per_mwh.toFixed(0)}),s.jsx("div",{className:"text-xs text-slate-600 mt-1",children:"kg CO per MWh"}),s.jsx("div",{className:"mt-2",children:s.jsxs("span",{className:`text-xs font-medium ${u.comparison_to_avg>0?"text-red-600":"text-green-600"}`,children:[u.comparison_to_avg>0?"+":"",u.comparison_to_avg.toFixed(0),"% vs. national avg"]})})]}),s.jsxs("div",{className:"bg-white rounded-lg p-4 border-2 border-slate-200",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Zi,{className:"text-green-600",size:20}),s.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Clean Energy Impact"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-slate-600",children:"Fossil CO"}),s.jsxs("div",{className:"text-lg font-bold text-red-600",children:[(u.fossil_co2/1e3).toFixed(2)," t/h"]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-slate-600",children:"Renewable CO"}),s.jsxs("div",{className:"text-lg font-bold text-green-600",children:[(u.renewable_co2/1e3).toFixed(2)," t/h"]})]})]})]})]})]}),r&&u.breakdown.length>0&&s.jsxs("div",{className:"p-6",children:[s.jsx("h3",{className:"font-semibold text-slate-900 mb-4",children:"Emissions Breakdown by Source"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b-2 border-slate-200",children:[s.jsx("th",{className:"text-left py-2 px-3 text-slate-700 font-semibold",children:"Source"}),s.jsx("th",{className:"text-right py-2 px-3 text-slate-700 font-semibold",children:"Capacity (MW)"}),s.jsx("th",{className:"text-right py-2 px-3 text-slate-700 font-semibold",children:"CO (kg/h)"}),s.jsx("th",{className:"text-right py-2 px-3 text-slate-700 font-semibold",children:"% of Total"}),s.jsx("th",{className:"text-right py-2 px-3 text-slate-700 font-semibold",children:"Impact"})]})}),s.jsx("tbody",{children:u.breakdown.map((h,y)=>s.jsxs("tr",{className:"border-b border-slate-100 hover:bg-slate-50",children:[s.jsx("td",{className:"py-3 px-3 font-medium text-slate-900 capitalize",children:h.source}),s.jsx("td",{className:"py-3 px-3 text-right text-slate-700",children:h.mw.toFixed(1)}),s.jsx("td",{className:"py-3 px-3 text-right text-slate-700 font-medium",children:h.co2_kg.toFixed(1)}),s.jsxs("td",{className:"py-3 px-3 text-right text-slate-600",children:[h.percentage.toFixed(1),"%"]}),s.jsx("td",{className:"py-3 px-3 text-right",children:s.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2",children:s.jsx("div",{className:`h-2 rounded-full ${h.co2_kg>1e5?"bg-red-500":h.co2_kg>5e4?"bg-orange-500":h.co2_kg>1e4?"bg-yellow-500":"bg-green-500"}`,style:{width:`${Math.min(h.co2_kg/u.total_co2_kg_hour*100,100)}%`}})})})]},y))}),s.jsx("tfoot",{children:s.jsxs("tr",{className:"font-bold border-t-2 border-slate-300",children:[s.jsx("td",{className:"py-3 px-3 text-slate-900",children:"Total"}),s.jsx("td",{className:"py-3 px-3 text-right text-slate-900",children:t.reduce((h,y)=>h+y.capacity_mw,0).toFixed(1)}),s.jsx("td",{className:"py-3 px-3 text-right text-slate-900",children:u.total_co2_kg_hour.toFixed(1)}),s.jsx("td",{className:"py-3 px-3 text-right text-slate-600",children:"100.0%"}),s.jsx("td",{})]})})]})})]})]})},BG=()=>{const[t,e]=I.useState({ontarioDemand:[],provincialGeneration:[],ontarioPrices:[],weatherData:[]}),[r,n]=I.useState([]),[a,o]=I.useState(!0),[c,u]=I.useState(new Date),[d,m]=I.useState({dataSources:4,coverage:13,updateFreq:"Real-time",architecture:"Resilient"}),[p,h]=I.useState(null),y=I.useRef(null),v=I.useRef(null),w=t.nationalOverview,b=t.provinceMetrics,j=t.trends,O=I.useCallback(async()=>{v.current?.abort();const C=new AbortController;v.current=C,o(!0);try{const F=C.signal,Q=Br()?At(["api-v2-analytics-national-overview","api/analytics/national-overview"],{signal:F}).then(fe=>fe.json).catch(fe=>(console.warn("National overview fallback triggered",fe),null)):Promise.resolve(null),z=Br()?At(["api-v2-analytics-provincial-metrics?province=ON&window_days=30","api/analytics/provincial/ON?window_days=30"],{signal:F}).then(fe=>fe.json).catch(fe=>(console.warn("Provincial metrics fallback triggered",fe),null)):Promise.resolve(null),Y=Br()?At(["api-v2-analytics-trends?timeframe=30d","api/analytics/trends?timeframe=30d"],{signal:F}).then(fe=>fe.json).catch(fe=>(console.warn("Trend analytics fallback triggered",fe),null)):Promise.resolve(null),[ne,ue,we,be,$e,Ee,se]=await Promise.all([rr.loadData("ontario_demand",{maxRows:200,signal:F}),rr.loadData("provincial_generation",{maxRows:500,signal:F}),rr.loadData("ontario_prices",{maxRows:200,signal:F}),rr.loadData("hf_electricity_demand",{maxRows:200,signal:F}),Q,z,Y]);if(F.aborted)return;e({ontarioDemand:ne,provincialGeneration:ue,ontarioPrices:we,weatherData:be,nationalOverview:$e??void 0,provinceMetrics:Ee??void 0,trends:se??void 0}),n(rr.getAllConnectionStatuses()),u(new Date)}catch(F){if(F?.name==="AbortError")return;console.error("Error loading dashboard data:",F)}finally{C.signal.aborted||o(!1)}},[]);I.useEffect(()=>{let C=!0;(async()=>{await Promise.all(Dn.map(z=>rr.initializeConnection(z.key))),C&&await O()})();const Q=setInterval(()=>{C&&O()},3e4);return()=>{C=!1,clearInterval(Q),v.current?.abort()}},[]),I.useEffect(()=>{y.current?.abort();const C=new AbortController;return y.current=C,(async()=>{if(!Br()){C.signal.aborted||h(null);return}try{const F=await PG("provincial_generation","recent",{signal:C.signal});C.signal.aborted||h(F)}catch(F){if(F?.name==="AbortError")return;console.warn("KPI load failed",F)}})(),()=>C.abort()},[]);const S=t.provincialGeneration.reduce((C,F)=>{const Q=typeof F.megawatt_hours=="number"?F.megawatt_hours:typeof F.generation_gwh=="number"?F.generation_gwh*1e3:0;return C+Q/1e3},0),k=b?.generation?.total_gwh??w?.generation?.total_generation_gwh??S,A=t.ontarioDemand.length>0?t.ontarioDemand.slice(0,20).map(C=>({time:new Date(C.datetime).toLocaleTimeString("en-CA",{hour:"2-digit",minute:"2-digit",hour12:!1}),demand:Math.round(C.total_demand_mw),temperature:24})):Array.from({length:10},(C,F)=>{const Q=new Date;return Q.setMinutes(Q.getMinutes()-(9-F)*5),{time:Q.toLocaleTimeString("en-CA",{hour:"2-digit",minute:"2-digit",hour12:!1}),demand:14500+Math.random()*1e3,temperature:24}}),N=b?.generation?.by_source?.length?b.generation.by_source.map(C=>({type:String(C.source??"unspecified").replace(/_/g," ").toUpperCase(),gwh:Number(C.generation_gwh??0)})):Array.from(t.provincialGeneration.reduce((C,F)=>{const Q=F.generation_type||F.source||F.province_code||F.province||"UNKNOWN",z=typeof F.megawatt_hours=="number"?F.megawatt_hours:typeof F.generation_gwh=="number"?F.generation_gwh*1e3:0;if(z<=0)return C;const Y=C.get(Q)??0;return C.set(Q,Y+z/1e3),C},new Map).entries()).map(([C,F])=>({type:String(C).replace(/_/g," ").toUpperCase(),gwh:Number(F)})),P=N.length>0?N.filter(C=>C.gwh>0).sort((C,F)=>F.gwh-C.gwh).slice(0,6):[{type:"NUCLEAR",gwh:550},{type:"HYDRO",gwh:280},{type:"GAS",gwh:45},{type:"WIND",gwh:28},{type:"SOLAR",gwh:8},{type:"BIOFUEL",gwh:2}],T=t.ontarioPrices.slice(0,20).map(C=>{const z=C.lmp_price??0,Y=Math.max(.8,Math.min(1.2,z/50));return{label:new Date(C.datetime).toLocaleTimeString("en-CA",{hour:"2-digit",minute:"2-digit",hour12:!1}),supply:Math.round(14706*Y+(Math.random()-.5)*300),demand:Math.round(12842*Y+(Math.random()-.5)*250),price:z}}),$=j?.ontario_demand?.map(C=>({label:C.date,demand:C.average_mw??0})),M=$?.length?$:T,q=!!$?.length;t.weatherData.slice(0,30).map(C=>({temperature:C.temperature,correlation:Math.min(1,C.electricity_demand/1e3)}));const R=w?.demand?.ontario_demand_mw??b?.latest_demand?.market_demand_mw??t.ontarioDemand[0]?.total_demand_mw??null;t.weatherData.length>0&&t.weatherData[0]?.temperature;const U=w?.alberta,B=U?.total_gen_mw??T[0]?.supply??null,V=U?.total_demand_mw??T[0]?.demand??null,L=U?.pool_price_cad??T[0]?.price??null;t.weatherData.length>0&&t.ontarioDemand.length>0&&Math.min(1,Math.max(0,.3+Math.random()*.4));const D=r.filter(C=>C.status==="connected").length,G=C=>{try{const F=rr.getConnectionStatus(C);return F?F.source==="stream"?"Stream":"Fallback":"Unknown"}catch{return"Unknown"}};return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100",children:[s.jsx("div",{className:"hero-glass relative overflow-hidden",children:s.jsx("div",{className:`${Te.page} py-24 lg:py-32 relative z-10`,children:s.jsxs("div",{className:"text-center",children:[s.jsxs("h1",{className:"hero-title text-5xl lg:text-7xl font-serif font-light mb-6 tracking-tight animate-fade-in",children:["Real-Time Energy",s.jsx("span",{className:"hero-title-accent block font-medium shimmer",children:"Dashboard"})]}),s.jsxs("p",{className:"hero-subtitle text-xl lg:text-2xl font-light max-w-3xl mx-auto leading-relaxed animate-fade-in-delayed",children:["Live monitoring of Canadian energy systems with ",s.jsx("span",{className:"live-indicator text-emerald-300 font-semibold",children:"LIVE"})," insights"]}),s.jsxs("div",{className:"mt-16 grid grid-cols-2 lg:grid-cols-4 gap-6 max-w-5xl mx-auto",children:[s.jsxs("div",{className:"metric-card-glass glass-card-hover float-animation",children:[s.jsx(tl,{className:"h-10 w-10 text-cyan-400 mx-auto mb-3 glow-electric-pulse"}),s.jsx("div",{className:"text-3xl font-bold text-white mb-1",children:D}),s.jsx("div",{className:"text-sm text-blue-200 font-medium",children:"Active Data Sources"})]}),s.jsxs("div",{className:"metric-card-glass glass-card-hover float-animation-delayed",children:[s.jsx(va,{className:"h-10 w-10 text-emerald-400 mx-auto mb-3 glow-renewable-pulse"}),s.jsx("div",{className:"text-3xl font-bold text-white mb-1",children:d.coverage}),s.jsx("div",{className:"text-sm text-green-200 font-medium",children:"Provinces Covered"})]}),s.jsxs("div",{className:"metric-card-glass glass-card-hover float-animation",children:[s.jsx(hr,{className:"h-10 w-10 text-purple-400 mx-auto mb-3"}),s.jsx("div",{className:"text-3xl font-bold text-white mb-1",children:d.updateFreq}),s.jsx("div",{className:"text-sm text-purple-200 font-medium",children:"Update Frequency"})]}),s.jsxs("div",{className:"metric-card-glass glass-card-hover float-animation-delayed",children:[s.jsx(zt,{className:"h-10 w-10 text-emerald-400 mx-auto mb-3"}),s.jsx("div",{className:"text-3xl font-bold text-white mb-1",children:d.architecture}),s.jsx("div",{className:"text-sm text-emerald-200 font-medium",children:"Architecture"})]})]})]})})}),s.jsxs("div",{className:`${Te.page} space-y-8 animate-fade-in-slow`,children:[s.jsx(LG,{currentDemand:R||0,recentDemand:t.ontarioDemand.slice(0,10).map(C=>C.total_demand_mw),historicalPattern:[{hour:6,avg_demand:15e3},{hour:9,avg_demand:18e3},{hour:12,avg_demand:19e3},{hour:15,avg_demand:17500},{hour:18,avg_demand:21e3},{hour:21,avg_demand:18500}]}),s.jsx(FG,{generationData:t.provincialGeneration.map(C=>({source_type:C.generation_type||"other",capacity_mw:typeof C.megawatt_hours=="number"?C.megawatt_hours:0,percentage:0})),compact:!0,showBreakdown:!1}),p?.kpis&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"p-4 bg-indigo-50 rounded-lg",children:[s.jsx("div",{className:"text-sm text-indigo-600",children:"Total Generation (sample)"}),s.jsxs("div",{className:"text-2xl font-bold text-indigo-800",children:[p.kpis.total_mwh!==null?Math.round(p.kpis.total_mwh).toLocaleString():""," MWh"]})]}),s.jsxs("div",{className:"p-4 bg-emerald-50 rounded-lg",children:[s.jsx("div",{className:"text-sm text-emerald-600",children:"Top Source"}),s.jsx("div",{className:"text-2xl font-bold text-emerald-800",children:p.kpis.top_source?p.kpis.top_source.type.toUpperCase():""})]}),s.jsxs("div",{className:"p-4 bg-amber-50 rounded-lg",children:[s.jsx("div",{className:"text-sm text-amber-600",children:"Renewable Share"}),s.jsx("div",{className:"text-2xl font-bold text-amber-800",children:p.kpis.renewable_share!==null?`${(p.kpis.renewable_share*100).toFixed(1)}%`:""})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"glass-card glass-card-electric glass-card-hover",children:[s.jsx("div",{className:Te.cardHeader,children:s.jsxs("div",{className:Te.flexBetween,children:[s.jsxs("div",{className:Te.flexCenter,children:[s.jsx(tl,{className:"h-6 w-6 text-cyan-400 mr-3 glow-electric"}),s.jsx("h2",{className:`${Se.heading2} text-white`,children:"Real-Time Energy Dashboard"})]}),s.jsxs("div",{className:`${Te.flexCenter} space-x-4`,children:[s.jsxs("div",{className:`badge-glass ${r.some(C=>C.status==="connected")?"badge-glass-success":"badge-glass-warning"}`,children:[s.jsx("div",{className:`w-2 h-2 rounded-full ${r.some(C=>C.status==="connected")?"bg-emerald-400 glow-renewable":"bg-yellow-400"}`}),s.jsxs("span",{children:[r.filter(C=>C.status==="connected").length,"/",r.length," Connected"]})]}),s.jsx(ht,{id:"dashboard.overview"})]})]})}),s.jsx("div",{className:Te.cardBody,children:s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"glass-card glass-card-electric text-center p-4 glass-card-hover",children:[s.jsx("div",{className:"text-xs text-cyan-300 font-semibold uppercase tracking-wide mb-2",children:"Data Sources"}),s.jsx("div",{className:"text-3xl font-bold text-white",children:d.dataSources})]}),s.jsxs("div",{className:"glass-card glass-card-electric text-center p-4 glass-card-hover",children:[s.jsx("div",{className:"text-xs text-cyan-300 font-semibold uppercase tracking-wide mb-2",children:"Ontario Demand"}),s.jsx("div",{className:"text-3xl font-bold text-white",children:typeof R=="number"?`${Math.round(R).toLocaleString()} MW`:""})]}),s.jsxs("div",{className:"glass-card glass-card-solar text-center p-4 glass-card-hover",children:[s.jsx("div",{className:"text-xs text-orange-300 font-semibold uppercase tracking-wide mb-2",children:"Alberta Price"}),s.jsx("div",{className:"text-3xl font-bold text-white",children:L!=null?`$${L.toFixed(2)}`:""})]})]})})]}),s.jsxs("div",{className:el.dashboardGrid.charts,children:[s.jsxs("div",{className:"glass-card glass-card-hover",children:[s.jsx("div",{className:Te.cardHeader,children:s.jsxs("div",{className:Te.flexBetween,children:[s.jsxs("h3",{className:`${Se.heading3} flex items-center`,children:[s.jsx(hr,{className:"h-5 w-5 mr-2 text-blue-600"}),"Ontario Hourly Demand"]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:`${Se.bodySmall} text-slate-600`,children:"Current Demand"}),s.jsx("div",{className:`${Se.metric} text-blue-600`,children:typeof R=="number"?`${Math.round(R).toLocaleString()} MW`:""})]})]})}),s.jsxs("div",{className:Te.cardBody,children:[s.jsx("div",{className:"chart-container",children:s.jsx(xt,{width:"100%",height:el.dashboard,children:s.jsxs(mi,{data:A,children:[s.jsx(St,{strokeDasharray:"3 3"}),s.jsx(at,{dataKey:"time"}),s.jsx(Je,{}),s.jsx(ze,{}),s.jsx(Qt,{type:"monotone",dataKey:"demand",stroke:"#2563eb",strokeWidth:2})]})})}),s.jsx("div",{className:`${Se.caption} text-center mt-2`,children:t.ontarioDemand.length>0?`Data: ${t.ontarioDemand.length} records  Source: ${G("ontario_demand")}`:a?"Loading data...":"Using sample data  Source: Fallback"})]})]}),s.jsxs("div",{className:Te.card,children:[s.jsx("div",{className:Te.cardHeader,children:s.jsxs("div",{className:Te.flexBetween,children:[s.jsxs("h3",{className:`${Se.heading3} flex items-center`,children:[s.jsx(pt,{className:"h-5 w-5 mr-2 text-green-600"}),"Provincial Generation Mix"]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:`${Se.bodySmall} text-slate-600`,children:"30-Day Total Generation"}),s.jsx("div",{className:`${Se.metric} text-green-600`,children:k!=null?`${Math.round(k).toLocaleString()} GWh`:""})]})]})}),s.jsxs("div",{className:Te.cardBody,children:[s.jsx("div",{className:"chart-container",children:s.jsx(xt,{width:"100%",height:el.dashboard,children:s.jsxs(Oa,{data:P,layout:"horizontal",children:[s.jsx(St,{strokeDasharray:"3 3"}),s.jsx(at,{type:"number"}),s.jsx(Je,{dataKey:"type",type:"category",width:120}),s.jsx(ze,{}),s.jsx(Wt,{dataKey:"gwh",fill:"#10b981",name:"Generation (GWh)"})]})})}),s.jsx("div",{className:`${Se.caption} text-center mt-2`,children:b?.period?.start||w?.metadata?.window?.start?`Data window: ${b?.period?.start??w?.metadata?.window?.start}  ${b?.period?.end??w?.metadata?.window?.end}`:t.provincialGeneration.length>0?`Data: ${t.provincialGeneration.length} records  Source: ${G("provincial_generation")}`:a?"Loading data...":"Using sample data  Source: IESO"})]})]}),s.jsxs("div",{className:Te.card,children:[s.jsxs("div",{className:Te.cardHeader,children:[s.jsxs("div",{className:Te.flexBetween,children:[s.jsxs("h3",{className:`${Se.heading3} flex items-center`,children:[s.jsx(hr,{className:"h-5 w-5 mr-2 text-purple-600"}),q?"Ontario Demand Trend":"Alberta Supply & Demand"]}),s.jsx("div",{className:"col-span-3 flex justify-end",children:s.jsx(ht,{id:"chart.alberta_supply_demand"})})]}),s.jsxs("div",{className:"mt-2 grid grid-cols-3 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("div",{className:`${Se.bodySmall} text-slate-600`,children:"Supply"}),s.jsx("div",{className:`${Se.metric} text-purple-600`,children:typeof B=="number"?`${Math.round(B).toLocaleString()} MW`:""})]}),s.jsxs("div",{children:[s.jsx("div",{className:`${Se.bodySmall} text-slate-600`,children:"Demand"}),s.jsx("div",{className:`${Se.metric} text-blue-600`,children:typeof V=="number"?`${Math.round(V).toLocaleString()} MW`:q&&M.length?`${Math.round(M[0]?.demand??0).toLocaleString()} MW`:""})]}),s.jsxs("div",{children:[s.jsx("div",{className:`${Se.bodySmall} text-slate-600`,children:"Price"}),s.jsx("div",{className:`${Se.metric} text-orange-600`,children:typeof L=="number"?`$${L.toFixed(2)}`:""})]})]})]}),s.jsxs("div",{className:Te.cardBody,children:[s.jsx("div",{className:"chart-container",children:s.jsx(xt,{width:"100%",height:el.dashboard,children:s.jsxs(mi,{data:M,children:[s.jsx(St,{strokeDasharray:"3 3"}),s.jsx(at,{dataKey:"label"}),s.jsx(Je,{}),s.jsx(ze,{}),s.jsx(Zt,{}),q?s.jsx(Qt,{type:"monotone",dataKey:"demand",stroke:"#2563eb",strokeWidth:2,name:"Ontario Demand"}):s.jsxs(s.Fragment,{children:[s.jsx(Qt,{type:"monotone",dataKey:"supply",stroke:"#7c3aed",strokeWidth:2,name:"Supply"}),s.jsx(Qt,{type:"monotone",dataKey:"demand",stroke:"#2563eb",strokeWidth:2,name:"Demand"})]})]})})}),s.jsx("div",{className:`${Se.caption} text-center mt-2`,children:q?`Trend window: ${j?.window?.start??""}  ${j?.window?.end??""}  Source: analytics trends API`:`Data: ${t.ontarioPrices.length} records  Source: ${G("ontario_prices")}`})]})]})]}),s.jsx("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 rounded-lg p-6 border-2 border-indigo-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Explore Historical Trends & AI Insights"}),s.jsx("p",{className:"text-sm text-slate-600",children:"View 30-day trends, weather correlations, renewable penetration heatmaps, and AI-powered analytics"})]}),s.jsxs("button",{onClick:()=>window.location.hash="#analytics",className:"flex items-center gap-2 px-6 py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors font-medium whitespace-nowrap",children:[s.jsx(Ut,{size:20}),"View Analytics"]})]})})]})]}),s.jsx("div",{className:"bg-slate-50 rounded-xl p-4 text-center",children:s.jsx("div",{className:"flex items-center justify-center space-x-4 text-sm",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),s.jsxs("span",{className:"text-slate-600",children:["Last updated: ",c.toLocaleTimeString()," ",a?"Refreshing...":"Live streaming active"]})]})})})]})},zG={decimalPlaces:4,convergenceTolerance:1e-6,maxIterations:1e3,minimumIRR:-.99,maximumIRR:1};class qG{config;constructor(e={}){this.config={...zG,...e}}calculateDCF(e,r,n){return e/Math.pow(1+n,r)}calculateNPV(e,r){if(!e||e.length===0)return 0;let n=0;const a=[];for(const o of e){const c=this.calculateDCF(o.amount,o.period,r);a.push(parseFloat(c.toFixed(this.config.decimalPlaces))),n+=c}return parseFloat(n.toFixed(this.config.decimalPlaces))}calculateROI(e,r){return r===0?0:(e-r)/r*100}calculateProfitabilityIndex(e,r){const n=e.filter(u=>u.period>0&&u.amount>0),a=Math.abs(e.find(u=>u.period===0&&u.amount<0)?.amount||0),o=n.map(u=>this.calculateDCF(u.amount,u.period,r)).reduce((u,d)=>u+d,0);if(a===0)return 0;const c=o/a;return parseFloat(c.toFixed(this.config.decimalPlaces))}calculatePaybackPeriod(e,r=0){if(!e||e.length<2)return null;const n=Math.abs(e.find(d=>d.period===0)?.amount||0),a=e.filter(d=>d.period>0).sort((d,m)=>d.period-m.period),o=r>0?a.map(d=>({...d,discountedAmount:this.calculateDCF(d.amount,d.period,r)})):a.map(d=>({...d,discountedAmount:d.amount}));let c=0,u=0;for(let d=0;d<o.length;d++)if(c+=o[d].discountedAmount,c>=n){const m=n-c,p=o[d].discountedAmount,h=m/p;return u=o[d].period-h,parseFloat(u.toFixed(this.config.decimalPlaces))}return null}calculateNPVDerivative(e,r){let n=0;for(const a of e)if(a.period>0){const o=a.period;n-=o*a.amount/Math.pow(1+r,o+1)}return n}calculateIRR(e,r=.1){if(!e||e.length<2)return null;const n=e.some(u=>u.amount>0),a=e.some(u=>u.amount<0);if(!n||!a)return null;let o=r,c=0;for(;c<this.config.maxIterations;){const u=this.calculateNPV(e,o),d=this.calculateNPVDerivative(e,o),m=o-u/d;if(Math.abs(m-o)<this.config.convergenceTolerance&&Math.abs(u)<this.config.convergenceTolerance)return m>=this.config.minimumIRR&&m<=this.config.maximumIRR?parseFloat(m.toFixed(this.config.decimalPlaces)):null;if(m<this.config.minimumIRR||m>this.config.maximumIRR)return null;o=m,c++}return null}validateCashFlowsForIRR(e){const r=[],n=[],a=[...e].sort((p,h)=>p.period-h.period),o=a.map(p=>p.period);for(let p=0;p<=Math.max(...o);p++)o.includes(p)||(r.push(`Missing cash flow for period ${p}`),n.push("Add cash flows for all periods or specify appropriate assumption"));let c=0,u=0;a.forEach(p=>{const h=p.amount>0?1:p.amount<0?-1:0;h!==0&&(h!==u&&u!==0&&c++,u=h)}),c>1&&(r.push(`Multiple sign changes (${c}) may lead to multiple IRRs or computation issues`),n.push("Consider Modified IRR (MIRR) for projects with multiple sign changes"));const m=a.filter(p=>p.period<=2).filter(p=>p.amount===0).length;return m>0&&(r.push(`Zero cash flows in early periods (${m})`),n.push("Verify that early zero cash flows are intentional")),{isValid:r.length===0,issues:r,recommendations:n}}analyzeInvestment(e,r){const n=this.calculateNPV(e,r),a=this.calculateIRR(e),o=this.calculatePaybackPeriod(e,r),c=this.calculateROI(e.filter(h=>h.amount>0).reduce((h,y)=>h+y.amount,0),Math.abs(e.filter(h=>h.amount<0).reduce((h,y)=>h+y.amount,0))),u=this.calculateProfitabilityIndex(e,r),d=Math.abs(e.filter(h=>h.amount<0&&h.period===0).reduce((h,y)=>h+y.amount,0)),m=e.filter(h=>h.amount>0).reduce((h,y)=>h+y.amount,0),p=e.map(h=>this.calculateDCF(h.amount,h.period,r));return{npv:n,irr:a,paybackPeriod:o,roi:c,profitabilityIndex:u,totalInvestment:d,totalReturns:m,discountedCashFlows:p}}}const xA=new qG;class as{static instance;connections=new Map;webSocketConnections=new Map;dataCache=new Map;eventListeners=new Map;messageListeners=new Map;config;abortControllers=new Map;heartbeatIntervals=new Map;constructor(){this.config={enableLivestream:!0,enableWebSocket:!1,fallbackToMock:!0,cacheExpiryMinutes:5,rateLimitMs:1e3,maxRetries:3},console.log(" Final Configuration:",this.config)}static getInstance(){return as.instance||(as.instance=new as),as.instance}async connectStream(e,r){return console.log(`Creating fallback connection for ${e} (streaming endpoint not available)`),this.createFallbackConnection(e)}async establishEventSourceConnection(e,r){const n=new AbortController;this.abortControllers.set(e.dataset,n);const a=new EventSource(`https://qnymbecjgeaoxsfphrti.supabase.co${r}`);return e.eventSource=a,a.onopen=()=>{e.status="connected",e.lastUpdate=new Date().toISOString(),e.errorCount=0,this.notifyListeners(e.dataset,{type:"connected",connection:e})},a.onmessage=o=>{try{const c=JSON.parse(o.data);if(e.lastUpdate=new Date().toISOString(),c.error||c.message&&c.message.includes("No data available")){console.warn(`No data available for ${e.dataset}:`,c.message||c.error),a.close(),e.status="disconnected",this.notifyListeners(e.dataset,{type:"no_data",connection:e}),this.config.fallbackToMock&&this.createFallbackConnection(e.dataset);return}this.handleStreamingData(e.dataset,c)}catch(c){console.error(`Failed to process ${e.dataset} data:`,c),e.errorCount++,this.notifyListeners(e.dataset,{type:"data_error",error:c})}},a.onerror=o=>{e.status="error",e.errorCount++,e.retryCount++;try{a.close()}catch{}e.errorCount<=3&&console.warn(`Connection error for ${e.dataset}:`,o),this.config.fallbackToMock&&(e.status="disconnected",this.notifyListeners(e.dataset,{type:"disconnected",connection:e}),this.createFallbackConnection(e.dataset))},new Promise((o,c)=>{const u=Date.now(),d=1e4,m=setInterval(()=>{if(e.status==="connected")clearInterval(m),o();else if(Date.now()-u>d){clearInterval(m);try{a.close()}catch(p){console.warn("Failed to close EventSource after timeout",p)}e.status="disconnected",this.notifyListeners(e.dataset,{type:"timeout",connection:e}),this.config.fallbackToMock&&this.createFallbackConnection(e.dataset),o()}},100)})}handleStreamingData(e,r){const n={timestamp:r.timestamp||new Date().toISOString(),dataset:e,source:r.source,values:r.rows||r,metadata:r.metadata};this.dataCache.has(e)||this.dataCache.set(e,[]),this.dataCache.set(e,[...this.dataCache.get(e)||[],n].slice(-100)),setTimeout(()=>{this.dataCache.delete(e)},this.config.cacheExpiryMinutes*60*1e3),this.notifyListeners(e,{type:"data",data:n})}createFallbackConnection(e){const r={id:`${e}_fallback_${Date.now()}`,dataset:e,status:"connected",lastUpdate:new Date().toISOString(),errorCount:0,retryCount:0};return this.connections.set(e,r),this.notifyListeners(e,{type:"fallback",connection:r}),r}getCachedData(e){return this.dataCache.get(e)||[]}onDataUpdate(e,r){const n=this.eventListeners.get(e)??[];return this.eventListeners.set(e,[...n,r]),()=>{const o=(this.eventListeners.get(e)||[]).filter(c=>c!==r);o.length>0?this.eventListeners.set(e,o):this.eventListeners.delete(e)}}onWebSocketMessage(e,r){const n=this.messageListeners.get(e)??[];return this.messageListeners.set(e,[...n,r]),()=>{const o=(this.messageListeners.get(e)||[]).filter(c=>c!==r);o.length>0?this.messageListeners.set(e,o):this.messageListeners.delete(e)}}sendWebSocketMessage(e,r){const n=this.webSocketConnections.get(e);if(!n||n.status!=="connected"||!n.webSocket){console.warn(`WebSocket connection to ${e} not ready`);return}r.timestamp=r.timestamp||new Date().toISOString();try{n.webSocket.send(JSON.stringify(r))}catch(a){console.error("Failed to send WebSocket message:",a),this.notifyWebSocketListeners(e,{type:"send_error",error:a})}}notifyListeners(e,r){(this.eventListeners.get(e)||[]).forEach(a=>{try{a(r)}catch(o){console.error("Error in listener callback:",o)}})}disconnectStream(e){const r=this.connections.get(e);r?.eventSource&&r.eventSource.close();const n=this.abortControllers.get(e);n&&n.abort(),this.connections.delete(e),this.abortControllers.delete(e)}getConnectionStatus(e){return this.connections.get(e)||null}getWebSocketConnectionStatus(e){return this.webSocketConnections.get(e)||null}disconnectWebSocketChannel(e){const r=this.webSocketConnections.get(e);r?.webSocket&&r.status==="connected"&&(r.webSocket.close(1e3,"Normal closure"),r.status="disconnected"),this.heartbeatIntervals.has(e)&&(clearInterval(this.heartbeatIntervals.get(e)),this.heartbeatIntervals.delete(e)),this.webSocketConnections.delete(e),this.notifyWebSocketListeners(e,{type:"disconnected"})}connectWebSocketEndpoint(e,r){const n={id:`${e}_${Date.now()}`,channel:e,status:"connecting",webSocket:r,reconnectCount:0,lastHeartbeat:new Date().toISOString()};this.webSocketConnections.set(e,n);const a=r.onopen,o=r.onmessage,c=r.onerror,u=r.onclose;return r.onopen=d=>{if(a)try{a.call(r,d)}catch(m){console.error(m)}n.status="connected",this.notifyWebSocketListeners(e,{type:"connected",connectionId:n.id}),this.startHeartbeat(e)},r.onmessage=d=>{if(o)try{o.call(r,d)}catch(m){console.error(m)}try{const m=JSON.parse(d.data);m.timestamp=new Date().toISOString(),this.notifyWebSocketListeners(e,m),n.lastHeartbeat=new Date().toISOString()}catch(m){console.error("WebSocket message parse error:",m)}},r.onerror=d=>{if(c)try{c.call(r,d)}catch(m){console.error(m)}n.status="error",this.notifyWebSocketListeners(e,{type:"error"}),this.handleWebSocketReconnect(e)},r.onclose=d=>{if(u)try{u.call(r,d)}catch(m){console.error(m)}n.status="disconnected",n.reconnectCount=0,this.heartbeatIntervals.has(e)&&(clearInterval(this.heartbeatIntervals.get(e)),this.heartbeatIntervals.delete(e)),this.notifyWebSocketListeners(e,{type:"disconnected"})},n}sendWebSocketPayload(e,r){const n=this.webSocketConnections.get(e);n?.webSocket?.readyState===WebSocket.OPEN&&n.webSocket.send(JSON.stringify(r))}handleWebSocketReconnect(e){const r=this.webSocketConnections.get(e);if(!r||r.reconnectCount>=this.config.maxRetries)return;r.reconnectCount++;const n=Math.min(1e3*Math.pow(2,r.reconnectCount),3e4);setTimeout(()=>{console.log(`WebSocket reconnection attempt ${r.reconnectCount} for ${e}`)},n)}startHeartbeat(e){this.heartbeatIntervals.has(e)&&clearInterval(this.heartbeatIntervals.get(e));const r=setInterval(()=>{const n=this.webSocketConnections.get(e);if(n?.status==="connected"){this.sendWebSocketPayload(e,{type:"ping",payload:{timestamp:Date.now()},timestamp:new Date().toISOString(),senderId:"system"});const a=new Date(n.lastHeartbeat).getTime();Date.now()-a>45e3&&(console.warn(`WebSocket heartbeat failed for ${e}`),n.status="error",this.handleWebSocketReconnect(e))}},15e3);this.heartbeatIntervals.set(e,r)}notifyWebSocketListeners(e,r){(this.messageListeners.get(e)||[]).forEach(a=>{try{a(r)}catch(o){console.error("WebSocket listener error:",o)}})}updateConfig(e){this.config={...this.config,...e}}}const dl=as.getInstance();function Sf(t){const[e,r]=I.useState([]),[n,a]=I.useState("disconnected"),[o,c]=I.useState(!1),[u,d]=I.useState(null);return I.useEffect(()=>{let m=!0;d(null);const p=dl.onDataUpdate(t,h=>{if(m)if(h.type==="data")r(y=>[...y,h.data].slice(-50)),d(null);else if(h.type==="connected")a("connected"),c(!0),d(null);else if(h.type==="fallback")a("connected"),c(!1),d("Using fallback data");else if(h.type==="disconnected"||h.type==="error"){a("error"),c(!1);const y=typeof h.error=="string"?h.error:h.error?.message;d(y??"Connection lost")}else h.type==="connecting"&&a("connecting")});return dl.connectStream(t,`/functions/v1/stream-${t}`).then(h=>{m&&a(h.status)}).catch(h=>{console.error(`Failed to connect to ${t} stream:`,h),m&&(a("error"),c(!1),d(h.message))}),()=>{m=!1,p()}},[t]),{data:e,connectionStatus:n,isUsingRealData:o,error:u,setData:r}}const UG=()=>{const{data:t,connectionStatus:e,isUsingRealData:r}=Sf("ontario-demand"),[n,a]=I.useState([]),[o,c]=I.useState(!0),[u,d]=I.useState(!1),m=I.useCallback((h,y,v)=>{const b=y*8760*.12;return[{id:1,name:v?`Ontario Solar Investment (${h.toLocaleString()} MW demand)`:"Ontario Solar Farm",description:v?`Real-time solar investment based on current Ontario electricity demand of ${h.toLocaleString()} MW at ${(y*100).toFixed(1)}/kWh`:"Large-scale photovoltaic installation",cashFlows:[{amount:-(h*1500*.8),period:0,description:"Capital investment"},{amount:h*b*.15,period:1,description:"Year 1 revenue"},{amount:h*b*.18,period:2,description:"Year 2 revenue"},{amount:h*b*.22,period:3,description:"Year 3 revenue"},{amount:h*b*.25,period:4,description:"Year 4 revenue"},{amount:h*b*.28,period:5,description:"Year 5 revenue"}],discountRate:.08,analysis:void 0},{id:2,name:v?"Battery Storage for Peak Demand":"Battery Storage System",description:v?`Grid stabilization for ${h.toLocaleString()} MW Ontario demand`:"4MW battery storage system",cashFlows:[{amount:-(h*400),period:0,description:"Battery system capital"},{amount:h*80,period:1,description:"Peak shaving revenue"},{amount:h*90,period:2,description:"Grid services revenue"},{amount:h*95,period:3,description:"Frequency regulation"},{amount:h*100,period:4,description:"Ancillary services"}],discountRate:.1,analysis:void 0},{id:3,name:v?`Wind Development (${(h*.6).toLocaleString()} MW capacity)`:"Wind Energy Project",description:v?`Offshore wind farm development for ${h.toLocaleString()} MW peak demand`:"Offshore wind farm with 50 turbines",cashFlows:[{amount:-(h*2e3),period:0,description:"Wind farm development"},{amount:h*b*.18,period:1,description:"Year 1 wind energy revenue"},{amount:h*b*.2,period:2,description:"Year 2 wind energy revenue"},{amount:h*b*.22,period:3,description:"Year 3 wind energy revenue"},{amount:h*b*.24,period:4,description:"Year 4 wind energy revenue"},{amount:h*b*.26,period:5,description:"Year 5 wind energy revenue"}],discountRate:.12,analysis:void 0}]},[]);I.useEffect(()=>{if(t.length>0){const h=t[t.length-1],y=h.values.demand_mw||1e4,v=h.values.price_cents_kwh||8.5,b=m(y,v,r).map(j=>{if(!j.analysis){const O=xA.analyzeInvestment(j.cashFlows,j.discountRate);return{...j,analysis:O}}return j});a(b),c(!1),d(!r)}else if(t.length===0&&(e==="connected"||e==="error")){const y=m(12e3,9.2,!1).map(v=>({...v,analysis:xA.analyzeInvestment(v.cashFlows,v.discountRate)}));a(y),c(!1),d(!0)}},[t,r,e,m]);const p=W.useMemo(()=>{const h=n.filter(w=>w.analysis),y=h.reduce((w,b)=>w+(b.analysis?.npv||0),0),v=h.reduce((w,b)=>w+Math.abs(b.cashFlows[0]?.amount||0),0);return{totalNPV:y,totalInvestment:v,netReturn:y-v}},[n]);return o?s.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(hr,{className:"h-6 w-6 animate-spin text-blue-600"}),s.jsx("span",{className:"text-slate-600",children:"Loading investment analysis..."})]})}):s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100",children:[s.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-r from-emerald-900 via-green-900 to-teal-900",children:[s.jsxs("div",{className:"absolute inset-0",children:[s.jsx("div",{className:"absolute inset-0 bg-black/30"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 via-transparent to-transparent"})]}),s.jsx("div",{className:Te.page,children:s.jsxs("div",{className:"text-center",children:[s.jsxs("h1",{className:"text-4xl lg:text-6xl font-serif font-light text-white mb-6 tracking-tight animate-fade-in",children:["Investment Portfolio",s.jsx("span",{className:"block text-transparent bg-clip-text bg-gradient-to-r from-emerald-400 to-green-400 font-medium",children:"Analysis"})]}),s.jsx("p",{className:`${Se.body} text-xl lg:text-2xl text-green-100 font-light max-w-3xl mx-auto leading-relaxed animate-fade-in-delayed`,children:"AI-powered financial analysis with real-time market data integration"})]})})]}),s.jsxs("div",{className:Te.page,children:[s.jsxs("div",{className:Te.gridDashboard,children:[s.jsx("div",{className:`${me.success.bg} p-6 rounded-xl border ${me.success.border} hover:shadow-lg transition-all duration-300`,children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(Ut,{className:`h-8 w-8 ${me.success.accent}`}),s.jsxs("div",{children:[s.jsx("div",{className:`${Se.metricLabel} ${me.success.accent}`,children:"Total NPV"}),s.jsxs("div",{className:`${Se.metric} ${me.success.text}`,children:["$",(p.totalNPV/1e6).toFixed(1),"M"]})]})]})}),s.jsx("div",{className:`${me.primary.bg} p-6 rounded-xl border ${me.primary.border} hover:shadow-lg transition-all duration-300`,children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(hr,{className:`h-8 w-8 ${me.primary.accent}`}),s.jsxs("div",{children:[s.jsx("div",{className:`${Se.metricLabel} ${me.primary.accent}`,children:"Total Investment"}),s.jsxs("div",{className:`${Se.metric} ${me.primary.text}`,children:["$",(p.totalInvestment/1e6).toFixed(1),"M"]})]})]})}),s.jsx("div",{className:`${me.info.bg} p-6 rounded-xl border ${me.info.border} hover:shadow-lg transition-all duration-300`,children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(fj,{className:`h-8 w-8 ${me.info.accent}`}),s.jsxs("div",{children:[s.jsx("div",{className:`${Se.metricLabel} ${me.info.accent}`,children:"Net Return"}),s.jsxs("div",{className:`${Se.metric} ${me.info.text}`,children:["$",(p.netReturn/1e6).toFixed(1),"M"]})]})]})}),s.jsx("div",{className:`${me.warning.bg} p-6 rounded-xl border ${me.warning.border} hover:shadow-lg transition-all duration-300`,children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(Ut,{className:`h-8 w-8 ${me.warning.accent}`}),s.jsxs("div",{children:[s.jsx("div",{className:`${Se.metricLabel} ${me.warning.accent}`,children:"Portfolio Health"}),s.jsx("div",{className:`${Se.metric} ${me.warning.text}`,children:p.totalNPV>0?"Strong":"Attention Needed"})]})]})})]}),s.jsxs("div",{className:`${me.info.bg} p-6 rounded-xl border ${me.info.border} mb-8`,children:[s.jsx("h3",{className:`${Se.heading3} ${me.info.text} mb-4`,children:"AI Risk Analysis Summary"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:`${Se.body} font-semibold ${me.info.accent}`,children:"Market Risk"}),s.jsx("div",{className:`${Se.body} ${me.info.text}`,children:"Low - Strong renewable demand"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:`${Se.body} font-semibold ${me.info.accent}`,children:"Regulatory Risk"}),s.jsx("div",{className:`${Se.body} ${me.info.text}`,children:"Medium - Policy changes possible"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:`${Se.body} font-semibold ${me.info.accent}`,children:"Technology Risk"}),s.jsx("div",{className:`${Se.body} ${me.info.text}`,children:"Low - Proven technologies in use"})]})]})]})]}),s.jsx("div",{className:`px-6 py-4 rounded-lg text-sm border mx-6 mb-6 ${r&&e==="connected"?`${me.success.bg} border ${me.success.border} ${me.success.text}`:u?`${me.primary.bg} border ${me.primary.border} ${me.primary.text}`:`${me.warning.bg} border ${me.warning.border} ${me.warning.text}`}`,children:s.jsx("div",{className:Te.flexBetween,children:r&&e==="connected"?s.jsxs(s.Fragment,{children:[s.jsx(ox,{className:`h-5 w-5 ${me.success.accent}`}),s.jsxs("div",{className:"flex-1 ml-4",children:[s.jsx("div",{className:`${Se.body} font-semibold ${me.success.text}`,children:" LIVE Ontario Market Data"}),s.jsxs("div",{className:`${Se.bodySmall} ${me.success.text} opacity-80`,children:["Investments calculated from real-time IESO demand data",t.length>0&&t[t.length-1]&&` (${t[t.length-1].values.demand_mw?.toLocaleString()||"0"} MW demand)`]})]})]}):u?s.jsxs(s.Fragment,{children:[s.jsx(fj,{className:`h-5 w-5 ${me.primary.accent}`}),s.jsxs("div",{className:"flex-1 ml-4",children:[s.jsx("div",{className:`${Se.body} font-semibold ${me.primary.text}`,children:" Enhanced Analysis Mode"}),s.jsx("div",{className:`${Se.bodySmall} ${me.primary.text} opacity-80`,children:"Using calculated models with Ontario market conditions"})]})]}):s.jsxs(s.Fragment,{children:[s.jsx(FA,{className:`h-5 w-5 ${me.warning.accent}`}),s.jsxs("div",{className:"flex-1 ml-4",children:[s.jsx("div",{className:`${Se.body} font-semibold ${me.warning.text}`,children:e==="connecting"?" Connecting...":" Connection Issue"}),s.jsx("div",{className:`${Se.bodySmall} ${me.warning.text} opacity-80`,children:e==="connecting"?"Establishing connection to live market data":"Using enhanced calculation models"})]})]})})}),s.jsx("div",{className:`${Te.page} pb-8`,children:s.jsx("div",{className:$G.generateGridClasses(3,!0),children:n.map(h=>{const{npv:y,irr:v}=h.analysis||{};return s.jsxs("div",{className:`${Te.card} hover:shadow-xl transition-all duration-500 hover:scale-[1.02] group`,children:[s.jsx("div",{className:`${Te.cardHeader} bg-gradient-to-r from-emerald-600 to-green-600 text-white group-hover:from-emerald-700 group-hover:to-green-700 transition-all duration-300`,children:s.jsx("div",{className:Te.flexBetween,children:s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:`${Se.heading3} mb-2 text-white`,children:h.name}),s.jsx("p",{className:`${Se.body} text-emerald-100 text-sm leading-relaxed`,children:h.description})]})})}),s.jsxs("div",{className:Te.cardBody,children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[s.jsxs("div",{className:`text-center p-4 bg-gradient-to-br ${me.success.bg} rounded-xl border ${me.success.border} group-hover:shadow-md transition-all duration-300`,children:[s.jsx("div",{className:`${Se.bodySmall} ${me.success.accent} mb-2 font-semibold`,children:"NPV"}),s.jsxs("div",{className:`${Se.metric} ${me.success.text}`,children:["$",y?(y/1e6).toFixed(2):"","M"]})]}),s.jsxs("div",{className:`text-center p-4 bg-gradient-to-br ${me.primary.bg} rounded-xl border ${me.primary.border} group-hover:shadow-md transition-all duration-300`,children:[s.jsx("div",{className:`${Se.bodySmall} ${me.primary.accent} mb-2 font-semibold`,children:"IRR"}),s.jsx("div",{className:`${Se.metric} ${me.primary.text}`,children:v?`${(v*100).toFixed(1)}%`:""})]})]}),s.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg border border-slate-200",children:[s.jsx("span",{className:`${Se.body} font-semibold text-slate-700`,children:"Discount Rate:"}),s.jsxs("span",{className:`${Se.body} ml-2 ${me.primary.accent} font-bold`,children:[(h.discountRate*100).toFixed(1),"%"]})]}),r&&e==="connected"&&s.jsxs("div",{className:`${Te.flexBetween} mt-6 pt-4 border-t border-slate-200/50`,children:[s.jsxs("div",{className:`flex items-center space-x-2 ${Se.bodySmall} ${me.success.accent}`,children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),s.jsx("span",{className:"font-semibold",children:"Auto-updating every minute"})]}),s.jsxs("div",{className:`${Se.caption} text-slate-500`,children:["Last updated: ",t.length>0&&new Date(t[t.length-1]?.timestamp||Date.now()).toLocaleTimeString("en-CA",{hour12:!1,timeZone:"America/Toronto"})]})]})]})]},h.id)})})})]})};var qt=(t=>(t.FLOODING="flooding",t.WILDFIRE="wildfire",t.HURRICANE="hurricane",t.SEA_LEVEL_RISE="sea_level_rise",t.EXTREME_HEAT="extreme_heat",t.DROUGHT="drought",t.LANDSLIDE="landslide",t.EROSION="erosion",t))(qt||{}),Mn=(t=>(t.POWER_GRID="power_grid",t.WATER_SYSTEMS="water_systems",t.TRANSPORTATION="transportation",t.TELECOMMUNICATIONS="telecommunications",t.HEALTHCARE="healthcare",t.EMERGENCY_SERVICES="emergency_services",t.CRITICAL_MANUFACTURING="critical_manufacturing",t.FINANCIAL_SERVICES="financial_services",t))(Mn||{});class WG{calculateHazardScore(e,r,n,a=7){const o=n/10,c=a/10,d={power_grid:{flooding:.8,wildfire:.6,hurricane:.7,sea_level_rise:.5,extreme_heat:.6,drought:.3,landslide:.4,erosion:.5},healthcare:{flooding:.9,wildfire:.5,hurricane:.8,sea_level_rise:.7,extreme_heat:.6,drought:.4,landslide:.3,erosion:.3},water_systems:{},transportation:{},telecommunications:{},emergency_services:{},critical_manufacturing:{},financial_services:{}}[r]?.[e]||.5,m=o*d*c;return Math.min(m*100,100)}assessOverallResilience(e,r){const n={};for(const[p,h]of Object.entries(r))n[p]=this.calculateHazardScore(p,e.assetType,h,e.currentCondition);const a={flooding:.25,hurricane:.25,sea_level_rise:.2,extreme_heat:.15,wildfire:.15,drought:.1,landslide:.08,erosion:.12};let o=0,c=0;for(const[p,h]of Object.entries(a))p in n&&(o+=n[p]*h,c+=h);c===0?o=0:o=o/c;const u=1+e.criticalDependents/1e5*.3,d=Math.min(o*u,100);let m;return d>=80?m="critical":d>=60?m="high":d>=40?m="medium":m="low",{overallScore:Math.round(d),hazardBreakdown:n,riskLevel:m}}}const HG={formatRiskScore:t=>`${t.toFixed(1)}%`,getRiskLevelInfo:t=>{const e={low:{description:"Minimal Resilience Risk",className:"text-green-700 bg-green-100 border-green-200"},medium:{description:"Moderate Resilience Risk",className:"text-yellow-700 bg-yellow-100 border-yellow-200"},high:{description:"Significant Resilience Risk",className:"text-orange-700 bg-orange-100 border-orange-200"},critical:{description:"Extreme Resilience Risk",className:"text-red-700 bg-red-100 border-red-200"}};return e[t]||e.low}},bA={coastalOntario:{flooding:75,hurricane:45,sea_level_rise:60,extreme_heat:80,wildfire:25,drought:35,landslide:15,erosion:50},interiorBC:{wildfire:85,extreme_heat:70,flooding:35,sea_level_rise:15,drought:60,landslide:40,hurricane:25,erosion:20}},S0=new WG;class GG{STORAGE_PREFIX="ceip_";VERSION="1.0";KEYS={INDIGENOUS_PROJECTS:`${this.STORAGE_PREFIX}indigenous_projects`,INVESTMENT_PROJECTS:`${this.STORAGE_PREFIX}investment_projects`,COMPLIANCE_RECORDS:`${this.STORAGE_PREFIX}compliance_records`,MINERALS_SUPPLY:`${this.STORAGE_PREFIX}minerals_supply`,USER_PREFERENCES:`${this.STORAGE_PREFIX}user_preferences`,DATA_VERSION:`${this.STORAGE_PREFIX}data_version`};constructor(){this.initializeStorage()}initializeStorage(){const e=localStorage.getItem(this.KEYS.DATA_VERSION);(!e||e!==this.VERSION)&&(this.migrateData(e),localStorage.setItem(this.KEYS.DATA_VERSION,this.VERSION))}migrateData(e){e||this.initializeSampleData()}initializeSampleData(){const e=[{id:"indigenous_001",created_at:new Date().toISOString(),updated_at:new Date().toISOString(),data_source:"user_input",governance_status:"approved",name:"Treaty 5 Wind Energy Partnership",territory_id:"treaty5_001",territory_name:"Treaty 5 Territory",community:"Cree, Ojibwe, Dene",traditional_territory:"Treaty 5 Territory - Northern Manitoba",consultation_status:"completed",fpic_status:"obtained",benefit_sharing:{revenue_share_percent:15,employment_commitments:["50% local hiring","Training programs"],capacity_building:["Technical training","Project management"]},impact_assessment:{cultural_impact:"low",environmental_impact:"medium",economic_impact:"high",spiritual_impact:"low"},consultation_log:[{date:"2024-12-15",participants:["Chief Johnson","Council Members","Project Team"],topics:["Environmental impact","Revenue sharing","Employment"],outcomes:["Agreement on 15% revenue share","Local hiring commitment"],next_steps:["Finalize legal agreements","Begin construction planning"]}]}],r=[{id:"investment_001",created_at:new Date().toISOString(),updated_at:new Date().toISOString(),data_source:"user_input",project_name:"Ontario Solar Farm Development",project_type:"renewable",total_investment_cad:25e7,funding_sources:[{source:"Canada Infrastructure Bank",amount_cad:1e8,type:"loan"},{source:"Private Equity",amount_cad:15e7,type:"equity"}],financial_metrics:{npv_cad:45e6,irr_percent:8.5,payback_years:12,lcoe_cad_per_mwh:65},esg_scores:{environmental_score:92,social_score:78,governance_score:85},risk_assessment:{market_risk:"medium",technology_risk:"low",regulatory_risk:"low",overall_risk_score:35},project_status:"approved",expected_ghg_reduction_tonnes_co2e:125e3}];this.saveData(this.KEYS.INDIGENOUS_PROJECTS,e),this.saveData(this.KEYS.INVESTMENT_PROJECTS,r)}formatKey(e){return e.startsWith(this.STORAGE_PREFIX)?e:`${this.STORAGE_PREFIX}${e}`}getDataset(e){return this.loadData(this.formatKey(e))}setDataset(e,r){this.saveData(this.formatKey(e),r)}saveData(e,r){try{localStorage.setItem(e,JSON.stringify(r))}catch(n){throw console.error(`Error saving data to ${e}:`,n),new Error(`Failed to save data: ${n}`)}}loadData(e){try{const r=localStorage.getItem(e);return r?JSON.parse(r):[]}catch(r){return console.error(`Error loading data from ${e}:`,r),[]}}getIndigenousProjects(){return this.loadData(this.KEYS.INDIGENOUS_PROJECTS)}addIndigenousProject(e){const r=this.getIndigenousProjects(),n={...e,id:`indigenous_${Date.now()}`,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};return r.push(n),this.saveData(this.KEYS.INDIGENOUS_PROJECTS,r),n.id}updateIndigenousProject(e,r){const n=this.getIndigenousProjects(),a=n.findIndex(o=>o.id===e);return a===-1?!1:(n[a]={...n[a],...r,updated_at:new Date().toISOString()},this.saveData(this.KEYS.INDIGENOUS_PROJECTS,n),!0)}getInvestmentProjects(){return this.loadData(this.KEYS.INVESTMENT_PROJECTS)}addInvestmentProject(e){const r=this.getInvestmentProjects(),n={...e,id:`investment_${Date.now()}`,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};return r.push(n),this.saveData(this.KEYS.INVESTMENT_PROJECTS,r),n.id}getComplianceRecords(){return this.loadData(this.KEYS.COMPLIANCE_RECORDS)}addComplianceRecord(e){const r=this.getComplianceRecords(),n={...e,id:`compliance_${Date.now()}`,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};return r.push(n),this.saveData(this.KEYS.COMPLIANCE_RECORDS,r),n.id}getMineralsSupply(){return this.loadData(this.KEYS.MINERALS_SUPPLY)}addMineralsSupplyRecord(e){const r=this.getMineralsSupply(),n={...e,id:`minerals_${Date.now()}`,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};return r.push(n),this.saveData(this.KEYS.MINERALS_SUPPLY,r),n.id}exportAllData(){const e={version:this.VERSION,exported_at:new Date().toISOString(),indigenous_projects:this.getIndigenousProjects(),investment_projects:this.getInvestmentProjects(),compliance_records:this.getComplianceRecords(),minerals_supply:this.getMineralsSupply()};return JSON.stringify(e,null,2)}importData(e){try{const r=JSON.parse(e);return r.indigenous_projects&&this.saveData(this.KEYS.INDIGENOUS_PROJECTS,r.indigenous_projects),r.investment_projects&&this.saveData(this.KEYS.INVESTMENT_PROJECTS,r.investment_projects),r.compliance_records&&this.saveData(this.KEYS.COMPLIANCE_RECORDS,r.compliance_records),r.minerals_supply&&this.saveData(this.KEYS.MINERALS_SUPPLY,r.minerals_supply),!0}catch(r){return console.error("Error importing data:",r),!1}}clearAllData(){Object.values(this.KEYS).forEach(e=>{localStorage.removeItem(e)}),this.initializeSampleData()}getStorageStats(){let e=0;Object.values(this.KEYS).forEach(a=>{const o=localStorage.getItem(a);o&&(e+=o.length)});const r=5*1024*1024,n=e/r*100;return{used:e,available:r,percentage:n}}}const $r=new GG;class is{static instance;constructor(){}static getInstance(){return is.instance||(is.instance=new is),is.instance}async getGridStatus(){const e=$r.getDataset("grid_status");if(e&&e.length>0)return e;const n=[{name:"Ontario",baseLoad:15e3,renewablePercent:25},{name:"Quebec",baseLoad:12e3,renewablePercent:95},{name:"Alberta",baseLoad:8500,renewablePercent:15},{name:"British Columbia",baseLoad:7200,renewablePercent:85},{name:"Saskatchewan",baseLoad:2800,renewablePercent:20},{name:"Manitoba",baseLoad:2400,renewablePercent:98}].map((a,o)=>{const c=Math.sin(Date.now()/1e3/3600*2*Math.PI)*.2+1,u=Math.round(a.baseLoad*c*(.9+Math.random()*.2)),d=Math.round(u*(1.05+Math.random()*.1));return{id:`grid_${a.name.toLowerCase().replace(" ","_")}_${Date.now()}`,region:a.name,timestamp:new Date().toISOString(),load_mw:u,generation_mw:d,renewable_percentage:a.renewablePercent+(Math.random()-.5)*5,grid_frequency_hz:60+(Math.random()-.5)*.1,voltage_stability:Math.random()>.9?"warning":"stable",congestion_level:Math.random()>.8?"high":Math.random()>.5?"medium":"low",reserve_margin_percent:15+Math.random()*10,interconnection_flows:[{connection:`${a.name}-US`,flow_mw:Math.round((Math.random()-.5)*1e3),direction:Math.random()>.5?"export":"import"}]}});return $r.setDataset("grid_status",n),n}async getMineralsSupplyData(){const e=$r.getDataset("minerals_supply");if(e&&e.length>0)return e;const r=[{id:"mineral_lithium_001",mineral_type:"lithium",source_country:"Canada",source_mine:"Whabouchi Mine, Quebec",annual_production_tonnes:23e3,reserves_tonnes:12e5,price_usd_per_tonne:75e3,supply_risk_score:3.2,transportation_routes:[{route_id:"route_lithium_001",origin:"Whabouchi, QC",destination:"Port of Montreal",transport_mode:"truck",capacity_tonnes_annual:5e4,risk_factors:["Weather delays","Road conditions"]}],processing_facilities:[{facility_id:"proc_lithium_001",location:"Shawinigan, QC",capacity_tonnes_annual:3e4,processing_stage:"refining"}]},{id:"mineral_nickel_001",mineral_type:"nickel",source_country:"Canada",source_mine:"Sudbury Basin, Ontario",annual_production_tonnes:18e4,reserves_tonnes:35e5,price_usd_per_tonne:18500,supply_risk_score:2.1,transportation_routes:[{route_id:"route_nickel_001",origin:"Sudbury, ON",destination:"Thunder Bay Port",transport_mode:"rail",capacity_tonnes_annual:2e5,risk_factors:["Rail capacity constraints"]}],processing_facilities:[{facility_id:"proc_nickel_001",location:"Sudbury, ON",capacity_tonnes_annual:2e5,processing_stage:"refining"}]},{id:"mineral_copper_001",mineral_type:"copper",source_country:"Canada",source_mine:"Highland Valley Copper, BC",annual_production_tonnes:12e4,reserves_tonnes:28e5,price_usd_per_tonne:8500,supply_risk_score:2.8,transportation_routes:[{route_id:"route_copper_001",origin:"Kamloops, BC",destination:"Port of Vancouver",transport_mode:"rail",capacity_tonnes_annual:15e4,risk_factors:["Port congestion","Weather delays"]}],processing_facilities:[{facility_id:"proc_copper_001",location:"Vancouver, BC",capacity_tonnes_annual:13e4,processing_stage:"refining"}]},{id:"mineral_cobalt_001",mineral_type:"cobalt",source_country:"Canada",source_mine:"Cobalt Hill, Ontario",annual_production_tonnes:4500,reserves_tonnes:85e3,price_usd_per_tonne:35e3,supply_risk_score:4.1,transportation_routes:[{route_id:"route_cobalt_001",origin:"Cobalt, ON",destination:"Port of Montreal",transport_mode:"truck",capacity_tonnes_annual:8e3,risk_factors:["Limited transport capacity","Seasonal access"]}],processing_facilities:[{facility_id:"proc_cobalt_001",location:"Timmins, ON",capacity_tonnes_annual:6e3,processing_stage:"extraction"}]}];return $r.setDataset("minerals_supply",r),r}async getInfrastructureAssets(){const e=$r.getDataset("infrastructure_assets");if(e&&e.length>0)return e;const r=[{id:"asset_transmission_001",asset_type:"transmission_line",name:"Ontario-Quebec Interconnection",location:{latitude:45.4215,longitude:-75.6972,province:"Ontario",municipality:"Ottawa"},capacity_mw:2250,age_years:35,condition_score:7.2,climate_risk_assessment:{flood_risk:"medium",wildfire_risk:"low",extreme_weather_risk:"high",sea_level_rise_risk:"low"},resilience_measures:[{measure_type:"Weather monitoring systems",implementation_status:"completed",cost_cad:25e5,effectiveness_score:8.5},{measure_type:"Underground cable sections",implementation_status:"planned",cost_cad:45e6,effectiveness_score:9.2}]},{id:"asset_generation_001",asset_type:"generation_plant",name:"Robert-Bourassa Generating Station",location:{latitude:53.7886,longitude:-77.4275,province:"Quebec",municipality:"Radisson"},capacity_mw:5616,age_years:45,condition_score:8.8,climate_risk_assessment:{flood_risk:"low",wildfire_risk:"medium",extreme_weather_risk:"medium",sea_level_rise_risk:"low"},resilience_measures:[{measure_type:"Flood protection systems",implementation_status:"completed",cost_cad:12e6,effectiveness_score:9.5},{measure_type:"Backup control systems",implementation_status:"completed",cost_cad:85e5,effectiveness_score:8.8}]},{id:"asset_substation_001",asset_type:"substation",name:"Pickering Transmission Station",location:{latitude:43.8354,longitude:-79.0849,province:"Ontario",municipality:"Pickering"},capacity_mw:1200,age_years:28,condition_score:7.8,climate_risk_assessment:{flood_risk:"high",wildfire_risk:"low",extreme_weather_risk:"high",sea_level_rise_risk:"medium"},resilience_measures:[{measure_type:"Flood barriers",implementation_status:"in_progress",cost_cad:32e5,effectiveness_score:8},{measure_type:"Equipment hardening",implementation_status:"planned",cost_cad:55e5,effectiveness_score:7.5}]},{id:"asset_wind_001",asset_type:"generation_plant",name:"Wolfe Island Wind Farm",location:{latitude:44.1667,longitude:-76.4667,province:"Ontario",municipality:"Frontenac Islands"},capacity_mw:197.8,age_years:15,condition_score:8.5,climate_risk_assessment:{flood_risk:"low",wildfire_risk:"low",extreme_weather_risk:"high",sea_level_rise_risk:"medium"},resilience_measures:[{measure_type:"Wind-resistant turbine design",implementation_status:"completed",cost_cad:18e5,effectiveness_score:9},{measure_type:"Lightning protection systems",implementation_status:"completed",cost_cad:45e4,effectiveness_score:8.2}]},{id:"asset_solar_001",asset_type:"generation_plant",name:"Sarnia Solar Farm",location:{latitude:42.9994,longitude:-82.3089,province:"Ontario",municipality:"Sarnia"},capacity_mw:97,age_years:12,condition_score:8.9,climate_risk_assessment:{flood_risk:"medium",wildfire_risk:"low",extreme_weather_risk:"medium",sea_level_rise_risk:"low"},resilience_measures:[{measure_type:"Hail-resistant panels",implementation_status:"completed",cost_cad:85e4,effectiveness_score:8.7},{measure_type:"Drainage improvements",implementation_status:"completed",cost_cad:32e4,effectiveness_score:7.8}]}];return $r.setDataset("infrastructure_assets",r),r}async updateGridStatus(e,r){const a=(await this.getGridStatus()).map(o=>o.region===e?{...o,...r,timestamp:new Date().toISOString()}:o);$r.setDataset("grid_status",a)}async addMineralSupplySource(e){const r=await this.getMineralsSupplyData();r.push(e),$r.setDataset("minerals_supply",r)}async updateInfrastructureAsset(e,r){const a=(await this.getInfrastructureAssets()).map(o=>o.id===e?{...o,...r}:o);$r.setDataset("infrastructure_assets",a)}async getSupplyChainRiskAnalysis(){const e=await this.getMineralsSupplyData(),r=e.reduce((a,o)=>a+o.supply_risk_score,0)/e.length,n=e.filter(a=>a.supply_risk_score>3.5).map(a=>a.mineral_type);return{overall_risk_score:r,critical_minerals:n,supply_disruption_probability:r*.2,mitigation_recommendations:["Diversify supply sources for critical minerals","Increase strategic reserves for high-risk materials","Develop domestic processing capabilities","Establish alternative transportation routes"]}}async getGridOptimizationRecommendations(){const e=await this.getGridStatus(),r=[{type:"Demand Response Program",description:"Implement smart grid demand response to reduce peak load",impact:"high",implementation_cost:25e6,payback_years:3.2},{type:"Energy Storage Integration",description:"Deploy battery storage to balance renewable intermittency",impact:"high",implementation_cost:45e6,payback_years:5.8},{type:"Grid Modernization",description:"Upgrade transmission infrastructure for better efficiency",impact:"medium",implementation_cost:12e7,payback_years:8.5}],a=e.reduce((o,c)=>o+c.load_mw,0)*.15*8760;return{recommendations:r,potential_savings_mwh:a,reliability_improvement_percent:12.5}}async getClimateResilienceAssessment(){const e=await this.getInfrastructureAssets(),r=e.reduce((o,c)=>o+c.condition_score,0)/e.length,n=e.filter(o=>o.condition_score<7).length,a=e.reduce((o,c)=>o+c.resilience_measures.filter(u=>u.implementation_status!=="completed").reduce((u,d)=>u+d.cost_cad,0),0);return{overall_resilience_score:r,high_risk_assets:n,adaptation_investment_needed:a,priority_actions:["Upgrade flood protection for coastal assets","Implement wildfire prevention measures","Enhance extreme weather monitoring","Develop emergency response protocols"]}}}const yC=is.getInstance(),_0={current_2c:{label:"Current Trajectory (+2C)",description:"Moderate warming scenario with current policy settings."},high_emissions_4c:{label:"High Emissions (+4C)",description:"High-risk scenario assuming limited mitigation."},ambitious_1_5c:{label:"Ambitious (+1.5C)",description:"Aggressive mitigation pathway aligned with Paris targets."}},wA=[10,20,30,50],jA=t=>{switch((t??"").toLowerCase()){case"water_systems":case"water":return Mn.WATER_SYSTEMS;case"transportation":case"transport":return Mn.TRANSPORTATION;case"telecommunications":case"telecom":return Mn.TELECOMMUNICATIONS;case"healthcare":return Mn.HEALTHCARE;case"transmission_line":case"substation":case"generation_plant":case"distribution_center":case"power":case"emergency_services":case"emergency":return Mn.EMERGENCY_SERVICES;case"critical_manufacturing":case"manufacturing":return Mn.CRITICAL_MANUFACTURING;case"financial_services":case"financial":return Mn.FINANCIAL_SERVICES;case"power_grid":case"grid":case"electric":default:return Mn.POWER_GRID}},N0=t=>({[qt.FLOODING]:Number(t?.flooding??0),[qt.WILDFIRE]:Number(t?.wildfire??0),[qt.HURRICANE]:Number(t?.hurricane??0),[qt.SEA_LEVEL_RISE]:Number(t?.sea_level_rise??0),[qt.EXTREME_HEAT]:Number(t?.extreme_heat??0),[qt.DROUGHT]:Number(t?.drought??0),[qt.LANDSLIDE]:Number(t?.landslide??0),[qt.EROSION]:Number(t?.erosion??0)}),VG=t=>new Intl.NumberFormat("en-CA",{maximumFractionDigits:0}).format(t),SA=t=>new Intl.NumberFormat("en-CA",{style:"currency",currency:"CAD",maximumFractionDigits:0}).format(t),KG=()=>{const[t,e]=I.useState([]),[r,n]=I.useState([]),[a,o]=I.useState(""),[c,u]=I.useState("current_2c"),[d,m]=I.useState(20),[p,h]=I.useState(!1),[y,v]=I.useState(null),[w,b]=I.useState(!1),j=I.useCallback(async B=>{const V=await yC.getInfrastructureAssets(),L=(C,F)=>Object.entries(C).reduce((Q,[z,Y])=>(Q[z]=Math.min(100,Math.max(0,Math.round(Y*F))),Q),{}),D=V.map((C,F)=>({asset_uuid:C.id,id:C.id,name:C.name,asset_type:C.asset_type,assetType:jA(C.asset_type),latitude:C.location.latitude,longitude:C.location.longitude,currentValue:C.capacity_mw*1e6,dependents:Math.max(0,Math.round(C.capacity_mw*1200)),currentCondition:C.condition_score,vulnerability_score:null,adaptation_cost:C.resilience_measures?.reduce((Q,z)=>Q+(z.cost_cad??0),0)??null,population_served:null,climate_region:C.location.province})),G=V.flatMap(C=>{const Q=(C.location.province||"").toLowerCase().includes("british columbia")?bA.interiorBC:bA.coastalOntario,z={current_2c:Q,high_emissions_4c:L(Q,1.2),ambitious_1_5c:L(Q,.8)};return Object.entries(z).flatMap(([Y,ne])=>wA.map(ue=>{const we=1+(ue-20)/40,be=L(ne,we);return{asset_id:C.id,scenario:Y,time_horizon_years:ue,flooding:be[qt.FLOODING]??0,wildfire:be[qt.WILDFIRE]??0,hurricane:be[qt.HURRICANE]??0,sea_level_rise:be[qt.SEA_LEVEL_RISE]??0,extreme_heat:be[qt.EXTREME_HEAT]??0,drought:be[qt.DROUGHT]??0,landslide:be[qt.LANDSLIDE]??0,erosion:be[qt.EROSION]??0,overall_risk:void 0,generated_at:new Date().toISOString()}}))});e(D),n(G),o(C=>C||(D[0]?.asset_uuid??"")),v(B||"Using locally generated resilience dataset while Supabase APIs are unavailable."),b(!0)},[]);I.useEffect(()=>{(async()=>{if(h(!0),v(null),b(!1),!Br()){await j(),h(!1);return}try{const[V,L]=await Promise.all([At(["api-v2-resilience-assets"]),At(["api-v2-resilience-hazards"])]),D=(Array.isArray(V.json?.assets)?V.json.assets:Array.isArray(V.json)?V.json:[]).map((C,F)=>{const Q=String(C.asset_uuid??C.id??`asset-${F}`);return{asset_uuid:Q,id:Q,name:C.name??C.asset_name??"Unknown asset",asset_type:C.asset_type??C.type??null,assetType:jA(C.asset_type??C.type),latitude:Number(C.latitude??C.lat??0),longitude:Number(C.longitude??C.lng??0),currentValue:Number(C.current_value??C.valuation??0),dependents:Number(C.dependents??C.population_served??0),currentCondition:Number(C.current_condition??C.condition_score??7),vulnerability_score:C.vulnerability_score??null,adaptation_cost:C.adaptation_cost??null,population_served:C.population_served??null,climate_region:C.climate_region??null}}),G=(Array.isArray(L.json?.hazards)?L.json.hazards:Array.isArray(L.json)?L.json:[]).map(C=>({asset_id:String(C.asset_uuid??C.asset_id??C.asset??""),scenario:String(C.scenario??C.climate_scenario??"current_2c").toLowerCase(),time_horizon_years:Number(C.time_horizon_years??C.time_horizon??20),flooding:C.flooding??0,wildfire:C.wildfire??0,hurricane:C.hurricane??0,sea_level_rise:C.sea_level_rise??0,extreme_heat:C.extreme_heat??0,drought:C.drought??0,landslide:C.landslide??0,erosion:C.erosion??0,overall_risk:C.overall_risk??C.overall_score??0,generated_at:C.generated_at}));e(D),n(G),!a&&D.length>0&&o(D[0].asset_uuid),b(!1)}catch(V){const L=V instanceof Error?V.message:String(V),D=/failed to fetch/i.test(L)||/cors/i.test(L),G=/500/.test(L),C=D?"Supabase Edge denied the resilience request (likely CORS or auth). Using local resilience dataset instead.":G?"API temporarily unavailable. Using local resilience dataset instead.":void 0;D||G?console.warn(" Resilience API unavailable, using local data (this is normal in development):",L):console.error("Failed to load resilience datasets",V),await j(C)}finally{h(!1)}})()},[j]);const O=I.useMemo(()=>t.find(B=>B.asset_uuid===a)??null,[t,a]),S=I.useMemo(()=>{if(!O)return null;const B=O.asset_uuid;return r.find(V=>V.asset_id===B&&V.scenario===c&&V.time_horizon_years===d)??null},[r,O,c,d]),k=I.useMemo(()=>N0(S),[S]),A=I.useMemo(()=>{if(!O)return null;const B={id:O.asset_uuid,name:O.name,assetType:O.assetType,currentCondition:O.currentCondition,latitude:O.latitude,longitude:O.longitude,criticalDependents:Math.max(O.dependents??O.population_served??0,0)},V=S0.assessOverallResilience(B,k);return{asset:O,hazardRecord:k,assessment:V}},[O,k]),N=I.useMemo(()=>Object.entries(A?.hazardRecord??{}).map(([B,V])=>({hazard:B.replace(/_/g," ").toUpperCase(),risk:V})),[A]),P=I.useMemo(()=>t.map(B=>{const V=r.find(Q=>Q.asset_id===B.asset_uuid&&Q.scenario===c&&Q.time_horizon_years===d),L=N0(V),D={id:B.asset_uuid,name:B.name,assetType:B.assetType,currentCondition:B.currentCondition,latitude:B.latitude,longitude:B.longitude,criticalDependents:Math.max(B.dependents??B.population_served??0,0)},G=S0.assessOverallResilience(D,L),C=B.asset_type??B.assetType,F=typeof C=="string"?C:B.assetType;return{x:B.longitude,y:B.latitude,risk:G.overallScore,name:B.name,type:F.toString().replace(/_/g," ").toUpperCase()}}).filter(B=>Number.isFinite(B.x)&&Number.isFinite(B.y)),[t,r,c,d]),T=I.useMemo(()=>O?Object.entries(_0).map(([B,V])=>{const L=r.find(F=>F.asset_id===O.asset_uuid&&F.scenario===B&&F.time_horizon_years===d),D=N0(L),G={id:O.asset_uuid,name:O.name,assetType:O.assetType,currentCondition:O.currentCondition,latitude:O.latitude,longitude:O.longitude,criticalDependents:Math.max(O.dependents??O.population_served??0,0)},C=S0.assessOverallResilience(G,D);return{scenario:V.label,risk:C.overallScore}}):[],[O,r,d]);if(p)return s.jsx("div",{className:"flex items-center justify-center min-h-[320px]",children:s.jsx("span",{className:"text-slate-600",children:"Loading resilience insights"})});if(!A||!O)return s.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[320px] space-y-3",children:[s.jsx(Lr,{className:"h-10 w-10 text-slate-400"}),s.jsx("span",{className:"text-slate-600",children:"No resilience data available yet."}),y&&s.jsx("span",{className:"text-sm text-red-600",children:y})]});const $=Math.max(A.asset.dependents??A.asset.population_served??0,0),M=A.asset.currentValue>0?A.asset.currentValue*.1:0,q=A.asset.currentValue>0?A.asset.currentValue*.3:0,R=_0[c],U=HG.getRiskLevelInfo(A.assessment.riskLevel);return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-slate-200",children:[s.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[s.jsx("div",{className:"bg-red-500 p-3 rounded-lg",children:s.jsx(Lr,{className:"h-8 w-8 text-white"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Infrastructure Resilience Map"}),s.jsx("p",{className:"text-slate-600",children:"Live risk assessments across climate scenarios for critical energy infrastructure."})]})]}),y&&s.jsx("div",{className:`${w?"bg-amber-50 border border-amber-200 text-amber-700":"bg-red-50 border border-red-200 text-red-700"} rounded-lg p-3 mb-4`,children:y}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Climate Scenario"}),s.jsx("select",{value:c,onChange:B=>u(B.target.value),className:"w-full border border-slate-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500",children:Object.entries(_0).map(([B,V])=>s.jsx("option",{value:B,children:V.label},B))}),R&&s.jsx("p",{className:"text-xs text-slate-500 mt-1",children:R.description})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Time Horizon"}),s.jsx("select",{value:d,onChange:B=>m(Number(B.target.value)),className:"w-full border border-slate-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500",children:wA.map(B=>s.jsxs("option",{value:B,children:[B," Years"]},B))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Critical Asset"}),s.jsx("select",{value:a,onChange:B=>o(B.target.value),className:"w-full border border-slate-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500",children:t.map(B=>s.jsx("option",{value:B.asset_uuid,children:B.name},B.asset_uuid))})]})]}),s.jsx("div",{className:"bg-slate-50 rounded-lg p-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-slate-800",children:A.assessment.overallScore}),s.jsx("div",{className:"text-sm text-slate-600",children:"Risk Score"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:`text-xl font-semibold ${U.className}`,children:U.description}),s.jsx("div",{className:"text-sm text-slate-600",children:"Risk Level"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-slate-800",children:VG($)}),s.jsx("div",{className:"text-sm text-slate-600",children:"People Dependent"})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200",children:[s.jsx("div",{className:"p-4 border-b border-slate-200",children:s.jsxs("h3",{className:"text-lg font-semibold text-slate-800 flex items-center",children:[s.jsx(va,{className:"h-5 w-5 mr-2 text-blue-600"}),"Infrastructure Vulnerability Map"]})}),s.jsx("div",{className:"p-4",children:s.jsxs("div",{className:"bg-slate-100 rounded-lg p-6 space-y-2",children:[P.length===0&&s.jsx("div",{className:"text-center text-slate-500 text-sm",children:"No geographic data available."}),P.map((B,V)=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg",style:{borderLeft:`4px solid ${B.risk>=80?"#ef4444":B.risk>=60?"#f97316":B.risk>=40?"#f59e0b":"#22c55e"}`},children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-slate-800",children:B.name}),s.jsx("div",{className:"text-sm text-slate-600",children:B.type})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"font-semibold text-slate-800",children:B.risk}),s.jsx("div",{className:"text-xs text-slate-500",children:"Risk Score"})]})]},`${B.name}-${V}`))]})})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200",children:[s.jsx("div",{className:"p-4 border-b border-slate-200",children:s.jsxs("h3",{className:"text-lg font-semibold text-slate-800 flex items.CENTER",children:[s.jsx(pt,{className:"h-5 w-5 mr-2 text-purple-600"}),"Scenario Comparison"]})}),s.jsxs("div",{className:"p-4",children:[s.jsx(xt,{width:"100%",height:250,children:s.jsxs(mi,{data:T,children:[s.jsx(St,{strokeDasharray:"3 3"}),s.jsx(at,{dataKey:"scenario"}),s.jsx(Je,{domain:[0,100]}),s.jsx(ze,{}),s.jsx(Qt,{type:"monotone",dataKey:"risk",stroke:"#8b5cf6",strokeWidth:3,dot:{r:6}})]})}),s.jsxs("div",{className:"mt-2 text-sm text-slate-600",children:["Risk scores for ",A.asset.name," across climate scenarios at ",d," years."]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200",children:[s.jsx("div",{className:"p-4 border-b border-slate-200",children:s.jsxs("h3",{className:"text-lg font-semibold text-slate-800 flex items-center",children:[s.jsx(CA,{className:"h-5 w-5 mr-2 text-green-600"}),"AI Resilience Insights"]})}),s.jsxs("div",{className:"p-4 space-y-3",children:[s.jsxs("div",{className:"bg-green-50 p-3 rounded-lg",children:[s.jsx("div",{className:"font-medium text-green-800 mb-1",children:"Priority Reconnections"}),s.jsx("div",{className:"text-sm text-green-700",children:A.assessment.riskLevel==="high"||A.assessment.riskLevel==="critical"?`Immediate resilience investment recommended for ${A.asset.name}. Prioritise redundancy, flood-hardening, and rapid response plans.`:"Risk is manageable; maintain monitoring cadence and schedule preventative maintenance."})]}),s.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg",children:[s.jsx("div",{className:"font-medium text-blue-800 mb-1",children:"Adaptation Budget Envelope"}),s.jsxs("div",{className:"text-sm text-blue-700",children:["Estimated adaptation cost range: ",SA(M),"  ",SA(q)," ","over ",d," years."]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 xl:col-span-3",children:[s.jsx("div",{className:"p-4 border-b border-slate-200",children:s.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:"Climate Hazard Breakdown"})}),s.jsx("div",{className:"p-4",children:s.jsx(xt,{width:"100%",height:300,children:s.jsxs(Oa,{data:N,children:[s.jsx(St,{strokeDasharray:"3 3"}),s.jsx(at,{dataKey:"hazard",angle:-35,textAnchor:"end",height:80}),s.jsx(Je,{domain:[0,100]}),s.jsx(ze,{}),s.jsx(Zt,{}),s.jsx(Wt,{dataKey:"risk",fill:"#ef4444"})]})})})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 xl:col-span-3",children:[s.jsx("div",{className:"p-4 border-b border-slate-200",children:s.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:"Hazard Hotspots"})}),s.jsxs("div",{className:"p-4",children:[s.jsx(xt,{width:"100%",height:320,children:s.jsxs(db,{children:[s.jsx(St,{strokeDasharray:"3 3"}),s.jsx(at,{dataKey:"x",name:"Longitude",unit:""}),s.jsx(Je,{dataKey:"y",name:"Latitude",unit:""}),s.jsx(ze,{cursor:{strokeDasharray:"3 3"}}),s.jsx(Zt,{}),s.jsx(wi,{name:"Assets",data:P,fill:"#f97316"})]})}),s.jsx("div",{className:"mt-2 text-sm text-slate-500",children:"Risk hotspot map derived from Supabase resilience assessments (higher values indicate greater risk)."})]})]})]})]})};var mt=(t=>(t.CLIMATE_TECH="climate_technology",t.ENERGY_STORAGE="energy_storage",t.RENEWABLE_ENERGY="renewable_energy",t.GRID_MANAGEMENT="grid_management",t.CARBON_CAPTURE="carbon_capture",t.MATERIAL_SCIENCE="material_science",t.DIGITAL_TWINS="digital_twins",t.AI_ML="ai_ml",t.HYDROGEN_TECH="hydrogen_technology",t))(mt||{});class YG{assessTechnologyReadiness(e,r){const a={climate_technology:{research:.25,development:.3,validation:.3,commercial:.15},energy_storage:{research:.2,development:.25,validation:.35,commercial:.2},renewable_energy:{research:.15,development:.2,validation:.25,commercial:.4},grid_management:{research:.2,development:.25,validation:.3,commercial:.25},carbon_capture:{research:.3,development:.25,validation:.25,commercial:.2},material_science:{research:.35,development:.3,validation:.25,commercial:.1},digital_twins:{research:.15,development:.3,validation:.3,commercial:.25},ai_ml:{research:.2,development:.3,validation:.25,commercial:.25},hydrogen_technology:{research:.25,development:.3,validation:.25,commercial:.2}}[r],o=this.calculateResearchReadiness(e.publications||0,e.patentsFiled||0,e.yearsOfDevelopment||0),c=this.calculateDevelopmentReadiness(e.prototypesBuilt||0,e.pilotProjects||0,(e.certifications?.length||0)+(e.regulatoryApprovals?.length||0)),u=this.calculateValidationReadiness(e.pilotProjects||0,e.partnerships||0,e.fundingSecured||0),d=this.calculateCommercialReadiness(e.commercialDeployments||0,e.fundingSecured||0,e.partnerships||0),m=o*a.research+c*a.development+u*a.validation+d*a.commercial,p=this.mapScoreToTRL(m),h=this.calculateConfidence(e,m);return{innovationId:this.generateInnovationId(e.name),innovationName:e.name,category:r,trlScore:p,confidence:Math.round(h*10)/10,lastAssessed:new Date().toISOString(),assessor:"TRL Assessment Engine",evidenceDescription:this.generateEvidenceDescription(o,c,u,d)}}calculateResearchReadiness(e,r,n){const a=Math.min(e/10,1)*.3,o=Math.min(r/5,1)*.3,c=Math.min(n/5,1)*.4;return a+o+c}calculateDevelopmentReadiness(e,r,n){const a=Math.min(e/3,1)*.4,o=Math.min(r/2,1)*.4,c=Math.min(n/5,1)*.2;return a+o+c}calculateValidationReadiness(e,r,n){const a=Math.min(e/3,1)*.4,o=Math.min(r/5,1)*.3,c=Math.min(n/1e7,1)*.3;return a+o+c}calculateCommercialReadiness(e,r,n){const a=Math.min(e/10,1)*.5,o=Math.min(r/5e7,1)*.3,c=Math.min(n/10,1)*.2;return a+o+c}mapScoreToTRL(e){return e>=.9?9:e>=.75?8:e>=.6?7:e>=.45?6:e>=.35?5:e>=.25?4:e>=.15?3:e>=.05?2:1}calculateConfidence(e,r){let n=0;e.publications>0&&(n+=.2),e.patentsFiled>0&&(n+=.2),e.prototypesBuilt>0&&(n+=.2),e.pilotProjects>0&&(n+=.15),e.commercialDeployments>0&&(n+=.15),e.fundingSecured>0&&(n+=.1);const a=Math.min(n+.3,1),o=Math.max(.8-Math.abs(.5-r)*1.6,.4);return(a+o)/2}generateInnovationId(e){const r=Date.now().toString(36);return`inn_${e.toLowerCase().replace(/[^a-z0-9]/g,"").substring(0,8)}_${r}`}generateEvidenceDescription(e,r,n,a){const o=[];return e>.3&&o.push("strong research foundation"),r>.3&&o.push("robust development progress"),n>.3&&o.push("comprehensive validation"),a>.2&&o.push("commercial readiness"),o.length>0?`Assessment based on: ${o.join(", ")}`:"Limited evidence available for comprehensive assessment"}analyzeMarketOpportunity(e){const r=this.assessMarketMaturity(e.trlScore,e.category),n=this.estimateMarketSize(e.targetMarket,e.category,e.trlScore),a=this.calculateGrowthRate(e.growthProjections,e.category,r),o=Math.min(e.competitiveFactor+(e.category==="ai_ml"?2:0),10),c=this.determineCommercializationPath(e.trlScore,r,o),u=this.identifyBarriersToEntry(e.trlScore,e.competitorCount,e.category),d=this.assessFundingReadiness(e.trlScore,o,e.fundingRequirements),m=this.estimateTimeframeToMarket(e.trlScore,d);return{innovationId:e.innovationId,marketSize:n,growthRate:a,competitiveAdvantage:o,fundingReadiness:d,commercializationPath:c,barriersToEntry:u,estimatedTimeframe:m}}assessMarketMaturity(e,r){const a={ai_ml:8,digital_twins:7,grid_management:6,energy_storage:6,renewable_energy:7,climate_technology:5,carbon_capture:4,material_science:6,hydrogen_technology:4}[r],o=(e-1)/9*2,c=a+o;return c>=8?"mainstream":c>=6?"established":c>=4?"early_adoption":"emerging"}estimateMarketSize(e,r,n){const o={ai_ml:500,renewable_energy:2e3,energy_storage:200,carbon_capture:50,material_science:150,climate_technology:300,digital_twins:20,grid_management:100,hydrogen_technology:25}[r]||100,c=.1+n/10;return Math.round(o*c*1e9)}calculateGrowthRate(e,r,n){if(Object.keys(e).length>0){const o=Math.max(...Object.keys(e).map(c=>parseInt(c)));return e[o.toString()]||15}return{emerging:25,early_adoption:20,established:15,mainstream:8}[n]}determineCommercializationPath(e,r,n){return e>=8?r==="mainstream"?"Direct market entry, competitive differentiation":"Strategic partnerships, pilot program expansion":e>=6?n>=8?"First-to-market opportunity, premium pricing":"Partnerships with early adopters, proof-of-concept projects":e>=4?"Facilitated development partnerships, government funding":"Research partnerships, mentorship programs"}identifyBarriersToEntry(e,r,n){const a=[];return e<5&&(a.push("Economic viability not proven"),a.push("Technology scalability concerns")),r>10&&a.push("High competition in target market"),["carbon_capture","hydrogen_technology"].includes(n)&&(a.push("High capital intensity"),a.push("Infrastructure dependencies")),n==="ai_ml"&&(a.push("Data availability and quality"),a.push("Regulatory compliance (privacy, bias)")),a}assessFundingReadiness(e,r,n){const a=e/9,o=r/10,c=n>5e7?.8:Math.min(1,5e7/n);return Math.round((a*.4+o*.4+c*.2)*10)}estimateTimeframeToMarket(e,r){const a=(9-e)*3,o=r>=7?-6:0,c=24+a+o;return c<=24?"1-2 years":c<=36?"2-3 years":c<=60?"3-5 years":"5+ years"}}const XG=new YG,k0=[{name:"Hydrogen Blend Technology",description:"Advanced hydrogen blending system for existing natural gas infrastructure",patentsFiled:8,prototypesBuilt:3,pilotProjects:2,commercialDeployments:1,regulatoryApprovals:["CSA Approval","UL Certification"],fundingSecured:45e5,publications:12,certifications:["ISO 9001","CSA Standards"],partnerships:4,yearsOfDevelopment:4},{name:"AI Grid Optimizer",description:"Machine learning system for predictive grid load balancing",patentsFiled:5,prototypesBuilt:2,pilotProjects:3,commercialDeployments:0,regulatoryApprovals:["NERC Compliance"],fundingSecured:32e5,publications:8,certifications:["ISO 27001"],partnerships:2,yearsOfDevelopment:3},{name:"Carbon Capture Membrane",description:"Next-generation membrane technology for industrial CO2 capture",patentsFiled:12,prototypesBuilt:4,pilotProjects:1,commercialDeployments:0,regulatoryApprovals:[],fundingSecured:85e5,publications:15,certifications:["API 661","ASME Standards"],partnerships:6,yearsOfDevelopment:5},{name:"Smart Battery Materials",description:"Nanostructured materials for enhanced battery performance and lifespan",patentsFiled:6,prototypesBuilt:5,pilotProjects:1,commercialDeployments:2,regulatoryApprovals:["UN Transport Test"],fundingSecured:62e5,publications:9,certifications:["IEC 62619"],partnerships:3,yearsOfDevelopment:4},{name:"Digital Twin Framework",description:"Comprehensive digital twin platform for energy infrastructure management",patentsFiled:3,prototypesBuilt:1,pilotProjects:2,commercialDeployments:0,regulatoryApprovals:[],fundingSecured:29e5,publications:5,certifications:["ISO 18435"],partnerships:1,yearsOfDevelopment:2}],QG=[mt.CLIMATE_TECH,mt.ENERGY_STORAGE,mt.RENEWABLE_ENERGY,mt.GRID_MANAGEMENT,mt.CARBON_CAPTURE,mt.MATERIAL_SCIENCE,mt.DIGITAL_TWINS,mt.AI_ML,mt.HYDROGEN_TECH],ZG=()=>{const[t,e]=I.useState(""),[r,n]=I.useState("all"),[a,o]=I.useState(null),[c,u]=I.useState(!1),[d,m]=I.useState(new Map),[p,h]=I.useState(!1),[y,v]=I.useState("");I.useEffect(()=>{(async()=>{u(!0);const k=new Map;for(const A of k0)try{const N=A.name.includes("Hydrogen")?mt.HYDROGEN_TECH:A.name.includes("AI")?mt.AI_ML:A.name.includes("Carbon")?mt.CARBON_CAPTURE:A.name.includes("Battery")?mt.ENERGY_STORAGE:A.name.includes("Digital")?mt.DIGITAL_TWINS:mt.CLIMATE_TECH,P=XG.assessTechnologyReadiness(A,N);k.set(A.name,P)}catch(N){console.error(`Error evaluating TRL for ${A.name}:`,N)}m(k),u(!1)})()},[]);const w=S=>S.name.includes("Hydrogen")?mt.HYDROGEN_TECH:S.name.includes("AI")?mt.AI_ML:S.name.includes("Carbon")?mt.CARBON_CAPTURE:S.name.includes("Battery")?mt.ENERGY_STORAGE:S.name.includes("Digital")?mt.DIGITAL_TWINS:mt.CLIMATE_TECH,b=k0.filter(S=>{const k=t===""||S.name.toLowerCase().includes(t.toLowerCase())||S.description.toLowerCase().includes(t.toLowerCase()),A=r==="all"||w(S)===r;return k&&A}),j=S=>S>=7?"bg-green-100 text-green-800":S>=5?"bg-blue-100 text-blue-800":S>=3?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800",O=I.useCallback(async S=>{h(!0),v("Generating pitch document..."),await new Promise(N=>setTimeout(N,2e3));const k=d.get(S.name),A=`
## ${S.name}

**Executive Summary**
${S.description}

**Technology Maturity (TRL ${k?.trlScore||"?"})**
${k?.evidenceDescription||"Technology maturity assessment in progress"}

**Market Opportunity**
- Addressable market: $500M+ opportunity
- Growth potential: 25% CAGR projected
- Competitive advantages: Innovative technology, proven prototypes

**Funding & Deployment**
- Funding secured: $${S.fundingSecured?.toLocaleString()||"0"}
- Pilot projects completed: ${S.pilotProjects||0}
- Commercial deployments: ${S.commercialDeployments||0}

**Team & Partnerships**
- Years of R&D: ${S.yearsOfDevelopment||0} years
- Strategic partnerships: ${S.partnerships||0} organizations
- Patents filed: ${S.patentsFiled||0}

**Next Steps**
1. Scale pilot deployments
2. Secure Series A funding
3. International market entry
4. Technology licensing opportunities

**Contact for Investment Opportunities**
[Investment inquiry details available upon request]
`;v(A)},[d]);return c&&d.size===0?s.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(pt,{className:"h-6 w-6 animate-spin text-blue-600"}),s.jsx("span",{className:"text-slate-600",children:"Evaluating technology readiness..."})]})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-slate-200",children:[s.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[s.jsx("div",{className:"bg-purple-500 p-3 rounded-lg",children:s.jsx($d,{className:"h-8 w-8 text-white"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Energy Innovation Hub"}),s.jsx("p",{className:"text-slate-600",children:"TRL assessment and investment readiness evaluation"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx("div",{className:"md:col-span-2",children:s.jsxs("div",{className:"relative",children:[s.jsx(i3,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 h-4 w-4"}),s.jsx("input",{type:"text",placeholder:"Search innovations...",value:t,onChange:S=>e(S.target.value),className:"pl-10 w-full border border-slate-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]})}),s.jsx("div",{children:s.jsxs("select",{value:r,onChange:S=>n(S.target.value),className:"w-full border border-slate-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-purple-500",children:[s.jsx("option",{value:"all",children:"All Categories"}),QG.map(S=>s.jsx("option",{value:S,children:S.replace("_"," ").toUpperCase()},S))]})}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"text-sm text-slate-600",children:"Results:"}),s.jsx("span",{className:"font-semibold text-slate-800",children:b.length})]})]})]}),s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:b.map(S=>{const k=d.get(S.name),A=w(S);return s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:[s.jsxs("div",{className:"p-4 border-b border-slate-200",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-1",children:S.name}),s.jsxs("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${j(k?.trlScore||1)}`,children:["TRL ",k?.trlScore||"?"]})]}),s.jsxs("div",{className:"text-right text-xs text-slate-500",children:[S.yearsOfDevelopment,"y dev"]})]}),s.jsx("p",{className:"text-sm text-slate-600 line-clamp-2 mb-3",children:S.description}),s.jsxs("div",{className:"flex items-center justify-between text-xs",children:[s.jsx("span",{className:"text-slate-500",children:A.replace("_"," ").toUpperCase()}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(ix,{className:"h-3 w-3 text-yellow-500"}),s.jsxs("span",{children:[S.patentsFiled," patents"]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 p-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-lg font-bold text-green-600",children:["$",S.fundingSecured?.toLocaleString()||"0"]}),s.jsx("div",{className:"text-xs text-slate-500",children:"Funding Secured"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-lg font-bold text-blue-600",children:S.partnerships}),s.jsx("div",{className:"text-xs text-slate-500",children:"Partners"})]})]}),s.jsxs("div",{className:"px-4 pb-4 space-y-2",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[s.jsx("span",{children:"Prototypes"}),s.jsxs("span",{children:[S.prototypesBuilt,"/5"]})]}),s.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2",children:s.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${S.prototypesBuilt/5*100}%`}})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[s.jsx("span",{children:"Pilots"}),s.jsxs("span",{children:[S.pilotProjects,"/3"]})]}),s.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2",children:s.jsx("div",{className:"bg-purple-500 h-2 rounded-full",style:{width:`${S.pilotProjects/3*100}%`}})})]})]}),s.jsx("div",{className:"p-4 bg-slate-50 border-t border-slate-200",children:s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>o(S.name),className:"flex-1 text-sm bg-blue-600 text-white rounded px-3 py-2 hover:bg-blue-700 transition-colors",children:"View Details"}),s.jsx("button",{onClick:()=>O(S),className:"flex-1 text-sm bg-green-600 text-white rounded px-3 py-2 hover:bg-green-700 transition-colors",children:"Generate Pitch"})]})})]},S.name)})}),p&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-xl max-w-4xl w-full max-h-[80vh] overflow-hidden",children:[s.jsx("div",{className:"p-6 border-b border-slate-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Investment Pitch Document"}),s.jsx("button",{onClick:()=>h(!1),className:"text-slate-400 hover:text-slate-600",children:s.jsx(pt,{className:"h-6 w-6"})})]})}),s.jsx("div",{className:"p-6 overflow-y-auto max-h-96",children:s.jsx("pre",{className:"whitespace-pre-wrap font-mono text-sm text-slate-800",children:y})}),s.jsx("div",{className:"p-6 bg-slate-50 border-t border-slate-200",children:s.jsxs("div",{className:"flex justify-between",children:[s.jsx("button",{onClick:()=>h(!1),className:"px-4 py-2 text-slate-600 hover:text-slate-800",children:"Close"}),s.jsx("button",{className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700",children:"Download PDF"})]})})]})}),a&&s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-slate-200 overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Technology Details"}),s.jsx("button",{onClick:()=>o(null),className:"text-slate-400 hover:text-slate-600",children:s.jsx(pt,{className:"h-6 w-6"})})]}),(()=>{const S=k0.find(A=>A.name===a),k=d.get(a);return S?s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",children:S.name}),s.jsx("p",{className:"text-slate-600 mb-4",children:S.description}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-slate-600",children:"TRL Score:"}),s.jsx("span",{className:"font-semibold",children:k?.trlScore||"?"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-slate-600",children:"Confidence:"}),s.jsxs("span",{className:"font-semibold",children:[k?.confidence||"0","%"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-slate-600",children:"Funding Secured:"}),s.jsxs("span",{className:"font-semibold",children:["$",S.fundingSecured?.toLocaleString()||"0"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-slate-600",children:"Publications:"}),s.jsx("span",{className:"font-semibold",children:S.publications})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold mb-3",children:"Evidence Description"}),s.jsx("p",{className:"text-sm text-slate-700 bg-blue-50 p-3 rounded-lg",children:k?.evidenceDescription||"Assessment in progress"}),s.jsxs("div",{className:"mt-4",children:[s.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Regulatory & Certifications"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:[...S.regulatoryApprovals||[],...S.certifications||[]].map((A,N)=>s.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full",children:A},N))})]})]})]}):s.jsx("div",{children:"Innovation not found"})})()]})]})};function _f(t){const[e,r]=I.useState([]),[n,a]=I.useState("disconnected"),[o,c]=I.useState(null),[u,d]=I.useState(!1),[m,p]=I.useState(null),[h,y]=I.useState([]),v=I.useMemo(()=>`consultation-${t}`,[t]);I.useEffect(()=>(p(null),console.log(" WebSocket disabled by flag VITE_ENABLE_WEBSOCKET=false, skipping connect for",v),a("disconnected"),d(!1),c(null),()=>{}),[t,v]);const w=I.useCallback((O,S="message")=>{if(!u){console.warn("WebSocket not connected");return}const k={type:"consultation_message",payload:{content:O,messageType:S,consultationId:t},timestamp:new Date().toISOString(),senderId:"user",consultationId:t};dl.sendWebSocketMessage(v,k)},[u,t,v]),b=I.useCallback(O=>{if(!u)return;const S={type:"typing_indicator",payload:{isTyping:O,consultationId:t},timestamp:new Date().toISOString(),senderId:"user",consultationId:t};dl.sendWebSocketMessage(v,S)},[u,t,v]),j=I.useCallback(O=>{if(!u)return;const S={type:"consultation_status_update",payload:{status:O,consultationId:t},timestamp:new Date().toISOString(),senderId:"user",consultationId:t};dl.sendWebSocketMessage(v,S)},[u,t,v]);return{messages:e,connectionStatus:n,isConnected:u,error:m,participants:h,sendMessage:w,sendTypingIndicator:b,updateConsultationStatus:j,connection:o}}const JG=({territories:t=[],mapPoints:e=[],config:r={},onPointClick:n,onTerritoryClick:a,className:o=""})=>{const[c,u]=I.useState(null),[d,m]=I.useState(null),[p,h]=I.useState(null),[y,v]=I.useState({center:[-95,55],zoom:4,bounds:[[40,-140],[85,-50]],showBoundaries:!0,showPoints:!0,showLabels:!0,theme:"light",...r}),w=I.useRef(null),[b,j]=I.useState({width:800,height:600});I.useEffect(()=>{const q=()=>{if(w.current){const R=w.current.getBoundingClientRect();j({width:R.width,height:R.height})}};return q(),window.addEventListener("resize",q),()=>window.removeEventListener("resize",q)},[]);const O=(q,R)=>{const U=y.zoom*10,B=b.width/2+(R-y.center[1])*U,V=b.height/2+(y.center[0]-q)*U;return[B,V]},S=q=>{const R=q[0]??[];return R.length===0?"":R.map((U,B)=>{const[V,L]=O(U[1],U[0]);return B===0?`M ${V} ${L}`:`L ${V} ${L}`}).join("")+"Z"},k=q=>{if(!q)return[];const[R,U]=q,B=1.2;return[[[U-B,R+B],[U+B,R+B],[U+B,R-B],[U-B,R-B],[U-B,R+B]]]},A=q=>q.coordinates&&q.coordinates.length>0?q.coordinates:k(q.centroid),N=(q,R)=>{const U=R[0];if(U&&U.length>0){const B=U.reduce((L,D)=>L+D[1],0)/U.length,V=U.reduce((L,D)=>L+D[0],0)/U.length;return O(B,V)}if(q.centroid){const[B,V]=q.centroid;return O(B,V)}return O(y.center[0],y.center[1])},P=q=>{switch(q){case"completed":return"#10b981";case"ongoing":return"#f59e0b";case"pending":return"#ef4444";case"not_started":return"#6b7280";default:return"#3b82f6"}},T=q=>{switch(q){case"consultation":return"";case"land_right":return"";case"cultural":return"";case"stakeholder":return"";default:return""}},$=(q,R)=>{R.stopPropagation(),m(q),u(null),n?.(q)},M=(q,R)=>{R.stopPropagation(),u(q),m(null),a?.(q)};return s.jsxs("div",{className:`territorial-map-container ${o}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-4 p-4 bg-white rounded-lg shadow",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"flex items-center space-x-2",children:s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:y.showBoundaries,onChange:q=>v(R=>({...R,showBoundaries:q.target.checked})),className:"mr-2"}),s.jsx("span",{className:"text-sm",children:"Boundaries"})]})}),s.jsx("div",{className:"flex items-center space-x-2",children:s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:y.showPoints,onChange:q=>v(R=>({...R,showPoints:q.target.checked})),className:"mr-2"}),s.jsx("span",{className:"text-sm",children:"Points"})]})}),s.jsx("div",{className:"flex items-center space-x-2",children:s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:y.showLabels,onChange:q=>v(R=>({...R,showLabels:q.target.checked})),className:"mr-2"}),s.jsx("span",{className:"text-sm",children:"Labels"})]})})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Zoom:"}),s.jsx("input",{type:"range",min:"1",max:"8",value:y.zoom,onChange:q=>v(R=>({...R,zoom:parseInt(q.target.value)})),className:"w-20"})]})]}),s.jsxs("div",{className:"relative bg-slate-100 rounded-lg overflow-hidden shadow-inner border border-slate-200",children:[s.jsxs("svg",{ref:w,width:"100%",height:"500",viewBox:`0 0 ${b.width} ${b.height}`,className:"bg-slate-50",onClick:()=>{u(null),m(null)},children:[y.showBoundaries&&t.map(q=>{const R=A(q);if(!R||R.length===0)return null;const[U,B]=N(q,R);return s.jsxs("g",{children:[s.jsx("path",{d:S(R),fill:P(q.consultationStatus),fillOpacity:"0.3",stroke:P(q.consultationStatus),strokeWidth:"2",className:"cursor-pointer hover:fill-opacity-50 transition-all",onClick:V=>M(q,V),onMouseEnter:()=>h(q),onMouseLeave:()=>h(null)}),y.showLabels&&s.jsx("text",{x:U,y:B,textAnchor:"middle",dominantBaseline:"middle",className:"fill-slate-700 text-sm font-medium pointer-events-none select-none",style:{fontSize:"12px"},children:q.name})]},q.id)}),y.showPoints&&e.map(q=>{const[R,U]=O(q.lat,q.lng);return s.jsxs("g",{className:"cursor-pointer",onClick:B=>$(q,B),children:[s.jsx("circle",{cx:R,cy:U,r:"8",fill:P(q.status||"pending"),stroke:"white",strokeWidth:"2",className:"hover:r-10 transition-all"}),s.jsx("text",{x:R,y:U,textAnchor:"middle",dominantBaseline:"middle",className:"text-lg pointer-events-none select-none",style:{fontSize:"12px",filter:"drop-shadow(1px 1px 2px rgba(0,0,0,0.3))"},children:T(q.type)})]},q.id)})]}),(p||c)&&s.jsxs("div",{className:"absolute top-4 right-4 bg-white p-4 rounded-lg shadow-lg border max-w-xs",children:[s.jsx("h3",{className:"font-bold text-slate-800 mb-2",children:(c||p)?.name}),(c||p)&&s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-slate-600",children:"Status:"}),s.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${(c||p)?.consultationStatus==="completed"?"bg-green-100 text-green-800":(c||p)?.consultationStatus==="ongoing"?"bg-yellow-100 text-yellow-800":(c||p)?.consultationStatus==="pending"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:(c||p)?.consultationStatus?.replace("_"," ").toUpperCase()})]}),(()=>{const R=(c||p)?.metadata;if(!R)return null;const U=R.indigenousGroups??[];return s.jsxs(s.Fragment,{children:[typeof R.area=="number"&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-slate-600",children:"Area:"}),s.jsxs("span",{children:[R.area.toLocaleString()," km"]})]}),typeof R.population=="number"&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-slate-600",children:"Population:"}),s.jsx("span",{children:R.population.toLocaleString()})]}),U.length>0&&s.jsxs("div",{children:[s.jsx("span",{className:"text-slate-600 text-xs",children:"Indigenous Groups:"}),s.jsxs("div",{className:"mt-1 flex flex-wrap gap-1",children:[U.slice(0,3).map((B,V)=>s.jsx("span",{className:"bg-slate-100 text-slate-700 text-xs px-2 py-1 rounded",children:B},V)),U.length>3&&s.jsxs("span",{className:"text-slate-500 text-xs",children:["+",U.length-3," more"]})]})]})]})})()]})]}),d&&s.jsxs("div",{className:"absolute bottom-4 right-4 bg-white p-4 rounded-lg shadow-lg border max-w-xs",children:[s.jsxs("h4",{className:"font-bold text-slate-800 mb-2 flex items-center",children:[s.jsx("span",{className:"mr-2",children:T(d.type)}),d.title]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-slate-600",children:"Type:"}),s.jsx("span",{className:"capitalize",children:d.type.replace("_"," ")})]}),d.status&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-slate-600",children:"Status:"}),s.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${d.status==="completed"?"bg-green-100 text-green-800":d.status==="active"?"bg-blue-100 text-blue-800":d.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:d.status.toUpperCase()})]}),d.description&&s.jsxs("div",{children:[s.jsx("span",{className:"text-slate-600",children:"Description:"}),s.jsx("p",{className:"mt-1 text-slate-700",children:d.description})]})]})]}),s.jsxs("div",{className:"absolute bottom-4 left-4 bg-white p-3 rounded-lg shadow border",children:[s.jsx("h5",{className:"font-semibold text-slate-800 mb-2",children:"Legend"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-3 h-3 bg-green-500 rounded"}),s.jsx("span",{children:"Completed"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded"}),s.jsx("span",{children:"Ongoing"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-3 h-3 bg-red-500 rounded"}),s.jsx("span",{children:"Pending"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-3 h-3 bg-gray-500 rounded"}),s.jsx("span",{children:"Not Started"})]})]})]})]}),t.length===0&&e.length===0&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-slate-100 bg-opacity-80",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-4xl mb-4",children:""}),s.jsx("h3",{className:"text-lg font-semibold text-slate-700 mb-2",children:"No Territory Data"}),s.jsx("p",{className:"text-slate-600",children:"Map data is being loaded..."})]})})]})},nc={iesoStreaming:{id:"ieso_streaming",name:"IESO Real-Time Data",status:"production_ready",rating:4.9,enabled:!0,route:"/dashboard",component:"RealTimeDashboard"},helpSystem:{id:"help_system",name:"Help & Education System",status:"production_ready",rating:4.8,enabled:!0,route:"*",component:"HelpModal"},failoverArchitecture:{id:"failover_architecture",name:"Resilient Data Streaming",status:"production_ready",rating:4.7,enabled:!0,component:"streamingService"},provincialGeneration:{id:"provincial_generation",name:"Provincial Generation Mix",status:"production_ready",rating:4.6,enabled:!0,route:"/dashboard",component:"ProvincialGenerationDataManager"},investmentAnalysis:{id:"investment_analysis",name:"Investment Decision Support",status:"production_ready",rating:4.6,enabled:!0,route:"/investment",component:"InvestmentCards"},llmIntegration:{id:"llm_integration",name:"AI-Powered Insights",status:"production_ready",rating:4.5,enabled:!0,route:"/ai-oracle",component:"AIEnergyOracle"},innovationTracking:{id:"innovation_tracking",name:"Energy Innovation Opportunities",status:"acceptable",rating:4.4,enabled:!0,limitations:["Innovation database needs expansion","Funding opportunity integration incomplete"],route:"/innovation",component:"InnovationSearch"},complianceMonitoring:{id:"compliance_monitoring",name:"Regulatory Compliance",status:"acceptable",rating:4.4,enabled:!0,limitations:["Uses local storage, not connected to provincial regulators","Automated violation detection limited"],route:"/compliance",component:"ComplianceDashboard"},huggingfaceData:{id:"huggingface_data",name:"European Smart Meter Data",status:"acceptable",rating:4.3,enabled:!0,limitations:["Limited to one dataset from HuggingFace"],route:"/dashboard",component:"RealTimeDashboard"},dataQuality:{id:"data_quality",name:"Data Quality Monitoring",status:"acceptable",rating:4.3,enabled:!0,limitations:["Automated alerts need refinement"],route:"/dashboard",component:"DataQuality"},resilienceAnalysis:{id:"resilience_analysis",name:"Infrastructure Resilience",status:"acceptable",rating:4.3,enabled:!0,limitations:["Missing ECCC climate projections integration","Asset location data needs verification"],route:"/resilience",component:"ResilienceMap"},energyAnalytics:{id:"energy_analytics",name:"Energy System Analytics",status:"acceptable",rating:4.2,enabled:!0,limitations:["Detailed emissions tracking per province not available","Historical trend aggregation needs optimization"],route:"/dashboard",component:"EnergyDataDashboard"},stakeholderCoordination:{id:"stakeholder_coordination",name:"Stakeholder Collaboration",status:"acceptable",rating:4.1,enabled:!0,limitations:["WebSocket server not deployed - real-time collaboration simulated","Multi-user testing not completed"],route:"/stakeholder",component:"StakeholderDashboard"},streamingArchitecture:{id:"streaming_architecture",name:"Core Streaming Infrastructure",status:"acceptable",rating:4.1,enabled:!0,limitations:["Cache size could be increased for better offline support"],component:"dataStreamers"},indigenousDashboard:{id:"indigenous_dashboard",name:"Indigenous Energy Sovereignty",status:"acceptable",rating:4,enabled:!0,limitations:["Formal Indigenous governance review pending","Territorial boundary data is placeholder (needs real GeoJSON)","TEK repository integration incomplete"],route:"/indigenous",component:"IndigenousDashboard"},transitionTracker:{id:"transition_tracker",name:"Energy Transition Progress",status:"acceptable",rating:4,enabled:!0,limitations:["Missing real Canadian transition target data","Provincial goal alignment incomplete","International commitment tracking missing"],route:"/dashboard",component:"TransitionKPIs"},databaseSchema:{id:"database_schema",name:"Database Infrastructure",status:"acceptable",rating:4,enabled:!0,limitations:["6 tables deferred to Phase 2 (emissions, market, community)"],component:"migrations"},mineralsSupplyChain:{id:"minerals_supply_chain",name:"Critical Minerals Supply Chain",status:"partial",rating:3.8,enabled:!0,limitations:[" SIMULATED DATA: Using realistic but not real supply chain data","No real-time market price integration","Disruption alert system not operational","Not connected to Canadian Critical Minerals database"],route:"/minerals",component:"MineralsDashboard"},securityAssessment:{id:"security_assessment",name:"Energy Security Assessment",status:"partial",rating:3.7,enabled:!0,limitations:[" LIMITED FUNCTIONALITY: 3 of 4 APIs missing","Threat intelligence feeds not connected","Vulnerability scanning not operational","Real-time threat assessment coming in Phase 2"],route:"/security",component:"SecurityDashboard"},gridOptimization:{id:"grid_optimization",name:"Grid Integration Optimization",status:"partial",rating:3.6,enabled:!0,limitations:[" FORECASTING NOT AVAILABLE: Demand and renewable output forecasts coming in Phase 2","Real-time optimization uses simulated grid data","AI recommendations need calibration"],route:"/grid",component:"GridOptimizationDashboard"},emissionsTracking:{id:"emissions_tracking",name:"Carbon Emissions Tracking & Planning",status:"deferred",rating:3.4,enabled:!1,comingSoon:!0,estimatedRelease:"Phase 2 - Q1 2026",limitations:["Feature under development","All emissions APIs not yet implemented","ECCC data integration in progress"],route:"/emissions",component:"EmissionsPlanner"},marketIntelligence:{id:"market_intelligence",name:"Energy Market Intelligence",status:"deferred",rating:3.3,enabled:!1,comingSoon:!0,estimatedRelease:"Phase 2 - Q1 2026",limitations:["Feature under development","Market data feeds integration in progress","Price forecasting capability coming soon"],route:"/market",component:"MarketIntelligence"},communityPlanning:{id:"community_planning",name:"Community Energy Planning",status:"deferred",rating:3.2,enabled:!1,comingSoon:!0,estimatedRelease:"Phase 2 - Q1 2026",limitations:["Feature under development","Municipal energy data integration in progress","AI-guided plan generation coming soon"],route:"/community",component:"CommunityPlanner"}};function eV(t){const e=nc[t];return e?e.enabled:(console.warn(`Unknown feature: ${t}`),!1)}function fb(t){return nc[t]||null}function vC(){const t=Object.values(nc);return{total:t.length,productionReady:t.filter(e=>e.status==="production_ready").length,acceptable:t.filter(e=>e.status==="acceptable").length,partial:t.filter(e=>e.status==="partial").length,deferred:t.filter(e=>e.status==="deferred").length,enabled:t.filter(e=>e.enabled).length,averageRating:(t.reduce((e,r)=>e+r.rating,0)/t.length).toFixed(2)}}function tV(){const t=[];return Object.entries(nc).forEach(([e,r])=>{(!r.id||!r.name||!r.status||r.rating===void 0)&&t.push(`Feature ${e} is missing required fields`),r.status==="production_ready"&&r.rating<4.5&&t.push(`Feature ${e} marked production_ready but rating is ${r.rating}`),r.status==="acceptable"&&(r.rating<4||r.rating>=4.5)&&t.push(`Feature ${e} marked acceptable but rating is ${r.rating}`),r.status==="deferred"&&r.enabled&&t.push(`Feature ${e} is deferred but enabled=true`)}),{valid:t.length===0,errors:t}}const xC=({featureId:t,className:e=""})=>{const r=fb(t);return!r||r.status!=="partial"?null:s.jsx("div",{className:`bg-yellow-50 border-l-4 border-yellow-400 p-4 mb-4 ${e}`,children:s.jsxs("div",{className:"flex items-start",children:[s.jsx(_r,{className:"h-5 w-5 text-yellow-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"ml-3",children:[s.jsx("h3",{className:"text-sm font-medium text-yellow-800",children:"Limited Functionality"}),s.jsxs("div",{className:"mt-2 text-sm text-yellow-700",children:[s.jsx("p",{className:"mb-2",children:"This feature is available with the following limitations:"}),r.limitations&&r.limitations.length>0&&s.jsx("ul",{className:"list-disc list-inside space-y-1",children:r.limitations.map((n,a)=>s.jsx("li",{children:n},a))})]})]})]})})},bC=({featureId:t,className:e=""})=>{const r=fb(t);return!r||r.status!=="acceptable"||!r.limitations||r.limitations.length===0?null:s.jsx("div",{className:`bg-blue-50 border-l-4 border-blue-400 p-3 mb-4 ${e}`,children:s.jsxs("div",{className:"flex items-start",children:[s.jsx(si,{className:"h-4 w-4 text-blue-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"ml-3",children:[s.jsx("h3",{className:"text-xs font-medium text-blue-800",children:"Feature Notes"}),s.jsx("div",{className:"mt-1 text-xs text-blue-700",children:s.jsx("ul",{className:"list-disc list-inside space-y-0.5",children:r.limitations.map((n,a)=>s.jsx("li",{children:n},a))})})]})]})})},rV={completed:"#10b981",ongoing:"#f59e0b",pending:"#ef4444",not_started:"#6b7280"},O0=[{id:"treaty-5",name:"Treaty 5 Territory",coordinates:[[55,-95],[55.6,-96.2],[54.4,-96.6]],consultationStatus:"completed",community:"Cree, Ojibwe, Dene",traditionalTerritory:"Treaty 5 Territory",lastActivity:"2024-04-15T00:00:00.000Z"},{id:"treaty-9",name:"Treaty 9 Territory",coordinates:[[50,-80],[50.7,-81.5],[49.6,-82.1]],consultationStatus:"ongoing",community:"Ojibwe, Cree, Oji-Cree",traditionalTerritory:"Treaty 9 Territory",lastActivity:"2024-05-02T00:00:00.000Z"},{id:"dene",name:"Dene Territory",coordinates:[[60,-120],[60.8,-118.6],[59.5,-119.2]],consultationStatus:"pending",community:"Dene, Sahtu, North Slave",traditionalTerritory:"Dene Territory",lastActivity:"2024-03-21T00:00:00.000Z"}],nV=[{id:"treaty-5-point",lat:55,lng:-95,title:"Treaty 5 Consultation",type:"consultation",status:"completed",description:"Community wind partnership review."},{id:"treaty-9-point",lat:50,lng:-80,title:"Treaty 9 Energy Forum",type:"consultation",status:"active",description:"Joint planning meeting with utilities & leadership."},{id:"dene-point",lat:60,lng:-120,title:"Dene FPIC Workshop",type:"consultation",status:"pending",description:"FPIC readiness workshops with advisors."}],aV=t=>{if(t.length<3)return[];const e=t.map(([r,n])=>[n,r]);return e.length>0&&(e[0][0]!==e[e.length-1][0]||e[0][1]!==e[e.length-1][1])&&e.push([...e[0]]),[e]},iV=(t,e)=>{const r=aV(t.coordinates),n=t.coordinates[0]?[t.coordinates[0][0],t.coordinates[0][1]]:void 0;return{id:t.id||`territory-${e}`,name:t.name,consultationStatus:t.consultationStatus,color:rV[t.consultationStatus]??"#3b82f6",metadata:{indigenousGroups:t.community?t.community.split(",").map(a=>a.trim()).filter(Boolean):[],area:r.length>0?12e4:void 0},coordinates:r,centroid:n}},sV=(t,e)=>{const r=t.coordinates[0];if(!r)return null;const[n,a]=r,o=t.consultationStatus==="completed"?"completed":t.consultationStatus==="ongoing"?"active":"pending";return{id:`territory-point-${t.id??e}`,lat:n,lng:a,title:`${t.name} consultation`,type:"consultation",status:o,description:`Community: ${t.community||"TBD"}`}},oV=()=>{const[t,e]=I.useState(O0),[r,n]=I.useState([]),[a,o]=I.useState([]),[c,u]=I.useState(O0[0]??null),[d,m]=I.useState(!0),[p,h]=I.useState(null),[y,v]=I.useState([]),[w,b]=I.useState(!1),[j,O]=I.useState(null),[S,k]=I.useState({name:"",territory_name:"",community:"",consultation_status:"not_started",fpic_status:"required"}),{isConnected:A}=_f("general-consultation");I.useEffect(()=>{N()},[]);const N=async()=>{try{m(!0);const L=$r.getIndigenousProjects();v(L);const D=L.map(Q=>({id:Q.id,name:Q.territory_name,coordinates:[[-95,55]],consultationStatus:Q.consultation_status,community:Q.community,traditionalTerritory:Q.traditional_territory,lastActivity:Q.updated_at}));e(D);const G=[{id:"1",name:"Treaty 5 Territory",coordinates:[[-95,55]],consultationStatus:"completed",community:"Cree, Ojibwe, Dene",traditionalTerritory:"Treaty 5 Territory",lastActivity:new Date().toISOString()},{id:"2",name:"Treaty 9 Territory",coordinates:[[-80,50]],consultationStatus:"ongoing",community:"Ojibwe, Cree, Oji-Cree",traditionalTerritory:"Treaty 9 Territory",lastActivity:new Date().toISOString()},{id:"3",name:"Dene Territory",coordinates:[[-120,60]],consultationStatus:"pending",community:"Dene, Sahtu, North Slave",traditionalTerritory:"Dene Territory",lastActivity:new Date().toISOString()}],C=[{id:"1",territoryId:"1",stage:"agreement",status:"approved",participants:["Community Council","Energy Company","Government"],dateCreated:new Date().toISOString(),lastUpdated:new Date().toISOString()},{id:"2",territoryId:"2",stage:"consultation",status:"pending",participants:["Community Council","Energy Company"],dateCreated:new Date().toISOString(),lastUpdated:new Date().toISOString()}],F=[{id:"1",title:"Traditional Land Use Mapping",category:"cultural",description:"Documenting traditional hunting and fishing territories",community:"Cree Nation",dateRecorded:new Date().toISOString(),custodians:["Elder John","Knowledge Keeper Mary"],relatedTerritories:["Treaty 5 Territory"]},{id:"2",title:"Medicinal Plant Knowledge",category:"environmental",description:"Traditional uses of local medicinal plants",community:"Ojibwe Community",dateRecorded:new Date().toISOString(),custodians:["Traditional Healer"],relatedTerritories:["Treaty 9 Territory"]},{id:"3",title:"Ceremonial Practices",category:"spiritual",description:"Sacred sites and ceremonial locations",community:"Dene First Nation",dateRecorded:new Date().toISOString(),custodians:["Elder Council"],relatedTerritories:["Dene Territory"]}];e([...D,...G]),n(C),o(F),m(!1)}catch(L){console.error("Error loading Indigenous dashboard data:",L),h("Failed to load Indigenous data"),m(!1)}},P=()=>{if(!S.name||!S.territory_name||!S.community){alert("Please fill in all required fields");return}const L={name:S.name,territory_name:S.territory_name,community:S.community,consultation_status:S.consultation_status||"not_started",fpic_status:S.fpic_status||"required",data_source:"user_input",governance_status:"pending",territory_id:`territory_${Date.now()}`,traditional_territory:S.territory_name||"",benefit_sharing:{},consultation_log:[]};$r.addIndigenousProject(L),N(),k({name:"",territory_name:"",community:"",consultation_status:"not_started",fpic_status:"required"}),b(!1)},T=()=>{const L=$r.exportAllData(),D=new Blob([L],{type:"application/json"}),G=URL.createObjectURL(D),C=document.createElement("a");C.href=G,C.download=`ceip_indigenous_data_${new Date().toISOString().split("T")[0]}.json`,C.click(),URL.revokeObjectURL(G)},$=W.useMemo(()=>{const L=t.length,D=t.filter(F=>F.consultationStatus==="ongoing").length,G=t.filter(F=>F.consultationStatus==="completed").length,C=t.filter(F=>F.consultationStatus==="pending").length;return{totalTerritories:L,ongoingConsultations:D,completedConsultations:G,pendingConsultations:C,completionRate:L>0?G/L*100:0}},[t]),M=t.length>0?t:O0,q=I.useMemo(()=>M.map(iV),[M]),R=I.useMemo(()=>{const L=M.map(sV).filter(D=>D!==null);return L.length>0?L:nV},[M]),U=M,B=[{name:"Completed",value:$.completedConsultations,color:"#10b981"},{name:"Ongoing",value:$.ongoingConsultations,color:"#f59e0b"},{name:"Pending",value:$.pendingConsultations,color:"#ef4444"},{name:"Not Started",value:$.totalTerritories-$.completedConsultations-$.ongoingConsultations-$.pendingConsultations,color:"#6b7280"}],V=[{name:"Cultural",value:a.filter(L=>L.category==="cultural").length},{name:"Environmental",value:a.filter(L=>L.category==="environmental").length},{name:"Spiritual",value:a.filter(L=>L.category==="spiritual").length},{name:"Economic",value:a.filter(L=>L.category==="economic").length}];return d?s.jsx("div",{className:"flex items-center justify-center h-96",children:s.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):s.jsxs("div",{className:"min-h-screen bg-slate-50",children:[s.jsxs("div",{className:Te.page,children:[s.jsx(bC,{featureId:"indigenous_dashboard"}),s.jsxs("header",{className:"mb-8",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between gap-3",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Indigenous Energy Sovereignty Dashboard"}),s.jsx(ht,{id:"module.indigenous.overview"})]}),s.jsx("p",{className:"text-slate-600 mt-2",children:"Track consultations, traditional knowledge, and territory management"})]}),s.jsx("div",{className:"self-start",children:s.jsx(ht,{id:"module.indigenous.governance",className:"bg-amber-600 hover:bg-amber-500 border-amber-500"})})]}),s.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 mb-4",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx(_r,{className:"h-5 w-5 text-amber-600 mt-0.5 mr-3 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-amber-800 mb-2",children:"Governance & Data Sovereignty Notice"}),s.jsx("p",{className:"text-amber-700 text-sm",children:"This dashboard currently uses placeholder data for demonstration purposes. Real Indigenous data integration requires formal governance agreements and Free, Prior, Informed Consent (FPIC) from affected communities. Contact Indigenous governance representatives before implementing real data sources."})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Total Territories"}),s.jsx(ht,{id:"metric.indigenous.total_territories"})]}),s.jsx("p",{className:"text-3xl font-bold text-blue-600 mt-4",children:$.totalTerritories})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Ongoing Consultations"}),s.jsx(ht,{id:"metric.indigenous.ongoing_consultations"})]}),s.jsx("p",{className:"text-3xl font-bold text-yellow-600 mt-4",children:$.ongoingConsultations})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Completed"}),s.jsx(ht,{id:"metric.indigenous.completed_consultations"})]}),s.jsx("p",{className:"text-3xl font-bold text-green-600 mt-4",children:$.completedConsultations})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Completion Rate"}),s.jsx(ht,{id:"metric.indigenous.completion_rate"})]}),s.jsxs("p",{className:"text-3xl font-bold text-purple-600 mt-4",children:[$.completionRate.toFixed(1),"%"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsx("h3",{className:"text-xl font-semibold text-slate-900",children:"Consultation Status"}),s.jsx(ht,{id:"chart.indigenous.consultation_status"})]}),s.jsx(xt,{width:"100%",height:300,children:s.jsxs(ub,{children:[s.jsx(ln,{data:B,cx:"50%",cy:"50%",labelLine:!1,label:({name:L,percent:D})=>`${L}: ${(D*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:B.map((L,D)=>s.jsx(yi,{fill:L.color},`cell-${D}`))}),s.jsx(ze,{}),s.jsx(Zt,{})]})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsx("h3",{className:"text-xl font-semibold text-slate-900",children:"Traditional Ecological Knowledge"}),s.jsx(ht,{id:"chart.indigenous.tek_categories"})]}),s.jsx(xt,{width:"100%",height:300,children:s.jsxs(Oa,{data:V,children:[s.jsx(St,{strokeDasharray:"3 3"}),s.jsx(at,{dataKey:"name"}),s.jsx(Je,{}),s.jsx(ze,{}),s.jsx(Wt,{dataKey:"value",fill:"#8b5cf6"})]})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-8 mb-8",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsx("h3",{className:"text-xl font-semibold text-slate-900",children:"Territory Map"}),s.jsx(ht,{id:"module.indigenous.map"})]}),s.jsx("div",{className:"h-96",children:s.jsx(JG,{territories:q,mapPoints:R,config:{center:[-95,55],zoom:4,showBoundaries:!0,showPoints:!0,showLabels:!0},onTerritoryClick:L=>{const D=U.find(G=>G.id===L.id||G.name===L.name);u(D??U[0]??null)},onPointClick:L=>{const D=U.find(G=>{const[C,F]=G.coordinates[0]??[void 0,void 0];return C===L.lat&&F===L.lng});u(D??U[0]??null)}})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-4",children:"Territories"}),s.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:U.length===0?s.jsx("div",{className:"text-center text-slate-500 text-sm",children:"No Indigenous territories available. Confirm Supabase seed ran."}):U.map(L=>s.jsxs("div",{className:`p-4 rounded-lg border cursor-pointer transition-colors ${c?.id===L.id?"border-blue-500 bg-blue-50":"border-slate-200 hover-border-slate-300"}`,onClick:()=>u(L),children:[s.jsx("h4",{className:"font-medium text-slate-900",children:L.name}),s.jsx("p",{className:"text-sm text-slate-600",children:L.community||"Community TBD"}),s.jsxs("div",{className:"flex items-center justify-between mt-2",children:[s.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${L.consultationStatus==="completed"?"bg-green-100 text-green-800":L.consultationStatus==="ongoing"?"bg-yellow-100 text-yellow-800":L.consultationStatus==="pending"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:L.consultationStatus.replace("_"," ").toUpperCase()}),s.jsx("span",{className:"text-xs text-slate-500",children:L.lastActivity?new Date(L.lastActivity).toLocaleDateString("en-CA"):"Date TBD"})]})]},L.id))})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-4",children:c?c.name:"Select a Territory"}),c&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Community"}),s.jsx("p",{className:"text-slate-900",children:c.community})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Consultation Status"}),s.jsx("span",{className:`inline-block px-2 py-1 text-xs rounded-full mt-1 ${c.consultationStatus==="completed"?"bg-green-100 text-green-800":c.consultationStatus==="ongoing"?"bg-yellow-100 text-yellow-800":c.consultationStatus==="pending"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:c.consultationStatus.replace("_"," ").toUpperCase()})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Traditional Territory"}),s.jsx("p",{className:"text-slate-900",children:c.traditionalTerritory})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Last Activity"}),s.jsx("p",{className:"text-slate-900",children:new Date(c.lastActivity).toLocaleDateString("en-CA")})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-4",children:"Recent TEK Entries"}),s.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:a.slice(0,5).map(L=>s.jsxs("div",{className:"border-l-4 border-purple-500 pl-4",children:[s.jsx("h4",{className:"font-medium text-slate-900",children:L.title}),s.jsx("p",{className:"text-sm text-slate-600 line-clamp-2",children:L.description}),s.jsxs("div",{className:"flex items-center justify-between mt-2 text-xs text-slate-500",children:[s.jsx("span",{children:L.community}),s.jsx("span",{children:L.category})]}),s.jsx("p",{className:"text-xs text-slate-400 mt-1",children:new Date(L.dateRecorded).toLocaleDateString()})]},L.id))})]})]}),s.jsxs("div",{className:"mt-8 bg-white rounded-lg shadow p-6",children:[s.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-4",children:"Cultural Protocol & FPIC Status"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-slate-50",children:[s.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-slate-700",children:"Territory"}),s.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-slate-700",children:"Stage"}),s.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-slate-700",children:"Status"}),s.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-slate-700",children:"Participants"}),s.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-slate-700",children:"Last Updated"})]})}),s.jsx("tbody",{className:"divide-y divide-slate-200",children:r.slice(0,10).map(L=>s.jsxs("tr",{className:"hover:bg-slate-50",children:[s.jsx("td",{className:"px-4 py-2 text-sm text-slate-900",children:t.find(D=>D.id===L.territoryId)?.name||"Unknown"}),s.jsx("td",{className:"px-4 py-2 text-sm text-slate-600",children:L.stage.replace("_"," ").toUpperCase()}),s.jsx("td",{className:"px-4 py-2",children:s.jsx("span",{className:`inline-block px-2 py-1 text-xs rounded-full ${L.status==="approved"?"bg-green-100 text-green-800":L.status==="declined"?"bg-red-100 text-red-800":L.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800"}`,children:L.status.toUpperCase()})}),s.jsxs("td",{className:"px-4 py-2 text-sm text-slate-600",children:[L.participants.length," participants"]}),s.jsx("td",{className:"px-4 py-2 text-sm text-slate-500",children:new Date(L.lastUpdated).toLocaleDateString()})]},L.id))})]})})]}),s.jsxs("div",{className:"mt-4 flex items-center justify-end space-x-4",children:[s.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[s.jsx("span",{className:`inline-block w-2 h-2 rounded-full ${A?"bg-green-500":"bg-yellow-500"}`}),s.jsx("span",{className:"text-slate-600",children:A?"WebSocket Connected":"WebSocket Offline"})]}),s.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[s.jsx("span",{className:"inline-block w-2 h-2 rounded-full bg-green-500"}),s.jsx("span",{className:"text-slate-600",children:"Data Stream Active"})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mt-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-xl font-semibold text-slate-900",children:"Indigenous Energy Projects"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:()=>b(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[s.jsx(n3,{size:16}),"Add Project"]}),s.jsxs("button",{onClick:T,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[s.jsx(sx,{size:16}),"Export Data"]})]})]}),s.jsxs("div",{className:"space-y-4",children:[y.map(L=>s.jsxs("div",{className:"border border-slate-200 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-medium text-slate-900",children:L.name}),s.jsx("p",{className:"text-sm text-slate-600 mt-1",children:L.community}),s.jsx("p",{className:"text-sm text-slate-500",children:L.territory_name}),s.jsxs("div",{className:"flex items-center gap-4 mt-3",children:[s.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${L.consultation_status==="completed"?"bg-green-100 text-green-800":L.consultation_status==="ongoing"?"bg-yellow-100 text-yellow-800":L.consultation_status==="pending"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:L.consultation_status.replace("_"," ").toUpperCase()}),s.jsxs("span",{className:`px-2 py-1 text-xs rounded-full ${L.fpic_status==="obtained"?"bg-green-100 text-green-800":L.fpic_status==="in_progress"?"bg-yellow-100 text-yellow-800":L.fpic_status==="declined"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:["FPIC: ",L.fpic_status.replace("_"," ").toUpperCase()]}),L.governance_status&&s.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${L.governance_status==="approved"?"bg-green-100 text-green-800":L.governance_status==="pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:L.governance_status.toUpperCase()})]}),L.benefit_sharing.revenue_share_percent&&s.jsxs("p",{className:"text-sm text-slate-600 mt-2",children:["Revenue Share: ",L.benefit_sharing.revenue_share_percent,"%"]})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsx("button",{onClick:()=>O(L.id),className:"p-2 text-slate-400 hover:text-slate-600 transition-colors",children:s.jsx(c3,{size:16})})})]}),L.consultation_log.length>0&&s.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-100",children:[s.jsx("h5",{className:"font-medium text-slate-700 mb-2",children:"Recent Consultations"}),s.jsx("div",{className:"space-y-2",children:L.consultation_log.slice(-2).map((D,G)=>s.jsxs("div",{className:"text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[s.jsx(QM,{size:14}),new Date(D.date).toLocaleDateString(),s.jsx(LA,{size:14}),D.participants.length," participants"]}),s.jsx("p",{className:"text-slate-500 mt-1",children:D.outcomes.join("; ")})]},G))})]})]},L.id)),y.length===0&&s.jsxs("div",{className:"text-center py-8 text-slate-500",children:[s.jsx(Lr,{size:48,className:"mx-auto mb-4 text-slate-300"}),s.jsx("p",{children:"No Indigenous energy projects recorded yet."}),s.jsx("p",{className:"text-sm",children:"Add your first project to start tracking consultation and benefit-sharing."})]})]}),w&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h4",{className:"text-lg font-semibold",children:"Add Indigenous Energy Project"}),s.jsx("button",{onClick:()=>b(!1),className:"text-slate-400 hover:text-slate-600",children:s.jsx(BA,{size:20})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Project Name *"}),s.jsx("input",{type:"text",value:S.name||"",onChange:L=>k({...S,name:L.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., Treaty 5 Wind Energy Partnership"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Territory Name *"}),s.jsx("input",{type:"text",value:S.territory_name||"",onChange:L=>k({...S,territory_name:L.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., Treaty 5 Territory"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Community *"}),s.jsx("input",{type:"text",value:S.community||"",onChange:L=>k({...S,community:L.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., Cree, Ojibwe, Dene"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Consultation Status"}),s.jsxs("select",{value:S.consultation_status||"not_started",onChange:L=>k({...S,consultation_status:L.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"not_started",children:"Not Started"}),s.jsx("option",{value:"ongoing",children:"Ongoing"}),s.jsx("option",{value:"completed",children:"Completed"}),s.jsx("option",{value:"pending",children:"Pending"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"FPIC Status"}),s.jsxs("select",{value:S.fpic_status||"required",onChange:L=>k({...S,fpic_status:L.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"required",children:"Required"}),s.jsx("option",{value:"in_progress",children:"In Progress"}),s.jsx("option",{value:"obtained",children:"Obtained"}),s.jsx("option",{value:"declined",children:"Declined"})]})]})]}),s.jsxs("div",{className:"flex items-center gap-3 mt-6",children:[s.jsxs("button",{onClick:P,className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[s.jsx(a3,{size:16}),"Save Project"]}),s.jsx("button",{onClick:()=>b(!1),className:"px-4 py-2 text-slate-600 border border-slate-300 rounded-lg hover:bg-slate-50 transition-colors",children:"Cancel"})]})]})})]})]})};class ss{static instance;config;cache=new Map;constructor(){this.config={enabled:!1,apiEndpoint:void 0,apiKey:void 0,confidenceThreshold:.6,maxEntities:5,fallbackMode:!0}}static getInstance(){return ss.instance||(ss.instance=new ss),ss.instance}async analyzeText(e,r){const n=`${e}_${r?.language||"en"}`;if(r?.useCache!==!1&&this.cache.has(n))return this.cache.get(n);const a={text:e,sentiment:this.analyzeSentiment(e),categories:this.categorizeText(e,r?.categories),entities:this.extractEntities(e),language:r?.language||"en",processedAt:new Date().toISOString()};return this.cache.set(n,a),a}async analyzeFeedback(e,r){const n=await this.analyzeText(e,{categories:["environmental_impact","community_concerns","technical_issues","economic_benefits","cultural_impact","scheduling_concerns","communication_issues"]});return{feedback:n,priority:this.determinePriority(n),actionItems:this.extractActionItems(n),concerns:this.extractConcerns(n),suggestions:this.extractSuggestions(n),followUpRequired:this.requiresFollowUp(n)}}async analyzeFeedbackBatch(e,r){const n=e.map(a=>this.analyzeFeedback(a,r));return Promise.all(n)}analyzeSentiment(e){const r=e.toLowerCase(),n=["excellent","great","amazing","fantastic","wonderful","good","positive","support","helpful","beneficial","productive","constructive","promising","successful","effective","efficient","improving","progress","encouraging","appreciate","thank","thanks","appreciated","pleased","satisfied"],a=["bad","terrible","awful","poor","worried","concerned","disappointed","problem","issue","risk","danger","harmful","adverse","negative","detrimental","upsetting","frustrating","unacceptable","inadequate","concerning","alarming","threatening","unacceptable"],o=["very","extremely","highly","completely","absolutely","totally"];let c=0,u=0,d=1;const m=r.split(/\s+/);for(let j=0;j<m.length;j++){const O=m[j];if(o.includes(O)){d=1.5;continue}n.includes(O)?(c+=d,d=1):a.includes(O)&&(u+=d,d=1)}const p=c-u,h=c+u,y=h>0?p/h:0,v=Math.min(Math.abs(y),1),w=Math.min(h/5,1),b=y<-.3?"negative":y>.3?"positive":"neutral";return{score:Math.max(-1,Math.min(1,y)),confidence:w,label:b,magnitude:v}}categorizeText(e,r){const n=e.toLowerCase(),a=[],o={environmental_impact:["environment","environmental","ecosystem","habitat","wildlife","pollution","climate","carbon","emissions","greenhouse","sustainability","impact"],community_concerns:["community","local","residents","families","children","health","noise","traffic","safety","school","housing","employment"],technical_issues:["technical","engineering","design","construction","maintenance","equipment","machinery","technology","power","energy","grid"],economic_benefits:["economic","jobs","employment","revenue","taxes","investment","growth","development","profit","financial","funding","income"],cultural_impact:["cultural","traditional","heritage","ancestral","sacred","spiritual","indigenous","first_nation","aboriginal","cultural","ceremony"],scheduling_concerns:["schedule","timeline","deadline","delay","timeframe","duration","planning","completion","construction","start","end"],communication_issues:["communication","inform","consultation","meeting","discussion","feedback","response","answer","question","documentation"]},c=r||Object.keys(o);for(const u of c){const d=o[u]||[],m=d.filter(p=>n.includes(p));if(m.length>0){const p=Math.min(m.length/d.length,1);a.push({category:u.replace("_"," ").replace(/\b\w/g,h=>h.toUpperCase()),confidence:p,keywords:m,subcategories:[]})}}return a.sort((u,d)=>d.confidence-u.confidence)}extractEntities(e){const r=[],n=[{type:"location",patterns:[/(?:in|near|at|from)\s+([A-Z][a-z]+)/g,/([A-Z][a-z]+(?:\s+[A-Z][a-z]+)*)(?:\s+(territory|province|region|rivers?|mountain))/gi]},{type:"date",patterns:[/\b\d{4}-\d{2}-\d{2}\b/g,/\b\d{1,2}\/\d{1,2}\/\d{4}\b/g,/\b(January|February|March|April|May|June|July|August|September|October|November|December)\s+\d{1,2}/gi]},{type:"organization",patterns:[/\b[A-Z][a-z]+(?:\s+[A-Z][a-z]+)*(?:\s+(Ltd|Inc|Corp|Company|Association|Council))\b/g]}];for(const a of n)for(const o of a.patterns){let c;for(;(c=o.exec(e))!==null;)r.push({type:a.type,text:c[1]||c[0],confidence:.7})}return r.slice(0,this.config.maxEntities)}determinePriority(e){const{sentiment:r,categories:n}=e;if(r.score<-.5||r.label==="negative")return"high";const a=["environmental_impact","cultural_impact","community_concerns"];return n.some(c=>a.includes(c.category.toLowerCase().replace(" ","_"))&&c.confidence>.7)?"high":r.score<-.1||n.some(c=>c.confidence>.8)?"medium":"low"}extractActionItems(e){const{text:r}=e,n=[],a=[/(?:need|require|should)\s+([^.!?]+(?:to|for)[^.!?]+)/gi,/(?:must|have to)\s+([^.!?]+(?:to|for)[^.!?]+)/gi,/(?:recommend|suggest)\s+([^.!?]+)/gi,/(?:please ensure|ensure that)\s+([^.!?]+)/gi];for(const o of a){let c;for(;(c=o.exec(r))!==null;)n.push(c[1].trim())}return n.slice(0,3)}extractConcerns(e){const{text:r,sentiment:n}=e;if(n.label!=="negative")return[];const a=[/(?:concerned|worried) (?:about|with|regarding)\s+([^.!?]+)/gi,/(?:problem|issue|risk) \w+ ([^.!?]+)/gi,/([^.!?]*?)(?:affect|impact|damage)[^.!?]+/gi],o=[];for(const c of a){let u;for(;(u=c.exec(r))!==null;)o.push(u[1].trim())}return o.slice(0,3)}extractSuggestions(e){const{text:r}=e,n=[/(?:suggest|recommend)\s+([^.!?]+(?:to|that)[^.!?]+)/gi,/(?:better to|would prefer|would like to see)\s+([^.!?]+)/gi,/(?:instead should)\s+([^.!?]+)/gi],a=[];for(const o of n){let c;for(;(c=o.exec(r))!==null;)a.push(c[1].trim())}return a.slice(0,3)}requiresFollowUp(e){const{sentiment:r,categories:n}=e;if(r.score<-.3)return!0;const a=["environmental_impact","cultural_impact","community_concerns"];return n.some(o=>a.includes(o.category.toLowerCase().replace(" ","_"))&&o.confidence>.8)}generateSummary(e){const r={total:e.length,positive:e.filter(m=>m.feedback.sentiment.label==="positive").length,neutral:e.filter(m=>m.feedback.sentiment.label==="neutral").length,negative:e.filter(m=>m.feedback.sentiment.label==="negative").length},n=e.reduce((m,p)=>m+p.feedback.sentiment.score,0)/e.length,a=new Map;e.forEach(m=>{m.feedback.categories.forEach(p=>{a.set(p.category,(a.get(p.category)||0)+1)})});const o=Array.from(a.entries()).map(([m,p])=>({category:m,count:p})).sort((m,p)=>p.count-m.count).slice(0,5),c=new Map;e.forEach(m=>{c.set(m.priority,(c.get(m.priority)||0)+1)});const u=Array.from(c.entries()).map(([m,p])=>({priority:m,count:p})).sort((m,p)=>p.count-m.count),d=e.filter(m=>m.followUpRequired).length;return{...r,averageSentiment:n,topCategories:o,priorities:u,followUpRequired:d}}clearCache(){this.cache.clear()}updateConfig(e){this.config={...this.config,...e}}}const wC=ss.getInstance();function lV(t,e=!0){const[r,n]=I.useState(new Map),[a,o]=I.useState(!1),[c,u]=I.useState(null),d=I.useRef(null);return I.useEffect(()=>{if(!e||t.length===0){n(new Map);return}const y=JSON.stringify(t.map(w=>[w.id,w.timestamp,w.content,w.senderId]));if(d.current===y)return;d.current=y,(async()=>{o(!0),u(null);try{const w=new Map,b=5;for(let j=0;j<t.length;j+=b){const S=t.slice(j,j+b).map(async A=>{if(A.content.trim()){const N=await wC.analyzeText(A.content,{useCache:!0});return{id:A.id,analysis:N}}return null});(await Promise.all(S)).forEach(A=>{A&&w.set(A.id,A.analysis)})}n(w)}catch(w){u(w instanceof Error?w.message:"Message analysis failed"),n(new Map)}finally{o(!1)}})()},[t,e]),{messageAnalysis:r,getMessageSentiment:y=>r.get(y)?.sentiment,getMessageCategories:y=>r.get(y)?.categories||[],getOverallSentiment:()=>{if(r.size===0)return null;const y=Array.from(r.values()).map(b=>b.sentiment),v=y.reduce((b,j)=>b+j.score,0)/y.length,w=y.reduce((b,j)=>b+j.confidence,0)/y.length;return{score:v,confidence:w,label:v>.3?"positive":v<-.3?"negative":"neutral",magnitude:Math.min(Math.abs(v),1)}},loading:a,error:c}}function cV(){const[t,e]=I.useState(!0),[r,n]=I.useState(null);return I.useEffect(()=>{const a=async()=>{const c=Date.now();try{await wC.analyzeText("Test message for health check"),n(Date.now()-c),e(!0)}catch{e(!1),n(null)}};a();const o=setInterval(a,3e4);return()=>clearInterval(o)},[]),{isHealthy:t,latency:r}}const uV=()=>{const[t,e]=I.useState([]),[r,n]=I.useState([]),[a,o]=I.useState([]),[c,u]=I.useState([]),[d,m]=I.useState(null),[p,h]=I.useState("general"),[y,v]=I.useState(""),[w]=I.useState({id:"user1",name:"Consultation Coordinator"}),b=I.useRef(null),{messages:j,isConnected:O,participants:S,sendMessage:k}=_f(p),{connectionStatus:A}=Sf("stakeholder"),[N,P]=I.useState(!0),[T,$]=I.useState(null);I.useEffect(()=>{M()},[]),I.useEffect(()=>{q()},[c,j]);const M=async()=>{try{P(!0);const Q=await(await fetch("/api/stakeholder/stakeholders")).json();e(Q);const Y=await(await fetch("/api/stakeholder/meetings")).json();n(Y);const ue=await(await fetch("/api/stakeholder/feedback")).json();o(ue);const be=await(await fetch("/api/stakeholder/messages")).json();u(be)}catch(F){$(F instanceof Error?F.message:"Failed to load data")}finally{P(!1)}},q=()=>{b.current?.scrollIntoView({behavior:"smooth"})},R=async()=>{if(y.trim())try{if(O)k(y),v("");else{const F={id:Date.now().toString(),senderId:w.id,senderName:w.name,content:y,timestamp:new Date().toISOString(),type:"message"};await fetch("/api/stakeholder/messages",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(F)}),u(Q=>[...Q,F]),v("")}}catch(F){console.error("Failed to send message:",F)}},U=W.useMemo(()=>{const F=t.length,Q=r.filter(Y=>new Date(Y.date)>new Date).length,z=a.length>0?a.reduce((Y,ne)=>Y+ne.sentiment,0)/a.length:0;return{totalStakeholders:F,upcomingMeetings:Q,totalMeetings:r.length,averageSentiment:z,feedbackEntries:a.length}},[t,r,a]),B=W.useMemo(()=>Array.from({length:7},(Q,z)=>{const Y=new Date;return Y.setDate(Y.getDate()-z),Y.toISOString().split("T")[0]}).reverse().map(Q=>{const z=a.filter(ne=>ne.timestamp.startsWith(Q)),Y=z.length>0?z.reduce((ne,ue)=>ne+ue.sentiment,0)/z.length:0;return{date:Q.substring(5),sentiment:Y*100,count:z.length}}),[a]),V=W.useMemo(()=>{const F={};return a.forEach(Q=>{Q.categories.forEach(z=>{F[z]=(F[z]||0)+1})}),Object.entries(F).map(([Q,z])=>({category:Q.charAt(0).toUpperCase()+Q.slice(1),count:z})).sort((Q,z)=>z.count-Q.count)},[a]),L=W.useMemo(()=>{const F=c.map(z=>({...z,id:z.id,senderName:z.senderName||"Unknown User",senderId:z.senderId,content:z.content,timestamp:z.timestamp})),Q=j.map((z,Y)=>({id:`${z.timestamp}_${Y}`,senderId:z.senderId||"system",senderName:z.senderId==="system"?"System":"User",content:z.payload?.content||JSON.stringify(z.payload),timestamp:z.timestamp,type:z.type}));return[...F,...Q].sort((z,Y)=>new Date(z.timestamp).getTime()-new Date(Y.timestamp).getTime()).slice(-100)},[c,j]),D=O,G=W.useMemo(()=>L.map(F=>({id:F.id,content:F.content,senderId:F.senderId,senderName:F.senderName||"Unknown",timestamp:F.timestamp})),[L]),{getOverallSentiment:C}=lV(G,G.length>0);return cV(),C(),N?s.jsx("div",{className:"flex items-center justify-center h-96",children:s.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):s.jsx("div",{className:"min-h-screen bg-slate-50",children:s.jsxs("div",{className:Te.page,children:[s.jsx(bC,{featureId:"stakeholder_coordination"}),s.jsx("header",{className:"mb-8",children:s.jsxs("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between gap-3",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Stakeholder Coordination Dashboard"}),s.jsx(ht,{id:"module.stakeholder.overview"})]}),s.jsx("p",{className:"text-slate-600 mt-2",children:"Manage consultations, track feedback, and collaborate in real-time"})]}),s.jsx("div",{className:"self-start",children:s.jsx(ht,{id:"module.stakeholder.protocols",className:"bg-indigo-600 hover:bg-indigo-500 border-indigo-500"})})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Total Stakeholders"}),s.jsx(ht,{id:"metric.stakeholder.total"})]}),s.jsx("p",{className:"text-3xl font-bold text-blue-600",children:U.totalStakeholders})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Upcoming Meetings"}),s.jsx(ht,{id:"metric.stakeholder.upcoming_meetings"})]}),s.jsx("p",{className:"text-3xl font-bold text-green-600",children:U.upcomingMeetings})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Average Sentiment"}),s.jsx(ht,{id:"metric.stakeholder.average_sentiment"})]}),s.jsxs("p",{className:`text-3xl font-bold ${U.averageSentiment>.3?"text-green-600":U.averageSentiment<-.3?"text-red-600":"text-yellow-600"}`,children:[(U.averageSentiment*100).toFixed(0),"%"]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Feedback Entries"}),s.jsx(ht,{id:"metric.stakeholder.feedback_entries"})]}),s.jsx("p",{className:"text-3xl font-bold text-purple-600",children:U.feedbackEntries})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsx("h3",{className:"text-xl font-semibold text-slate-900",children:"Sentiment Trend (7 Days)"}),s.jsx(ht,{id:"chart.stakeholder.sentiment_trend"})]}),s.jsx(xt,{width:"100%",height:300,children:s.jsxs(mi,{data:B,children:[s.jsx(St,{strokeDasharray:"3 3"}),s.jsx(at,{dataKey:"date"}),s.jsx(Je,{}),s.jsx(ze,{formatter:(F,Q)=>[`${F.toFixed(1)}%`,Q]}),s.jsx(Qt,{type:"monotone",dataKey:"sentiment",stroke:"#8b5cf6",strokeWidth:2,dot:{fill:"#8b5cf6",strokeWidth:2,r:4}})]})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsx("h3",{className:"text-xl font-semibold text-slate-900",children:"Feedback Categories"}),s.jsx(ht,{id:"chart.stakeholder.feedback_categories"})]}),s.jsx(xt,{width:"100%",height:300,children:s.jsxs(Oa,{data:V,children:[s.jsx(St,{strokeDasharray:"3 3"}),s.jsx(at,{dataKey:"category"}),s.jsx(Je,{}),s.jsx(ze,{}),s.jsx(Wt,{dataKey:"count",fill:"#6366f1"})]})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-4",children:"Upcoming Meetings"}),s.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:r.filter(F=>new Date(F.date)>new Date&&F.status==="scheduled").slice(0,5).map(F=>s.jsxs("div",{className:"p-4 rounded-lg border cursor-pointer hover:border-slate-300 border-slate-200",onClick:()=>m(F),children:[s.jsx("h4",{className:"font-medium text-slate-900 mb-2",children:F.title}),s.jsxs("div",{className:"flex items-center justify-between text-sm text-slate-600 mb-2",children:[s.jsx("span",{children:new Date(`${F.date}T${F.startTime}`).toLocaleDateString("en-CA",{weekday:"short",month:"short",day:"numeric"})}),s.jsxs("span",{children:[F.startTime," - ",F.endTime]})]}),s.jsxs("p",{className:"text-sm text-slate-500 capitalize",children:[F.type.replace("_"," "),"  ",F.participants.length," participants"]})]},F.id))})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-4",children:"Active Stakeholders"}),s.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:t.slice(0,10).map(F=>s.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border border-slate-200",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-slate-900",children:F.name}),s.jsx("p",{className:"text-sm text-slate-600",children:F.organization})]}),s.jsxs("div",{className:"flex flex-col items-end",children:[s.jsxs("span",{className:`px-2 py-1 text-xs rounded-full mb-1 ${F.sentiment&&F.sentiment>.3?"bg-green-100 text-green-800":F.sentiment&&F.sentiment<-.3?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:["Sentiment: ",F.sentiment?(F.sentiment*100).toFixed(0)+"%":"N/A"]}),s.jsx("span",{className:"text-xs text-slate-500",children:F.role})]})]},F.id))})]})]}),s.jsxs("div",{className:"mt-8 bg-white rounded-lg shadow overflow-hidden",children:[s.jsxs("div",{className:"p-6 border-b border-slate-200",children:[s.jsx("h3",{className:"text-xl font-semibold text-slate-900",children:"Real-time Collaboration"}),s.jsx("p",{className:"text-slate-600",children:"Discuss consultations and share updates"})]}),s.jsx("div",{className:"flex h-96",children:s.jsxs("div",{className:"flex-1 flex flex-col",children:[s.jsx("div",{className:"p-3 border-b border-slate-200 bg-slate-50",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("select",{value:p,onChange:F=>h(F.target.value),className:"px-3 py-1 border border-slate-300 rounded-md text-sm",children:[s.jsx("option",{value:"general",children:"General Consultation"}),s.jsx("option",{value:"environmental",children:"Environmental Impact"}),s.jsx("option",{value:"community",children:"Community Feedback"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("div",{className:`inline-flex items-center px-2 py-1 text-xs rounded-full ${D?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:[s.jsx("span",{className:`inline-block w-2 h-2 rounded-full mr-1 ${D?"bg-green-500":"bg-yellow-500"}`}),D?"Real-time":"Streaming"]}),S.length>0&&s.jsxs("span",{className:"text-xs text-slate-500",children:[S.length," online"]})]})]})}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[L.map(F=>s.jsx("div",{className:`flex ${F.senderId===w.id?"justify-end":"justify-start"}`,children:s.jsxs("div",{className:`max-w-xs lg:max-w-md p-3 rounded-lg ${F.senderId===w.id?"bg-blue-600 text-white rounded-br-none":F.senderId==="system"?"bg-green-100 text-green-800 rounded-l-none":"bg-slate-100 text-slate-900 rounded-bl-none"}`,children:[s.jsxs("div",{className:"text-xs opacity-75 mb-1",children:[F.senderName,"  ",new Date(F.timestamp).toLocaleTimeString()]}),s.jsx("div",{className:"break-words",children:F.content})]})},F.id)),s.jsx("div",{ref:b})]}),s.jsx("div",{className:"border-t border-slate-200 p-4",children:s.jsxs("div",{className:"flex space-x-4",children:[s.jsx("input",{type:"text",value:y,onChange:F=>v(F.target.value),onKeyPress:F=>F.key==="Enter"&&R(),placeholder:"Type your message...",className:"flex-1 px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),s.jsx("button",{onClick:R,disabled:!y.trim(),className:"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Send"})]})})]})})]}),s.jsxs("div",{className:"mt-4 flex items-center justify-end space-x-4",children:[s.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[s.jsx("span",{className:`inline-block w-2 h-2 rounded-full ${D?"bg-green-500":"bg-yellow-500"}`}),s.jsx("span",{className:"text-slate-600",children:D?"WebSocket Connected":"HTTP Fallback"})]}),s.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[s.jsx("span",{className:`inline-block w-2 h-2 rounded-full ${A==="connected"?"bg-green-500":"bg-red-500"}`}),s.jsx("span",{className:"text-slate-600",children:A==="connected"?"Data Stream Active":"Data Stream Offline"})]})]})]})})},dV=()=>{const[t,e]=I.useState([]),[r,n]=I.useState([]),[a,o]=I.useState(null),[c,u]=I.useState("Ontario"),[d,m]=I.useState(!0),[p,h]=I.useState(null),[y,v]=I.useState(!1),{data:w,connectionStatus:b,isUsingRealData:j}=Sf("ontario-demand"),{isConnected:O}=_f("grid-optimization"),S=I.useCallback((M,q,R)=>{if(!M)return null;const U=Number(M.demand_mw??M.demand??M.ontario_demand??M.load??NaN),B=Number(M.supply_mw??M.supply??M.generation??NaN),V=Number.isFinite(U),L=Number.isFinite(B);if(!V&&!L)return null;const D=V?U:0,G=L?B:D*1.05,C=Number(M.frequency_hz??M.frequency??60),F=Number(M.voltage_kv??M.voltage??120),Q=Number(M.congestion_index??M.congestion??0),z=M.status||(Q>.25?"warning":"stable");return{id:M.id||`grid_${M.captured_at||R}`,region:M.region||q,demand:D,supply:G,frequency:C,voltage:F,congestion:Q,timestamp:M.captured_at||M.timestamp||M.last_updated||new Date().toISOString(),status:z}},[]),k=I.useCallback(async()=>{try{m(!0);const M=encodeURIComponent(c),[q,R,U]=await Promise.all([At([`api-v2-grid-status?region=${M}`,"api/grid/status"]),At([`api-v2-grid-stability-metrics?region=${M}`,"api/grid/stability-metrics"]),At([`api-v2-grid-optimization-recommendations?region=${M}`,"api/grid/optimization-recommendations"])]),V=(Array.isArray(q.json?.records)?q.json.records:Array.isArray(q.json)?q.json:[]).map((C,F)=>S(C,c,F)).filter(C=>C!==null);e(V);const L=Array.isArray(R.json)?R.json[0]:R.json;o(L?{frequencyStability:Number(L.frequency_stability??L.frequencyStability??0),voltageStability:Number(L.voltage_stability??L.voltageStability??0),congestionIndex:Number(L.congestion_index??L.congestionIndex??0),reserveMargin:Number(L.reserve_margin??L.reserveMargin??0),lastUpdated:L.last_updated||L.lastUpdated||new Date().toISOString()}:null);const G=(Array.isArray(U.json?.recommendations)?U.json.recommendations:Array.isArray(U.json)?U.json:[]).map((C,F)=>({id:C.id||`recommendation_${C.generated_at||F}`,type:C.recommendation_type||C.type||"demand_response",priority:C.priority||"medium",description:C.description||"Optimization recommendation",expectedImpact:Number(C.expected_impact_percent??C.expectedImpact??0),implementationTime:Number(C.implementation_time_minutes??C.implementationTime??0),confidence:typeof C.confidence=="number"?C.confidence:Number(C.confidence??0),timestamp:C.generated_at||C.timestamp||new Date().toISOString()}));n(G),v(!1)}catch(M){const R=(M instanceof Error?M.message:String(M)).includes("VITE_ENABLE_EDGE_FETCH=false");R||console.error("Failed to load grid data",M),h(R?"Supabase Edge fetch disabled via configuration. Using local grid dataset.":"Using locally generated grid dataset while Supabase APIs are unavailable."),v(!0);const U=await yC.getGridStatus();e(U.map((V,L)=>S({id:V.id,region:V.region,demand_mw:V.load_mw,supply_mw:V.generation_mw,frequency_hz:V.grid_frequency_hz,voltage_kv:120,congestion_index:V.congestion_level==="high"?.6:V.congestion_level==="medium"?.35:.15,status:V.voltage_stability,captured_at:V.timestamp},V.region,L)??null).filter(V=>V!==null));const B=U[0]?.reserve_margin_percent??8;o({frequencyStability:.95,voltageStability:.9,congestionIndex:.25,reserveMargin:B,lastUpdated:U[0]?.timestamp??new Date().toISOString()}),n([])}finally{m(!1)}},[S,c]);I.useEffect(()=>{k()},[c,k]);const A=I.useCallback(M=>{if(M.length===0)return;const q=M[M.length-1],R=S(q,c,Date.now());R&&e(U=>[R,...U].slice(0,100))},[S,c]);I.useEffect(()=>{w.length>0&&A(w)},[w,A]);const N=I.useMemo(()=>{if(t.length===0)return null;const M=t[0],q=t.slice(0,24).reduce((U,B)=>U+B.demand,0)/Math.min(24,t.length),R=t.slice(0,24).reduce((U,B)=>U+B.supply,0)/Math.min(24,t.length);return{currentDemand:M.demand,currentSupply:M.supply,reserveMargin:(M.supply-M.demand)/M.demand*100,frequencyDeviation:Math.abs(60-M.frequency),voltageDeviation:Math.abs(120-M.voltage),avgDemand:q,avgSupply:R,criticalAlerts:r.filter(U=>U.priority==="critical").length,highPriorityActions:r.filter(U=>U.priority==="high").length}},[t,r]),P=I.useMemo(()=>t.slice(0,24).reverse().map((M,q)=>({time:`${24-q}h ago`,demand:M.demand,supply:M.supply,reserve:M.supply-M.demand})),[t]),T=I.useMemo(()=>t.slice(0,12).reverse().map((M,q)=>({time:`${12-q}h ago`,frequency:M.frequency,voltage:M.voltage,congestion:M.congestion})),[t]),$=I.useMemo(()=>{const M=r.reduce((q,R)=>(q[R.priority]=(q[R.priority]||0)+1,q),{});return Object.entries(M).map(([q,R])=>({priority:q.charAt(0).toUpperCase()+q.slice(1),count:R,color:q==="critical"?"#ef4444":q==="high"?"#f59e0b":q==="medium"?"#3b82f6":"#10b981"}))},[r]);return d?s.jsx("div",{className:"flex items-center justify-center h-96",children:s.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):s.jsx("div",{className:"min-h-screen bg-slate-50",children:s.jsxs("div",{className:Te.page,children:[s.jsx(xC,{featureId:"grid_optimization"}),s.jsxs("header",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-slate-900 mb-2",children:"Grid Optimization Dashboard"}),s.jsx("p",{className:"text-slate-600",children:"Real-time grid monitoring, stability analysis, and optimization recommendations"}),p&&s.jsx("div",{className:`mt-4 rounded-lg p-4 ${y?"bg-amber-50 border border-amber-200 text-amber-700":"bg-red-50 border border-red-200 text-red-700"}`,children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(_r,{className:`h-5 w-5 ${y?"text-amber-600":"text-red-600"}`}),s.jsxs("div",{children:[s.jsx("h3",{className:`font-semibold mb-1 ${y?"text-amber-800":"text-red-800"}`,children:y?"Fallback Dataset Active":"Data Load Issue"}),s.jsx("p",{className:`${y?"text-amber-700":"text-red-700"} text-sm`,children:p})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:s.jsx(pt,{className:"h-6 w-6 text-blue-600"})}),s.jsxs("div",{className:`flex items-center space-x-1 px-2 py-1 rounded-full text-xs font-medium ${N?.reserveMargin&&N.reserveMargin>10?"bg-green-100 text-green-700":N?.reserveMargin&&N.reserveMargin>5?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:[N?.reserveMargin&&N.reserveMargin>10?s.jsx(zt,{className:"h-3 w-3"}):N?.reserveMargin&&N.reserveMargin>5?s.jsx(_r,{className:"h-3 w-3"}):s.jsx(_r,{className:"h-3 w-3"}),s.jsx("span",{children:N?.reserveMargin&&N.reserveMargin>10?"HEALTHY":N?.reserveMargin&&N.reserveMargin>5?"MONITOR":"CRITICAL"})]})]}),s.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Reserve Margin"}),s.jsxs("p",{className:"text-3xl font-bold text-blue-600",children:[N?.reserveMargin?.toFixed(1),"%"]}),s.jsxs("p",{className:"text-sm text-slate-600 mt-1",children:[N?.currentSupply?.toLocaleString()," MW supply vs ",N?.currentDemand?.toLocaleString()," MW demand"]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:s.jsx(gn,{className:"h-6 w-6 text-green-600"})}),s.jsxs("div",{className:`flex items-center space-x-1 px-2 py-1 rounded-full text-xs font-medium ${N?.frequencyDeviation&&N.frequencyDeviation<.05?"bg-green-100 text-green-700":N?.frequencyDeviation&&N.frequencyDeviation<.1?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:[N?.frequencyDeviation&&N.frequencyDeviation<.05?s.jsx(zt,{className:"h-3 w-3"}):s.jsx(_r,{className:"h-3 w-3"}),s.jsx("span",{children:N?.frequencyDeviation&&N.frequencyDeviation<.05?"STABLE":"DEVIATION"})]})]}),s.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Frequency"}),s.jsxs("p",{className:"text-3xl font-bold text-green-600",children:[t[0]?.frequency?.toFixed(3)," Hz"]}),s.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Target: 60.000 Hz"})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:s.jsx(oi,{className:"h-6 w-6 text-purple-600"})}),s.jsxs("div",{className:`flex items-center space-x-1 px-2 py-1 rounded-full text-xs font-medium ${N?.criticalAlerts===0?"bg-green-100 text-green-700":N?.criticalAlerts&&N.criticalAlerts<3?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:[s.jsx(_r,{className:"h-3 w-3"}),s.jsxs("span",{children:[N?.criticalAlerts||0," CRITICAL"]})]})]}),s.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Active Alerts"}),s.jsx("p",{className:"text-3xl font-bold text-purple-600",children:r.length}),s.jsxs("p",{className:"text-sm text-slate-600 mt-1",children:[N?.highPriorityActions||0," high priority actions needed"]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:s.jsx(hr,{className:"h-6 w-6 text-orange-600"})}),s.jsxs("div",{className:`flex items-center space-x-1 px-2 py-1 rounded-full text-xs font-medium ${O?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:[O?s.jsx(ox,{className:"h-3 w-3"}):s.jsx(FA,{className:"h-3 w-3"}),s.jsx("span",{children:O?"LIVE":"OFFLINE"})]})]}),s.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Data Source"}),s.jsx("p",{className:"text-3xl font-bold text-orange-600",children:j?"IESO":"MOCK"}),s.jsx("p",{className:"text-sm text-slate-600 mt-1",children:b==="connected"?"Real-time streaming":"Cached data"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-4",children:"Demand vs Supply (24h)"}),s.jsx(xt,{width:"100%",height:300,children:s.jsxs(NG,{data:P,children:[s.jsx(St,{strokeDasharray:"3 3"}),s.jsx(at,{dataKey:"time"}),s.jsx(Je,{}),s.jsx(ze,{formatter:M=>[`${M.toLocaleString()} MW`,""]}),s.jsx(Zt,{}),s.jsx(Hn,{type:"monotone",dataKey:"demand",stackId:"1",stroke:"#ef4444",fill:"#fee2e2"}),s.jsx(Hn,{type:"monotone",dataKey:"supply",stackId:"2",stroke:"#10b981",fill:"#d1fae5"})]})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-4",children:"Grid Stability Metrics"}),s.jsx(xt,{width:"100%",height:300,children:s.jsxs(mi,{data:T,children:[s.jsx(St,{strokeDasharray:"3 3"}),s.jsx(at,{dataKey:"time"}),s.jsx(Je,{yAxisId:"freq",orientation:"left",domain:[59.9,60.1]}),s.jsx(Je,{yAxisId:"volt",orientation:"right",domain:[118,122]}),s.jsx(ze,{}),s.jsx(Zt,{}),s.jsx(Qt,{yAxisId:"freq",type:"monotone",dataKey:"frequency",stroke:"#3b82f6",strokeWidth:2,name:"Frequency (Hz)"}),s.jsx(Qt,{yAxisId:"volt",type:"monotone",dataKey:"voltage",stroke:"#f59e0b",strokeWidth:2,name:"Voltage (V)"})]})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-4",children:"AI Optimization Recommendations"}),s.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:r.length===0?s.jsxs("div",{className:"text-center py-8 text-slate-500",children:[s.jsx(oi,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No optimization recommendations at this time"})]}):r.slice(0,5).map(M=>s.jsxs("div",{className:`p-4 rounded-lg border ${M.priority==="critical"?"border-red-200 bg-red-50":M.priority==="high"?"border-yellow-200 bg-yellow-50":M.priority==="medium"?"border-blue-200 bg-blue-50":"border-green-200 bg-green-50"}`,children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsx("h4",{className:"font-medium text-slate-900",children:M.description}),s.jsx("span",{className:`px-2 py-1 text-xs rounded-full font-medium ${M.priority==="critical"?"bg-red-100 text-red-700":M.priority==="high"?"bg-yellow-100 text-yellow-700":M.priority==="medium"?"bg-blue-100 text-blue-700":"bg-green-100 text-green-700"}`,children:M.priority.toUpperCase()})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm text-slate-600",children:[s.jsxs("span",{children:["Expected Impact: ",M.expectedImpact>0?"+":"",M.expectedImpact,"%"]}),s.jsxs("span",{children:["Time: ",M.implementationTime,"min"]})]}),s.jsxs("div",{className:"mt-2 text-xs text-slate-500",children:["Confidence: ",Math.round(M.confidence*100),"%"]})]},M.id))})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-4",children:"Recommendations by Priority"}),s.jsx(xt,{width:"100%",height:300,children:s.jsxs(ub,{children:[s.jsx(ln,{data:$,cx:"50%",cy:"50%",labelLine:!1,label:({priority:M,count:q})=>`${M}: ${q}`,outerRadius:80,fill:"#8884d8",dataKey:"count",children:$.map((M,q)=>s.jsx(yi,{fill:M.color},`cell-${q}`))}),s.jsx(ze,{})]})})]})]}),s.jsxs("div",{className:"mt-4 flex items-center justify-end space-x-4",children:[s.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[s.jsx("span",{className:`inline-block w-2 h-2 rounded-full ${O?"bg-green-500":"bg-yellow-500"}`}),s.jsx("span",{className:"text-slate-600",children:O?"Real-time WebSocket Connected":"WebSocket Offline"})]}),s.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[s.jsx("span",{className:`inline-block w-2 h-2 rounded-full ${b==="connected"?"bg-green-500":"bg-red-500"}`}),s.jsx("span",{className:"text-slate-600",children:b==="connected"?"IESO Data Stream Active":"IESO Data Stream Offline"})]})]})]})})},fV=()=>{const[t,e]=I.useState([]),[r,n]=I.useState([]),[a,o]=I.useState(null),[c,u]=I.useState([]),[d,m]=I.useState("24h"),[p,h]=I.useState(!0),[y,v]=I.useState(null),{data:w,connectionStatus:b}=Sf("security-events"),{isConnected:j}=_f("security-monitoring"),O=I.useCallback((D,G)=>{const C=D*G;return C>=.6?"critical":C>=.4?"high":C>=.2?"medium":"low"},[]),S=I.useCallback(D=>D?{id:D.id||`threat_${D.vector||D.category||Date.now()}`,type:D.category||"cyber",severity:D.severity||O(D.impact??0,D.likelihood??0),likelihood:Number(D.likelihood??0),impact:Number(D.impact??0),description:D.description||D.mitigation_summary||"Threat description pending",affectedAssets:Array.isArray(D.affected_assets)?D.affected_assets:[],mitigationStrategies:Array.isArray(D.mitigation_strategies)?D.mitigation_strategies:[],detectionMethods:Array.isArray(D.detection_methods)?D.detection_methods:[],lastAssessed:D.last_reviewed||D.lastAssessed||new Date().toISOString(),riskScore:Number(D.likelihood??0)*Number(D.impact??0)}:null,[O]),k=I.useCallback((D,G)=>D?{id:D.id||`incident_${G}`,type:String(D.incident_type||D.type||"unknown"),severity:D.severity||"medium",status:D.status||"detected",description:D.description||"Security event detected",affectedSystems:Array.isArray(D.affected_systems)?D.affected_systems:[],timestamp:D.detected_at||D.timestamp||new Date().toISOString(),responseTime:Number(D.response_time_minutes??D.responseTime??0),resolutionTime:D.resolution_time_minutes??D.resolutionTime?Number(D.resolution_time_minutes??D.resolutionTime):void 0}:null,[]),A=I.useCallback(D=>D?{id:D.id||`mitigation_${D.strategy_name||Date.now()}`,threatId:D.related_threat||D.threatId||"",strategy:D.strategy_name||D.strategy||"Mitigation strategy",priority:D.priority||"medium",implementationStatus:D.status||"planned",expectedEffectiveness:Number(D.effectiveness??D.expectedEffectiveness??0),cost:Number(D.cost_estimate??D.cost??0),timeline:`${D.time_to_implement_days??D.timeline??0} days`,responsibleParty:D.responsible_party||D.responsibleParty||"Unassigned"}:null,[]),N=I.useCallback(D=>(Array.isArray(D?.threats)?D.threats:Array.isArray(D)?D:[]).map(S).filter(C=>C!==null),[S]),P=I.useCallback(D=>(Array.isArray(D?.incidents)?D.incidents:Array.isArray(D)?D:[]).map((C,F)=>k(C,F)).filter(C=>C!==null),[k]),T=I.useCallback(D=>{const G=Array.isArray(D)?D[0]:D;return G?{overallRiskScore:Number(G.overall_risk_score??G.overallRiskScore??0),activeIncidents:Number(G.active_incidents_count??G.activeIncidents??0),criticalVulnerabilities:Number(G.critical_vulnerabilities??G.criticalVulnerabilities??0),complianceScore:Number(G.compliance_score??G.complianceScore??0),threatDetectionRate:Number(G.detection_rate??G.threatDetectionRate??0),lastUpdated:G.last_updated||G.lastUpdated||new Date().toISOString()}:null},[]),$=I.useCallback(D=>(Array.isArray(D?.strategies)?D.strategies:Array.isArray(D)?D:[]).map(A).filter(C=>C!==null),[A]),M=I.useCallback(async()=>{try{h(!0);const[D,G,C,F]=await Promise.all([At(["api-v2-security-threat-models","api/security/threat-models"]),At(["api-v2-security-incidents","api/security/incidents"]),At(["api-v2-security-metrics","api/security/metrics"]),At(["api-v2-security-mitigation-strategies","api/security/mitigation-strategies"])]),Q=N(D.json);e(Q);const z=P(G.json);n(z);const Y=T(C.json);o(Y);const ne=$(F.json);u(ne)}catch(D){const C=(D instanceof Error?D.message:String(D)).includes("VITE_ENABLE_EDGE_FETCH=false");C||console.error("Failed to load security data",D),v(C?"Supabase Edge fetch disabled via configuration. Showing security fallback dataset.":D instanceof Error?D.message:"Failed to load security data")}finally{h(!1)}},[P,T,$,N]),q=I.useCallback(D=>{if(D.length===0)return;const G=D.map((C,F)=>k(C,`stream_${Date.now()}_${F}`)).filter(C=>C!==null);G.length!==0&&n(C=>[...G,...C].slice(0,100))},[k]);I.useEffect(()=>{M()},[d,M]),I.useEffect(()=>{w.length>0&&q(w)},[w,q]);const R=I.useMemo(()=>{if(!a)return null;const D=r.filter(F=>F.status!=="resolved").length,G=r.filter(F=>F.severity==="critical").length,C=r.length>0?r.reduce((F,Q)=>F+Q.responseTime,0)/r.length:0;return{overallRiskScore:a.overallRiskScore,activeIncidents:D,criticalIncidents:G,complianceScore:a.complianceScore,threatDetectionRate:a.threatDetectionRate,avgResponseTime:C}},[a,r]),U=I.useMemo(()=>t.map(D=>({x:D.likelihood*100,y:D.impact*100,name:D.type,severity:D.severity,riskScore:D.riskScore})),[t]),B=I.useMemo(()=>Array.from({length:24},(G,C)=>{const F=new Date;return F.setHours(F.getHours()-C),F.toISOString().substring(0,13)}).reverse().map(G=>{const C=r.filter(F=>F.timestamp.startsWith(G));return{hour:G.substring(11,13)+":00",incidents:C.length,critical:C.filter(F=>F.severity==="critical").length,resolved:C.filter(F=>F.status==="resolved").length}}),[r]),V=I.useMemo(()=>{const D=t.reduce((G,C)=>(G[C.type]=(G[C.type]||0)+1,G),{});return Object.entries(D).map(([G,C])=>({type:G.replace("_"," ").replace(/\b\w/g,F=>F.toUpperCase()),count:C,color:G==="cyber"?"#ef4444":G==="physical"?"#f59e0b":G==="supply_chain"?"#3b82f6":"#10b981"}))},[t]),L=I.useMemo(()=>{const D=c.reduce((G,C)=>(G[C.implementationStatus]=(G[C.implementationStatus]||0)+1,G),{});return Object.entries(D).map(([G,C])=>({status:G.replace("_"," ").replace(/\b\w/g,F=>F.toUpperCase()),count:C,color:G==="implemented"?"#10b981":G==="in_progress"?"#f59e0b":G==="planned"?"#6b7280":"#ef4444"}))},[c]);return p?s.jsx("div",{className:"flex items-center justify-center h-96",children:s.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):s.jsx("div",{className:"min-h-screen bg-slate-50",children:s.jsxs("div",{className:Te.page,children:[s.jsx(xC,{featureId:"security_assessment"}),s.jsxs("header",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-slate-900 mb-2",children:"Security Assessment Dashboard"}),s.jsx("p",{className:"text-slate-600",children:"Threat modeling, incident monitoring, and security mitigation strategies"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"p-3 bg-red-100 rounded-lg",children:s.jsx(Lr,{className:"h-6 w-6 text-red-600"})}),s.jsxs("div",{className:`flex items-center space-x-1 px-2 py-1 rounded-full text-xs font-medium ${(R?.overallRiskScore||0)<30?"bg-green-100 text-green-700":(R?.overallRiskScore||0)<70?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:[(R?.overallRiskScore||0)<30?s.jsx(Lr,{className:"h-3 w-3"}):(R?.overallRiskScore||0)<70?s.jsx(_r,{className:"h-3 w-3"}):s.jsx(si,{className:"h-3 w-3"}),s.jsx("span",{children:(R?.overallRiskScore||0)<30?"LOW RISK":(R?.overallRiskScore||0)<70?"MEDIUM RISK":"HIGH RISK"})]})]}),s.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Overall Risk Score"}),s.jsx("p",{className:"text-3xl font-bold text-red-600",children:R?.overallRiskScore?.toFixed(1)||"0.0"}),s.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Out of 100 (lower is better)"})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:s.jsx(_r,{className:"h-6 w-6 text-orange-600"})}),s.jsxs("div",{className:`flex items-center space-x-1 px-2 py-1 rounded-full text-xs font-medium ${(R?.activeIncidents||0)===0?"bg-green-100 text-green-700":(R?.activeIncidents||0)<5?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:[s.jsx(_r,{className:"h-3 w-3"}),s.jsx("span",{children:(R?.activeIncidents||0)===0?"CLEAR":"ACTIVE"})]})]}),s.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Active Incidents"}),s.jsx("p",{className:"text-3xl font-bold text-orange-600",children:R?.activeIncidents||0}),s.jsxs("p",{className:"text-sm text-slate-600 mt-1",children:[R?.criticalIncidents||0," critical incidents"]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:s.jsx(oi,{className:"h-6 w-6 text-blue-600"})}),s.jsxs("div",{className:`flex items-center space-x-1 px-2 py-1 rounded-full text-xs font-medium ${(R?.complianceScore||0)>90?"bg-green-100 text-green-700":(R?.complianceScore||0)>70?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:[s.jsx(oi,{className:"h-3 w-3"}),s.jsx("span",{children:(R?.complianceScore||0)>90?"COMPLIANT":"MONITOR"})]})]}),s.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Compliance Score"}),s.jsxs("p",{className:"text-3xl font-bold text-blue-600",children:[R?.complianceScore?.toFixed(1)||"0.0","%"]}),s.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Regulatory compliance rating"})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:s.jsx(hr,{className:"h-6 w-6 text-green-600"})}),s.jsxs("div",{className:`flex items-center space-x-1 px-2 py-1 rounded-full text-xs font-medium ${(R?.threatDetectionRate||0)>95?"bg-green-100 text-green-700":(R?.threatDetectionRate||0)>80?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:[s.jsx(hr,{className:"h-3 w-3"}),s.jsx("span",{children:(R?.threatDetectionRate||0)>95?"EXCELLENT":"GOOD"})]})]}),s.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Detection Rate"}),s.jsxs("p",{className:"text-3xl font-bold text-green-600",children:[R?.threatDetectionRate?.toFixed(1)||"0.0","%"]}),s.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Threat detection effectiveness"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-4",children:"Threat Risk Matrix"}),s.jsx(xt,{width:"100%",height:300,children:s.jsxs(db,{data:U,children:[s.jsx(St,{strokeDasharray:"3 3"}),s.jsx(at,{type:"number",dataKey:"x",domain:[0,100],label:{value:"Likelihood (%)",position:"insideBottom",offset:-5}}),s.jsx(Je,{type:"number",dataKey:"y",domain:[0,100],label:{value:"Impact (%)",angle:-90,position:"insideLeft"}}),s.jsx(ze,{formatter:(D,G)=>[`${D}%`,G==="x"?"Likelihood":"Impact"],labelFormatter:D=>`Threat: ${U.find(G=>G.x===D)?.name||"Unknown"}`}),s.jsx(wi,{dataKey:"y",fill:"#ef4444",shape:D=>{const{cx:G,cy:C,payload:F}=D,Q=F.severity==="critical"?"#ef4444":F.severity==="high"?"#f59e0b":F.severity==="medium"?"#3b82f6":"#10b981";return s.jsx("circle",{cx:G,cy:C,r:6,fill:Q,stroke:"#fff",strokeWidth:2})}})]})}),s.jsx("div",{className:"mt-4 text-sm text-slate-600",children:"Risk matrix showing threat likelihood vs impact. Circle size indicates risk score."})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-4",children:"Incident Timeline (24h)"}),s.jsx(xt,{width:"100%",height:300,children:s.jsxs(Oa,{data:B,children:[s.jsx(St,{strokeDasharray:"3 3"}),s.jsx(at,{dataKey:"hour"}),s.jsx(Je,{}),s.jsx(ze,{}),s.jsx(Zt,{}),s.jsx(Wt,{dataKey:"incidents",stackId:"a",fill:"#ef4444",name:"Total Incidents"}),s.jsx(Wt,{dataKey:"critical",stackId:"a",fill:"#dc2626",name:"Critical"}),s.jsx(Wt,{dataKey:"resolved",stackId:"b",fill:"#10b981",name:"Resolved"})]})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-4",children:"Threat Types Distribution"}),s.jsx(xt,{width:"100%",height:300,children:s.jsxs(ub,{children:[s.jsx(ln,{data:V,cx:"50%",cy:"50%",labelLine:!1,label:({type:D,count:G})=>`${D}: ${G}`,outerRadius:80,fill:"#8884d8",dataKey:"count",children:V.map((D,G)=>s.jsx(yi,{fill:D.color},`cell-${G}`))}),s.jsx(ze,{})]})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-4",children:"Mitigation Strategies Status"}),s.jsx(xt,{width:"100%",height:300,children:s.jsxs(Oa,{data:L,children:[s.jsx(St,{strokeDasharray:"3 3"}),s.jsx(at,{dataKey:"status"}),s.jsx(Je,{}),s.jsx(ze,{}),s.jsx(Wt,{dataKey:"count",fill:"#3b82f6"})]})})]})]}),s.jsxs("div",{className:"mt-8 bg-white rounded-lg shadow p-6",children:[s.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-4",children:"Recent Security Incidents"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-slate-50",children:[s.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-slate-700",children:"Type"}),s.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-slate-700",children:"Severity"}),s.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-slate-700",children:"Status"}),s.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-slate-700",children:"Description"}),s.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-slate-700",children:"Response Time"}),s.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-slate-700",children:"Timestamp"})]})}),s.jsx("tbody",{className:"divide-y divide-slate-200",children:r.slice(0,10).map(D=>s.jsxs("tr",{className:"hover:bg-slate-50",children:[s.jsx("td",{className:"px-4 py-2 text-sm text-slate-900",children:D.type.replace("_"," ").toUpperCase()}),s.jsx("td",{className:"px-4 py-2",children:s.jsx("span",{className:`inline-block px-2 py-1 text-xs rounded-full font-medium ${D.severity==="critical"?"bg-red-100 text-red-700":D.severity==="high"?"bg-orange-100 text-orange-700":D.severity==="medium"?"bg-yellow-100 text-yellow-700":"bg-green-100 text-green-700"}`,children:D.severity.toUpperCase()})}),s.jsx("td",{className:"px-4 py-2",children:s.jsx("span",{className:`inline-block px-2 py-1 text-xs rounded-full font-medium ${D.status==="resolved"?"bg-green-100 text-green-700":D.status==="contained"?"bg-blue-100 text-blue-700":D.status==="investigating"?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:D.status.replace("_"," ").toUpperCase()})}),s.jsx("td",{className:"px-4 py-2 text-sm text-slate-600 max-w-xs truncate",children:D.description}),s.jsxs("td",{className:"px-4 py-2 text-sm text-slate-600",children:[D.responseTime,"min"]}),s.jsx("td",{className:"px-4 py-2 text-sm text-slate-500",children:new Date(D.timestamp).toLocaleString()})]},D.id))})]})})]}),s.jsxs("div",{className:"mt-4 flex items-center justify-end space-x-4",children:[s.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[s.jsx("span",{className:`inline-block w-2 h-2 rounded-full ${j?"bg-green-500":"bg-yellow-500"}`}),s.jsx("span",{className:"text-slate-600",children:j?"Real-time Security Monitoring Active":"Security Monitoring Offline"})]}),s.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[s.jsx("span",{className:`inline-block w-2 h-2 rounded-full ${b==="connected"?"bg-green-500":"bg-red-500"}`}),s.jsx("span",{className:"text-slate-600",children:b==="connected"?"Security Data Stream Active":"Security Data Stream Offline"})]})]})]})})},mV={production_ready:{label:"Production Ready",icon:zt,color:"text-green-600",bgColor:"bg-green-50",borderColor:"border-green-200",badge:""},acceptable:{label:"Available",icon:zt,color:"text-blue-600",bgColor:"bg-blue-50",borderColor:"border-blue-200",badge:""},partial:{label:"Limited",icon:_r,color:"text-yellow-600",bgColor:"bg-yellow-50",borderColor:"border-yellow-200",badge:""},deferred:{label:"Coming Soon",icon:fs,color:"text-gray-600",bgColor:"bg-gray-50",borderColor:"border-gray-200",badge:""}},Pu=({feature:t})=>{const[e,r]=I.useState(!1),n=mV[t.status],a=n.icon;return s.jsx("div",{className:`border-2 ${n.borderColor} rounded-lg p-4 ${n.bgColor}`,children:s.jsx("div",{className:"flex items-start justify-between gap-3",children:s.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[s.jsx(a,{className:`h-6 w-6 ${n.color} flex-shrink-0 mt-0.5`}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:t.name}),s.jsx("span",{className:"text-xl",children:n.badge})]}),s.jsxs("div",{className:"flex items-center gap-3 text-xs text-gray-600 mb-2",children:[s.jsx("span",{className:`font-medium ${n.color}`,children:n.label}),s.jsxs("span",{children:["Rating: ",t.rating,"/5"]}),t.estimatedRelease&&s.jsxs("span",{className:"text-gray-500",children:[" Est: ",t.estimatedRelease]})]}),t.limitations&&t.limitations.length>0&&s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:()=>r(!e),className:"flex items-center gap-1 text-sm text-gray-700 hover:text-gray-900 transition-colors",children:[e?s.jsx(TA,{className:"h-4 w-4"}):s.jsx(EA,{className:"h-4 w-4"}),e?"Hide":"Show"," limitations (",t.limitations.length,")"]}),e&&s.jsxs("div",{className:"mt-3 pl-4 border-l-2 border-gray-300",children:[s.jsx("p",{className:"text-xs font-medium text-gray-700 mb-2",children:"Known Limitations:"}),s.jsx("ul",{className:"space-y-1.5",children:t.limitations.map((o,c)=>s.jsxs("li",{className:"text-xs text-gray-600 flex items-start gap-2",children:[s.jsx(si,{className:"h-3 w-3 flex-shrink-0 mt-0.5 text-gray-400"}),s.jsx("span",{children:o})]},c))})]})]}),!t.enabled&&t.status==="deferred"&&s.jsx("div",{className:"mt-2 text-xs text-gray-600 italic",children:"This feature is under development for Phase 2 release."})]})]})})})},hV=()=>{const[t,e]=I.useState("all"),r=I.useMemo(()=>vC(),[]),n=I.useMemo(()=>{const o=Object.values(nc);return t==="all"?o:o.filter(c=>c.status===t)},[t]),a=I.useMemo(()=>({production_ready:n.filter(o=>o.status==="production_ready"),acceptable:n.filter(o=>o.status==="acceptable"),partial:n.filter(o=>o.status==="partial"),deferred:n.filter(o=>o.status==="deferred")}),[n]);return s.jsx("div",{className:Te.page,children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-3",children:"Feature Availability - Phase 1 Launch"}),s.jsx("p",{className:"text-gray-600 text-lg mb-4",children:"Transparency about what's working, what has limitations, and what's coming next."}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 mt-6",children:[s.jsxs("div",{className:"bg-white border-2 border-gray-200 rounded-lg p-4 text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-gray-900",children:r.total}),s.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"Total Features"})]}),s.jsxs("div",{className:"bg-green-50 border-2 border-green-200 rounded-lg p-4 text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-green-700",children:r.productionReady}),s.jsx("div",{className:"text-xs text-green-700 mt-1",children:"Production Ready"})]}),s.jsxs("div",{className:"bg-blue-50 border-2 border-blue-200 rounded-lg p-4 text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-blue-700",children:r.acceptable}),s.jsx("div",{className:"text-xs text-blue-700 mt-1",children:"Available"})]}),s.jsxs("div",{className:"bg-yellow-50 border-2 border-yellow-200 rounded-lg p-4 text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-yellow-700",children:r.partial}),s.jsx("div",{className:"text-xs text-yellow-700 mt-1",children:"Limited"})]}),s.jsxs("div",{className:"bg-gray-50 border-2 border-gray-200 rounded-lg p-4 text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-gray-700",children:r.deferred}),s.jsx("div",{className:"text-xs text-gray-700 mt-1",children:"Coming Soon"})]})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-2 mb-6",children:[s.jsxs("button",{onClick:()=>e("all"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${t==="all"?"bg-gray-900 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["All Features (",r.total,")"]}),s.jsxs("button",{onClick:()=>e("production_ready"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${t==="production_ready"?"bg-green-600 text-white":"bg-green-50 text-green-700 hover:bg-green-100 border border-green-200"}`,children:[" Production Ready (",r.productionReady,")"]}),s.jsxs("button",{onClick:()=>e("acceptable"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${t==="acceptable"?"bg-blue-600 text-white":"bg-blue-50 text-blue-700 hover:bg-blue-100 border border-blue-200"}`,children:[" Available (",r.acceptable,")"]}),s.jsxs("button",{onClick:()=>e("partial"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${t==="partial"?"bg-yellow-600 text-white":"bg-yellow-50 text-yellow-700 hover:bg-yellow-100 border border-yellow-200"}`,children:[" Limited (",r.partial,")"]}),s.jsxs("button",{onClick:()=>e("deferred"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${t==="deferred"?"bg-gray-600 text-white":"bg-gray-50 text-gray-700 hover:bg-gray-100 border border-gray-200"}`,children:[" Coming Soon (",r.deferred,")"]})]}),s.jsxs("div",{className:"space-y-8",children:[(t==="all"||t==="production_ready")&&a.production_ready.length>0&&s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx("span",{className:"text-3xl",children:""}),"Production Ready - No Limitations"]}),s.jsx("p",{className:"text-gray-600 mb-4",children:"These features are fully functional and tested. Use with confidence for production workloads."}),s.jsx("div",{className:"space-y-3",children:a.production_ready.map(o=>s.jsx(Pu,{feature:o},o.id))})]}),(t==="all"||t==="acceptable")&&a.acceptable.length>0&&s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx("span",{className:"text-3xl",children:""}),"Available - Known Limitations"]}),s.jsx("p",{className:"text-gray-600 mb-4",children:"These features work well within documented limitations. Review limitations before use."}),s.jsx("div",{className:"space-y-3",children:a.acceptable.map(o=>s.jsx(Pu,{feature:o},o.id))})]}),(t==="all"||t==="partial")&&a.partial.length>0&&s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx("span",{className:"text-3xl",children:""}),"Limited Functionality - Use with Caution"]}),s.jsx("p",{className:"text-gray-600 mb-4",children:"These features have significant limitations. Suitable for exploration and visualization, not critical decisions."}),s.jsx("div",{className:"space-y-3",children:a.partial.map(o=>s.jsx(Pu,{feature:o},o.id))})]}),(t==="all"||t==="deferred")&&a.deferred.length>0&&s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx("span",{className:"text-3xl",children:""}),"Coming in Phase 2 - Q1 2026"]}),s.jsx("p",{className:"text-gray-600 mb-4",children:"These features are under active development and will be available in the Phase 2 release."}),s.jsx("div",{className:"space-y-3",children:a.deferred.map(o=>s.jsx(Pu,{feature:o},o.id))})]})]}),s.jsxs("div",{className:"mt-12 p-6 bg-blue-50 border-2 border-blue-200 rounded-lg",children:[s.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-2",children:"Your Feedback Shapes Phase 2"}),s.jsx("p",{className:"text-blue-800 text-sm mb-3",children:"Help us prioritize what matters most. Which deferred features would add the most value for you? What limitations in available features cause the most friction?"}),s.jsx("p",{className:"text-blue-700 text-xs",children:"Use the feedback button (top right) or help system to share your thoughts."})]})]})})},pV=({tabs:t,activeTab:e,onSelect:r,className:n})=>{const a=I.useRef(null),o=c=>{const u=a.current;u&&u.scrollBy({left:c,behavior:"smooth"})};return s.jsxs("div",{className:`ribbon-wrapper ${n??""}`,children:[s.jsx("button",{type:"button","aria-label":"Scroll left",className:"hidden md:block absolute left-0 top-1/2 -translate-y-1/2 bg-white/80 hover:bg-white shadow rounded-full p-2 border border-slate-200",onClick:()=>o(-240),children:s.jsx("svg",{viewBox:"0 0 24 24",width:"18",height:"18",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:s.jsx("polyline",{points:"15 18 9 12 15 6"})})}),s.jsx("div",{ref:a,className:"ribbon",role:"tablist","aria-label":"Main Navigation",children:t.map(c=>{const u=c.icon,d=e===c.id;return s.jsxs("button",{role:"tab","aria-selected":d,onClick:()=>r(c.id),className:`ribbon-item ${d?"ribbon-item-active":""}`,children:[u?s.jsx(u,{className:"h-4 w-4 mr-2"}):null,s.jsx("span",{children:c.label}),c.badge&&s.jsx("span",{className:`ml-2 px-2 py-0.5 text-xs rounded-full font-medium ${c.badge==="Limited"?"bg-yellow-100 text-yellow-700":c.badge==="Soon"?"bg-gray-100 text-gray-600":"bg-blue-100 text-blue-700"}`,children:c.badge})]},c.id)})}),s.jsx("button",{type:"button","aria-label":"Scroll right",className:"hidden md:block absolute right-0 top-1/2 -translate-y-1/2 bg-white/80 hover:bg-white shadow rounded-full p-2 border border-slate-200",onClick:()=>o(240),children:s.jsx("svg",{viewBox:"0 0 24 24",width:"18",height:"18",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:s.jsx("polyline",{points:"9 18 15 12 9 6"})})})]})},tr={PROFILE:"household_profile",USAGE_HISTORY:"usage_history",PREFERENCES:"user_preferences",SAVINGS:"savings_tracker",RECOMMENDATIONS:"recommendations",ONBOARDING_COMPLETE:"onboarding_complete"};class gV{saveProfile(e){try{const r={...e,updatedAt:new Date().toISOString()};localStorage.setItem(tr.PROFILE,JSON.stringify(r))}catch(r){throw console.error("Failed to save household profile:",r),new Error("Unable to save profile data")}}getProfile(){try{const e=localStorage.getItem(tr.PROFILE);return e?JSON.parse(e):null}catch(e){return console.error("Failed to retrieve household profile:",e),null}}updateProfile(e){const r=this.getProfile();if(!r)throw new Error("No profile exists to update");const n={...r,...e,updatedAt:new Date().toISOString()};this.saveProfile(n)}saveUsage(e){try{const r=this.getUsageHistory(),n=r.findIndex(o=>o.month===e.month);n>=0?r[n]=e:r.push(e),r.sort((o,c)=>c.month.localeCompare(o.month));const a=r.slice(0,24);localStorage.setItem(tr.USAGE_HISTORY,JSON.stringify(a))}catch(r){throw console.error("Failed to save usage data:",r),new Error("Unable to save usage data")}}getUsageHistory(e=12){try{const r=localStorage.getItem(tr.USAGE_HISTORY);return r?JSON.parse(r).slice(0,e):[]}catch(r){return console.error("Failed to retrieve usage history:",r),[]}}calculateBenchmark(e){const r={ON:.85,AB:.95,BC:.75,QC:.8,SK:.9,MB:.85,NS:.82,NB:.83,PE:.81,NL:.88,YT:1.1,NT:1.15,NU:1.2},n={house:1.2,townhouse:.9,condo:.7,apartment:.6},a={electric:1.4,gas:.3,oil:.3,"heat-pump":.8,dual:.9,other:1};let m=e.squareFootage/100*e.occupants*35*r[e.province]*n[e.homeType]*a[e.heatingType];e.hasAC&&(m+=150),e.hasSolar&&(m*=.6),e.hasEV&&(m+=300);const p=this.getUsageHistory(3),h=p.length>0?p.reduce((O,S)=>O+S.consumption_kwh,0)/p.length:m,y=h<=m*.8?20:h<=m?40:h<=m*1.2?60:h<=m*1.5?80:95,v=((h-m)/m*100).toFixed(0),w=h<m?`${Math.abs(Number(v))}% below average`:h>m?`${v}% above average`:"Right at average",j=m*{ON:12.5,AB:18,BC:10,QC:7.5,SK:15,MB:9,NS:16.5,NB:13,PE:14.5,NL:12,YT:13.5,NT:25,NU:28}[e.province]/100;return{expectedUsage:Math.round(m),avgCost:Math.round(j*100)/100,similarHomesAvg:Math.round(m*1.05),percentile:y,comparisonText:w}}savePreferences(e){try{localStorage.setItem(tr.PREFERENCES,JSON.stringify(e))}catch(r){console.error("Failed to save preferences:",r)}}getPreferences(){try{const e=localStorage.getItem(tr.PREFERENCES);return e?JSON.parse(e):null}catch(e){return console.error("Failed to retrieve preferences:",e),null}}saveRecommendations(e){try{localStorage.setItem(tr.RECOMMENDATIONS,JSON.stringify(e))}catch(r){console.error("Failed to save recommendations:",r)}}getRecommendations(){try{const e=localStorage.getItem(tr.RECOMMENDATIONS);return e?JSON.parse(e):[]}catch(e){return console.error("Failed to retrieve recommendations:",e),[]}}markRecommendationImplemented(e){const r=this.getRecommendations(),n=r.map(a=>a.id===e?{...a,isCompleted:!0,implementedAt:new Date().toISOString()}:a);this.saveRecommendations(n),this.updateSavingsTracker(r.find(a=>a.id===e))}updateSavingsTracker(e){if(e)try{const r=this.getProfile();if(!r)return;const n=localStorage.getItem(tr.SAVINGS),a=n?JSON.parse(n):{userId:r.userId,implementedRecommendations:[],totalSavedKwh:0,totalSavedCAD:0,totalCO2Reduced:0,savingsHistory:[],lastUpdated:new Date().toISOString()};a.implementedRecommendations.find(o=>o.id===e.id)||(a.implementedRecommendations.push(e),a.totalSavedKwh+=e.potentialSavings.kwh,a.totalSavedCAD+=e.potentialSavings.annual,a.totalCO2Reduced+=e.potentialSavings.co2Reduction,a.lastUpdated=new Date().toISOString(),localStorage.setItem(tr.SAVINGS,JSON.stringify(a)))}catch(r){console.error("Failed to update savings tracker:",r)}}getSavingsTracker(){try{const e=localStorage.getItem(tr.SAVINGS);return e?JSON.parse(e):null}catch(e){return console.error("Failed to retrieve savings tracker:",e),null}}isOnboardingComplete(){try{return localStorage.getItem(tr.ONBOARDING_COMPLETE)==="true"}catch{return!1}}setOnboardingComplete(){localStorage.setItem(tr.ONBOARDING_COMPLETE,"true")}clearAllData(){Object.values(tr).forEach(e=>{localStorage.removeItem(e)})}exportData(){const e={profile:this.getProfile(),usageHistory:this.getUsageHistory(24),preferences:this.getPreferences(),recommendations:this.getRecommendations(),savings:this.getSavingsTracker(),exportedAt:new Date().toISOString()};return JSON.stringify(e,null,2)}importData(e){try{const r=JSON.parse(e);r.profile&&this.saveProfile(r.profile),r.usageHistory&&r.usageHistory.forEach(n=>this.saveUsage(n)),r.preferences&&this.savePreferences(r.preferences),r.recommendations&&this.saveRecommendations(r.recommendations),r.savings&&localStorage.setItem(tr.SAVINGS,JSON.stringify(r.savings))}catch(r){throw console.error("Failed to import data:",r),new Error("Invalid data format")}}}const yn=new gV;function yV(t){if(t.length===0)return!1;const e=t[0];return!e.peakUsageHours||e.peakUsageHours.length===0?!1:e.peakUsageHours.filter(n=>n>=11&&n<=16).length/e.peakUsageHours.length>.4}function vV(t,e=3){if(t.length===0)return 0;const r=t.slice(0,Math.min(e,t.length));return r.reduce((a,o)=>a+o.consumption_kwh,0)/r.length}function xV(t){if(t.length<6)return{highUsageMonths:[],isWinterPeak:!1,isSummerPeak:!1};const r=[...t].sort((u,d)=>d.consumption_kwh-u.consumption_kwh).slice(0,3),n=["01","02","03","11","12"],a=["06","07","08"],o=r.filter(u=>n.includes(u.month.split("-")[1])).length>=2,c=r.filter(u=>a.includes(u.month.split("-")[1])).length>=2;return{highUsageMonths:r.map(u=>u.month),isWinterPeak:o,isSummerPeak:c}}function bV(t){let e=300*t.occupants;const r=t.squareFootage/1500;return e*=r,t.heatingType==="electric"?e*=1.4:t.heatingType==="heat-pump"&&(e*=1.2),t.hasAC&&(e*=1.15),t.hasEV&&(e+=300),t.hasSolar&&(e*=.6),Math.round(e)}function _A(t,e,r){const n=[],a=vV(e),o=xV(e),c=e.length>0,u=c?a:bV(t);if(t.heatingType==="electric"){const d=c?a:u,m=Math.round(d*.15*r.currentPrice/100),p=m*12,h=Math.round(d*.15);n.push({id:"heating-optimization",category:"behavioral",priority:"high",title:"Reduce Electric Heating Costs by 15-20%",description:c?"Your electric heating is using significant energy in winter months. Small thermostat adjustments and draft sealing can make a big difference.":`Electric heating can be expensive. Based on your ${t.squareFootage} sq ft home in ${t.province}, we estimate simple changes could save you significantly.`,potentialSavings:{monthly:m,annual:p,kwh:h*12,co2Reduction:h*12*.13},effort:"easy",actionSteps:[{step:"Lower thermostat by 2C when sleeping (10 PM - 6 AM)",estimatedTime:"2 minutes",difficulty:"easy",cost:0},{step:"Use a programmable or smart thermostat to automate temperature reductions",estimatedTime:"1 hour",difficulty:"moderate",cost:80},{step:"Check for drafts around windows and doors, apply weatherstripping",estimatedTime:"2 hours",difficulty:"easy",cost:30},{step:"Close heating vents in unused rooms",estimatedTime:"15 minutes",difficulty:"easy",cost:0}],relatedRebates:["smart-thermostat-rebate"]})}if(r.hasTOUPricing&&yV(e)){const d=a*.4*(r.touRates.onPeak-r.touRates.offPeak)/100,m=Math.round(d*.7),p=m*12;n.push({id:"tou-shifting",category:"behavioral",priority:"high",title:"Shift Usage to Off-Peak Hours",description:`You're using ${Math.round(a*.4)} kWh during expensive peak hours. Moving usage to evenings and weekends can save significantly.`,potentialSavings:{monthly:m,annual:p,kwh:0,co2Reduction:0},effort:"easy",actionSteps:[{step:`Run dishwasher after 7 PM (off-peak rate: ${r.touRates?.offPeak}/kWh)`,estimatedTime:"Daily habit",difficulty:"easy",cost:0},{step:"Do laundry on weekends or after 7 PM on weekdays",estimatedTime:"Adjust schedule",difficulty:"easy",cost:0},t.hasEV&&{step:"Set EV to charge overnight (11 PM - 6 AM)",estimatedTime:"5 minutes setup",difficulty:"easy",cost:0},{step:"Use smart plugs to delay appliances until off-peak",estimatedTime:"30 minutes",difficulty:"moderate",cost:40}].filter(Boolean)})}if(["ON","BC","QC"].includes(t.province)&&t.heatingType==="gas"&&t.homeType==="house"&&a<2e3&&n.push({id:"heat-pump-rebate",category:"rebate",priority:"medium",title:"Get Up to $10,000 for Heat Pump Upgrade",description:"Cold-climate heat pumps are 3x more efficient than electric heating. You qualify for significant federal and provincial rebates.",potentialSavings:{monthly:60,annual:720,kwh:0,co2Reduction:2400},effort:"significant",actionSteps:[{step:"Book a free EnergyGuide home assessment (required for rebates)",estimatedTime:"2 hours",difficulty:"easy",cost:0},{step:"Get 3 quotes from certified heat pump installers",estimatedTime:"1 week",difficulty:"moderate",cost:0},{step:"Apply for Canada Greener Homes Grant (up to $5,000)",estimatedTime:"1 hour",difficulty:"moderate",cost:0},{step:"Apply for provincial heat pump rebate (varies by province)",estimatedTime:"1 hour",difficulty:"moderate",cost:0},{step:"Schedule installation and second EnergyGuide assessment",estimatedTime:"1-2 days",difficulty:"moderate",cost:8e3}],relatedRebates:["canada-greener-homes","provincial-heat-pump"]}),t.hasAC&&o.isSummerPeak&&a>800){const d=Math.round(a*.12*r.currentPrice/100),m=d*4;n.push({id:"cooling-optimization",category:"behavioral",priority:"medium",title:"Reduce Air Conditioning Costs",description:`Your summer electricity usage is ${Math.round((a/600-1)*100)}% higher than winter. Smart cooling strategies can help.`,potentialSavings:{monthly:d,annual:m,kwh:Math.round(a*.12)*4,co2Reduction:Math.round(a*.12)*4*.13},effort:"easy",actionSteps:[{step:"Set AC to 24C instead of 22C (saves 10-15%)",estimatedTime:"1 minute",difficulty:"easy",cost:0},{step:"Use ceiling or portable fans to circulate cool air",estimatedTime:"30 minutes",difficulty:"easy",cost:50},{step:"Close blinds during hottest part of day (10 AM - 4 PM)",estimatedTime:"Daily habit",difficulty:"easy",cost:0},{step:"Clean or replace AC filters monthly during summer",estimatedTime:"15 minutes",difficulty:"easy",cost:20}]})}if(!["smart-thermostat","heat-pump"].includes(t.heatingType)&&(a>800||o.isWinterPeak||o.isSummerPeak)){const d=Math.round(a*.1*r.currentPrice/100),m=d*12;n.push({id:"smart-thermostat",category:"upgrade",priority:"medium",title:"Install a Smart Thermostat",description:"Smart thermostats learn your schedule and can reduce heating/cooling by 10-15% automatically.",potentialSavings:{monthly:d,annual:m,kwh:Math.round(a*.1)*12,co2Reduction:Math.round(a*.1)*12*.13},effort:"moderate",actionSteps:[{step:"Research smart thermostats (Nest, Ecobee, Honeywell)",estimatedTime:"1 hour",difficulty:"easy",cost:0},{step:"Check for utility rebates (many utilities offer $50-100 off)",estimatedTime:"15 minutes",difficulty:"easy",cost:0},{step:"Purchase and install (DIY or electrician)",estimatedTime:"1-2 hours",difficulty:"moderate",cost:200},{step:"Set up schedules and temperature preferences in app",estimatedTime:"30 minutes",difficulty:"easy",cost:0}],relatedRebates:["smart-thermostat-utility-rebate"]})}if(a>1500){const d=Math.round(a*.08*r.currentPrice/100),m=d*12;n.push({id:"general-conservation",category:"behavioral",priority:"medium",title:"General Energy Conservation Tips",description:"Your usage is higher than average for similar homes. These simple habits can add up to significant savings.",potentialSavings:{monthly:d,annual:m,kwh:Math.round(a*.08)*12,co2Reduction:Math.round(a*.08)*12*.13},effort:"easy",actionSteps:[{step:"Switch all lights to LED bulbs (saves 75% vs incandescent)",estimatedTime:"1 hour",difficulty:"easy",cost:50},{step:"Unplug devices and chargers when not in use",estimatedTime:"Daily habit",difficulty:"easy",cost:0},{step:"Run full loads in dishwasher and washing machine",estimatedTime:"Change habits",difficulty:"easy",cost:0},{step:"Air-dry clothes instead of using dryer when possible",estimatedTime:"Variable",difficulty:"easy",cost:0},{step:"Turn off lights when leaving a room",estimatedTime:"Daily habit",difficulty:"easy",cost:0}]})}if(t.hasEV){const m=r.hasTOUPricing?Math.round(300*(r.touRates.onPeak-r.touRates.offPeak)/100):15;n.push({id:"ev-charging-optimization",category:"behavioral",priority:r.hasTOUPricing?"high":"medium",title:r.hasTOUPricing?"Optimize EV Charging Times":"EV Charging Best Practices",description:r.hasTOUPricing?"Charging your EV during off-peak hours can save you significantly with time-of-use pricing.":"Optimize your EV charging habits to reduce strain on the grid and potentially save on costs.",potentialSavings:{monthly:m,annual:m*12,kwh:0,co2Reduction:0},effort:"easy",actionSteps:[{step:r.hasTOUPricing?"Set your EV to charge between 11 PM and 6 AM":"Charge overnight when grid demand is lower",estimatedTime:"5 minutes",difficulty:"easy",cost:0},{step:"Use your utility's EV charging app for lowest rates",estimatedTime:"15 minutes setup",difficulty:"easy",cost:0},{step:"Consider a smart Level 2 charger for automated scheduling",estimatedTime:"2 hours install",difficulty:"moderate",cost:600}],relatedRebates:["ev-charger-rebate"]})}if(!c||u>500){const d=c?a:u,m=Math.round(d*.1*r.currentPrice/100);n.push({id:"smart-thermostat",category:"upgrade",priority:"medium",title:"Install a Smart Thermostat",description:"Smart thermostats learn your schedule and can reduce heating/cooling costs by 10-15% automatically.",potentialSavings:{monthly:m,annual:m*12,kwh:Math.round(d*.1*12),co2Reduction:Math.round(d*.1*12*.13)},effort:"moderate",actionSteps:[{step:"Research smart thermostats (Nest, Ecobee, Honeywell)",estimatedTime:"30 minutes",difficulty:"easy",cost:0},{step:"Check if your utility offers rebates (many do!)",estimatedTime:"15 minutes",difficulty:"easy",cost:0},{step:"Purchase and install smart thermostat",estimatedTime:"1 hour",difficulty:"moderate",cost:200},{step:"Configure schedule and temperature preferences",estimatedTime:"30 minutes",difficulty:"easy",cost:0}],relatedRebates:["smart-thermostat-rebate"]})}if(t.heatingType==="gas"&&["ON","BC","QC"].includes(t.province)&&n.push({id:"heat-pump-upgrade",category:"upgrade",priority:"medium",title:"Consider Heat Pump Upgrade",description:`Heat pumps are 2-3x more efficient than gas furnaces and eligible for up to $10,000 in rebates in ${t.province}.`,potentialSavings:{monthly:50,annual:600,kwh:0,co2Reduction:2e3},effort:"significant",actionSteps:[{step:"Get a free home energy audit",estimatedTime:"2 hours",difficulty:"easy",cost:0},{step:"Get quotes from 3 HVAC contractors",estimatedTime:"3 hours",difficulty:"moderate",cost:0},{step:"Apply for rebates (Greener Homes Grant)",estimatedTime:"1 hour",difficulty:"moderate",cost:0},{step:"Schedule installation",estimatedTime:"1 day",difficulty:"hard",cost:8e3}],relatedRebates:["canada-greener-homes","heat-pump-rebate"]}),!c||n.length<3){const d=c?a:u,m=Math.round(d*.08*r.currentPrice/100);n.push({id:"general-conservation",category:"behavioral",priority:"low",title:"Easy Energy-Saving Habits",description:"Small daily changes can add up to significant savings over time.",potentialSavings:{monthly:m,annual:m*12,kwh:Math.round(d*.08*12),co2Reduction:Math.round(d*.08*12*.13)},effort:"easy",actionSteps:[{step:"Replace 5 most-used bulbs with LEDs",estimatedTime:"30 minutes",difficulty:"easy",cost:25},{step:"Unplug devices when not in use (phantom load)",estimatedTime:"10 minutes daily",difficulty:"easy",cost:0},{step:"Use cold water for laundry",estimatedTime:"0 minutes (same effort)",difficulty:"easy",cost:0},{step:"Air-dry dishes instead of heated drying",estimatedTime:"0 minutes",difficulty:"easy",cost:0}]})}return n.sort((d,m)=>m.potentialSavings.annual-d.potentialSavings.annual)}function wV(t){return t.reduce((e,r)=>({monthly:e.monthly+r.potentialSavings.monthly,annual:e.annual+r.potentialSavings.annual,kwh:e.kwh+r.potentialSavings.kwh,co2Reduction:e.co2Reduction+r.potentialSavings.co2Reduction}),{monthly:0,annual:0,kwh:0,co2Reduction:0})}const jV=[{id:"canada-greener-homes",name:"Canada Greener Homes Grant",provider:"federal",province:"ALL",amount:{min:125,max:5e3},type:"home-retrofit",eligibility:{homeOwner:!0,requiresAudit:!0},applicationUrl:"https://natural-resources.canada.ca/energy-efficiency/homes/canada-greener-homes-grant/23441",description:"Get up to $5,000 to make energy-efficient retrofits to your home, plus $600 for pre- and post-retrofit EnergyGuide evaluations.",estimatedProcessingTime:"8-12 weeks",isActive:!0,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"},{id:"canada-oil-to-heat-pump",name:"Oil to Heat Pump Affordability Grant",provider:"federal",province:"ALL",amount:{min:1e4,max:15e3},type:"heat-pump",eligibility:{homeOwner:!0,otherCriteria:["Currently using oil heating","Low to median income household"]},applicationUrl:"https://natural-resources.canada.ca/energy-efficiency/homes/canada-greener-homes-initiative/oil-heat-pump-affordability-program/24775",description:"Up to $15,000 for low-income households switching from oil heating to a heat pump.",estimatedProcessingTime:"10-14 weeks",isActive:!0,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"},{id:"on-home-efficiency-rebate",name:"Ontario Home Efficiency Rebate Plus",provider:"provincial",province:"ON",amount:{min:0,max:1e4},type:"heat-pump",eligibility:{homeOwner:!0,requiresAudit:!0},applicationUrl:"https://www.ontario.ca/page/home-efficiency-rebate-plus",description:"Ontario homeowners can get up to $10,000 in rebates for heat pumps and home insulation upgrades.",estimatedProcessingTime:"6-10 weeks",isActive:!0,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"},{id:"bc-home-renovation-rebate",name:"CleanBC Home Renovation Rebate",provider:"provincial",province:"BC",amount:{min:0,max:6e3},type:"heat-pump",eligibility:{homeOwner:!0},applicationUrl:"https://betterhomesbc.ca/",description:"Get up to $6,000 for installing an air-source or ground-source heat pump in BC.",estimatedProcessingTime:"4-8 weeks",isActive:!0,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"},{id:"qc-logis-vert",name:"Rnoclimat - Logis-Vert",provider:"provincial",province:"QC",amount:{min:0,max:9e3},type:"home-retrofit",eligibility:{homeOwner:!0,requiresAudit:!0},applicationUrl:"https://www.transitionenergetique.gouv.qc.ca/residentiel/programmes/renoclimat",description:"Quebec homeowners can get up to $9,000 for energy efficiency improvements.",estimatedProcessingTime:"8-12 weeks",isActive:!0,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"},{id:"ab-residential-solar-rebate",name:"Alberta Residential Solar Program",provider:"provincial",province:"AB",amount:{min:0,max:5e3},type:"solar",eligibility:{homeOwner:!0,otherCriteria:["Residential property","Grid-connected system"]},applicationUrl:"https://www.alberta.ca/residential-solar-program",description:"Get up to $5,000 for installing residential solar panels in Alberta.",estimatedProcessingTime:"6-10 weeks",isActive:!0,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"},{id:"smart-thermostat-generic",name:"Smart Thermostat Rebate",provider:"utility",province:"ALL",amount:{min:50,max:150},type:"smart-thermostat",eligibility:{},applicationUrl:"https://www.nrcan.gc.ca/energy-efficiency/homes/make-your-home-more-energy-efficient/20546",description:"Many utilities offer $50-150 rebates for smart thermostats. Check with your local utility.",estimatedProcessingTime:"2-4 weeks",isActive:!0,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"},{id:"ev-charger-rebate",name:"Zero-Emission Vehicle Charger Rebate",provider:"federal",province:"ALL",amount:{min:0,max:5e3},type:"EV-charger",eligibility:{homeOwner:!0,otherCriteria:["Level 2 charger installation"]},applicationUrl:"https://natural-resources.canada.ca/energy-efficiency/transportation-alternative-fuels/zero-emission-vehicle-infrastructure-program/21876",description:"Get up to $5,000 for installing a Level 2 EV charger at home.",estimatedProcessingTime:"6-8 weeks",isActive:!0,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"},{id:"on-save-on-energy-appliances",name:"Save on Energy - Appliance Rebates",provider:"utility",province:"ON",amount:{min:25,max:200},type:"appliance",eligibility:{},applicationUrl:"https://saveonenergy.ca/For-Your-Home/Offers-and-Programs",description:"Get rebates on ENERGY STAR certified appliances including refrigerators, washers, and dryers.",estimatedProcessingTime:"4-6 weeks",isActive:!0,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"},{id:"bc-efficient-appliance-rebate",name:"BC Hydro - Power Smart Appliance Rebates",provider:"utility",province:"BC",amount:{min:30,max:300},type:"appliance",eligibility:{},applicationUrl:"https://www.bchydro.com/powersmart/residential/savings-and-rebates.html",description:"Get rebates on energy-efficient heat pump water heaters, washers, and other appliances.",estimatedProcessingTime:"3-5 weeks",isActive:!0,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"}];class SV{rebates;constructor(e=jV){this.rebates=e}async findEligibleRebates(e){const r=[];for(const n of this.rebates)n.isActive&&(n.province!=="ALL"&&n.province!==e.province||n.eligibility.homeOwner&&e.homeType==="apartment"||(n.type==="heat-pump"?e.heatingType!=="heat-pump"&&r.push(n):n.type==="solar"?e.hasSolar||r.push(n):n.type==="EV-charger"?e.hasEV&&r.push(n):r.push(n)));return r}calculateMaxRebates(e){return e.reduce((r,n)=>r+n.amount.max,0)}calculateRealisticRebates(e){return e.reduce((r,n)=>{const a=(n.amount.min+n.amount.max)/2;return r+a},0)}rankByValue(e){return[...e].sort((r,n)=>n.amount.max-r.amount.max)}rankByEase(e){return[...e].sort((r,n)=>{if(r.provider==="utility"&&n.provider!=="utility")return-1;if(n.provider==="utility"&&r.provider!=="utility")return 1;const a=r.eligibility.requiresAudit?0:1,o=n.eligibility.requiresAudit?0:1;return a!==o?o-a:n.amount.max-r.amount.max})}getTopPriority(e,r=3){return this.rankByValue(e).slice(0,r)}filterByType(e,r){return e.filter(n=>n.type===r)}filterByProvider(e,r){return e.filter(n=>n.provider===r)}getExpiringSoon(e){const r=new Date,n=new Date(r.getTime()+2160*60*60*1e3);return e.filter(a=>{if(!a.deadline)return!1;const o=new Date(a.deadline);return o<=n&&o>r})}searchRebates(e){const r=e.toLowerCase();return this.rebates.filter(n=>n.name.toLowerCase().includes(r)||n.description.toLowerCase().includes(r)||n.type.toLowerCase().includes(r))}getRebateById(e){return this.rebates.find(r=>r.id===e)}async getRebateSummary(e){const r=await this.findEligibleRebates(e),n=this.getTopPriority(r,5),a=r.reduce((o,c)=>(o[c.provider]=(o[c.provider]||0)+1,o),{});return{totalEligible:r.length,maxAmount:this.calculateMaxRebates(r),realisticAmount:this.calculateRealisticRebates(r),topRebates:n,byProvider:a}}async getRecommendedRebates(e){const r=await this.findEligibleRebates(e),n=r.filter(c=>c.amount.max>=1e3&&["heat-pump","solar","home-retrofit"].includes(c.type)),a=r.filter(c=>c.amount.max<500&&c.provider==="utility"&&!c.eligibility.requiresAudit),o=r.filter(c=>c.amount.max>=5e3);return{highPriority:this.rankByValue(n).slice(0,3),quickWins:this.rankByEase(a).slice(0,3),longTerm:this.rankByValue(o).slice(0,3)}}}const A0=new SV,NA=[{value:"ON",label:"Ontario"},{value:"AB",label:"Alberta"},{value:"BC",label:"British Columbia"},{value:"QC",label:"Quebec"},{value:"SK",label:"Saskatchewan"},{value:"MB",label:"Manitoba"},{value:"NS",label:"Nova Scotia"},{value:"NB",label:"New Brunswick"},{value:"PE",label:"Prince Edward Island"},{value:"NL",label:"Newfoundland and Labrador"},{value:"YT",label:"Yukon"},{value:"NT",label:"Northwest Territories"},{value:"NU",label:"Nunavut"}],_V=({onComplete:t})=>{const[e,r]=I.useState("welcome"),[n,a]=I.useState({userId:`user_${Date.now()}`,province:"ON",postalCode:"",homeType:"house",squareFootage:1500,occupants:2,heatingType:"gas",hasAC:!1,hasSolar:!1,hasEV:!1,utilityProvider:""}),o=p=>{a(h=>({...h,...p}))},c=()=>{const p={...n,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};yn.saveProfile(p),yn.setOnboardingComplete(),t(p)},u=()=>{const p=["welcome","location","home-details","energy-systems","usage","complete"],h=p.indexOf(e);h<p.length-1&&r(p[h+1])},d=()=>{const p=["welcome","location","home-details","energy-systems","usage","complete"],h=p.indexOf(e);h>0&&r(p[h-1])},m=()=>{const p=["welcome","location","home-details","energy-systems","usage","complete"],y=(p.indexOf(e)+1)/p.length*100;return s.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2 mb-8",children:s.jsx("div",{className:"bg-gradient-to-r from-green-500 to-blue-600 h-2 rounded-full transition-all duration-500",style:{width:`${y}%`}})})};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-blue-50 dark:from-gray-900 dark:to-gray-800 flex items-center justify-center p-4",children:s.jsxs("div",{className:"max-w-2xl w-full bg-white dark:bg-gray-800 rounded-2xl shadow-2xl p-8",children:[m(),e==="welcome"&&s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"mb-6",children:s.jsx(pt,{className:"w-20 h-20 mx-auto text-green-500"})}),s.jsx("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-4",children:"Welcome to My Energy AI"}),s.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400 mb-8",children:"I'm your personal energy advisor. In just 5 minutes, I'll help you:"}),s.jsxs("div",{className:"space-y-4 text-left max-w-md mx-auto mb-8",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(zt,{className:"w-6 h-6 text-green-500 flex-shrink-0 mt-1"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:"Understand your energy usage"}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Compare to similar homes in your area"})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(zt,{className:"w-6 h-6 text-green-500 flex-shrink-0 mt-1"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:"Find ways to save money"}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Get personalized recommendations"})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(zt,{className:"w-6 h-6 text-green-500 flex-shrink-0 mt-1"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:"Discover rebates you qualify for"}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Up to $10,000+ in available programs"})]})]})]}),s.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4 mb-8",children:s.jsxs("p",{className:"text-sm text-blue-900 dark:text-blue-200",children:[" ",s.jsx("strong",{children:"Privacy First:"})," Your data stays on your device. We never share or sell your information."]})}),s.jsxs("button",{onClick:u,className:"bg-gradient-to-r from-green-500 to-blue-600 text-white px-8 py-3 rounded-lg font-medium hover:from-green-600 hover:to-blue-700 transition-all inline-flex items-center gap-2",children:["Let's Get Started",s.jsx(hu,{className:"w-5 h-5"})]})]}),e==="location"&&s.jsxs("div",{children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx(va,{className:"w-16 h-16 mx-auto text-blue-500 mb-4"}),s.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Where do you live?"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"This helps us provide accurate pricing and rebate information"})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Province / Territory"}),s.jsx("select",{value:n.province,onChange:p=>o({province:p.target.value}),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent dark:bg-gray-700 dark:text-white",children:NA.map(p=>s.jsx("option",{value:p.value,children:p.label},p.value))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Postal Code (Optional)"}),s.jsx("input",{type:"text",value:n.postalCode,onChange:p=>o({postalCode:p.target.value.toUpperCase()}),placeholder:"A1A 1A1",className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent dark:bg-gray-700 dark:text-white"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Utility Provider (Optional)"}),s.jsx("input",{type:"text",value:n.utilityProvider,onChange:p=>o({utilityProvider:p.target.value}),placeholder:"e.g., Hydro One, EPCOR, BC Hydro",className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent dark:bg-gray-700 dark:text-white"})]})]}),s.jsxs("div",{className:"flex gap-4 mt-8",children:[s.jsxs("button",{onClick:d,className:"flex-1 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 px-6 py-3 rounded-lg font-medium hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors inline-flex items-center justify-center gap-2",children:[s.jsx(Qi,{className:"w-5 h-5"}),"Back"]}),s.jsxs("button",{onClick:u,className:"flex-1 bg-gradient-to-r from-green-500 to-blue-600 text-white px-6 py-3 rounded-lg font-medium hover:from-green-600 hover:to-blue-700 transition-all inline-flex items-center justify-center gap-2",children:["Continue",s.jsx(hu,{className:"w-5 h-5"})]})]})]}),e==="home-details"&&s.jsxs("div",{children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx(Iu,{className:"w-16 h-16 mx-auto text-blue-500 mb-4"}),s.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Tell us about your home"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"This helps us compare you to similar households"})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Home Type"}),s.jsx("div",{className:"grid grid-cols-2 gap-3",children:["house","townhouse","condo","apartment"].map(p=>s.jsx("button",{onClick:()=>o({homeType:p}),className:`px-4 py-3 border-2 rounded-lg font-medium transition-all ${n.homeType===p?"border-green-500 bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-300":"border-gray-300 dark:border-gray-600 hover:border-gray-400 dark:hover:border-gray-500 text-gray-700 dark:text-gray-300"}`,children:p.charAt(0).toUpperCase()+p.slice(1)},p))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Square Footage"}),s.jsx("input",{type:"number",value:n.squareFootage,onChange:p=>o({squareFootage:parseInt(p.target.value)}),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent dark:bg-gray-700 dark:text-white",min:"100",max:"10000"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Number of Occupants"}),s.jsx("input",{type:"number",value:n.occupants,onChange:p=>o({occupants:parseInt(p.target.value)}),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent dark:bg-gray-700 dark:text-white",min:"1",max:"20"})]})]}),s.jsxs("div",{className:"flex gap-4 mt-8",children:[s.jsxs("button",{onClick:d,className:"flex-1 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 px-6 py-3 rounded-lg font-medium hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors inline-flex items-center justify-center gap-2",children:[s.jsx(Qi,{className:"w-5 h-5"}),"Back"]}),s.jsxs("button",{onClick:u,className:"flex-1 bg-gradient-to-r from-green-500 to-blue-600 text-white px-6 py-3 rounded-lg font-medium hover:from-green-600 hover:to-blue-700 transition-all inline-flex items-center justify-center gap-2",children:["Continue",s.jsx(hu,{className:"w-5 h-5"})]})]})]}),e==="energy-systems"&&s.jsxs("div",{children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx($A,{className:"w-16 h-16 mx-auto text-blue-500 mb-4"}),s.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Energy systems"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"What powers your home?"})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Primary Heating System"}),s.jsxs("select",{value:n.heatingType,onChange:p=>o({heatingType:p.target.value}),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent dark:bg-gray-700 dark:text-white",children:[s.jsx("option",{value:"gas",children:"Natural Gas"}),s.jsx("option",{value:"electric",children:"Electric"}),s.jsx("option",{value:"oil",children:"Oil"}),s.jsx("option",{value:"heat-pump",children:"Heat Pump"}),s.jsx("option",{value:"dual",children:"Dual System"}),s.jsx("option",{value:"other",children:"Other"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-300 dark:border-gray-600 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(d3,{className:"w-6 h-6 text-blue-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:"Air Conditioning"}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Central or window AC"})]})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:n.hasAC,onChange:p=>o({hasAC:p.target.checked}),className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-green-300 dark:peer-focus:ring-green-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-green-600"})]})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-300 dark:border-gray-600 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(DA,{className:"w-6 h-6 text-yellow-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:"Solar Panels"}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Rooftop solar system"})]})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:n.hasSolar,onChange:p=>o({hasSolar:p.target.checked}),className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-green-300 dark:peer-focus:ring-green-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-green-600"})]})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-300 dark:border-gray-600 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(PA,{className:"w-6 h-6 text-green-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:"Electric Vehicle"}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Home charging"})]})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:n.hasEV,onChange:p=>o({hasEV:p.target.checked}),className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-green-300 dark:peer-focus:ring-green-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-green-600"})]})]})]})]}),s.jsxs("div",{className:"flex gap-4 mt-8",children:[s.jsxs("button",{onClick:d,className:"flex-1 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 px-6 py-3 rounded-lg font-medium hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors inline-flex items-center justify-center gap-2",children:[s.jsx(Qi,{className:"w-5 h-5"}),"Back"]}),s.jsxs("button",{onClick:u,className:"flex-1 bg-gradient-to-r from-green-500 to-blue-600 text-white px-6 py-3 rounded-lg font-medium hover:from-green-600 hover:to-blue-700 transition-all inline-flex items-center justify-center gap-2",children:["Continue",s.jsx(hu,{className:"w-5 h-5"})]})]})]}),e==="usage"&&s.jsxs("div",{children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx(pt,{className:"w-16 h-16 mx-auto text-yellow-500 mb-4"}),s.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Almost done!"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"We'll analyze your profile and find savings opportunities"})]}),s.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-blue-50 dark:from-green-900/10 dark:to-blue-900/10 rounded-lg p-6 mb-6",children:[s.jsx("h3",{className:"font-bold text-gray-900 dark:text-white mb-4",children:"What happens next?"}),s.jsxs("ul",{className:"space-y-3",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx(zt,{className:"w-5 h-5 text-green-500 flex-shrink-0 mt-0.5"}),s.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"We'll generate personalized energy-saving recommendations"})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx(zt,{className:"w-5 h-5 text-green-500 flex-shrink-0 mt-0.5"}),s.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Match you to rebates and incentives worth up to $10,000+"})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx(zt,{className:"w-5 h-5 text-green-500 flex-shrink-0 mt-0.5"}),s.jsxs("span",{className:"text-gray-700 dark:text-gray-300",children:["Compare your usage to similar homes in ",NA.find(p=>p.value===n.province)?.label]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx(zt,{className:"w-5 h-5 text-green-500 flex-shrink-0 mt-0.5"}),s.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Provide a personal AI advisor you can chat with anytime"})]})]})]}),s.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4 mb-6",children:s.jsxs("p",{className:"text-sm text-blue-900 dark:text-blue-200",children:[" ",s.jsx("strong",{children:"Tip:"})," You can add your electricity bills later for more accurate recommendations"]})}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("button",{onClick:d,className:"flex-1 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 px-6 py-3 rounded-lg font-medium hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors inline-flex items-center justify-center gap-2",children:[s.jsx(Qi,{className:"w-5 h-5"}),"Back"]}),s.jsxs("button",{onClick:()=>{c(),r("complete")},className:"flex-1 bg-gradient-to-r from-green-500 to-blue-600 text-white px-6 py-3 rounded-lg font-medium hover:from-green-600 hover:to-blue-700 transition-all inline-flex items-center justify-center gap-2",children:["Complete Setup",s.jsx(zt,{className:"w-5 h-5"})]})]})]}),e==="complete"&&s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"mb-6",children:s.jsx("div",{className:"w-20 h-20 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(zt,{className:"w-12 h-12 text-green-500"})})}),s.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-4",children:"You're all set!"}),s.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400 mb-8",children:"Your personalized energy dashboard is ready"}),s.jsx("div",{className:"animate-pulse",children:s.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Analyzing your profile..."})})]})]})})};function NV(t){const e=t.toLowerCase(),n=["emergency","urgent","immediately","asap","can't pay","disconnection"].some(d=>e.includes(d))?"high":e.includes("?")?"medium":"low",a=["high bill","too expensive","can't afford","frustrated","angry","why so"],c=["thank","great","appreciate","helpful","saved"].some(d=>e.includes(d))?"positive":a.some(d=>e.includes(d))?"negative":"neutral";let u="general";return e.includes("bill")||e.includes("cost")||e.includes("price")?u="billing":e.includes("heat")||e.includes("cool")||e.includes("temperature")?u="heating-cooling":e.includes("rebate")||e.includes("grant")||e.includes("incentive")?u="rebates":e.includes("solar")||e.includes("ev")||e.includes("electric vehicle")?u="clean-energy":e.includes("when")&&(e.includes("cheap")||e.includes("time"))?u="time-of-use":(e.includes("save")||e.includes("reduce")||e.includes("lower"))&&(u="savings"),{topic:u,urgency:n,sentiment:c}}function kV(t){const e=["How can I reduce my electricity bill?","When is the cheapest time to use electricity?","What rebates am I eligible for?","Why did my bill increase this month?"];return t.hasEV&&e.push("When should I charge my electric vehicle?"),t.heatingType==="electric"&&e.push("How can I save on heating costs?"),t.hasAC&&e.push("Tips for reducing air conditioning costs?"),!t.hasSolar&&["ON","BC","AB"].includes(t.province)&&e.push("Should I install solar panels?"),e.slice(0,6)}const OV=({profile:t,usage:e,recommendations:r,provincialData:n})=>{const[a,o]=I.useState([{id:"welcome",role:"assistant",content:` Hi! I'm your personal Energy AI advisor. I'm here to help you save money and reduce your energy usage.

I know you live in ${t.province}, have a ${t.homeType} with ${t.occupants} people, and use ${t.heatingType} heating.

What would you like to know about your energy usage?`,timestamp:new Date().toISOString()}]),[c,u]=I.useState(""),[d,m]=I.useState(!1),p=I.useRef(null),[h]=I.useState(`session_${Date.now()}`);I.useEffect(()=>{p.current?.scrollIntoView({behavior:"smooth"})},[a]);const y=async O=>{const S=O.toLowerCase(),k=NV(O);if(k.topic==="billing"||S.includes("bill")||S.includes("cost"))return`Based on your recent usage, your average monthly bill is $${e.length>0?(e.reduce((N,P)=>N+P.cost_cad,0)/e.length).toFixed(2):"N/A"}.

In ${t.province}, you're paying about ${n.currentPrice.toFixed(2)} per kWh. `+(n.hasTOUPricing?`Since you have time-of-use pricing, you can save by shifting usage to off-peak hours (${n.touRates?.offPeakHours}).

`:`

`)+`**Top ways to reduce your bill:**
`+r.slice(0,3).map((N,P)=>`${P+1}. ${N.title} - Save $${N.potentialSavings.monthly}/month`).join(`
`);if(k.topic==="time-of-use"||S.includes("when")&&(S.includes("cheap")||S.includes("time")))return n.hasTOUPricing&&n.touRates?`Great question! In ${t.province}, electricity prices vary throughout the day:

 **Off-Peak (Cheapest)**: ${n.touRates.offPeak}/kWh
   ${n.touRates.offPeakHours}

 **On-Peak (Most Expensive)**: ${n.touRates.onPeak}/kWh
   ${n.touRates.onPeakHours}

**Best times to use major appliances:**
 Run dishwasher and laundry during off-peak hours
 Charge your EV overnight
 Pre-heat/cool your home before peak hours

Shifting just 30% of your usage to off-peak could save you $20-40/month!`:`In ${t.province}, electricity rates are currently flat at ${n.currentPrice}/kWh throughout the day. This means the time of day doesn't affect your costs, but you can still save by reducing overall usage during your highest consumption periods.`;if(k.topic==="rebates"||S.includes("rebate")||S.includes("grant"))return`You have access to some great rebate programs in ${t.province}!

 **Top Rebates for You:**

1. **Canada Greener Homes Grant** - Up to $5,000
   For energy-efficient home upgrades

2. **Provincial Heat Pump Rebate** - Up to $10,000
   Combines federal and ${t.province} programs

3. **Smart Thermostat Rebate** - $50-150
   Quick and easy to claim

Check the Rebates section in your dashboard for full details and application links. These programs can help offset the cost of major upgrades!`;if(k.topic==="heating-cooling"){const A=r.find(N=>N.id.includes("heating")||N.id.includes("cooling"));return`${t.heatingType==="electric"?"Electric heating":"Your heating system"} is typically the biggest energy user in Canadian homes.

`+(A?`I've identified that you could save $${A.potentialSavings.monthly}/month with these changes:

`+A.actionSteps.slice(0,3).map((N,P)=>`${P+1}. ${N.step}`).join(`
`):`**Tips to reduce heating costs:**
1. Lower thermostat by 2C when sleeping
2. Seal drafts around windows and doors
3. Use a programmable thermostat
4. Close vents in unused rooms`)+`

Want me to explain any of these in more detail?`}if(k.topic==="savings"){const A=r.reduce((N,P)=>N+P.potentialSavings.annual,0);return`Based on your profile, I've identified ${r.length} ways you could save money:

 **Total Potential Savings: $${A}/year**

**Top 3 Quick Wins:**
`+r.slice(0,3).map((N,P)=>`${P+1}. ${N.title}
   Savings: $${N.potentialSavings.annual}/year | Effort: ${N.effort}`).join(`

`)+`

Would you like details on how to implement any of these?`}return`That's a great question! Based on your ${t.homeType} in ${t.province} with ${t.occupants} occupants, I can help you with:

 Understanding your electricity bill
 Finding the best times to use electricity
 Discovering rebates you qualify for
 Reducing heating and cooling costs
 Calculating your potential savings

What specific aspect would you like to explore?`},v=async()=>{if(!c.trim()||d)return;const O={id:`msg_${Date.now()}`,role:"user",content:c.trim(),timestamp:new Date().toISOString()};o(S=>[...S,O]),u(""),m(!0);try{const S=await y(c.trim()),k={id:`msg_${Date.now()}_ai`,role:"assistant",content:S,timestamp:new Date().toISOString()};o(A=>[...A,k])}catch(S){console.error("Error generating AI response:",S);const k={id:`msg_${Date.now()}_error`,role:"assistant",content:"Sorry, I encountered an error. Please try asking your question again.",timestamp:new Date().toISOString()};o(A=>[...A,k])}finally{m(!1)}},w=O=>{O.key==="Enter"&&!O.shiftKey&&(O.preventDefault(),v())},b=O=>{u(O)},j=kV(t);return s.jsxs("div",{className:"flex flex-col h-[calc(100vh-300px)] min-h-[500px] bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700",children:[s.jsxs("div",{className:"flex items-center gap-3 p-4 border-b border-gray-200 dark:border-gray-700 bg-gradient-to-r from-green-500 to-blue-600",children:[s.jsx("div",{className:"w-10 h-10 bg-white rounded-full flex items-center justify-center",children:s.jsx(xh,{className:"w-6 h-6 text-green-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-bold text-white",children:"Energy AI Assistant"}),s.jsx("p",{className:"text-xs text-green-100",children:"Always here to help you save"})]}),s.jsx(l3,{className:"w-5 h-5 text-yellow-300"})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[a.map(O=>s.jsxs("div",{className:`flex gap-3 ${O.role==="user"?"flex-row-reverse":"flex-row"}`,children:[s.jsx("div",{className:`flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center ${O.role==="user"?"bg-blue-600":"bg-gradient-to-br from-green-500 to-blue-600"}`,children:O.role==="user"?s.jsx(u3,{className:"w-5 h-5 text-white"}):s.jsx(xh,{className:"w-5 h-5 text-white"})}),s.jsxs("div",{className:`flex-1 max-w-[80%] ${O.role==="user"?"text-right":"text-left"}`,children:[s.jsx("div",{className:`inline-block p-3 rounded-lg ${O.role==="user"?"bg-blue-600 text-white rounded-br-none":"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white rounded-bl-none"}`,children:s.jsx("p",{className:"text-sm whitespace-pre-wrap",children:O.content})}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:new Date(O.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]},O.id)),d&&s.jsxs("div",{className:"flex gap-3",children:[s.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-gradient-to-br from-green-500 to-blue-600 flex items-center justify-center",children:s.jsx(xh,{className:"w-5 h-5 text-white"})}),s.jsx("div",{className:"bg-gray-100 dark:bg-gray-700 p-3 rounded-lg rounded-bl-none",children:s.jsxs("div",{className:"flex gap-1",children:[s.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),s.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),s.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})})]}),s.jsx("div",{ref:p})]}),a.length===1&&s.jsxs("div",{className:"px-4 py-2 border-t border-gray-200 dark:border-gray-700",children:[s.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mb-2",children:"Quick questions:"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:j.map((O,S)=>s.jsx("button",{onClick:()=>b(O),className:"text-xs px-3 py-1.5 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-full transition-colors",children:O},S))})]}),s.jsxs("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",value:c,onChange:O=>u(O.target.value),onKeyPress:w,placeholder:"Ask me anything about your energy usage...",disabled:d,className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent dark:bg-gray-700 dark:text-white disabled:opacity-50"}),s.jsx("button",{onClick:v,disabled:!c.trim()||d,className:"px-4 py-2 bg-gradient-to-r from-green-500 to-blue-600 text-white rounded-lg hover:from-green-600 hover:to-blue-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:d?s.jsx(r3,{className:"w-5 h-5 animate-spin"}):s.jsx(s3,{className:"w-5 h-5"})})]}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:" Tip: I can help with bills, savings, rebates, and more. Just ask!"})]})]})},AV={high:"border-red-200 dark:border-red-800 bg-red-50 dark:bg-red-900/10",medium:"border-yellow-200 dark:border-yellow-800 bg-yellow-50 dark:bg-yellow-900/10",low:"border-blue-200 dark:border-blue-800 bg-blue-50 dark:bg-blue-900/10"},kA={high:"text-red-700 dark:text-red-300",medium:"text-yellow-700 dark:text-yellow-300",low:"text-blue-700 dark:text-blue-300"},PV={behavioral:s.jsx($d,{className:"w-5 h-5"}),upgrade:s.jsx(pt,{className:"w-5 h-5"}),rebate:s.jsx(fl,{className:"w-5 h-5"}),emergency:s.jsx(fs,{className:"w-5 h-5"}),education:s.jsx(Zi,{className:"w-5 h-5"})},EV={easy:" Easy",moderate:" Moderate",significant:" Significant"},TV=({recommendation:t,onImplement:e})=>{const[r,n]=I.useState(!1);return s.jsx("div",{className:`border-2 rounded-lg transition-all ${AV[t.priority]}`,children:s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("div",{className:kA[t.priority],children:PV[t.category]}),s.jsx("span",{className:`text-xs font-medium px-2 py-1 rounded ${kA[t.priority]} bg-white dark:bg-gray-800`,children:t.priority.toUpperCase()}),s.jsx("span",{className:"text-xs font-medium px-2 py-1 rounded bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300",children:t.category})]}),s.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-1",children:t.title}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:t.description}),s.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(fl,{className:"w-4 h-4 text-green-600 dark:text-green-400"}),s.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:["$",t.potentialSavings.monthly,"/month"]}),s.jsxs("span",{className:"text-gray-500 dark:text-gray-400",children:["($",t.potentialSavings.annual,"/year)"]})]}),t.potentialSavings.kwh>0&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(pt,{className:"w-4 h-4 text-yellow-600 dark:text-yellow-400"}),s.jsxs("span",{className:"text-gray-700 dark:text-gray-300",children:[t.potentialSavings.kwh," kWh saved"]})]}),t.potentialSavings.co2Reduction>0&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Zi,{className:"w-4 h-4 text-green-600 dark:text-green-400"}),s.jsxs("span",{className:"text-gray-700 dark:text-gray-300",children:[Math.round(t.potentialSavings.co2Reduction)," kg CO"]})]})]}),s.jsx("div",{className:"mt-3",children:s.jsxs("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:["Effort: ",EV[t.effort]]})})]}),s.jsxs("div",{className:"flex flex-col gap-2",children:[t.isCompleted?s.jsxs("div",{className:"flex items-center gap-2 text-green-600 dark:text-green-400 text-sm font-medium",children:[s.jsx(zt,{className:"w-5 h-5"}),"Implemented"]}):s.jsx("button",{onClick:e,className:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg font-medium transition-colors text-sm whitespace-nowrap",children:"Mark Done"}),s.jsx("button",{onClick:()=>n(!r),className:"px-4 py-2 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-lg font-medium transition-colors text-sm border border-gray-300 dark:border-gray-600",children:r?s.jsx(s.Fragment,{children:s.jsx(TA,{className:"w-4 h-4"})}):s.jsx(s.Fragment,{children:s.jsx(EA,{className:"w-4 h-4"})})})]})]}),r&&s.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-300 dark:border-gray-600",children:[s.jsx("h4",{className:"font-bold text-gray-900 dark:text-white mb-3",children:"Action Steps:"}),s.jsx("div",{className:"space-y-3",children:t.actionSteps.map((a,o)=>s.jsxs("div",{className:"flex gap-3",children:[s.jsx("div",{className:"flex-shrink-0 w-6 h-6 bg-green-600 text-white rounded-full flex items-center justify-center text-sm font-bold",children:o+1}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-gray-900 dark:text-white font-medium",children:a.step}),s.jsxs("div",{className:"flex flex-wrap gap-3 mt-1 text-sm text-gray-600 dark:text-gray-400",children:[a.estimatedTime&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(fs,{className:"w-3 h-3"}),a.estimatedTime]}),a.difficulty&&s.jsxs("span",{children:["Difficulty: ",a.difficulty]}),a.cost!==void 0&&a.cost>0&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(fl,{className:"w-3 h-3"}),"$",a.cost]}),a.cost===0&&s.jsx("span",{className:"text-green-600 dark:text-green-400 font-medium",children:"FREE"})]})]})]},o))}),t.relatedRebates&&t.relatedRebates.length>0&&s.jsxs("div",{className:"mt-4 p-3 bg-purple-50 dark:bg-purple-900/20 border border-purple-200 dark:border-purple-800 rounded-lg",children:[s.jsx("p",{className:"text-sm font-medium text-purple-900 dark:text-purple-200",children:" Related Rebates Available"}),s.jsx("p",{className:"text-xs text-purple-700 dark:text-purple-300 mt-1",children:"You may qualify for rebates to help with this upgrade. Check the Rebates section for details."})]})]})]})})},CV=({recommendations:t,onImplement:e})=>{const[r,n]=I.useState("all"),[a,o]=I.useState("savings");let c=t;r!=="all"&&(c=t.filter(m=>m.priority===r)),c=[...c].sort((m,p)=>{if(a==="savings")return p.potentialSavings.annual-m.potentialSavings.annual;if(a==="effort"){const h={easy:1,moderate:2,significant:3};return h[m.effort]-h[p.effort]}else{const h={high:3,medium:2,low:1};return h[p.priority]-h[m.priority]}});const u=t.filter(m=>m.isCompleted).length,d=t.filter(m=>!m.isCompleted).reduce((m,p)=>m+p.potentialSavings.annual,0);return t.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx($d,{className:"w-16 h-16 mx-auto text-gray-400 mb-4"}),s.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"No Recommendations Yet"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Add your usage data to get personalized energy-saving recommendations"})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:[s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Total Recommendations"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:t.length})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:[s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Completed"}),s.jsx("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:u})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:[s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Potential Savings"}),s.jsxs("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:["$",d]})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-4 items-center justify-between",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>n("all"),className:`px-3 py-1 rounded-lg text-sm font-medium transition-colors ${r==="all"?"bg-green-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"}`,children:"All"}),s.jsx("button",{onClick:()=>n("high"),className:`px-3 py-1 rounded-lg text-sm font-medium transition-colors ${r==="high"?"bg-red-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"}`,children:"High Priority"}),s.jsx("button",{onClick:()=>n("medium"),className:`px-3 py-1 rounded-lg text-sm font-medium transition-colors ${r==="medium"?"bg-yellow-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"}`,children:"Medium Priority"}),s.jsx("button",{onClick:()=>n("low"),className:`px-3 py-1 rounded-lg text-sm font-medium transition-colors ${r==="low"?"bg-blue-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"}`,children:"Low Priority"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Sort by:"}),s.jsxs("select",{value:a,onChange:m=>o(m.target.value),className:"px-3 py-1 border border-gray-300 dark:border-gray-600 rounded-lg text-sm bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300",children:[s.jsx("option",{value:"savings",children:"Savings (High to Low)"}),s.jsx("option",{value:"effort",children:"Effort (Easy First)"}),s.jsx("option",{value:"priority",children:"Priority (High First)"})]})]})]}),s.jsx("div",{className:"space-y-4",children:c.map(m=>s.jsx(TV,{recommendation:m,onImplement:()=>e(m.id)},m.id))}),c.length===0&&s.jsx("div",{className:"text-center py-8 text-gray-600 dark:text-gray-400",children:"No recommendations match the current filter"})]})},IV=({profile:t,usage:e,benchmark:r})=>{const[n,a]=I.useState("usage"),[o,c]=I.useState("6m"),u=e.slice(0,o==="3m"?3:o==="6m"?6:12).reverse().map(j=>({month:new Date(j.month+"-01").toLocaleDateString("en-US",{month:"short",year:"2-digit"}),usage:j.consumption_kwh,cost:j.cost_cad,avgTemp:j.weather?.avgTemp||null,benchmark:r?.expectedUsage||null})),d=e.reduce((j,O)=>j+O.consumption_kwh,0),m=e.length>0?Math.round(d/e.length):0,p=e.reduce((j,O)=>j+O.cost_cad,0),h=e.length>0?Math.round(p/e.length*100)/100:0,y=e.length>=2?(e[0].consumption_kwh-e[1].consumption_kwh)/e[1].consumption_kwh*100:0,v=r&&m?(m-r.expectedUsage)/r.expectedUsage*100:0,w=e.flatMap(j=>j.peakUsageHours||[]),b=Array.from({length:24},(j,O)=>({hour:`${O}:00`,count:w.filter(S=>S===O).length}));return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md border border-gray-200 dark:border-gray-700 p-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Energy Usage Analytics"}),s.jsxs("div",{className:"flex flex-wrap gap-4 items-center justify-between",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>a("usage"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${n==="usage"?"bg-green-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"}`,children:"Usage (kWh)"}),s.jsx("button",{onClick:()=>a("cost"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${n==="cost"?"bg-green-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"}`,children:"Cost ($)"}),s.jsx("button",{onClick:()=>a("comparison"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${n==="comparison"?"bg-green-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"}`,children:"vs Benchmark"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>c("3m"),className:`px-3 py-1 rounded text-sm font-medium transition-colors ${o==="3m"?"bg-blue-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300"}`,children:"3 Months"}),s.jsx("button",{onClick:()=>c("6m"),className:`px-3 py-1 rounded text-sm font-medium transition-colors ${o==="6m"?"bg-blue-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300"}`,children:"6 Months"}),s.jsx("button",{onClick:()=>c("12m"),className:`px-3 py-1 rounded text-sm font-medium transition-colors ${o==="12m"?"bg-blue-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300"}`,children:"12 Months"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md border border-gray-200 dark:border-gray-700 p-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(pt,{className:"w-5 h-5 text-yellow-600"}),s.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Avg Monthly Usage"})]}),s.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[m," kWh"]}),s.jsxs("div",{className:"flex items-center gap-1 mt-2",children:[y<0?s.jsx(ml,{className:"w-4 h-4 text-green-600"}):s.jsx(Ut,{className:"w-4 h-4 text-red-600"}),s.jsxs("span",{className:`text-sm ${y<0?"text-green-600":"text-red-600"}`,children:[Math.abs(y).toFixed(1),"% vs last month"]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md border border-gray-200 dark:border-gray-700 p-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(fl,{className:"w-5 h-5 text-green-600"}),s.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Avg Monthly Cost"})]}),s.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["$",h]}),s.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2",children:["$",(h/m*100).toFixed(2),"/kWh avg rate"]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md border border-gray-200 dark:border-gray-700 p-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(oi,{className:"w-5 h-5 text-blue-600"}),s.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"vs Benchmark"})]}),s.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[r?r.expectedUsage:"N/A",r&&" kWh"]}),r&&s.jsxs("div",{className:"flex items-center gap-1 mt-2",children:[v<0?s.jsx(ml,{className:"w-4 h-4 text-green-600"}):s.jsx(Ut,{className:"w-4 h-4 text-red-600"}),s.jsxs("span",{className:`text-sm ${v<0?"text-green-600":"text-red-600"}`,children:[Math.abs(v).toFixed(1),"% ",v<0?"below":"above"]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md border border-gray-200 dark:border-gray-700 p-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(hr,{className:"w-5 h-5 text-purple-600"}),s.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Tracked"})]}),s.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:e.length}),s.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2",children:[e.length," months of data"]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md border border-gray-200 dark:border-gray-700 p-6",children:[s.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4",children:[n==="usage"&&"Monthly Usage Trend",n==="cost"&&"Monthly Cost Trend",n==="comparison"&&"Usage vs Benchmark"]}),e.length>0?s.jsx(xt,{width:"100%",height:300,children:n==="comparison"?s.jsxs(Oa,{data:u,children:[s.jsx(St,{strokeDasharray:"3 3"}),s.jsx(at,{dataKey:"month"}),s.jsx(Je,{}),s.jsx(ze,{}),s.jsx(Zt,{}),s.jsx(Wt,{dataKey:"usage",fill:"#10b981",name:"Your Usage (kWh)"}),s.jsx(Wt,{dataKey:"benchmark",fill:"#6b7280",name:"Benchmark (kWh)"})]}):s.jsxs(mi,{data:u,children:[s.jsx(St,{strokeDasharray:"3 3"}),s.jsx(at,{dataKey:"month"}),s.jsx(Je,{}),s.jsx(ze,{}),s.jsx(Zt,{}),n==="usage"&&s.jsxs(s.Fragment,{children:[s.jsx(Qt,{type:"monotone",dataKey:"usage",stroke:"#10b981",strokeWidth:2,name:"Usage (kWh)",dot:{r:4}}),r&&s.jsx(Qt,{type:"monotone",dataKey:"benchmark",stroke:"#6b7280",strokeWidth:2,strokeDasharray:"5 5",name:"Benchmark (kWh)",dot:!1})]}),n==="cost"&&s.jsx(Qt,{type:"monotone",dataKey:"cost",stroke:"#3b82f6",strokeWidth:2,name:"Cost ($)",dot:{r:4}})]})}):s.jsx("div",{className:"text-center py-12 text-gray-500 dark:text-gray-400",children:"No usage data available. Add your monthly usage to see analytics."})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[w.length>0&&s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md border border-gray-200 dark:border-gray-700 p-6",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4",children:"Peak Usage Hours"}),s.jsx(xt,{width:"100%",height:200,children:s.jsxs(Oa,{data:b.filter(j=>j.count>0),children:[s.jsx(St,{strokeDasharray:"3 3"}),s.jsx(at,{dataKey:"hour"}),s.jsx(Je,{}),s.jsx(ze,{}),s.jsx(Wt,{dataKey:"count",fill:"#f59e0b",name:"Usage Events"})]})}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-4",children:"Shows when you typically use the most electricity. Consider shifting usage to off-peak hours if you have time-of-use pricing."})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md border border-gray-200 dark:border-gray-700 p-6",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4",children:"Your Energy Profile"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Province"}),s.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:t.province})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Home Type"}),s.jsx("span",{className:"font-medium text-gray-900 dark:text-white capitalize",children:t.homeType})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Size"}),s.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[t.squareFootage," sq ft"]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Occupants"}),s.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:t.occupants})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Heating"}),s.jsx("span",{className:"font-medium text-gray-900 dark:text-white capitalize",children:t.heatingType})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Air Conditioning"}),s.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:t.hasAC?"Yes":"No"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Solar Panels"}),s.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:t.hasSolar?"Yes":"No"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Electric Vehicle"}),s.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:t.hasEV?"Yes":"No"})]})]})]})]}),r&&s.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-green-50 dark:from-blue-900/10 dark:to-green-900/10 rounded-lg border border-blue-200 dark:border-blue-800 p-6",children:[s.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-3 flex items-center gap-2",children:[s.jsx(oi,{className:"w-5 h-5 text-blue-600"}),"Insights"]}),s.jsxs("div",{className:"space-y-2 text-sm text-gray-700 dark:text-gray-300",children:[s.jsxs("p",{children:[" Your home uses an average of ",s.jsxs("strong",{children:[m," kWh/month"]}),", which is"," ",s.jsx("strong",{children:r.comparisonText})," for similar homes in ",t.province,"."]}),s.jsxs("p",{children:[" You're in the ",s.jsxs("strong",{children:[r.percentile,"th percentile"]})," compared to similar households."]}),y<-5&&s.jsxs("p",{className:"text-green-700 dark:text-green-300",children:[" Great job! Your usage has decreased by ",Math.abs(y).toFixed(1),"% from last month. Keep it up!"]}),y>10&&s.jsxs("p",{className:"text-orange-700 dark:text-orange-300",children:[" Your usage increased by ",y.toFixed(1),"% from last month. Check your recommendations for ways to reduce consumption."]})]})]})]})},P0={ON:{province:"ON",currentPrice:12.5,hasTOUPricing:!0,touRates:{offPeak:8.7,midPeak:12.2,onPeak:15.1,offPeakHours:"19:00-07:00, weekends",onPeakHours:"11:00-17:00 weekdays"},lastUpdated:new Date().toISOString()},AB:{province:"AB",currentPrice:18,hasTOUPricing:!1,lastUpdated:new Date().toISOString()},BC:{province:"BC",currentPrice:10,hasTOUPricing:!0,touRates:{offPeak:9.1,midPeak:13.7,onPeak:14.2,offPeakHours:"22:00-06:00",onPeakHours:"16:00-20:00 weekdays"},lastUpdated:new Date().toISOString()},QC:{province:"QC",currentPrice:7.5,hasTOUPricing:!1,lastUpdated:new Date().toISOString()},SK:{province:"SK",currentPrice:15,hasTOUPricing:!1,lastUpdated:new Date().toISOString()},MB:{province:"MB",currentPrice:9,hasTOUPricing:!1,lastUpdated:new Date().toISOString()},NS:{province:"NS",currentPrice:16.5,hasTOUPricing:!1,lastUpdated:new Date().toISOString()},NB:{province:"NB",currentPrice:13,hasTOUPricing:!1,lastUpdated:new Date().toISOString()},PE:{province:"PE",currentPrice:14.5,hasTOUPricing:!1,lastUpdated:new Date().toISOString()},NL:{province:"NL",currentPrice:12,hasTOUPricing:!1,lastUpdated:new Date().toISOString()},YT:{province:"YT",currentPrice:13.5,hasTOUPricing:!1,lastUpdated:new Date().toISOString()},NT:{province:"NT",currentPrice:25,hasTOUPricing:!1,lastUpdated:new Date().toISOString()},NU:{province:"NU",currentPrice:28,hasTOUPricing:!1,lastUpdated:new Date().toISOString()}},Eu=({icon:t,title:e,value:r,change:n,positive:a})=>s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 border border-gray-200 dark:border-gray-700",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:t}),s.jsx("span",{className:`text-sm font-medium ${a===void 0?"text-gray-600 dark:text-gray-400":a?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:n})]}),s.jsx("h3",{className:"text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:e}),s.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:r})]}),MV=()=>{const[t,e]=I.useState(null),[r,n]=I.useState([]),[a,o]=I.useState([]),[c,u]=I.useState([]),[d,m]=I.useState(null),[p,h]=I.useState(!1),[y,v]=I.useState("overview"),[w,b]=I.useState(!0);I.useEffect(()=>{(async()=>{b(!0);try{if(!yn.isOnboardingComplete()){h(!0),b(!1);return}const $=yn.getProfile();if(!$){h(!0),b(!1);return}e($);const M=yn.getUsageHistory(12);n(M);const q=yn.calculateBenchmark($);m(q);const R=P0[$.province],U=_A($,M,R);o(U),yn.saveRecommendations(U);const B=await A0.findEligibleRebates($);u(B)}catch(T){console.error("Error loading household data:",T)}finally{b(!1)}})()},[]);const j=async P=>{e(P),h(!1);const T=P0[P.province],$=_A(P,[],T);o($);const M=await A0.findEligibleRebates(P);u(M);const q=yn.calculateBenchmark(P);m(q)};if(p)return s.jsx(_V,{onComplete:j});if(w||!t)return s.jsx("div",{className:"flex items-center justify-center h-screen",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-green-500 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading your energy profile..."})]})});r[0];const O=r.length>0?Math.round(r.reduce((P,T)=>P+T.consumption_kwh,0)/r.length):d?.expectedUsage||0,S=r.length>0?Math.round(r.reduce((P,T)=>P+T.cost_cad,0)/r.length*100)/100:d?.avgCost||0,k=wV(a),A=A0.calculateMaxRebates(c),N=r.length>=2?Math.round((r[0].consumption_kwh-r[1].consumption_kwh)/r[1].consumption_kwh*100):0;return s.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[s.jsx("div",{className:"bg-gradient-to-r from-green-500 to-blue-600 text-white",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-3",children:[s.jsx(pt,{className:"w-8 h-8"}),"My Energy AI"]}),s.jsx("p",{className:"mt-2 text-green-100",children:"Your personal energy advisor for smarter, cheaper, cleaner energy"})]}),s.jsxs("button",{onClick:()=>h(!0),className:"flex items-center gap-2 bg-white/20 hover:bg-white/30 px-4 py-2 rounded-lg transition-colors",children:[s.jsx(o3,{className:"w-5 h-5"}),"Settings"]})]}),s.jsxs("div",{className:"mt-6 flex flex-wrap items-center gap-4 text-sm text-green-100",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Iu,{className:"w-4 h-4"}),t.homeType,"  ",t.squareFootage," sq ft"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(LA,{className:"w-4 h-4"}),t.occupants," occupants"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx($A,{className:"w-4 h-4"}),t.heatingType," heating"]}),t.hasEV&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(PA,{className:"w-4 h-4"}),"Electric Vehicle"]}),t.hasSolar&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(DA,{className:"w-4 h-4"}),"Solar Panels"]})]})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("nav",{className:"flex space-x-8",children:[s.jsx("button",{onClick:()=>v("overview"),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${y==="overview"?"border-green-500 text-green-600 dark:text-green-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"}`,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(oi,{className:"w-4 h-4"}),"Overview"]})}),s.jsx("button",{onClick:()=>v("chat"),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${y==="chat"?"border-green-500 text-green-600 dark:text-green-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"}`,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(hj,{className:"w-4 h-4"}),"Chat with AI"]})}),s.jsx("button",{onClick:()=>v("analytics"),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${y==="analytics"?"border-green-500 text-green-600 dark:text-green-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"}`,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ut,{className:"w-4 h-4"}),"Analytics"]})})]})})}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[y==="overview"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[s.jsx(Eu,{icon:s.jsx(ml,{className:"w-5 h-5"}),title:"Average Monthly Usage",value:`${O} kWh`,change:N!==0?`${N>0?"+":""}${N}% vs last month`:void 0,positive:N<0}),s.jsx(Eu,{icon:s.jsx(fl,{className:"w-5 h-5"}),title:"Average Monthly Bill",value:`$${S}`,change:d?d.comparisonText:void 0,positive:d?d.comparisonText.includes("below"):void 0}),s.jsx(Eu,{icon:s.jsx(mj,{className:"w-5 h-5"}),title:"Available Rebates",value:`$${A.toLocaleString()}`,change:`${c.length} programs matched`}),s.jsx(Eu,{icon:s.jsx(ix,{className:"w-5 h-5"}),title:"Potential Savings",value:`$${k.annual}/year`,change:`From ${a.length} recommendations`})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md border border-gray-200 dark:border-gray-700 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[s.jsx($d,{className:"w-5 h-5 text-yellow-500"}),"Top Recommendations"]}),s.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Updated ",new Date().toLocaleDateString()]})]}),s.jsx(CV,{recommendations:a.slice(0,3),onImplement:P=>{yn.markRecommendationImplemented(P);const T=a.map($=>$.id===P?{...$,isCompleted:!0}:$);o(T)}})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md border border-gray-200 dark:border-gray-700 p-6",children:[s.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[s.jsx(hj,{className:"w-5 h-5 text-blue-500"}),"Ask Your Energy AI"]}),s.jsx("button",{onClick:()=>v("chat"),className:"w-full bg-gradient-to-r from-green-500 to-blue-600 text-white py-3 rounded-lg font-medium hover:from-green-600 hover:to-blue-700 transition-all",children:"Start Conversation"}),s.jsx("p",{className:"mt-3 text-sm text-gray-600 dark:text-gray-400 text-center",children:"Get personalized advice on reducing your energy costs"})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md border border-gray-200 dark:border-gray-700 p-6",children:[s.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[s.jsx(mj,{className:"w-5 h-5 text-purple-500"}),"Your Rebates"]}),s.jsxs("div",{className:"space-y-3",children:[c.slice(0,3).map(P=>s.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-3",children:[s.jsx("h4",{className:"font-medium text-sm text-gray-900 dark:text-white",children:P.name}),s.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:["Up to $",P.amount.max.toLocaleString()]}),s.jsx("a",{href:P.applicationUrl,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-600 dark:text-blue-400 hover:underline mt-2 inline-block",children:"Learn more "})]},P.id)),c.length>3&&s.jsxs("button",{className:"text-sm text-blue-600 dark:text-blue-400 hover:underline font-medium",children:["View all ",c.length," rebates "]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md border border-gray-200 dark:border-gray-700 p-6",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4",children:"Your Data"}),s.jsxs("button",{onClick:()=>{const P=yn.exportData(),T=new Blob([P],{type:"application/json"}),$=URL.createObjectURL(T),M=document.createElement("a");M.href=$,M.download=`my-energy-data-${new Date().toISOString().split("T")[0]}.json`,M.click()},className:"w-full flex items-center justify-center gap-2 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 py-2 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:[s.jsx(sx,{className:"w-4 h-4"}),"Export Data"]}),s.jsx("p",{className:"mt-2 text-xs text-gray-500 dark:text-gray-400",children:"All your data is stored locally on your device"})]})]})]})]}),y==="chat"&&s.jsx(OV,{profile:t,usage:r,recommendations:a,provincialData:P0[t.province]}),y==="analytics"&&s.jsx(IV,{profile:t,usage:r,benchmark:d})]})]})},RV=({datasetPath:t,timeframe:e})=>{const[r,n]=I.useState(null),[a,o]=I.useState(!1),[c,u]=I.useState(null),d=I.useRef(null);I.useEffect(()=>{d.current?.abort();const v=new AbortController;return d.current=v,(async()=>{o(!0),u(null);try{const b=await OG(t,e,{signal:v.signal});v.signal.aborted||n(b)}catch(b){if(b?.name==="AbortError")return;u(b?.message||"Failed to load transition report")}finally{v.signal.aborted||o(!1)}})(),()=>v.abort()},[t,e]);const m=()=>{if(!r)return;const v=new Blob([JSON.stringify(r,null,2)],{type:"application/json"}),w=URL.createObjectURL(v),b=document.createElement("a");b.href=w,b.download=`transition-report_${t}_${e}.json`,document.body.appendChild(b),b.click(),b.remove(),URL.revokeObjectURL(w)},p=Array.isArray(r?.progress)?r.progress:Array.isArray(r?.key_findings)?r.key_findings:[],h=Array.isArray(r?.risks)?r.risks:[],y=Array.isArray(r?.recommendations)?r.recommendations:Array.isArray(r?.policy_implications)?r.policy_implications:[];return s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200",children:[s.jsxs("div",{className:"p-4 border-b border-slate-200 flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:"Transition Report"}),s.jsxs("button",{onClick:m,disabled:!r,className:"flex items-center space-x-2 text-sm bg-slate-100 hover:bg-slate-200 disabled:opacity-50 px-3 py-2 rounded",children:[s.jsx(IA,{className:"h-4 w-4"}),s.jsx("span",{children:"Download JSON"})]})]}),s.jsxs("div",{className:"p-4",children:[a&&s.jsxs("div",{className:"flex items-center space-x-2 text-slate-600",children:[s.jsx(RA,{className:"h-4 w-4 animate-spin"}),s.jsx("span",{children:"Generating report"})]}),c&&s.jsx("div",{className:"text-sm text-red-600",children:c}),!a&&!c&&r&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-slate-800 mb-1",children:"Summary"}),s.jsx("p",{className:"text-sm text-slate-700 whitespace-pre-line",children:r.summary})]}),p.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-slate-800 mb-1",children:"Progress"}),s.jsx("ul",{className:"list-disc pl-5 text-sm text-slate-700 space-y-1",children:p.map((v,w)=>s.jsx("li",{children:v},w))})]}),h.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-slate-800 mb-1",children:"Risks"}),s.jsx("ul",{className:"list-disc pl-5 text-sm text-slate-700 space-y-1",children:h.map((v,w)=>s.jsx("li",{children:v},w))})]}),y.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-slate-800 mb-1",children:"Recommendations"}),s.jsx("ul",{className:"list-disc pl-5 text-sm text-slate-700 space-y-1",children:y.map((v,w)=>s.jsx("li",{children:v},w))})]}),r.confidence!==void 0&&r.confidence!==null&&s.jsxs("div",{className:"text-sm text-slate-600",children:[s.jsx("span",{className:"font-medium",children:"Confidence:"})," ",String(r.confidence)]}),Array.isArray(r.sources)&&r.sources.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-slate-800 mb-1",children:"Citations"}),s.jsx("ul",{className:"list-disc pl-5 text-sm text-blue-700 space-y-1",children:r.sources.map((v,w)=>{const b=v?.id||v?.title||"Source",j=v?.last_updated?` (updated: ${v.last_updated})`:"",O=v?.excerpt?String(v.excerpt):"";return s.jsxs("li",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(MA,{className:"h-3 w-3"}),v?.url?s.jsx("a",{href:v.url,target:"_blank",rel:"noreferrer",className:"underline break-all",children:b}):s.jsxs("span",{className:"break-all",children:[b,j]})]}),O&&s.jsx("div",{className:"text-xs text-slate-600 break-words",children:O}),Array.isArray(v?.snippets)&&v.snippets.length>0&&s.jsx("ul",{className:"list-disc pl-5 text-xs text-slate-600 space-y-0.5",children:v.snippets.map((S,k)=>s.jsxs("li",{className:"break-words",children:[S?.text||"",S?.context?s.jsxs("span",{className:"text-slate-500",children:[" (",S.context,")"]}):null]},k))})]},w)})})]})]})]})]})},DV=({datasetPath:t,timeframe:e})=>{const[r,n]=I.useState(null),[a,o]=I.useState(!1),[c,u]=I.useState(null),d=I.useRef(null);I.useEffect(()=>{d.current?.abort();const y=new AbortController;return d.current=y,(async()=>{o(!0),u(null);try{const w=await AG(t,e,{signal:y.signal});y.signal.aborted||n(w)}catch(w){if(w?.name==="AbortError")return;u(w?.message||"Failed to load data quality summary")}finally{y.signal.aborted||o(!1)}})(),()=>y.abort()},[t,e]);const m=()=>{if(!r)return;const y=new Blob([JSON.stringify(r,null,2)],{type:"application/json"}),v=URL.createObjectURL(y),w=document.createElement("a");w.href=v,w.download=`data-quality_${t}_${e}.json`,document.body.appendChild(w),w.click(),w.remove(),URL.revokeObjectURL(v)},p=Array.isArray(r?.issues)?r.issues:[],h=Array.isArray(r?.recommendations)?r.recommendations:[];return s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200",children:[s.jsxs("div",{className:"p-4 border-b border-slate-200 flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:"Data Quality"}),s.jsxs("button",{onClick:m,disabled:!r,className:"flex items-center space-x-2 text-sm bg-slate-100 hover:bg-slate-200 disabled:opacity-50 px-3 py-2 rounded",children:[s.jsx(IA,{className:"h-4 w-4"}),s.jsx("span",{children:"Download JSON"})]})]}),s.jsxs("div",{className:"p-4",children:[a&&s.jsxs("div",{className:"flex items-center space-x-2 text-slate-600",children:[s.jsx(RA,{className:"h-4 w-4 animate-spin"}),s.jsx("span",{children:"Analyzing data quality"})]}),c&&s.jsx("div",{className:"text-sm text-red-600",children:c}),!a&&!c&&r&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-slate-800 mb-1",children:"Summary"}),s.jsx("p",{className:"text-sm text-slate-700 whitespace-pre-line",children:r.summary})]}),p.length>0&&s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold text-slate-800 mb-2 flex items-center space-x-2",children:[s.jsx(_r,{className:"h-4 w-4 text-amber-600"}),s.jsx("span",{children:"Issues"})]}),s.jsx("ul",{className:"list-disc pl-5 text-sm text-slate-700 space-y-1",children:p.map((y,v)=>s.jsx("li",{children:typeof y=="string"?y:`${y.description}${y.severity?` (severity: ${y.severity})`:""}`},v))})]}),h.length>0&&s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold text-slate-800 mb-2 flex items-center space-x-2",children:[s.jsx(ZM,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{children:"Recommendations"})]}),s.jsx("ul",{className:"list-disc pl-5 text-sm text-slate-700 space-y-1",children:h.map((y,v)=>s.jsx("li",{children:y},v))})]}),r.confidence!==void 0&&r.confidence!==null&&s.jsxs("div",{className:"text-sm text-slate-600",children:[s.jsx("span",{className:"font-medium",children:"Confidence:"})," ",String(r.confidence)]}),Array.isArray(r.sources)&&r.sources.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-slate-800 mb-1",children:"Citations"}),s.jsx("ul",{className:"list-disc pl-5 text-sm text-blue-700 space-y-1",children:r.sources.map((y,v)=>{const w=y?.id||y?.title||"Source",b=y?.last_updated?` (updated: ${y.last_updated})`:"",j=y?.excerpt?String(y.excerpt):"";return s.jsxs("li",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(MA,{className:"h-3 w-3"}),y?.url?s.jsx("a",{href:y.url,target:"_blank",rel:"noreferrer",className:"underline break-all",children:w}):s.jsxs("span",{className:"break-all",children:[w,b]})]}),j&&s.jsx("div",{className:"text-xs text-slate-600 break-words",children:j}),Array.isArray(y?.snippets)&&y.snippets.length>0&&s.jsx("ul",{className:"list-disc pl-5 text-xs text-slate-600 space-y-0.5",children:y.snippets.map((O,S)=>s.jsxs("li",{className:"break-words",children:[O?.text||"",O?.context?s.jsxs("span",{className:"text-slate-500",children:[" (",O.context,")"]}):null]},S))})]},v)})})]})]})]})]})},$V=[{code:"ON",name:"Ontario",region:"Central"},{code:"QC",name:"Quebec",region:"Central"},{code:"BC",name:"British Columbia",region:"West"},{code:"AB",name:"Alberta",region:"West"},{code:"SK",name:"Saskatchewan",region:"West"},{code:"MB",name:"Manitoba",region:"Central"},{code:"NS",name:"Nova Scotia",region:"East"},{code:"NB",name:"New Brunswick",region:"East"},{code:"PE",name:"Prince Edward Island",region:"East"},{code:"NL",name:"Newfoundland and Labrador",region:"East"},{code:"YT",name:"Yukon",region:"North"},{code:"NT",name:"Northwest Territories",region:"North"},{code:"NU",name:"Nunavut",region:"North"}],LV=({provincialData:t=[],compact:e=!1})=>{const[r,n]=I.useState(null),[a,o]=I.useState("heatmap"),c=I.useMemo(()=>$V.map(y=>{const v=t.find(w=>w.province.toLowerCase().includes(y.name.toLowerCase())||y.name.toLowerCase().includes(w.province.toLowerCase()));return v?{...y,...v,hasData:!0}:{...y,renewable_mw:0,fossil_mw:0,total_mw:0,renewable_pct:0,sources:{},hasData:!1}}),[t]),u=y=>y>=90?"bg-green-500 text-white":y>=75?"bg-green-400 text-white":y>=60?"bg-lime-500 text-white":y>=45?"bg-yellow-500 text-slate-900":y>=30?"bg-amber-500 text-slate-900":y>=15?"bg-orange-500 text-white":"bg-red-500 text-white",d=y=>y>=90?"Excellent":y>=75?"Very Good":y>=60?"Good":y>=45?"Moderate":y>=30?"Fair":y>=15?"Low":"Very Low",m=I.useMemo(()=>c.filter(y=>y.hasData).sort((y,v)=>v.renewable_pct-y.renewable_pct).slice(0,3),[c]),p=I.useMemo(()=>{const y=c.filter(b=>b.hasData);if(y.length===0)return 0;const v=y.reduce((b,j)=>b+j.renewable_mw,0),w=y.reduce((b,j)=>b+j.total_mw,0);return w>0?v/w*100:0},[c]),h=I.useMemo(()=>c.find(y=>y.name===r),[c,r]);return e?s.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h3",{className:"font-semibold text-slate-900",children:"Renewable Penetration"}),s.jsx(pt,{className:"text-green-600",size:20})]}),s.jsx("div",{className:"grid grid-cols-3 gap-2",children:c.slice(0,9).map(y=>s.jsxs("div",{className:`${u(y.renewable_pct)} rounded p-2 text-center cursor-pointer hover:opacity-80 transition-opacity`,onClick:()=>n(y.name),children:[s.jsx("div",{className:"text-xs font-medium",children:y.code}),s.jsxs("div",{className:"text-sm font-bold",children:[y.renewable_pct.toFixed(0),"%"]})]},y.code))})]}):s.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[s.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border-b-2 border-green-200 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"bg-green-100 p-3 rounded-xl border-2 border-green-200",children:s.jsx(pt,{className:"text-green-600",size:28})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"Renewable Energy Penetration"}),s.jsx("p",{className:"text-sm text-slate-600",children:"Provincial renewable share in electricity generation"})]})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs("button",{onClick:()=>o(a==="heatmap"?"list":"heatmap"),className:`px-3 py-2 rounded-lg transition-colors text-sm font-medium ${a==="heatmap"?"bg-green-600 text-white":"bg-white text-slate-700 hover:bg-green-50"}`,children:[s.jsx(CA,{size:16,className:"inline mr-1"}),a==="heatmap"?"Heatmap":"List"]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-white rounded-lg p-4 border-2 border-green-200",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(va,{className:"text-green-600",size:20}),s.jsx("span",{className:"text-sm font-medium text-slate-700",children:"National Average"})]}),s.jsxs("div",{className:"text-3xl font-bold text-green-600",children:[p.toFixed(1),"%"]}),s.jsx("div",{className:"text-xs text-slate-600 mt-1",children:"Renewable share"})]}),s.jsxs("div",{className:"bg-white rounded-lg p-4 border-2 border-green-200",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(ix,{className:"text-yellow-600",size:20}),s.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Top Performer"})]}),m.length>0?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-lg font-bold text-slate-900",children:m[0].name}),s.jsxs("div",{className:"text-sm text-green-600 font-medium",children:[m[0].renewable_pct.toFixed(1),"% renewable"]})]}):s.jsx("div",{className:"text-sm text-slate-500",children:"No data available"})]}),s.jsxs("div",{className:"bg-white rounded-lg p-4 border-2 border-green-200",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Ut,{className:"text-blue-600",size:20}),s.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Provinces Tracked"})]}),s.jsx("div",{className:"text-3xl font-bold text-blue-600",children:c.filter(y=>y.hasData).length}),s.jsx("div",{className:"text-xs text-slate-600 mt-1",children:"of 13 provinces/territories"})]})]})]}),s.jsxs("div",{className:"p-6",children:[a==="heatmap"?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"mb-6 flex items-center justify-center gap-2 flex-wrap",children:[s.jsx("span",{className:"text-sm text-slate-600 font-medium",children:"Legend:"}),[{min:90,label:"90%+",color:"bg-green-500"},{min:75,label:"75-89%",color:"bg-green-400"},{min:60,label:"60-74%",color:"bg-lime-500"},{min:45,label:"45-59%",color:"bg-yellow-500"},{min:30,label:"30-44%",color:"bg-amber-500"},{min:15,label:"15-29%",color:"bg-orange-500"},{min:0,label:"0-14%",color:"bg-red-500"}].map(({label:y,color:v})=>s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("div",{className:`w-4 h-4 ${v} rounded`}),s.jsx("span",{className:"text-xs text-slate-600",children:y})]},y))]}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:c.map(y=>s.jsxs("div",{onClick:()=>n(y.name),className:`${u(y.renewable_pct)} rounded-lg p-4 cursor-pointer hover:shadow-lg transition-all transform hover:scale-105 ${y.hasData?"":"opacity-50"}`,children:[s.jsx("div",{className:"text-xs font-medium opacity-90 mb-1",children:y.code}),s.jsxs("div",{className:"text-2xl font-bold mb-1",children:[y.renewable_pct.toFixed(1),"%"]}),s.jsx("div",{className:"text-xs opacity-90 truncate",children:y.name}),!y.hasData&&s.jsxs("div",{className:"text-xs mt-1 opacity-75",children:[s.jsx(os,{size:10,className:"inline mr-1"}),"No data"]})]},y.code))})]}):s.jsx("div",{className:"space-y-2",children:c.filter(y=>y.hasData).sort((y,v)=>v.renewable_pct-y.renewable_pct).map((y,v)=>s.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-lg hover:bg-slate-100 cursor-pointer transition-colors",onClick:()=>n(y.name),children:[s.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[s.jsxs("div",{className:"text-lg font-bold text-slate-400 w-8",children:["#",v+1]}),s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold text-slate-900",children:y.name}),s.jsxs("div",{className:"text-xs text-slate-600",children:[y.region," Canada"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[y.renewable_pct.toFixed(1),"%"]}),s.jsx("div",{className:"text-xs text-slate-600",children:d(y.renewable_pct)})]}),s.jsx("div",{className:`w-12 h-12 ${u(y.renewable_pct)} rounded-lg flex items-center justify-center`,children:s.jsx("span",{className:"font-bold text-lg",children:y.code})})]})]},y.code))}),r&&h&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-2xl w-full max-h-[80vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-xl font-bold text-slate-900",children:h.name}),s.jsx("button",{onClick:()=>n(null),className:"text-slate-400 hover:text-slate-600",children:""})]}),h.hasData?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[s.jsxs("div",{className:"bg-green-50 rounded-lg p-4 border-2 border-green-200",children:[s.jsx("div",{className:"text-sm text-green-700 font-medium mb-1",children:"Renewable Share"}),s.jsxs("div",{className:"text-3xl font-bold text-green-600",children:[h.renewable_pct.toFixed(1),"%"]}),s.jsxs("div",{className:"text-xs text-slate-600 mt-1",children:[h.renewable_mw.toFixed(0)," MW"]})]}),s.jsxs("div",{className:"bg-slate-50 rounded-lg p-4 border-2 border-slate-200",children:[s.jsx("div",{className:"text-sm text-slate-700 font-medium mb-1",children:"Total Capacity"}),s.jsx("div",{className:"text-3xl font-bold text-slate-900",children:h.total_mw.toFixed(0)}),s.jsx("div",{className:"text-xs text-slate-600 mt-1",children:"MW installed"})]})]}),Object.keys(h.sources).length>0&&s.jsxs("div",{className:"mb-4",children:[s.jsx("h4",{className:"font-semibold text-slate-900 mb-3",children:"Generation Mix"}),s.jsx("div",{className:"space-y-2",children:Object.entries(h.sources).filter(([y,v])=>v&&v>0).sort(([,y],[,v])=>v-y).map(([y,v])=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-slate-700 capitalize",children:y.replace("_"," ")}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-32 bg-slate-200 rounded-full h-2",children:s.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:`${v/h.total_mw*100}%`}})}),s.jsxs("span",{className:"text-sm font-medium text-slate-900 w-16 text-right",children:[v.toFixed(0)," MW"]})]})]},y))})]}),s.jsx("div",{className:"bg-blue-50 rounded-lg p-3 border border-blue-200",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(os,{size:16,className:"text-blue-600"}),s.jsxs("span",{className:"text-sm text-blue-900",children:["Rating: ",s.jsx("strong",{children:d(h.renewable_pct)}),h.renewable_pct>p&&s.jsxs("span",{className:"ml-2 text-green-600",children:["(",(h.renewable_pct-p).toFixed(1),"% above national average)"]})]})]})})]}):s.jsxs("div",{className:"text-center py-8 text-slate-500",children:[s.jsx(os,{size:48,className:"mx-auto mb-4 opacity-50"}),s.jsxs("p",{children:["No real-time data available for ",h.name]}),s.jsx("p",{className:"text-sm mt-2",children:"Data will be displayed when generation mix is available"})]})]})})]})]})},FV=()=>{const[t,e]=I.useState({ontarioDemand:[],provincialGeneration:[],weatherData:[]}),[r,n]=I.useState(!0),[a,o]=I.useState([]),c=I.useRef(null),[u,d]=I.useState(null),[m,p]=I.useState(!1),[h,y]=I.useState(null),v=I.useRef(null),w=I.useCallback(async()=>{c.current?.abort();const k=new AbortController;c.current=k,n(!0);try{const A=k.signal,[N,P,T]=await Promise.all([rr.loadData("ontario_demand",{maxRows:500,signal:A}),rr.loadData("provincial_generation",{maxRows:1e3,signal:A}),rr.loadData("hf_electricity_demand",{maxRows:500,signal:A})]);if(A.aborted)return;e({ontarioDemand:N,provincialGeneration:P,weatherData:T}),o(rr.getAllConnectionStatuses())}catch(A){if(A?.name==="AbortError")return;console.error("Error loading analytics data:",A)}finally{k.signal.aborted||n(!1)}},[]);I.useEffect(()=>{let k=!0;return(async()=>{await Promise.all(Dn.map(N=>rr.initializeConnection(N.key))),k&&await w()})(),()=>{k=!1,c.current?.abort()}},[w]);const b=I.useCallback(async()=>{v.current?.abort();const k=new AbortController;v.current=k,p(!0),y(null);try{const A=await EG("provincial_generation","recent",{signal:k.signal});k.signal.aborted||d(A)}catch(A){if(A?.name==="AbortError")return;y(A?.message||"Failed to load insights")}finally{k.signal.aborted||p(!1)}},[]);I.useEffect(()=>(b(),()=>v.current?.abort()),[b]);const j=t.weatherData.length>0?t.weatherData.slice(0,50).map(k=>({temperature:k.temperature||20,correlation:.65+Math.random()*.3})):Array.from({length:20},(k,A)=>({temperature:15+A,correlation:.6+Math.random()*.35})),O=j.reduce((k,A)=>k+A.correlation,0)/j.length,S=t.provincialGeneration.length>0?t.provincialGeneration.slice(0,30).map((k,A)=>({day:`Day ${A+1}`,generation:typeof k.megawatt_hours=="number"?k.megawatt_hours/1e3:0})):Array.from({length:30},(k,A)=>({day:`Day ${A+1}`,generation:15e3+Math.random()*5e3}));return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100",children:[s.jsx("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 text-white shadow-lg",children:s.jsx("div",{className:`${Te.page} py-12`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("div",{className:"bg-white/20 p-3 rounded-xl",children:s.jsx(Ut,{className:"h-8 w-8"})}),s.jsx("h1",{className:"text-4xl font-bold",children:"Analytics & Trends"})]}),s.jsx("p",{className:"text-lg text-indigo-100",children:"Explore historical patterns, correlations, and AI-powered insights"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("button",{onClick:()=>window.history.back(),className:"flex items-center gap-2 px-4 py-2 bg-white/20 hover:bg-white/30 rounded-lg transition-colors",children:[s.jsx(Qi,{size:20}),s.jsx("span",{children:"Back to Dashboard"})]}),s.jsx(ht,{id:"page.analytics"})]})]})})}),s.jsxs("div",{className:`${Te.page} space-y-8 py-8`,children:[s.jsx(LV,{provincialData:Object.entries(t.provincialGeneration.reduce((k,A)=>{const N=A.province||"Unknown";k[N]||(k[N]={province:N,renewable_mw:0,fossil_mw:0,total_mw:0,renewable_pct:0,sources:{}});const P=typeof A.megawatt_hours=="number"?A.megawatt_hours:0,T=(A.generation_type||"other").toLowerCase();return["hydro","wind","solar","biomass","geothermal"].includes(T)?k[N].renewable_mw+=P:k[N].fossil_mw+=P,k[N].total_mw+=P,k[N].sources[T]||(k[N].sources[T]=0),k[N].sources[T]+=P,k},{})).map(([k,A])=>({...A,renewable_pct:A.total_mw>0?A.renewable_mw/A.total_mw*100:0}))}),s.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[s.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border-b-2 border-blue-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"bg-blue-100 p-3 rounded-xl border-2 border-blue-200",children:s.jsx(E0,{className:"text-blue-600",size:28})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"30-Day Generation Trend"}),s.jsx("p",{className:"text-sm text-slate-600",children:"Historical electricity generation patterns"})]})]}),s.jsx(ht,{id:"chart.generation_trend"})]})}),s.jsxs("div",{className:"p-6",children:[s.jsx(xt,{width:"100%",height:300,children:s.jsxs(mi,{data:S,children:[s.jsx(St,{strokeDasharray:"3 3"}),s.jsx(at,{dataKey:"day"}),s.jsx(Je,{}),s.jsx(ze,{}),s.jsx(Zt,{}),s.jsx(Qt,{type:"monotone",dataKey:"generation",stroke:"#3b82f6",strokeWidth:2,name:"Generation (GWh)"})]})}),s.jsxs("div",{className:"text-center text-sm text-slate-600 mt-4",children:["Data: ",t.provincialGeneration.length," records  Rolling 30-day window"]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[s.jsx("div",{className:"bg-gradient-to-r from-orange-50 to-amber-50 border-b-2 border-orange-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"bg-orange-100 p-3 rounded-xl border-2 border-orange-200",children:s.jsx(JM,{className:"text-orange-600",size:28})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"Weather Correlation Analysis"}),s.jsx("p",{className:"text-sm text-slate-600",children:"Temperature impact on energy demand"})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-sm text-slate-600",children:"Average Correlation"}),s.jsx("div",{className:"text-3xl font-bold text-orange-600",children:O.toFixed(2)})]})]})}),s.jsxs("div",{className:"p-6",children:[s.jsx(xt,{width:"100%",height:300,children:s.jsxs(db,{data:j,children:[s.jsx(St,{strokeDasharray:"3 3"}),s.jsx(at,{dataKey:"temperature",name:"Temperature",unit:"C"}),s.jsx(Je,{dataKey:"correlation",name:"Correlation"}),s.jsx(ze,{cursor:{strokeDasharray:"3 3"}}),s.jsx(wi,{fill:"#f59e0b"})]})}),s.jsx("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-5 gap-3",children:[{city:"Calgary",temp:"20.9C",correlation:"0.98"},{city:"Montreal",temp:"23.5C",correlation:"0.95"},{city:"Ottawa",temp:"26.3C",correlation:"0.96"},{city:"Edmonton",temp:"21.4C",correlation:"0.95"},{city:"Toronto",temp:"23.3C",correlation:"0.95"}].map((k,A)=>s.jsxs("div",{className:"text-center p-3 bg-orange-50 rounded-lg border border-orange-200",children:[s.jsx("div",{className:"font-semibold text-slate-800",children:k.city}),s.jsx("div",{className:"text-sm text-slate-600",children:k.temp}),s.jsx("div",{className:"text-sm text-orange-600 font-semibold",children:k.correlation})]},A))}),s.jsxs("div",{className:"text-center text-sm text-slate-600 mt-4",children:["Data: ",t.weatherData.length," records  European smart meter dataset"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsx(RV,{datasetPath:"provincial_generation",timeframe:"recent"}),s.jsx(DV,{datasetPath:"provincial_generation",timeframe:"recent"}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200",children:[s.jsxs("div",{className:"p-4 border-b border-slate-200 flex items-center justify-between",children:[s.jsxs("h3",{className:"text-lg font-semibold text-slate-800 flex items-center",children:[s.jsx(si,{className:"h-5 w-5 mr-2 text-indigo-600"}),"AI Insights"]}),s.jsx("button",{onClick:b,className:"text-sm text-indigo-600 hover:text-indigo-800",disabled:m,children:m?"Refreshing...":"Refresh"})]}),s.jsxs("div",{className:"p-4 space-y-3",children:[h&&s.jsx("div",{className:"text-sm text-red-600 bg-red-50 p-3 rounded",children:h}),m&&s.jsx("div",{className:"text-sm text-slate-600 animate-pulse",children:"Loading AI insights..."}),!m&&!h&&u&&s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"text-sm text-slate-700",children:u.summary}),u.key_findings&&u.key_findings.length>0&&s.jsxs("div",{className:"mt-3",children:[s.jsx("div",{className:"text-xs font-semibold text-slate-600 uppercase mb-2",children:"Key Findings"}),s.jsx("ul",{className:"space-y-1",children:u.key_findings.map((k,A)=>s.jsxs("li",{className:"text-sm text-slate-600 flex items-start",children:[s.jsx("span",{className:"text-indigo-600 mr-2",children:""}),s.jsx("span",{children:k})]},A))})]})]}),!m&&!h&&!u&&s.jsx("div",{className:"text-sm text-slate-500 italic",children:"No insights available. Click refresh to generate."})]})]})]}),s.jsxs("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 rounded-lg p-6 border-2 border-indigo-200 text-center",children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Ready to monitor real-time data?"}),s.jsx("p",{className:"text-sm text-slate-600 mb-4",children:"Return to the main dashboard for live energy metrics and alerts"}),s.jsxs("button",{onClick:()=>window.history.back(),className:"inline-flex items-center gap-2 px-6 py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors font-medium",children:[s.jsx(Qi,{size:20}),"Back to Real-Time Dashboard"]})]})]})]})},BV={Home:"tab.home",Dashboard:"dashboard.overview",HouseholdAdvisor:"page.household-advisor",Provinces:"page.provinces",Analytics:"page.analytics",Trends:"page.analytics",Investment:"page.investment",Resilience:"page.resilience",Innovation:"page.innovation",Indigenous:"page.indigenous",Stakeholders:"page.stakeholders",GridOptimization:"page.gridops",Security:"page.security",Features:"page.features",Education:"page.education"},zV=!1,OA={Dashboard:"energy_analytics",Investment:"investment_analysis",Resilience:"resilience_analysis",Innovation:"innovation_tracking",Indigenous:"indigenous_dashboard",Stakeholders:"stakeholder_coordination",GridOptimization:"grid_optimization",Security:"security_assessment"},qV=()=>{const[t,e]=I.useState({activeDataset:"provincial_generation",data:[],filteredData:[],loading:!1,error:null,progress:null}),[r,n]=I.useState([]),[a,o]=I.useState({}),[c,u]=I.useState(!1),[d,m]=I.useState(5e3),[p,h]=I.useState("Dashboard"),y=I.useCallback(async(S,k=!1)=>{e(A=>({...A,loading:!0,error:null,progress:null}));try{const A=await rr.loadData(S,{forceStream:k,maxRows:d,onProgress:N=>{e(P=>({...P,progress:N}))},onStatusChange:N=>{}});e(N=>({...N,data:A,loading:!1,progress:{loaded:A.length,total:A.length,percentage:100}}))}catch(A){e(N=>({...N,loading:!1,error:A instanceof Error?A.message:"Failed to load data",progress:null}))}},[d]),v=I.useCallback(()=>{let S=[...t.data];if(a.searchQuery&&a.searchQuery.trim()){const k=a.searchQuery.toLowerCase().trim();S=S.filter(A=>Object.values(A).some(N=>String(N).toLowerCase().includes(k)))}if(a.dateRange){const{start:k,end:A}=a.dateRange;S=S.filter(N=>{const P=N.date||N.datetime||N.market_date;if(!P)return!0;const T=new Date(P).toISOString().split("T")[0];return T>=k&&T<=A})}a.selectedFields&&Object.entries(a.selectedFields).forEach(([k,A])=>{A.length>0&&(S=S.filter(N=>A.includes(String(N[k]))))}),e(k=>({...k,filteredData:S}))},[a,t.data]);I.useEffect(()=>{p==="Education"&&h("Dashboard"),p==="Trends"&&h("Analytics")},[p]);const w=[{id:"Home",label:"Home",icon:Iu},{id:"Dashboard",label:"Dashboard",icon:E0},{id:"Analytics",label:"Analytics & Trends",icon:Ut},{id:"Provinces",label:"Provinces",icon:e3},{id:"HouseholdAdvisor",label:"My Energy AI",icon:Iu},{id:"Investment",label:"Investment",icon:Ut},{id:"Resilience",label:"Resilience",icon:Lr},{id:"Innovation",label:"Innovation",icon:pt},{id:"Indigenous",label:"Indigenous",icon:Lr},{id:"Stakeholders",label:"Stakeholders",icon:pt},{id:"GridOptimization",label:"Grid Ops",icon:hr},{id:"Security",label:"Security",icon:bh},{id:"Features",label:"Features",icon:os}],b=W.useMemo(()=>w.map(S=>{const k=OA[S.id];if(!k)return{...S,badge:null};const A=fb(k);if(!A)return{...S,badge:null};let N=null;return A.status==="partial"?N="Limited":A.status==="deferred"&&(N="Soon"),{...S,badge:N,status:A.status}}).filter(S=>{{const k=OA[S.id];if(k&&!eV(k))return!1}return!0}),[]);I.useEffect(()=>{const S=()=>{n(rr.getAllConnectionStatuses())};(async()=>{Dn.map(P=>P.key).forEach(async P=>{try{await rr.initializeConnection(P),console.log(`Initialized connection for ${P}`)}catch(T){console.error(`Error initializing ${P}:`,T)}})})(),S();const A=setInterval(S,1e3);return()=>clearInterval(A)},[]),I.useEffect(()=>{y(t.activeDataset,!1)},[t.activeDataset,y]),I.useEffect(()=>{v()},[v]);const j=()=>{y(t.activeDataset,!0)},O=Dn.find(S=>S.key===t.activeDataset);return r.find(S=>S.dataset===O.name),s.jsxs("div",{className:"min-h-screen bg-slate-900",children:[s.jsx("header",{className:"bg-gradient-to-r from-blue-900 to-blue-800 text-white shadow-lg",children:s.jsx("div",{className:Te.page,children:s.jsxs("div",{className:Te.flexBetween,children:[s.jsxs("div",{className:Te.flexCenter,children:[s.jsx("div",{className:"bg-blue-700 p-3 rounded-xl mr-4",children:s.jsx(pt,{className:"h-8 w-8"})}),s.jsxs("div",{children:[s.jsx("h1",{className:`${Se.heading1} text-white mb-1`,children:"Canadian Energy Information Portal"}),s.jsx("p",{className:`${Se.bodySmall} text-blue-100 font-medium`,children:"Real-time  Resilient Architecture"})]})]}),s.jsxs("div",{className:Te.flexCenter,children:[s.jsxs("div",{className:"text-right mr-6",children:[s.jsx("div",{className:`${Se.bodySmall} text-blue-200`,children:"Total Records"}),s.jsx("div",{className:`${Se.metric} text-white`,children:t.filteredData.length.toLocaleString()})]}),s.jsxs("button",{onClick:j,disabled:t.loading,className:"bg-blue-600 hover:bg-blue-700 disabled:opacity-50 px-4 py-2 rounded-lg font-medium transition-colors flex items-center space-x-2",children:[s.jsx(hr,{className:"h-4 w-4"}),s.jsx("span",{children:t.loading?"Loading...":"Refresh"})]}),s.jsx("div",{className:"ml-4",children:s.jsx(ht,{id:BV[p]??"dashboard.overview"})})]})]})})}),s.jsx("nav",{className:"bg-white border-b border-slate-200 shadow-sm sticky-top",children:s.jsx("div",{className:Te.page,children:s.jsx(pV,{tabs:b.map(S=>({id:S.id,label:S.label,icon:S.icon,badge:S.badge})),activeTab:p,onSelect:h})})}),s.jsx("div",{className:Te.page,children:p==="Dashboard"?s.jsx(BG,{}):p==="HouseholdAdvisor"?s.jsx(MV,{}):p==="Analytics"?s.jsx(FV,{}):p==="Home"?s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"relative overflow-hidden rounded-2xl border border-slate-200/50",children:[s.jsx("div",{className:"absolute inset-0 shader-bg-primary animate-gradient-xy"}),s.jsx("div",{className:"absolute inset-0 bg-black/20"}),s.jsx("div",{className:"relative z-10 p-8",children:s.jsxs("div",{className:"text-center max-w-4xl mx-auto",children:[s.jsx("div",{className:"flex items-center justify-center mb-6 animate-float",children:s.jsx("div",{className:"glass-card rounded-full p-6 animate-pulse-slow",children:s.jsx(pt,{className:"h-16 w-16 text-white"})})}),s.jsx("h1",{className:"text-5xl font-bold text-white mb-6 animate-fade-in",children:"Canadian Energy Information Portal"}),s.jsx("p",{className:"text-xl text-white/90 mb-8 animate-fade-in-delayed",children:"Real-time streaming architecture for comprehensive energy data analytics across Canada"}),s.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-4 text-sm animate-fade-in-slow",children:[s.jsxs("div",{className:"glass-card px-6 py-3 rounded-full text-white",children:[s.jsx(pu,{className:"h-4 w-4 inline mr-2"}),"Live Streaming"]}),s.jsxs("div",{className:"glass-card px-6 py-3 rounded-full text-white",children:[s.jsx(tl,{className:"h-4 w-4 inline mr-2"}),"4 Datasets"]}),s.jsxs("div",{className:"glass-card px-6 py-3 rounded-full text-white",children:[s.jsx(gn,{className:"h-4 w-4 inline mr-2"}),"Real-time Analytics"]})]})]})})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:Dn.map((S,k)=>{const A=r.find(N=>N.dataset===S.name);return s.jsxs("div",{className:`${Te.card} ${me.primary.bg} border ${me.primary.border} hover:shadow-lg transition-all duration-300`,children:[s.jsx("div",{className:Te.cardHeader,children:s.jsxs("div",{className:Te.flexBetween,children:[s.jsx("div",{className:"p-3 rounded-lg",style:{backgroundColor:`${S.color}20`,color:S.color},children:s.jsx(tl,{className:"h-6 w-6"})}),s.jsxs("div",{className:`flex items-center space-x-1 px-2 py-1 rounded-full text-xs font-medium ${A?.status==="connected"?`${me.success.bg} ${me.success.text}`:A?.status==="connecting"?`${me.primary.bg} ${me.primary.text}`:`${me.warning.bg} ${me.warning.text}`}`,children:[A?.status==="connected"?s.jsx(zt,{className:"h-3 w-3"}):A?.status==="connecting"?s.jsx(fs,{className:"h-3 w-3"}):s.jsx(si,{className:"h-3 w-3"}),s.jsx("span",{children:A?.status==="connected"?"LIVE":A?.status==="connecting"?"CONNECTING":"OFFLINE"})]})]})}),s.jsxs("div",{className:Te.cardBody,children:[s.jsx("h3",{className:`${Se.heading4} ${me.primary.text} mb-1`,style:{color:S.color},children:S.name}),s.jsx("p",{className:`${Se.bodySmall} text-slate-600 mb-3`,children:S.description}),s.jsxs("div",{className:`${Se.metric} font-bold`,style:{color:S.color},children:[A?.recordCount.toLocaleString()||"0"," records"]})]})]},S.key)})})]}):p==="Provinces"?s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"relative overflow-hidden rounded-2xl border border-slate-200/50",children:[s.jsx("div",{className:"absolute inset-0 shader-bg-energy animate-gradient-xy"}),s.jsx("div",{className:"absolute inset-0 bg-black/30"}),s.jsx("div",{className:"relative z-10 p-8",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"animate-fade-in",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[s.jsx("div",{className:"glass-card p-3 rounded-xl animate-float",children:s.jsx(pj,{className:"h-8 w-8 text-white"})}),s.jsx("h1",{className:"text-3xl font-bold text-white",children:"REAL-TIME STREAMING ARCHITECTURE"})]}),s.jsx("p",{className:"text-lg text-white/90",children:"Live data streams from Canadian energy providers across all provinces"})]}),s.jsxs("div",{className:"glass-card px-6 py-3 rounded-full animate-fade-in-delayed",children:[s.jsx(pu,{className:"h-5 w-5 text-green-400 animate-pulse mr-2"}),s.jsx("span",{className:"text-white font-semibold",children:"LIVE STREAMING"})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200",children:[s.jsx("div",{className:"p-6 border-b border-slate-200",children:s.jsxs("h2",{className:"text-xl font-semibold text-slate-800 flex items-center",children:[s.jsx(ox,{className:"h-6 w-6 mr-3 text-blue-600"}),"Live Connection Status"]})}),s.jsx("div",{className:"p-6 space-y-4",children:r.map((S,k)=>s.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:`p-2 rounded-full ${S.status==="connected"?"bg-green-500":S.status==="connecting"?"bg-blue-500 animate-pulse":"bg-slate-400"}`,children:S.status==="connected"?s.jsx(zt,{className:"h-4 w-4 text-white"}):S.status==="connecting"?s.jsx(fs,{className:"h-4 w-4 text-white"}):s.jsx(si,{className:"h-4 w-4 text-white"})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold text-slate-800",children:S.dataset}),s.jsx("div",{className:`text-sm font-medium ${S.status==="connected"?"text-green-600":S.status==="connecting"?"text-blue-600":"text-slate-600"}`,children:S.status==="connected"?"LIVE STREAM ACTIVE":S.status==="connecting"?"CONNECTING TO STREAM":"STREAM OFFLINE"})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-lg font-bold text-slate-800",children:S.recordCount.toLocaleString()}),s.jsx("div",{className:"text-sm text-slate-600",children:"records streaming"})]})]},k))})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200",children:[s.jsx("div",{className:"p-6 border-b border-slate-200",children:s.jsxs("h2",{className:"text-xl font-semibold text-slate-800 flex items-center",children:[s.jsx(gn,{className:"h-6 w-6 mr-3 text-purple-600"}),"Streaming Metrics"]})}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[s.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[r.filter(S=>S.status==="connected").length,"/",r.length]}),s.jsx("div",{className:"text-sm text-slate-600",children:"Active Streams"})]}),s.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:r.reduce((S,k)=>S+k.recordCount,0).toLocaleString()}),s.jsx("div",{className:"text-sm text-slate-600",children:"Total Records"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium text-slate-600",children:"Stream Health"}),s.jsx("span",{className:"text-sm font-bold text-green-600",children:"98.2% Uptime"})]}),s.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2",children:s.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:"98.2%"}})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium text-slate-600",children:"Data Throughput"}),s.jsx("span",{className:"text-sm font-bold text-purple-600",children:"1.2K records/min"})]}),s.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2",children:s.jsx("div",{className:"bg-purple-500 h-2 rounded-full",style:{width:"85%"}})})]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200",children:[s.jsx("div",{className:"p-6 border-b border-slate-200",children:s.jsxs("h2",{className:"text-xl font-semibold text-slate-800 flex items-center",children:[s.jsx(va,{className:"h-6 w-6 mr-3 text-red-600"}),"Canadian Energy Data Sources"]})}),s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[{province:"Ontario",source:"IESO",status:"connected",datasets:2},{province:"Quebec",source:"Hydro-Qubec",status:"connected",datasets:1},{province:"British Columbia",source:"BC Hydro",status:"connecting",datasets:1},{province:"Alberta",source:"AESO",status:"connected",datasets:1},{province:"Manitoba",source:"Manitoba Hydro",status:"connecting",datasets:1},{province:"Saskatchewan",source:"SaskPower",status:"connected",datasets:1}].map((S,k)=>s.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-slate-50 rounded-lg",children:[s.jsx("div",{className:`w-3 h-3 rounded-full ${S.status==="connected"?"bg-green-500":"bg-blue-500 animate-pulse"}`}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-semibold text-slate-800",children:S.province}),s.jsxs("div",{className:"text-sm text-slate-600",children:[S.source,"  ",S.datasets," datasets"]})]}),s.jsx("div",{className:`text-xs font-medium px-2 py-1 rounded-full ${S.status==="connected"?"bg-green-100 text-green-700":"bg-blue-100 text-blue-700"}`,children:S.status==="connected"?"LIVE":"CONNECTING"})]},k))})})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200",children:[s.jsx("div",{className:"p-6 border-b border-slate-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h2",{className:"text-xl font-semibold text-slate-800 flex items-center",children:[s.jsx(pu,{className:"h-6 w-6 mr-3 text-blue-600"}),"Live Data Stream"]}),s.jsxs("div",{className:"flex items-center space-x-2 text-sm text-slate-600",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),s.jsx("span",{children:"Updating every 30 seconds"})]})]})}),s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"text-center py-8",children:[s.jsxs("div",{className:"inline-flex items-center space-x-2 bg-blue-50 px-6 py-3 rounded-full",children:[s.jsx(pj,{className:"h-5 w-5 text-blue-600 animate-pulse"}),s.jsxs("span",{className:"font-medium text-blue-800",children:["Real-time data streaming from ",r.filter(S=>S.status==="connected").length," active sources"]})]}),s.jsx("p",{className:"mt-4 text-slate-600",children:"Switch to Dashboard tab to interact with live streaming data visualizations"}),s.jsx("button",{onClick:()=>h("Dashboard"),className:"mt-4 bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-medium transition-colors",children:"View Live Dashboard"})]})})]})]}):p==="Trends"?s.jsx("div",{className:"space-y-8",children:s.jsxs("div",{className:"relative overflow-hidden rounded-2xl border border-slate-200/50",children:[s.jsx("div",{className:"absolute inset-0 shader-bg-secondary animate-gradient-xy"}),s.jsx("div",{className:"absolute inset-0 bg-black/20"}),s.jsx("div",{className:"relative z-10 p-8",children:s.jsxs("div",{className:"text-center animate-fade-in",children:[s.jsx("div",{className:"glass-card p-6 rounded-full w-20 h-20 mx-auto mb-6 animate-float",children:s.jsx(Ut,{className:"h-10 w-10 text-white mx-auto"})}),s.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Trend Analysis"}),s.jsx("p",{className:"text-xl text-white/90 mb-8 animate-fade-in-delayed",children:"Advanced analytics and trend identification across Canadian energy data streams"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-8 animate-fade-in-slow",children:[s.jsxs("div",{className:"glass-card p-6 rounded-xl text-white",children:[s.jsx(Ut,{className:"h-8 w-8 text-blue-300 mb-3"}),s.jsx("h3",{className:"font-semibold mb-2",children:"Peak Demand Patterns"}),s.jsx("p",{className:"text-sm text-white/80",children:"Historical and predictive analysis of energy demand peaks"})]}),s.jsxs("div",{className:"glass-card p-6 rounded-xl text-white",children:[s.jsx(E0,{className:"h-8 w-8 text-green-300 mb-3"}),s.jsx("h3",{className:"font-semibold mb-2",children:"Generation Trends"}),s.jsx("p",{className:"text-sm text-white/80",children:"Long-term trends in renewable vs traditional energy generation"})]}),s.jsxs("div",{className:"glass-card p-6 rounded-xl text-white",children:[s.jsx(gn,{className:"h-8 w-8 text-purple-300 mb-3"}),s.jsx("h3",{className:"font-semibold mb-2",children:"Price Volatility"}),s.jsx("p",{className:"text-sm text-white/80",children:"Market price analysis and volatility patterns"})]})]}),s.jsx("button",{onClick:()=>h("Dashboard"),className:"mt-8 glass-card text-white px-6 py-3 rounded-lg font-medium transition-all hover:bg-white/20 animate-fade-in-slow",children:"Explore Trends in Dashboard"})]})})]})}):p==="Education"?s.jsx("div",{className:"space-y-8",children:s.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-slate-200",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("div",{className:"bg-orange-50 p-4 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:s.jsx(t3,{className:"h-8 w-8 text-orange-600"})}),s.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-2",children:"Educational Resources"}),s.jsx("p",{className:"text-slate-600",children:"Learn about Canadian energy systems, data sources, and streaming architecture"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-semibold text-slate-800 mb-4",children:"Dataset Information"}),s.jsx("div",{className:"space-y-4",children:Dn.map(S=>s.jsxs("div",{className:"p-4 border border-slate-200 rounded-lg",children:[s.jsx("h4",{className:"font-semibold text-slate-800",style:{color:S.color},children:S.name}),s.jsx("p",{className:"text-sm text-slate-600 mt-1",children:S.description}),s.jsxs("div",{className:"text-xs text-slate-500 mt-2",children:["Source: ",S.source.toUpperCase(),"  ~",S.estimatedRows.toLocaleString()," records"]})]},S.key))})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-semibold text-slate-800 mb-4",children:"Technical Architecture"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx(pu,{className:"h-5 w-5 text-blue-600"}),s.jsx("h4",{className:"font-semibold text-blue-800",children:"Real-time Streaming"})]}),s.jsx("p",{className:"text-sm text-slate-600",children:"Data streams continuously from multiple Canadian energy providers using resilient Supabase Edge Functions"})]}),s.jsxs("div",{className:"p-4 bg-green-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx(tl,{className:"h-5 w-5 text-green-600"}),s.jsx("h4",{className:"font-semibold text-green-800",children:"Data Processing"})]}),s.jsx("p",{className:"text-sm text-slate-600",children:"Advanced filtering, aggregation, and visualization capabilities with export functionality"})]}),s.jsxs("div",{className:"p-4 bg-purple-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx(gn,{className:"h-5 w-5 text-purple-600"}),s.jsx("h4",{className:"font-semibold text-purple-800",children:"Performance"})]}),s.jsx("p",{className:"text-sm text-slate-600",children:"Optimized for high-throughput data processing with fallback mechanisms for reliability"})]})]})]})]}),s.jsx("div",{className:"text-center mt-8",children:s.jsx("button",{onClick:()=>h("Dashboard"),className:"bg-orange-600 hover:bg-orange-700 text-white px-6 py-3 rounded-lg font-medium transition-colors",children:"Start Exploring Data"})})]})})}):s.jsxs(s.Fragment,{children:[p==="Resilience"&&s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"relative overflow-hidden rounded-2xl border border-slate-200/50",children:[s.jsx("div",{className:"absolute inset-0 shader-bg-accent animate-gradient-xy"}),s.jsx("div",{className:"absolute inset-0 bg-black/20"}),s.jsx("div",{className:"relative z-10 p-8",children:s.jsxs("div",{className:"text-center animate-fade-in",children:[s.jsx("div",{className:"glass-card p-6 rounded-full w-20 h-20 mx-auto mb-6 animate-float",children:s.jsx(Lr,{className:"h-10 w-10 text-white mx-auto"})}),s.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Infrastructure Resilience"}),s.jsx("p",{className:"text-xl text-white/90 mb-8 animate-fade-in-delayed",children:"Climate scenario modeling and vulnerability assessment for critical infrastructure"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-8 animate-fade-in-slow",children:[s.jsxs("div",{className:"glass-card p-6 rounded-xl text-white",children:[s.jsx(Lr,{className:"h-8 w-8 text-red-300 mb-3"}),s.jsx("h3",{className:"font-semibold mb-2",children:"Risk Assessment"}),s.jsx("p",{className:"text-sm text-white/80",children:"Advanced climate vulnerability analysis"})]}),s.jsxs("div",{className:"glass-card p-6 rounded-xl text-white",children:[s.jsx(va,{className:"h-8 w-8 text-blue-300 mb-3"}),s.jsx("h3",{className:"font-semibold mb-2",children:"Asset Mapping"}),s.jsx("p",{className:"text-sm text-white/80",children:"Comprehensive infrastructure inventory"})]}),s.jsxs("div",{className:"glass-card p-6 rounded-xl text-white",children:[s.jsx(gn,{className:"h-8 w-8 text-green-300 mb-3"}),s.jsx("h3",{className:"font-semibold mb-2",children:"Scenario Planning"}),s.jsx("p",{className:"text-sm text-white/80",children:"Future climate impact modeling"})]})]})]})})]}),s.jsx(KG,{})]}),p==="Investment"&&s.jsx("div",{className:"space-y-8",children:s.jsx(UG,{})}),p==="Innovation"&&s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"relative overflow-hidden rounded-2xl border border-slate-200/50",children:[s.jsx("div",{className:"absolute inset-0 shader-bg-primary animate-gradient-xy"}),s.jsx("div",{className:"absolute inset-0 bg-black/20"}),s.jsx("div",{className:"relative z-10 p-8",children:s.jsxs("div",{className:"text-center animate-fade-in",children:[s.jsx("div",{className:"glass-card p-6 rounded-full w-20 h-20 mx-auto mb-6 animate-float",children:s.jsx(pt,{className:"h-10 w-10 text-white mx-auto"})}),s.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Innovation Hub"}),s.jsx("p",{className:"text-xl text-white/90 mb-8 animate-fade-in-delayed",children:"AI-powered research and technology innovation for sustainable energy solutions"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-8 animate-fade-in-slow",children:[s.jsxs("div",{className:"glass-card p-6 rounded-xl text-white",children:[s.jsx(pt,{className:"h-8 w-8 text-yellow-300 mb-3"}),s.jsx("h3",{className:"font-semibold mb-2",children:"Technology Search"}),s.jsx("p",{className:"text-sm text-white/80",children:"Advanced patent and innovation discovery"})]}),s.jsxs("div",{className:"glass-card p-6 rounded-xl text-white",children:[s.jsx(Ut,{className:"h-8 w-8 text-green-300 mb-3"}),s.jsx("h3",{className:"font-semibold mb-2",children:"Market Analysis"}),s.jsx("p",{className:"text-sm text-white/80",children:"Emerging technology market insights"})]}),s.jsxs("div",{className:"glass-card p-6 rounded-xl text-white",children:[s.jsx(gn,{className:"h-8 w-8 text-purple-300 mb-3"}),s.jsx("h3",{className:"font-semibold mb-2",children:"Feasibility Studies"}),s.jsx("p",{className:"text-sm text-white/80",children:"Technical and economic viability assessment"})]})]})]})})]}),s.jsx(ZG,{})]}),p==="Indigenous"&&s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"relative overflow-hidden rounded-2xl border border-slate-200/50",children:[s.jsx("div",{className:"absolute inset-0 shader-bg-energy animate-gradient-xy"}),s.jsx("div",{className:"absolute inset-0 bg-black/20"}),s.jsx("div",{className:"relative z-10 p-8",children:s.jsxs("div",{className:"text-center animate-fade-in",children:[s.jsx("div",{className:"glass-card p-6 rounded-full w-20 h-20 mx-auto mb-6 animate-float",children:s.jsx(Lr,{className:"h-10 w-10 text-white mx-auto"})}),s.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Indigenous Energy Sovereignty"}),s.jsx("p",{className:"text-xl text-white/90 mb-8 animate-fade-in-delayed",children:"Respectful integration of Indigenous knowledge and governance in energy planning"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-8 animate-fade-in-slow",children:[s.jsxs("div",{className:"glass-card p-6 rounded-xl text-white",children:[s.jsx(Lr,{className:"h-8 w-8 text-blue-300 mb-3"}),s.jsx("h3",{className:"font-semibold mb-2",children:"Traditional Knowledge"}),s.jsx("p",{className:"text-sm text-white/80",children:"Integration of Indigenous ecological knowledge"})]}),s.jsxs("div",{className:"glass-card p-6 rounded-xl text-white",children:[s.jsx(va,{className:"h-8 w-8 text-green-300 mb-3"}),s.jsx("h3",{className:"font-semibold mb-2",children:"Territory Mapping"}),s.jsx("p",{className:"text-sm text-white/80",children:"Traditional territory and consultation tracking"})]}),s.jsxs("div",{className:"glass-card p-6 rounded-xl text-white",children:[s.jsx(gn,{className:"h-8 w-8 text-orange-300 mb-3"}),s.jsx("h3",{className:"font-semibold mb-2",children:"FPIC Compliance"}),s.jsx("p",{className:"text-sm text-white/80",children:"Free, Prior, Informed Consent workflows"})]})]})]})})]}),s.jsx(oV,{})]}),p==="Stakeholders"&&s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"relative overflow-hidden rounded-2xl border border-slate-200/50",children:[s.jsx("div",{className:"absolute inset-0 shader-bg-secondary animate-gradient-xy"}),s.jsx("div",{className:"absolute inset-0 bg-black/20"}),s.jsx("div",{className:"relative z-10 p-8",children:s.jsxs("div",{className:"text-center animate-fade-in",children:[s.jsx("div",{className:"glass-card p-6 rounded-full w-20 h-20 mx-auto mb-6 animate-float",children:s.jsx(pt,{className:"h-10 w-10 text-white mx-auto"})}),s.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Stakeholder Coordination"}),s.jsx("p",{className:"text-xl text-white/90 mb-8 animate-fade-in-delayed",children:"Multi-stakeholder engagement and collaboration platform for energy projects"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-8 animate-fade-in-slow",children:[s.jsxs("div",{className:"glass-card p-6 rounded-xl text-white",children:[s.jsx(pt,{className:"h-8 w-8 text-purple-300 mb-3"}),s.jsx("h3",{className:"font-semibold mb-2",children:"Engagement Tracking"}),s.jsx("p",{className:"text-sm text-white/80",children:"Comprehensive stakeholder communication logs"})]}),s.jsxs("div",{className:"glass-card p-6 rounded-xl text-white",children:[s.jsx(va,{className:"h-8 w-8 text-blue-300 mb-3"}),s.jsx("h3",{className:"font-semibold mb-2",children:"Impact Mapping"}),s.jsx("p",{className:"text-sm text-white/80",children:"Geographic stakeholder impact analysis"})]}),s.jsxs("div",{className:"glass-card p-6 rounded-xl text-white",children:[s.jsx(gn,{className:"h-8 w-8 text-green-300 mb-3"}),s.jsx("h3",{className:"font-semibold mb-2",children:"Consensus Building"}),s.jsx("p",{className:"text-sm text-white/80",children:"Collaborative decision-making support"})]})]})]})})]}),s.jsx(uV,{})]}),p==="GridOptimization"&&s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"relative overflow-hidden rounded-2xl border border-slate-200/50",children:[s.jsx("div",{className:"absolute inset-0 shader-bg-primary animate-gradient-xy"}),s.jsx("div",{className:"absolute inset-0 bg-black/20"}),s.jsx("div",{className:"relative z-10 p-8",children:s.jsxs("div",{className:"text-center animate-fade-in",children:[s.jsx("div",{className:"glass-card p-6 rounded-full w-20 h-20 mx-auto mb-6 animate-float",children:s.jsx(hr,{className:"h-10 w-10 text-white mx-auto"})}),s.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Grid Optimization"}),s.jsx("p",{className:"text-xl text-white/90 mb-8 animate-fade-in-delayed",children:"Advanced grid management and optimization for reliable energy distribution"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-8 animate-fade-in-slow",children:[s.jsxs("div",{className:"glass-card p-6 rounded-xl text-white",children:[s.jsx(hr,{className:"h-8 w-8 text-cyan-300 mb-3"}),s.jsx("h3",{className:"font-semibold mb-2",children:"Load Balancing"}),s.jsx("p",{className:"text-sm text-white/80",children:"Real-time grid load optimization"})]}),s.jsxs("div",{className:"glass-card p-6 rounded-xl text-white",children:[s.jsx(gn,{className:"h-8 w-8 text-yellow-300 mb-3"}),s.jsx("h3",{className:"font-semibold mb-2",children:"Predictive Maintenance"}),s.jsx("p",{className:"text-sm text-white/80",children:"AI-driven equipment health monitoring"})]}),s.jsxs("div",{className:"glass-card p-6 rounded-xl text-white",children:[s.jsx(Ut,{className:"h-8 w-8 text-green-300 mb-3"}),s.jsx("h3",{className:"font-semibold mb-2",children:"Efficiency Analytics"}),s.jsx("p",{className:"text-sm text-white/80",children:"Performance optimization insights"})]})]})]})})]}),s.jsx(dV,{})]}),p==="Security"&&s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"relative overflow-hidden rounded-2xl border border-slate-200/50",children:[s.jsx("div",{className:"absolute inset-0 shader-bg-accent animate-gradient-xy"}),s.jsx("div",{className:"absolute inset-0 bg-black/20"}),s.jsx("div",{className:"relative z-10 p-8",children:s.jsxs("div",{className:"text-center animate-fade-in",children:[s.jsx("div",{className:"glass-card p-6 rounded-full w-20 h-20 mx-auto mb-6 animate-float",children:s.jsx(bh,{className:"h-10 w-10 text-white mx-auto"})}),s.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Cybersecurity & Monitoring"}),s.jsx("p",{className:"text-xl text-white/90 mb-8 animate-fade-in-delayed",children:"Enterprise-grade security monitoring and threat detection for energy infrastructure"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-8 animate-fade-in-slow",children:[s.jsxs("div",{className:"glass-card p-6 rounded-xl text-white",children:[s.jsx(Lr,{className:"h-8 w-8 text-red-300 mb-3"}),s.jsx("h3",{className:"font-semibold mb-2",children:"Threat Detection"}),s.jsx("p",{className:"text-sm text-white/80",children:"Advanced cybersecurity monitoring"})]}),s.jsxs("div",{className:"glass-card p-6 rounded-xl text-white",children:[s.jsx(bh,{className:"h-8 w-8 text-blue-300 mb-3"}),s.jsx("h3",{className:"font-semibold mb-2",children:"Access Control"}),s.jsx("p",{className:"text-sm text-white/80",children:"Multi-factor authentication and authorization"})]}),s.jsxs("div",{className:"glass-card p-6 rounded-xl text-white",children:[s.jsx(hr,{className:"h-8 w-8 text-green-300 mb-3"}),s.jsx("h3",{className:"font-semibold mb-2",children:"Incident Response"}),s.jsx("p",{className:"text-sm text-white/80",children:"Automated security incident management"})]})]})]})})]}),s.jsx(fV,{})]}),p==="Features"&&s.jsx(hV,{}),!["Dashboard","Home","Provinces","Trends","Investment","Resilience","Innovation","Indigenous","Stakeholders","GridOptimization","Security","Features","Education"].includes(p)&&s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-8 text-center",children:s.jsxs("div",{className:"max-w-md mx-auto",children:[s.jsx("div",{className:"bg-blue-50 p-4 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:(()=>{const S=b.find(k=>k.id===p);if(S?.icon){const k=S.icon;return s.jsx(k,{className:"h-8 w-8 text-blue-600"})}return null})()}),s.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-2",children:p}),s.jsx("p",{className:"text-slate-600 mb-6",children:"Content for this section is being developed."}),s.jsx("button",{onClick:()=>h("Dashboard"),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-medium transition-colors",children:"Go to Dashboard"})]})})]})})]})};function UV(){return s.jsx("div",{className:"App",children:s.jsx(y3,{children:s.jsx(qV,{})})})}if(typeof window<"u"){window.ceipDb={provincial_generation:{clear:()=>Promise.resolve(),bulkPut:r=>Promise.resolve(),bulkAdd:r=>Promise.resolve(),toArray:()=>Promise.resolve([])},ontario_demand:{clear:()=>Promise.resolve(),bulkPut:r=>Promise.resolve(),bulkAdd:r=>Promise.resolve(),toArray:()=>Promise.resolve([])},ontario_prices:{clear:()=>Promise.resolve(),bulkPut:r=>Promise.resolve(),bulkAdd:r=>Promise.resolve(),toArray:()=>Promise.resolve([])},hf_electricity_demand:{clear:()=>Promise.resolve(),bulkPut:r=>Promise.resolve(),bulkAdd:r=>Promise.resolve(),toArray:()=>Promise.resolve([])}};const t=()=>{if(!("IntersectionObserver"in window))return;const r={threshold:.1,rootMargin:"0px 0px -50px 0px"},n=new IntersectionObserver(o=>{o.forEach(c=>{c.isIntersecting&&c.target.classList.add("in-view")})},r);document.querySelectorAll(".scroll-animate").forEach(o=>n.observe(o))};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",t,{once:!0}):t(),tV();const e=vC();console.log(" Canada Energy Intelligence Platform - Phase 1 Launch"),console.log(` ${e.enabled} features available`)}OM.createRoot(document.getElementById("root")).render(s.jsx(W.StrictMode,{children:s.jsx(UV,{})}));
