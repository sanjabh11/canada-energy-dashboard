(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function r(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(a){if(a.ep)return;a.ep=!0;const o=r(a);fetch(a.href,o)}})();var du=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function He(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var hh={exports:{}},Bo={},ph={exports:{}},De={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J1;function vM(){if(J1)return De;J1=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),h=Symbol.iterator;function y(z){return z===null||typeof z!="object"?null:(z=h&&z[h]||z["@@iterator"],typeof z=="function"?z:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,b={};function w(z,Y,ie){this.props=z,this.context=Y,this.refs=b,this.updater=ie||v}w.prototype.isReactComponent={},w.prototype.setState=function(z,Y){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,Y,"setState")},w.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function k(){}k.prototype=w.prototype;function S(z,Y,ie){this.props=z,this.context=Y,this.refs=b,this.updater=ie||v}var O=S.prototype=new k;O.constructor=S,j(O,w.prototype),O.isPureReactComponent=!0;var P=Array.isArray,N=Object.prototype.hasOwnProperty,A={current:null},T={key:!0,ref:!0,__self:!0,__source:!0};function $(z,Y,ie){var fe,Se={},xe=null,Le=null;if(Y!=null)for(fe in Y.ref!==void 0&&(Le=Y.ref),Y.key!==void 0&&(xe=""+Y.key),Y)N.call(Y,fe)&&!T.hasOwnProperty(fe)&&(Se[fe]=Y[fe]);var Ie=arguments.length-2;if(Ie===1)Se.children=ie;else if(1<Ie){for(var le=Array(Ie),te=0;te<Ie;te++)le[te]=arguments[te+2];Se.children=le}if(z&&z.defaultProps)for(fe in Ie=z.defaultProps,Ie)Se[fe]===void 0&&(Se[fe]=Ie[fe]);return{$$typeof:t,type:z,key:xe,ref:Le,props:Se,_owner:A.current}}function I(z,Y){return{$$typeof:t,type:z.type,key:Y,ref:z.ref,props:z.props,_owner:z._owner}}function B(z){return typeof z=="object"&&z!==null&&z.$$typeof===t}function M(z){var Y={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(ie){return Y[ie]})}var q=/\/+/g;function F(z,Y){return typeof z=="object"&&z!==null&&z.key!=null?M(""+z.key):Y.toString(36)}function V(z,Y,ie,fe,Se){var xe=typeof z;(xe==="undefined"||xe==="boolean")&&(z=null);var Le=!1;if(z===null)Le=!0;else switch(xe){case"string":case"number":Le=!0;break;case"object":switch(z.$$typeof){case t:case e:Le=!0}}if(Le)return Le=z,Se=Se(Le),z=fe===""?"."+F(Le,0):fe,P(Se)?(ie="",z!=null&&(ie=z.replace(q,"$&/")+"/"),V(Se,Y,ie,"",function(te){return te})):Se!=null&&(B(Se)&&(Se=I(Se,ie+(!Se.key||Le&&Le.key===Se.key?"":(""+Se.key).replace(q,"$&/")+"/")+z)),Y.push(Se)),1;if(Le=0,fe=fe===""?".":fe+":",P(z))for(var Ie=0;Ie<z.length;Ie++){xe=z[Ie];var le=fe+F(xe,Ie);Le+=V(xe,Y,ie,le,Se)}else if(le=y(z),typeof le=="function")for(z=le.call(z),Ie=0;!(xe=z.next()).done;)xe=xe.value,le=fe+F(xe,Ie++),Le+=V(xe,Y,ie,le,Se);else if(xe==="object")throw Y=String(z),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.");return Le}function L(z,Y,ie){if(z==null)return z;var fe=[],Se=0;return V(z,fe,"","",function(xe){return Y.call(ie,xe,Se++)}),fe}function R(z){if(z._status===-1){var Y=z._result;Y=Y(),Y.then(function(ie){(z._status===0||z._status===-1)&&(z._status=1,z._result=ie)},function(ie){(z._status===0||z._status===-1)&&(z._status=2,z._result=ie)}),z._status===-1&&(z._status=0,z._result=Y)}if(z._status===1)return z._result.default;throw z._result}var G={current:null},D={transition:null},W={ReactCurrentDispatcher:G,ReactCurrentBatchConfig:D,ReactCurrentOwner:A};function Q(){throw Error("act(...) is not supported in production builds of React.")}return De.Children={map:L,forEach:function(z,Y,ie){L(z,function(){Y.apply(this,arguments)},ie)},count:function(z){var Y=0;return L(z,function(){Y++}),Y},toArray:function(z){return L(z,function(Y){return Y})||[]},only:function(z){if(!B(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},De.Component=w,De.Fragment=r,De.Profiler=a,De.PureComponent=S,De.StrictMode=n,De.Suspense=d,De.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W,De.act=Q,De.cloneElement=function(z,Y,ie){if(z==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+z+".");var fe=j({},z.props),Se=z.key,xe=z.ref,Le=z._owner;if(Y!=null){if(Y.ref!==void 0&&(xe=Y.ref,Le=A.current),Y.key!==void 0&&(Se=""+Y.key),z.type&&z.type.defaultProps)var Ie=z.type.defaultProps;for(le in Y)N.call(Y,le)&&!T.hasOwnProperty(le)&&(fe[le]=Y[le]===void 0&&Ie!==void 0?Ie[le]:Y[le])}var le=arguments.length-2;if(le===1)fe.children=ie;else if(1<le){Ie=Array(le);for(var te=0;te<le;te++)Ie[te]=arguments[te+2];fe.children=Ie}return{$$typeof:t,type:z.type,key:Se,ref:xe,props:fe,_owner:Le}},De.createContext=function(z){return z={$$typeof:c,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},z.Provider={$$typeof:o,_context:z},z.Consumer=z},De.createElement=$,De.createFactory=function(z){var Y=$.bind(null,z);return Y.type=z,Y},De.createRef=function(){return{current:null}},De.forwardRef=function(z){return{$$typeof:u,render:z}},De.isValidElement=B,De.lazy=function(z){return{$$typeof:p,_payload:{_status:-1,_result:z},_init:R}},De.memo=function(z,Y){return{$$typeof:m,type:z,compare:Y===void 0?null:Y}},De.startTransition=function(z){var Y=D.transition;D.transition={};try{z()}finally{D.transition=Y}},De.unstable_act=Q,De.useCallback=function(z,Y){return G.current.useCallback(z,Y)},De.useContext=function(z){return G.current.useContext(z)},De.useDebugValue=function(){},De.useDeferredValue=function(z){return G.current.useDeferredValue(z)},De.useEffect=function(z,Y){return G.current.useEffect(z,Y)},De.useId=function(){return G.current.useId()},De.useImperativeHandle=function(z,Y,ie){return G.current.useImperativeHandle(z,Y,ie)},De.useInsertionEffect=function(z,Y){return G.current.useInsertionEffect(z,Y)},De.useLayoutEffect=function(z,Y){return G.current.useLayoutEffect(z,Y)},De.useMemo=function(z,Y){return G.current.useMemo(z,Y)},De.useReducer=function(z,Y,ie){return G.current.useReducer(z,Y,ie)},De.useRef=function(z){return G.current.useRef(z)},De.useState=function(z){return G.current.useState(z)},De.useSyncExternalStore=function(z,Y,ie){return G.current.useSyncExternalStore(z,Y,ie)},De.useTransition=function(){return G.current.useTransition()},De.version="18.3.1",De}var ej;function ex(){return ej||(ej=1,ph.exports=vM()),ph.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tj;function xM(){if(tj)return Bo;tj=1;var t=ex(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,a=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function c(u,d,m){var p,h={},y=null,v=null;m!==void 0&&(y=""+m),d.key!==void 0&&(y=""+d.key),d.ref!==void 0&&(v=d.ref);for(p in d)n.call(d,p)&&!o.hasOwnProperty(p)&&(h[p]=d[p]);if(u&&u.defaultProps)for(p in d=u.defaultProps,d)h[p]===void 0&&(h[p]=d[p]);return{$$typeof:e,type:u,key:y,ref:v,props:h,_owner:a.current}}return Bo.Fragment=r,Bo.jsx=c,Bo.jsxs=c,Bo}var rj;function bM(){return rj||(rj=1,hh.exports=xM()),hh.exports}var s=bM(),C=ex();const U=He(C);var fu={},gh={exports:{}},mr={},yh={exports:{}},vh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nj;function wM(){return nj||(nj=1,(function(t){function e(D,W){var Q=D.length;D.push(W);e:for(;0<Q;){var z=Q-1>>>1,Y=D[z];if(0<a(Y,W))D[z]=W,D[Q]=Y,Q=z;else break e}}function r(D){return D.length===0?null:D[0]}function n(D){if(D.length===0)return null;var W=D[0],Q=D.pop();if(Q!==W){D[0]=Q;e:for(var z=0,Y=D.length,ie=Y>>>1;z<ie;){var fe=2*(z+1)-1,Se=D[fe],xe=fe+1,Le=D[xe];if(0>a(Se,Q))xe<Y&&0>a(Le,Se)?(D[z]=Le,D[xe]=Q,z=xe):(D[z]=Se,D[fe]=Q,z=fe);else if(xe<Y&&0>a(Le,Q))D[z]=Le,D[xe]=Q,z=xe;else break e}}return W}function a(D,W){var Q=D.sortIndex-W.sortIndex;return Q!==0?Q:D.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var c=Date,u=c.now();t.unstable_now=function(){return c.now()-u}}var d=[],m=[],p=1,h=null,y=3,v=!1,j=!1,b=!1,w=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function O(D){for(var W=r(m);W!==null;){if(W.callback===null)n(m);else if(W.startTime<=D)n(m),W.sortIndex=W.expirationTime,e(d,W);else break;W=r(m)}}function P(D){if(b=!1,O(D),!j)if(r(d)!==null)j=!0,R(N);else{var W=r(m);W!==null&&G(P,W.startTime-D)}}function N(D,W){j=!1,b&&(b=!1,k($),$=-1),v=!0;var Q=y;try{for(O(W),h=r(d);h!==null&&(!(h.expirationTime>W)||D&&!M());){var z=h.callback;if(typeof z=="function"){h.callback=null,y=h.priorityLevel;var Y=z(h.expirationTime<=W);W=t.unstable_now(),typeof Y=="function"?h.callback=Y:h===r(d)&&n(d),O(W)}else n(d);h=r(d)}if(h!==null)var ie=!0;else{var fe=r(m);fe!==null&&G(P,fe.startTime-W),ie=!1}return ie}finally{h=null,y=Q,v=!1}}var A=!1,T=null,$=-1,I=5,B=-1;function M(){return!(t.unstable_now()-B<I)}function q(){if(T!==null){var D=t.unstable_now();B=D;var W=!0;try{W=T(!0,D)}finally{W?F():(A=!1,T=null)}}else A=!1}var F;if(typeof S=="function")F=function(){S(q)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,L=V.port2;V.port1.onmessage=q,F=function(){L.postMessage(null)}}else F=function(){w(q,0)};function R(D){T=D,A||(A=!0,F())}function G(D,W){$=w(function(){D(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){j||v||(j=!0,R(N))},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return r(d)},t.unstable_next=function(D){switch(y){case 1:case 2:case 3:var W=3;break;default:W=y}var Q=y;y=W;try{return D()}finally{y=Q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(D,W){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var Q=y;y=D;try{return W()}finally{y=Q}},t.unstable_scheduleCallback=function(D,W,Q){var z=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?z+Q:z):Q=z,D){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=Q+Y,D={id:p++,callback:W,priorityLevel:D,startTime:Q,expirationTime:Y,sortIndex:-1},Q>z?(D.sortIndex=Q,e(m,D),r(d)===null&&D===r(m)&&(b?(k($),$=-1):b=!0,G(P,Q-z))):(D.sortIndex=Y,e(d,D),j||v||(j=!0,R(N))),D},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(D){var W=y;return function(){var Q=y;y=W;try{return D.apply(this,arguments)}finally{y=Q}}}})(vh)),vh}var aj;function jM(){return aj||(aj=1,yh.exports=wM()),yh.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ij;function SM(){if(ij)return mr;ij=1;var t=ex(),e=jM();function r(i){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+i,f=1;f<arguments.length;f++)l+="&args[]="+encodeURIComponent(arguments[f]);return"Minified React error #"+i+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,a={};function o(i,l){c(i,l),c(i+"Capture",l)}function c(i,l){for(a[i]=l,i=0;i<l.length;i++)n.add(l[i])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},h={};function y(i){return d.call(h,i)?!0:d.call(p,i)?!1:m.test(i)?h[i]=!0:(p[i]=!0,!1)}function v(i,l,f,g){if(f!==null&&f.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return g?!1:f!==null?!f.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function j(i,l,f,g){if(l===null||typeof l>"u"||v(i,l,f,g))return!0;if(g)return!1;if(f!==null)switch(f.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function b(i,l,f,g,x,_,E){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=g,this.attributeNamespace=x,this.mustUseProperty=f,this.propertyName=i,this.type=l,this.sanitizeURL=_,this.removeEmptyString=E}var w={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){w[i]=new b(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var l=i[0];w[l]=new b(l,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){w[i]=new b(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){w[i]=new b(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){w[i]=new b(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){w[i]=new b(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){w[i]=new b(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){w[i]=new b(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){w[i]=new b(i,5,!1,i.toLowerCase(),null,!1,!1)});var k=/[\-:]([a-z])/g;function S(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var l=i.replace(k,S);w[l]=new b(l,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var l=i.replace(k,S);w[l]=new b(l,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var l=i.replace(k,S);w[l]=new b(l,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){w[i]=new b(i,1,!1,i.toLowerCase(),null,!1,!1)}),w.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){w[i]=new b(i,1,!1,i.toLowerCase(),null,!0,!0)});function O(i,l,f,g){var x=w.hasOwnProperty(l)?w[l]:null;(x!==null?x.type!==0:g||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(j(l,f,x,g)&&(f=null),g||x===null?y(l)&&(f===null?i.removeAttribute(l):i.setAttribute(l,""+f)):x.mustUseProperty?i[x.propertyName]=f===null?x.type===3?!1:"":f:(l=x.attributeName,g=x.attributeNamespace,f===null?i.removeAttribute(l):(x=x.type,f=x===3||x===4&&f===!0?"":""+f,g?i.setAttributeNS(g,l,f):i.setAttribute(l,f))))}var P=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,N=Symbol.for("react.element"),A=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),B=Symbol.for("react.provider"),M=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),G=Symbol.for("react.offscreen"),D=Symbol.iterator;function W(i){return i===null||typeof i!="object"?null:(i=D&&i[D]||i["@@iterator"],typeof i=="function"?i:null)}var Q=Object.assign,z;function Y(i){if(z===void 0)try{throw Error()}catch(f){var l=f.stack.trim().match(/\n( *(at )?)/);z=l&&l[1]||""}return`
`+z+i}var ie=!1;function fe(i,l){if(!i||ie)return"";ie=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(ee){var g=ee}Reflect.construct(i,[],l)}else{try{l.call()}catch(ee){g=ee}i.call(l.prototype)}else{try{throw Error()}catch(ee){g=ee}i()}}catch(ee){if(ee&&g&&typeof ee.stack=="string"){for(var x=ee.stack.split(`
`),_=g.stack.split(`
`),E=x.length-1,H=_.length-1;1<=E&&0<=H&&x[E]!==_[H];)H--;for(;1<=E&&0<=H;E--,H--)if(x[E]!==_[H]){if(E!==1||H!==1)do if(E--,H--,0>H||x[E]!==_[H]){var K=`
`+x[E].replace(" at new "," at ");return i.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",i.displayName)),K}while(1<=E&&0<=H);break}}}finally{ie=!1,Error.prepareStackTrace=f}return(i=i?i.displayName||i.name:"")?Y(i):""}function Se(i){switch(i.tag){case 5:return Y(i.type);case 16:return Y("Lazy");case 13:return Y("Suspense");case 19:return Y("SuspenseList");case 0:case 2:case 15:return i=fe(i.type,!1),i;case 11:return i=fe(i.type.render,!1),i;case 1:return i=fe(i.type,!0),i;default:return""}}function xe(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case T:return"Fragment";case A:return"Portal";case I:return"Profiler";case $:return"StrictMode";case F:return"Suspense";case V:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case M:return(i.displayName||"Context")+".Consumer";case B:return(i._context.displayName||"Context")+".Provider";case q:var l=i.render;return i=i.displayName,i||(i=l.displayName||l.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case L:return l=i.displayName||null,l!==null?l:xe(i.type)||"Memo";case R:l=i._payload,i=i._init;try{return xe(i(l))}catch{}}return null}function Le(i){var l=i.type;switch(i.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=l.render,i=i.displayName||i.name||"",l.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xe(l);case 8:return l===$?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function Ie(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function le(i){var l=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function te(i){var l=le(i)?"checked":"value",f=Object.getOwnPropertyDescriptor(i.constructor.prototype,l),g=""+i[l];if(!i.hasOwnProperty(l)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var x=f.get,_=f.set;return Object.defineProperty(i,l,{configurable:!0,get:function(){return x.call(this)},set:function(E){g=""+E,_.call(this,E)}}),Object.defineProperty(i,l,{enumerable:f.enumerable}),{getValue:function(){return g},setValue:function(E){g=""+E},stopTracking:function(){i._valueTracker=null,delete i[l]}}}}function ae(i){i._valueTracker||(i._valueTracker=te(i))}function ne(i){if(!i)return!1;var l=i._valueTracker;if(!l)return!0;var f=l.getValue(),g="";return i&&(g=le(i)?i.checked?"true":"false":i.value),i=g,i!==f?(l.setValue(i),!0):!1}function Re(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Ee(i,l){var f=l.checked;return Q({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:f??i._wrapperState.initialChecked})}function Je(i,l){var f=l.defaultValue==null?"":l.defaultValue,g=l.checked!=null?l.checked:l.defaultChecked;f=Ie(l.value!=null?l.value:f),i._wrapperState={initialChecked:g,initialValue:f,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function it(i,l){l=l.checked,l!=null&&O(i,"checked",l,!1)}function xt(i,l){it(i,l);var f=Ie(l.value),g=l.type;if(f!=null)g==="number"?(f===0&&i.value===""||i.value!=f)&&(i.value=""+f):i.value!==""+f&&(i.value=""+f);else if(g==="submit"||g==="reset"){i.removeAttribute("value");return}l.hasOwnProperty("value")?Ar(i,l.type,f):l.hasOwnProperty("defaultValue")&&Ar(i,l.type,Ie(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(i.defaultChecked=!!l.defaultChecked)}function yr(i,l,f){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var g=l.type;if(!(g!=="submit"&&g!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+i._wrapperState.initialValue,f||l===i.value||(i.value=l),i.defaultValue=l}f=i.name,f!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,f!==""&&(i.name=f)}function Ar(i,l,f){(l!=="number"||Re(i.ownerDocument)!==i)&&(f==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+f&&(i.defaultValue=""+f))}var Pr=Array.isArray;function Ht(i,l,f,g){if(i=i.options,l){l={};for(var x=0;x<f.length;x++)l["$"+f[x]]=!0;for(f=0;f<i.length;f++)x=l.hasOwnProperty("$"+i[f].value),i[f].selected!==x&&(i[f].selected=x),x&&g&&(i[f].defaultSelected=!0)}else{for(f=""+Ie(f),l=null,x=0;x<i.length;x++){if(i[x].value===f){i[x].selected=!0,g&&(i[x].defaultSelected=!0);return}l!==null||i[x].disabled||(l=i[x])}l!==null&&(l.selected=!0)}}function ct(i,l){if(l.dangerouslySetInnerHTML!=null)throw Error(r(91));return Q({},l,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function wi(i,l){var f=l.value;if(f==null){if(f=l.children,l=l.defaultValue,f!=null){if(l!=null)throw Error(r(92));if(Pr(f)){if(1<f.length)throw Error(r(93));f=f[0]}l=f}l==null&&(l=""),f=l}i._wrapperState={initialValue:Ie(f)}}function Js(i,l){var f=Ie(l.value),g=Ie(l.defaultValue);f!=null&&(f=""+f,f!==i.value&&(i.value=f),l.defaultValue==null&&i.defaultValue!==f&&(i.defaultValue=f)),g!=null&&(i.defaultValue=""+g)}function eo(i){var l=i.textContent;l===i._wrapperState.initialValue&&l!==""&&l!==null&&(i.value=l)}function fb(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Nf(i,l){return i==null||i==="http://www.w3.org/1999/xhtml"?fb(l):i==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var nc,mb=(function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,f,g,x){MSApp.execUnsafeLocalFunction(function(){return i(l,f,g,x)})}:i})(function(i,l){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=l;else{for(nc=nc||document.createElement("div"),nc.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=nc.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;l.firstChild;)i.appendChild(l.firstChild)}});function to(i,l){if(l){var f=i.firstChild;if(f&&f===i.lastChild&&f.nodeType===3){f.nodeValue=l;return}}i.textContent=l}var ro={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jC=["Webkit","ms","Moz","O"];Object.keys(ro).forEach(function(i){jC.forEach(function(l){l=l+i.charAt(0).toUpperCase()+i.substring(1),ro[l]=ro[i]})});function hb(i,l,f){return l==null||typeof l=="boolean"||l===""?"":f||typeof l!="number"||l===0||ro.hasOwnProperty(i)&&ro[i]?(""+l).trim():l+"px"}function pb(i,l){i=i.style;for(var f in l)if(l.hasOwnProperty(f)){var g=f.indexOf("--")===0,x=hb(f,l[f],g);f==="float"&&(f="cssFloat"),g?i.setProperty(f,x):i[f]=x}}var SC=Q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function kf(i,l){if(l){if(SC[i]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(r(137,i));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(r(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(r(61))}if(l.style!=null&&typeof l.style!="object")throw Error(r(62))}}function Of(i,l){if(i.indexOf("-")===-1)return typeof l.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Af=null;function Pf(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Ef=null,ji=null,Si=null;function gb(i){if(i=No(i)){if(typeof Ef!="function")throw Error(r(280));var l=i.stateNode;l&&(l=kc(l),Ef(i.stateNode,i.type,l))}}function yb(i){ji?Si?Si.push(i):Si=[i]:ji=i}function vb(){if(ji){var i=ji,l=Si;if(Si=ji=null,gb(i),l)for(i=0;i<l.length;i++)gb(l[i])}}function xb(i,l){return i(l)}function bb(){}var Tf=!1;function wb(i,l,f){if(Tf)return i(l,f);Tf=!0;try{return xb(i,l,f)}finally{Tf=!1,(ji!==null||Si!==null)&&(bb(),vb())}}function no(i,l){var f=i.stateNode;if(f===null)return null;var g=kc(f);if(g===null)return null;f=g[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(i=i.type,g=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!g;break e;default:i=!1}if(i)return null;if(f&&typeof f!="function")throw Error(r(231,l,typeof f));return f}var Cf=!1;if(u)try{var ao={};Object.defineProperty(ao,"passive",{get:function(){Cf=!0}}),window.addEventListener("test",ao,ao),window.removeEventListener("test",ao,ao)}catch{Cf=!1}function _C(i,l,f,g,x,_,E,H,K){var ee=Array.prototype.slice.call(arguments,3);try{l.apply(f,ee)}catch(oe){this.onError(oe)}}var io=!1,ac=null,ic=!1,If=null,NC={onError:function(i){io=!0,ac=i}};function kC(i,l,f,g,x,_,E,H,K){io=!1,ac=null,_C.apply(NC,arguments)}function OC(i,l,f,g,x,_,E,H,K){if(kC.apply(this,arguments),io){if(io){var ee=ac;io=!1,ac=null}else throw Error(r(198));ic||(ic=!0,If=ee)}}function Ma(i){var l=i,f=i;if(i.alternate)for(;l.return;)l=l.return;else{i=l;do l=i,(l.flags&4098)!==0&&(f=l.return),i=l.return;while(i)}return l.tag===3?f:null}function jb(i){if(i.tag===13){var l=i.memoizedState;if(l===null&&(i=i.alternate,i!==null&&(l=i.memoizedState)),l!==null)return l.dehydrated}return null}function Sb(i){if(Ma(i)!==i)throw Error(r(188))}function AC(i){var l=i.alternate;if(!l){if(l=Ma(i),l===null)throw Error(r(188));return l!==i?null:i}for(var f=i,g=l;;){var x=f.return;if(x===null)break;var _=x.alternate;if(_===null){if(g=x.return,g!==null){f=g;continue}break}if(x.child===_.child){for(_=x.child;_;){if(_===f)return Sb(x),i;if(_===g)return Sb(x),l;_=_.sibling}throw Error(r(188))}if(f.return!==g.return)f=x,g=_;else{for(var E=!1,H=x.child;H;){if(H===f){E=!0,f=x,g=_;break}if(H===g){E=!0,g=x,f=_;break}H=H.sibling}if(!E){for(H=_.child;H;){if(H===f){E=!0,f=_,g=x;break}if(H===g){E=!0,g=_,f=x;break}H=H.sibling}if(!E)throw Error(r(189))}}if(f.alternate!==g)throw Error(r(190))}if(f.tag!==3)throw Error(r(188));return f.stateNode.current===f?i:l}function _b(i){return i=AC(i),i!==null?Nb(i):null}function Nb(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var l=Nb(i);if(l!==null)return l;i=i.sibling}return null}var kb=e.unstable_scheduleCallback,Ob=e.unstable_cancelCallback,PC=e.unstable_shouldYield,EC=e.unstable_requestPaint,yt=e.unstable_now,TC=e.unstable_getCurrentPriorityLevel,Mf=e.unstable_ImmediatePriority,Ab=e.unstable_UserBlockingPriority,sc=e.unstable_NormalPriority,CC=e.unstable_LowPriority,Pb=e.unstable_IdlePriority,oc=null,un=null;function IC(i){if(un&&typeof un.onCommitFiberRoot=="function")try{un.onCommitFiberRoot(oc,i,void 0,(i.current.flags&128)===128)}catch{}}var Kr=Math.clz32?Math.clz32:$C,MC=Math.log,RC=Math.LN2;function $C(i){return i>>>=0,i===0?32:31-(MC(i)/RC|0)|0}var lc=64,cc=4194304;function so(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function uc(i,l){var f=i.pendingLanes;if(f===0)return 0;var g=0,x=i.suspendedLanes,_=i.pingedLanes,E=f&268435455;if(E!==0){var H=E&~x;H!==0?g=so(H):(_&=E,_!==0&&(g=so(_)))}else E=f&~x,E!==0?g=so(E):_!==0&&(g=so(_));if(g===0)return 0;if(l!==0&&l!==g&&(l&x)===0&&(x=g&-g,_=l&-l,x>=_||x===16&&(_&4194240)!==0))return l;if((g&4)!==0&&(g|=f&16),l=i.entangledLanes,l!==0)for(i=i.entanglements,l&=g;0<l;)f=31-Kr(l),x=1<<f,g|=i[f],l&=~x;return g}function DC(i,l){switch(i){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function LC(i,l){for(var f=i.suspendedLanes,g=i.pingedLanes,x=i.expirationTimes,_=i.pendingLanes;0<_;){var E=31-Kr(_),H=1<<E,K=x[E];K===-1?((H&f)===0||(H&g)!==0)&&(x[E]=DC(H,l)):K<=l&&(i.expiredLanes|=H),_&=~H}}function Rf(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Eb(){var i=lc;return lc<<=1,(lc&4194240)===0&&(lc=64),i}function $f(i){for(var l=[],f=0;31>f;f++)l.push(i);return l}function oo(i,l,f){i.pendingLanes|=l,l!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,l=31-Kr(l),i[l]=f}function FC(i,l){var f=i.pendingLanes&~l;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=l,i.mutableReadLanes&=l,i.entangledLanes&=l,l=i.entanglements;var g=i.eventTimes;for(i=i.expirationTimes;0<f;){var x=31-Kr(f),_=1<<x;l[x]=0,g[x]=-1,i[x]=-1,f&=~_}}function Df(i,l){var f=i.entangledLanes|=l;for(i=i.entanglements;f;){var g=31-Kr(f),x=1<<g;x&l|i[g]&l&&(i[g]|=l),f&=~x}}var Ge=0;function Tb(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var Cb,Lf,Ib,Mb,Rb,Ff=!1,dc=[],Yn=null,Xn=null,Qn=null,lo=new Map,co=new Map,Zn=[],BC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $b(i,l){switch(i){case"focusin":case"focusout":Yn=null;break;case"dragenter":case"dragleave":Xn=null;break;case"mouseover":case"mouseout":Qn=null;break;case"pointerover":case"pointerout":lo.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":co.delete(l.pointerId)}}function uo(i,l,f,g,x,_){return i===null||i.nativeEvent!==_?(i={blockedOn:l,domEventName:f,eventSystemFlags:g,nativeEvent:_,targetContainers:[x]},l!==null&&(l=No(l),l!==null&&Lf(l)),i):(i.eventSystemFlags|=g,l=i.targetContainers,x!==null&&l.indexOf(x)===-1&&l.push(x),i)}function zC(i,l,f,g,x){switch(l){case"focusin":return Yn=uo(Yn,i,l,f,g,x),!0;case"dragenter":return Xn=uo(Xn,i,l,f,g,x),!0;case"mouseover":return Qn=uo(Qn,i,l,f,g,x),!0;case"pointerover":var _=x.pointerId;return lo.set(_,uo(lo.get(_)||null,i,l,f,g,x)),!0;case"gotpointercapture":return _=x.pointerId,co.set(_,uo(co.get(_)||null,i,l,f,g,x)),!0}return!1}function Db(i){var l=Ra(i.target);if(l!==null){var f=Ma(l);if(f!==null){if(l=f.tag,l===13){if(l=jb(f),l!==null){i.blockedOn=l,Rb(i.priority,function(){Ib(f)});return}}else if(l===3&&f.stateNode.current.memoizedState.isDehydrated){i.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}i.blockedOn=null}function fc(i){if(i.blockedOn!==null)return!1;for(var l=i.targetContainers;0<l.length;){var f=zf(i.domEventName,i.eventSystemFlags,l[0],i.nativeEvent);if(f===null){f=i.nativeEvent;var g=new f.constructor(f.type,f);Af=g,f.target.dispatchEvent(g),Af=null}else return l=No(f),l!==null&&Lf(l),i.blockedOn=f,!1;l.shift()}return!0}function Lb(i,l,f){fc(i)&&f.delete(l)}function qC(){Ff=!1,Yn!==null&&fc(Yn)&&(Yn=null),Xn!==null&&fc(Xn)&&(Xn=null),Qn!==null&&fc(Qn)&&(Qn=null),lo.forEach(Lb),co.forEach(Lb)}function fo(i,l){i.blockedOn===l&&(i.blockedOn=null,Ff||(Ff=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,qC)))}function mo(i){function l(x){return fo(x,i)}if(0<dc.length){fo(dc[0],i);for(var f=1;f<dc.length;f++){var g=dc[f];g.blockedOn===i&&(g.blockedOn=null)}}for(Yn!==null&&fo(Yn,i),Xn!==null&&fo(Xn,i),Qn!==null&&fo(Qn,i),lo.forEach(l),co.forEach(l),f=0;f<Zn.length;f++)g=Zn[f],g.blockedOn===i&&(g.blockedOn=null);for(;0<Zn.length&&(f=Zn[0],f.blockedOn===null);)Db(f),f.blockedOn===null&&Zn.shift()}var _i=P.ReactCurrentBatchConfig,mc=!0;function UC(i,l,f,g){var x=Ge,_=_i.transition;_i.transition=null;try{Ge=1,Bf(i,l,f,g)}finally{Ge=x,_i.transition=_}}function WC(i,l,f,g){var x=Ge,_=_i.transition;_i.transition=null;try{Ge=4,Bf(i,l,f,g)}finally{Ge=x,_i.transition=_}}function Bf(i,l,f,g){if(mc){var x=zf(i,l,f,g);if(x===null)am(i,l,g,hc,f),$b(i,g);else if(zC(x,i,l,f,g))g.stopPropagation();else if($b(i,g),l&4&&-1<BC.indexOf(i)){for(;x!==null;){var _=No(x);if(_!==null&&Cb(_),_=zf(i,l,f,g),_===null&&am(i,l,g,hc,f),_===x)break;x=_}x!==null&&g.stopPropagation()}else am(i,l,g,null,f)}}var hc=null;function zf(i,l,f,g){if(hc=null,i=Pf(g),i=Ra(i),i!==null)if(l=Ma(i),l===null)i=null;else if(f=l.tag,f===13){if(i=jb(l),i!==null)return i;i=null}else if(f===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;i=null}else l!==i&&(i=null);return hc=i,null}function Fb(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(TC()){case Mf:return 1;case Ab:return 4;case sc:case CC:return 16;case Pb:return 536870912;default:return 16}default:return 16}}var Jn=null,qf=null,pc=null;function Bb(){if(pc)return pc;var i,l=qf,f=l.length,g,x="value"in Jn?Jn.value:Jn.textContent,_=x.length;for(i=0;i<f&&l[i]===x[i];i++);var E=f-i;for(g=1;g<=E&&l[f-g]===x[_-g];g++);return pc=x.slice(i,1<g?1-g:void 0)}function gc(i){var l=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&l===13&&(i=13)):i=l,i===10&&(i=13),32<=i||i===13?i:0}function yc(){return!0}function zb(){return!1}function vr(i){function l(f,g,x,_,E){this._reactName=f,this._targetInst=x,this.type=g,this.nativeEvent=_,this.target=E,this.currentTarget=null;for(var H in i)i.hasOwnProperty(H)&&(f=i[H],this[H]=f?f(_):_[H]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?yc:zb,this.isPropagationStopped=zb,this}return Q(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=yc)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=yc)},persist:function(){},isPersistent:yc}),l}var Ni={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Uf=vr(Ni),ho=Q({},Ni,{view:0,detail:0}),HC=vr(ho),Wf,Hf,po,vc=Q({},ho,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vf,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==po&&(po&&i.type==="mousemove"?(Wf=i.screenX-po.screenX,Hf=i.screenY-po.screenY):Hf=Wf=0,po=i),Wf)},movementY:function(i){return"movementY"in i?i.movementY:Hf}}),qb=vr(vc),GC=Q({},vc,{dataTransfer:0}),VC=vr(GC),KC=Q({},ho,{relatedTarget:0}),Gf=vr(KC),YC=Q({},Ni,{animationName:0,elapsedTime:0,pseudoElement:0}),XC=vr(YC),QC=Q({},Ni,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),ZC=vr(QC),JC=Q({},Ni,{data:0}),Ub=vr(JC),eI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nI(i){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(i):(i=rI[i])?!!l[i]:!1}function Vf(){return nI}var aI=Q({},ho,{key:function(i){if(i.key){var l=eI[i.key]||i.key;if(l!=="Unidentified")return l}return i.type==="keypress"?(i=gc(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?tI[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vf,charCode:function(i){return i.type==="keypress"?gc(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?gc(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),iI=vr(aI),sI=Q({},vc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wb=vr(sI),oI=Q({},ho,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vf}),lI=vr(oI),cI=Q({},Ni,{propertyName:0,elapsedTime:0,pseudoElement:0}),uI=vr(cI),dI=Q({},vc,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),fI=vr(dI),mI=[9,13,27,32],Kf=u&&"CompositionEvent"in window,go=null;u&&"documentMode"in document&&(go=document.documentMode);var hI=u&&"TextEvent"in window&&!go,Hb=u&&(!Kf||go&&8<go&&11>=go),Gb=" ",Vb=!1;function Kb(i,l){switch(i){case"keyup":return mI.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Yb(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ki=!1;function pI(i,l){switch(i){case"compositionend":return Yb(l);case"keypress":return l.which!==32?null:(Vb=!0,Gb);case"textInput":return i=l.data,i===Gb&&Vb?null:i;default:return null}}function gI(i,l){if(ki)return i==="compositionend"||!Kf&&Kb(i,l)?(i=Bb(),pc=qf=Jn=null,ki=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Hb&&l.locale!=="ko"?null:l.data;default:return null}}var yI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xb(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l==="input"?!!yI[i.type]:l==="textarea"}function Qb(i,l,f,g){yb(g),l=Sc(l,"onChange"),0<l.length&&(f=new Uf("onChange","change",null,f,g),i.push({event:f,listeners:l}))}var yo=null,vo=null;function vI(i){pw(i,0)}function xc(i){var l=Ti(i);if(ne(l))return i}function xI(i,l){if(i==="change")return l}var Zb=!1;if(u){var Yf;if(u){var Xf="oninput"in document;if(!Xf){var Jb=document.createElement("div");Jb.setAttribute("oninput","return;"),Xf=typeof Jb.oninput=="function"}Yf=Xf}else Yf=!1;Zb=Yf&&(!document.documentMode||9<document.documentMode)}function ew(){yo&&(yo.detachEvent("onpropertychange",tw),vo=yo=null)}function tw(i){if(i.propertyName==="value"&&xc(vo)){var l=[];Qb(l,vo,i,Pf(i)),wb(vI,l)}}function bI(i,l,f){i==="focusin"?(ew(),yo=l,vo=f,yo.attachEvent("onpropertychange",tw)):i==="focusout"&&ew()}function wI(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return xc(vo)}function jI(i,l){if(i==="click")return xc(l)}function SI(i,l){if(i==="input"||i==="change")return xc(l)}function _I(i,l){return i===l&&(i!==0||1/i===1/l)||i!==i&&l!==l}var Yr=typeof Object.is=="function"?Object.is:_I;function xo(i,l){if(Yr(i,l))return!0;if(typeof i!="object"||i===null||typeof l!="object"||l===null)return!1;var f=Object.keys(i),g=Object.keys(l);if(f.length!==g.length)return!1;for(g=0;g<f.length;g++){var x=f[g];if(!d.call(l,x)||!Yr(i[x],l[x]))return!1}return!0}function rw(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function nw(i,l){var f=rw(i);i=0;for(var g;f;){if(f.nodeType===3){if(g=i+f.textContent.length,i<=l&&g>=l)return{node:f,offset:l-i};i=g}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=rw(f)}}function aw(i,l){return i&&l?i===l?!0:i&&i.nodeType===3?!1:l&&l.nodeType===3?aw(i,l.parentNode):"contains"in i?i.contains(l):i.compareDocumentPosition?!!(i.compareDocumentPosition(l)&16):!1:!1}function iw(){for(var i=window,l=Re();l instanceof i.HTMLIFrameElement;){try{var f=typeof l.contentWindow.location.href=="string"}catch{f=!1}if(f)i=l.contentWindow;else break;l=Re(i.document)}return l}function Qf(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l&&(l==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||l==="textarea"||i.contentEditable==="true")}function NI(i){var l=iw(),f=i.focusedElem,g=i.selectionRange;if(l!==f&&f&&f.ownerDocument&&aw(f.ownerDocument.documentElement,f)){if(g!==null&&Qf(f)){if(l=g.start,i=g.end,i===void 0&&(i=l),"selectionStart"in f)f.selectionStart=l,f.selectionEnd=Math.min(i,f.value.length);else if(i=(l=f.ownerDocument||document)&&l.defaultView||window,i.getSelection){i=i.getSelection();var x=f.textContent.length,_=Math.min(g.start,x);g=g.end===void 0?_:Math.min(g.end,x),!i.extend&&_>g&&(x=g,g=_,_=x),x=nw(f,_);var E=nw(f,g);x&&E&&(i.rangeCount!==1||i.anchorNode!==x.node||i.anchorOffset!==x.offset||i.focusNode!==E.node||i.focusOffset!==E.offset)&&(l=l.createRange(),l.setStart(x.node,x.offset),i.removeAllRanges(),_>g?(i.addRange(l),i.extend(E.node,E.offset)):(l.setEnd(E.node,E.offset),i.addRange(l)))}}for(l=[],i=f;i=i.parentNode;)i.nodeType===1&&l.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<l.length;f++)i=l[f],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var kI=u&&"documentMode"in document&&11>=document.documentMode,Oi=null,Zf=null,bo=null,Jf=!1;function sw(i,l,f){var g=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;Jf||Oi==null||Oi!==Re(g)||(g=Oi,"selectionStart"in g&&Qf(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),bo&&xo(bo,g)||(bo=g,g=Sc(Zf,"onSelect"),0<g.length&&(l=new Uf("onSelect","select",null,l,f),i.push({event:l,listeners:g}),l.target=Oi)))}function bc(i,l){var f={};return f[i.toLowerCase()]=l.toLowerCase(),f["Webkit"+i]="webkit"+l,f["Moz"+i]="moz"+l,f}var Ai={animationend:bc("Animation","AnimationEnd"),animationiteration:bc("Animation","AnimationIteration"),animationstart:bc("Animation","AnimationStart"),transitionend:bc("Transition","TransitionEnd")},em={},ow={};u&&(ow=document.createElement("div").style,"AnimationEvent"in window||(delete Ai.animationend.animation,delete Ai.animationiteration.animation,delete Ai.animationstart.animation),"TransitionEvent"in window||delete Ai.transitionend.transition);function wc(i){if(em[i])return em[i];if(!Ai[i])return i;var l=Ai[i],f;for(f in l)if(l.hasOwnProperty(f)&&f in ow)return em[i]=l[f];return i}var lw=wc("animationend"),cw=wc("animationiteration"),uw=wc("animationstart"),dw=wc("transitionend"),fw=new Map,mw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ea(i,l){fw.set(i,l),o(l,[i])}for(var tm=0;tm<mw.length;tm++){var rm=mw[tm],OI=rm.toLowerCase(),AI=rm[0].toUpperCase()+rm.slice(1);ea(OI,"on"+AI)}ea(lw,"onAnimationEnd"),ea(cw,"onAnimationIteration"),ea(uw,"onAnimationStart"),ea("dblclick","onDoubleClick"),ea("focusin","onFocus"),ea("focusout","onBlur"),ea(dw,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),PI=new Set("cancel close invalid load scroll toggle".split(" ").concat(wo));function hw(i,l,f){var g=i.type||"unknown-event";i.currentTarget=f,OC(g,l,void 0,i),i.currentTarget=null}function pw(i,l){l=(l&4)!==0;for(var f=0;f<i.length;f++){var g=i[f],x=g.event;g=g.listeners;e:{var _=void 0;if(l)for(var E=g.length-1;0<=E;E--){var H=g[E],K=H.instance,ee=H.currentTarget;if(H=H.listener,K!==_&&x.isPropagationStopped())break e;hw(x,H,ee),_=K}else for(E=0;E<g.length;E++){if(H=g[E],K=H.instance,ee=H.currentTarget,H=H.listener,K!==_&&x.isPropagationStopped())break e;hw(x,H,ee),_=K}}}if(ic)throw i=If,ic=!1,If=null,i}function et(i,l){var f=l[um];f===void 0&&(f=l[um]=new Set);var g=i+"__bubble";f.has(g)||(gw(l,i,2,!1),f.add(g))}function nm(i,l,f){var g=0;l&&(g|=4),gw(f,i,g,l)}var jc="_reactListening"+Math.random().toString(36).slice(2);function jo(i){if(!i[jc]){i[jc]=!0,n.forEach(function(f){f!=="selectionchange"&&(PI.has(f)||nm(f,!1,i),nm(f,!0,i))});var l=i.nodeType===9?i:i.ownerDocument;l===null||l[jc]||(l[jc]=!0,nm("selectionchange",!1,l))}}function gw(i,l,f,g){switch(Fb(l)){case 1:var x=UC;break;case 4:x=WC;break;default:x=Bf}f=x.bind(null,l,f,i),x=void 0,!Cf||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(x=!0),g?x!==void 0?i.addEventListener(l,f,{capture:!0,passive:x}):i.addEventListener(l,f,!0):x!==void 0?i.addEventListener(l,f,{passive:x}):i.addEventListener(l,f,!1)}function am(i,l,f,g,x){var _=g;if((l&1)===0&&(l&2)===0&&g!==null)e:for(;;){if(g===null)return;var E=g.tag;if(E===3||E===4){var H=g.stateNode.containerInfo;if(H===x||H.nodeType===8&&H.parentNode===x)break;if(E===4)for(E=g.return;E!==null;){var K=E.tag;if((K===3||K===4)&&(K=E.stateNode.containerInfo,K===x||K.nodeType===8&&K.parentNode===x))return;E=E.return}for(;H!==null;){if(E=Ra(H),E===null)return;if(K=E.tag,K===5||K===6){g=_=E;continue e}H=H.parentNode}}g=g.return}wb(function(){var ee=_,oe=Pf(f),ce=[];e:{var se=fw.get(i);if(se!==void 0){var me=Uf,ye=i;switch(i){case"keypress":if(gc(f)===0)break e;case"keydown":case"keyup":me=iI;break;case"focusin":ye="focus",me=Gf;break;case"focusout":ye="blur",me=Gf;break;case"beforeblur":case"afterblur":me=Gf;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":me=qb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":me=VC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":me=lI;break;case lw:case cw:case uw:me=XC;break;case dw:me=uI;break;case"scroll":me=HC;break;case"wheel":me=fI;break;case"copy":case"cut":case"paste":me=ZC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":me=Wb}var be=(l&4)!==0,vt=!be&&i==="scroll",Z=be?se!==null?se+"Capture":null:se;be=[];for(var X=ee,J;X!==null;){J=X;var de=J.stateNode;if(J.tag===5&&de!==null&&(J=de,Z!==null&&(de=no(X,Z),de!=null&&be.push(So(X,de,J)))),vt)break;X=X.return}0<be.length&&(se=new me(se,ye,null,f,oe),ce.push({event:se,listeners:be}))}}if((l&7)===0){e:{if(se=i==="mouseover"||i==="pointerover",me=i==="mouseout"||i==="pointerout",se&&f!==Af&&(ye=f.relatedTarget||f.fromElement)&&(Ra(ye)||ye[Nn]))break e;if((me||se)&&(se=oe.window===oe?oe:(se=oe.ownerDocument)?se.defaultView||se.parentWindow:window,me?(ye=f.relatedTarget||f.toElement,me=ee,ye=ye?Ra(ye):null,ye!==null&&(vt=Ma(ye),ye!==vt||ye.tag!==5&&ye.tag!==6)&&(ye=null)):(me=null,ye=ee),me!==ye)){if(be=qb,de="onMouseLeave",Z="onMouseEnter",X="mouse",(i==="pointerout"||i==="pointerover")&&(be=Wb,de="onPointerLeave",Z="onPointerEnter",X="pointer"),vt=me==null?se:Ti(me),J=ye==null?se:Ti(ye),se=new be(de,X+"leave",me,f,oe),se.target=vt,se.relatedTarget=J,de=null,Ra(oe)===ee&&(be=new be(Z,X+"enter",ye,f,oe),be.target=J,be.relatedTarget=vt,de=be),vt=de,me&&ye)t:{for(be=me,Z=ye,X=0,J=be;J;J=Pi(J))X++;for(J=0,de=Z;de;de=Pi(de))J++;for(;0<X-J;)be=Pi(be),X--;for(;0<J-X;)Z=Pi(Z),J--;for(;X--;){if(be===Z||Z!==null&&be===Z.alternate)break t;be=Pi(be),Z=Pi(Z)}be=null}else be=null;me!==null&&yw(ce,se,me,be,!1),ye!==null&&vt!==null&&yw(ce,vt,ye,be,!0)}}e:{if(se=ee?Ti(ee):window,me=se.nodeName&&se.nodeName.toLowerCase(),me==="select"||me==="input"&&se.type==="file")var je=xI;else if(Xb(se))if(Zb)je=SI;else{je=wI;var Ne=bI}else(me=se.nodeName)&&me.toLowerCase()==="input"&&(se.type==="checkbox"||se.type==="radio")&&(je=jI);if(je&&(je=je(i,ee))){Qb(ce,je,f,oe);break e}Ne&&Ne(i,se,ee),i==="focusout"&&(Ne=se._wrapperState)&&Ne.controlled&&se.type==="number"&&Ar(se,"number",se.value)}switch(Ne=ee?Ti(ee):window,i){case"focusin":(Xb(Ne)||Ne.contentEditable==="true")&&(Oi=Ne,Zf=ee,bo=null);break;case"focusout":bo=Zf=Oi=null;break;case"mousedown":Jf=!0;break;case"contextmenu":case"mouseup":case"dragend":Jf=!1,sw(ce,f,oe);break;case"selectionchange":if(kI)break;case"keydown":case"keyup":sw(ce,f,oe)}var ke;if(Kf)e:{switch(i){case"compositionstart":var Ce="onCompositionStart";break e;case"compositionend":Ce="onCompositionEnd";break e;case"compositionupdate":Ce="onCompositionUpdate";break e}Ce=void 0}else ki?Kb(i,f)&&(Ce="onCompositionEnd"):i==="keydown"&&f.keyCode===229&&(Ce="onCompositionStart");Ce&&(Hb&&f.locale!=="ko"&&(ki||Ce!=="onCompositionStart"?Ce==="onCompositionEnd"&&ki&&(ke=Bb()):(Jn=oe,qf="value"in Jn?Jn.value:Jn.textContent,ki=!0)),Ne=Sc(ee,Ce),0<Ne.length&&(Ce=new Ub(Ce,i,null,f,oe),ce.push({event:Ce,listeners:Ne}),ke?Ce.data=ke:(ke=Yb(f),ke!==null&&(Ce.data=ke)))),(ke=hI?pI(i,f):gI(i,f))&&(ee=Sc(ee,"onBeforeInput"),0<ee.length&&(oe=new Ub("onBeforeInput","beforeinput",null,f,oe),ce.push({event:oe,listeners:ee}),oe.data=ke))}pw(ce,l)})}function So(i,l,f){return{instance:i,listener:l,currentTarget:f}}function Sc(i,l){for(var f=l+"Capture",g=[];i!==null;){var x=i,_=x.stateNode;x.tag===5&&_!==null&&(x=_,_=no(i,f),_!=null&&g.unshift(So(i,_,x)),_=no(i,l),_!=null&&g.push(So(i,_,x))),i=i.return}return g}function Pi(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function yw(i,l,f,g,x){for(var _=l._reactName,E=[];f!==null&&f!==g;){var H=f,K=H.alternate,ee=H.stateNode;if(K!==null&&K===g)break;H.tag===5&&ee!==null&&(H=ee,x?(K=no(f,_),K!=null&&E.unshift(So(f,K,H))):x||(K=no(f,_),K!=null&&E.push(So(f,K,H)))),f=f.return}E.length!==0&&i.push({event:l,listeners:E})}var EI=/\r\n?/g,TI=/\u0000|\uFFFD/g;function vw(i){return(typeof i=="string"?i:""+i).replace(EI,`
`).replace(TI,"")}function _c(i,l,f){if(l=vw(l),vw(i)!==l&&f)throw Error(r(425))}function Nc(){}var im=null,sm=null;function om(i,l){return i==="textarea"||i==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var lm=typeof setTimeout=="function"?setTimeout:void 0,CI=typeof clearTimeout=="function"?clearTimeout:void 0,xw=typeof Promise=="function"?Promise:void 0,II=typeof queueMicrotask=="function"?queueMicrotask:typeof xw<"u"?function(i){return xw.resolve(null).then(i).catch(MI)}:lm;function MI(i){setTimeout(function(){throw i})}function cm(i,l){var f=l,g=0;do{var x=f.nextSibling;if(i.removeChild(f),x&&x.nodeType===8)if(f=x.data,f==="/$"){if(g===0){i.removeChild(x),mo(l);return}g--}else f!=="$"&&f!=="$?"&&f!=="$!"||g++;f=x}while(f);mo(l)}function ta(i){for(;i!=null;i=i.nextSibling){var l=i.nodeType;if(l===1||l===3)break;if(l===8){if(l=i.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return i}function bw(i){i=i.previousSibling;for(var l=0;i;){if(i.nodeType===8){var f=i.data;if(f==="$"||f==="$!"||f==="$?"){if(l===0)return i;l--}else f==="/$"&&l++}i=i.previousSibling}return null}var Ei=Math.random().toString(36).slice(2),dn="__reactFiber$"+Ei,_o="__reactProps$"+Ei,Nn="__reactContainer$"+Ei,um="__reactEvents$"+Ei,RI="__reactListeners$"+Ei,$I="__reactHandles$"+Ei;function Ra(i){var l=i[dn];if(l)return l;for(var f=i.parentNode;f;){if(l=f[Nn]||f[dn]){if(f=l.alternate,l.child!==null||f!==null&&f.child!==null)for(i=bw(i);i!==null;){if(f=i[dn])return f;i=bw(i)}return l}i=f,f=i.parentNode}return null}function No(i){return i=i[dn]||i[Nn],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Ti(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(r(33))}function kc(i){return i[_o]||null}var dm=[],Ci=-1;function ra(i){return{current:i}}function tt(i){0>Ci||(i.current=dm[Ci],dm[Ci]=null,Ci--)}function Ye(i,l){Ci++,dm[Ci]=i.current,i.current=l}var na={},Gt=ra(na),lr=ra(!1),$a=na;function Ii(i,l){var f=i.type.contextTypes;if(!f)return na;var g=i.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===l)return g.__reactInternalMemoizedMaskedChildContext;var x={},_;for(_ in f)x[_]=l[_];return g&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=l,i.__reactInternalMemoizedMaskedChildContext=x),x}function cr(i){return i=i.childContextTypes,i!=null}function Oc(){tt(lr),tt(Gt)}function ww(i,l,f){if(Gt.current!==na)throw Error(r(168));Ye(Gt,l),Ye(lr,f)}function jw(i,l,f){var g=i.stateNode;if(l=l.childContextTypes,typeof g.getChildContext!="function")return f;g=g.getChildContext();for(var x in g)if(!(x in l))throw Error(r(108,Le(i)||"Unknown",x));return Q({},f,g)}function Ac(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||na,$a=Gt.current,Ye(Gt,i),Ye(lr,lr.current),!0}function Sw(i,l,f){var g=i.stateNode;if(!g)throw Error(r(169));f?(i=jw(i,l,$a),g.__reactInternalMemoizedMergedChildContext=i,tt(lr),tt(Gt),Ye(Gt,i)):tt(lr),Ye(lr,f)}var kn=null,Pc=!1,fm=!1;function _w(i){kn===null?kn=[i]:kn.push(i)}function DI(i){Pc=!0,_w(i)}function aa(){if(!fm&&kn!==null){fm=!0;var i=0,l=Ge;try{var f=kn;for(Ge=1;i<f.length;i++){var g=f[i];do g=g(!0);while(g!==null)}kn=null,Pc=!1}catch(x){throw kn!==null&&(kn=kn.slice(i+1)),kb(Mf,aa),x}finally{Ge=l,fm=!1}}return null}var Mi=[],Ri=0,Ec=null,Tc=0,Er=[],Tr=0,Da=null,On=1,An="";function La(i,l){Mi[Ri++]=Tc,Mi[Ri++]=Ec,Ec=i,Tc=l}function Nw(i,l,f){Er[Tr++]=On,Er[Tr++]=An,Er[Tr++]=Da,Da=i;var g=On;i=An;var x=32-Kr(g)-1;g&=~(1<<x),f+=1;var _=32-Kr(l)+x;if(30<_){var E=x-x%5;_=(g&(1<<E)-1).toString(32),g>>=E,x-=E,On=1<<32-Kr(l)+x|f<<x|g,An=_+i}else On=1<<_|f<<x|g,An=i}function mm(i){i.return!==null&&(La(i,1),Nw(i,1,0))}function hm(i){for(;i===Ec;)Ec=Mi[--Ri],Mi[Ri]=null,Tc=Mi[--Ri],Mi[Ri]=null;for(;i===Da;)Da=Er[--Tr],Er[Tr]=null,An=Er[--Tr],Er[Tr]=null,On=Er[--Tr],Er[Tr]=null}var xr=null,br=null,st=!1,Xr=null;function kw(i,l){var f=Rr(5,null,null,0);f.elementType="DELETED",f.stateNode=l,f.return=i,l=i.deletions,l===null?(i.deletions=[f],i.flags|=16):l.push(f)}function Ow(i,l){switch(i.tag){case 5:var f=i.type;return l=l.nodeType!==1||f.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(i.stateNode=l,xr=i,br=ta(l.firstChild),!0):!1;case 6:return l=i.pendingProps===""||l.nodeType!==3?null:l,l!==null?(i.stateNode=l,xr=i,br=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(f=Da!==null?{id:On,overflow:An}:null,i.memoizedState={dehydrated:l,treeContext:f,retryLane:1073741824},f=Rr(18,null,null,0),f.stateNode=l,f.return=i,i.child=f,xr=i,br=null,!0):!1;default:return!1}}function pm(i){return(i.mode&1)!==0&&(i.flags&128)===0}function gm(i){if(st){var l=br;if(l){var f=l;if(!Ow(i,l)){if(pm(i))throw Error(r(418));l=ta(f.nextSibling);var g=xr;l&&Ow(i,l)?kw(g,f):(i.flags=i.flags&-4097|2,st=!1,xr=i)}}else{if(pm(i))throw Error(r(418));i.flags=i.flags&-4097|2,st=!1,xr=i}}}function Aw(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;xr=i}function Cc(i){if(i!==xr)return!1;if(!st)return Aw(i),st=!0,!1;var l;if((l=i.tag!==3)&&!(l=i.tag!==5)&&(l=i.type,l=l!=="head"&&l!=="body"&&!om(i.type,i.memoizedProps)),l&&(l=br)){if(pm(i))throw Pw(),Error(r(418));for(;l;)kw(i,l),l=ta(l.nextSibling)}if(Aw(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,l=0;i;){if(i.nodeType===8){var f=i.data;if(f==="/$"){if(l===0){br=ta(i.nextSibling);break e}l--}else f!=="$"&&f!=="$!"&&f!=="$?"||l++}i=i.nextSibling}br=null}}else br=xr?ta(i.stateNode.nextSibling):null;return!0}function Pw(){for(var i=br;i;)i=ta(i.nextSibling)}function $i(){br=xr=null,st=!1}function ym(i){Xr===null?Xr=[i]:Xr.push(i)}var LI=P.ReactCurrentBatchConfig;function ko(i,l,f){if(i=f.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(f._owner){if(f=f._owner,f){if(f.tag!==1)throw Error(r(309));var g=f.stateNode}if(!g)throw Error(r(147,i));var x=g,_=""+i;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===_?l.ref:(l=function(E){var H=x.refs;E===null?delete H[_]:H[_]=E},l._stringRef=_,l)}if(typeof i!="string")throw Error(r(284));if(!f._owner)throw Error(r(290,i))}return i}function Ic(i,l){throw i=Object.prototype.toString.call(l),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":i))}function Ew(i){var l=i._init;return l(i._payload)}function Tw(i){function l(Z,X){if(i){var J=Z.deletions;J===null?(Z.deletions=[X],Z.flags|=16):J.push(X)}}function f(Z,X){if(!i)return null;for(;X!==null;)l(Z,X),X=X.sibling;return null}function g(Z,X){for(Z=new Map;X!==null;)X.key!==null?Z.set(X.key,X):Z.set(X.index,X),X=X.sibling;return Z}function x(Z,X){return Z=fa(Z,X),Z.index=0,Z.sibling=null,Z}function _(Z,X,J){return Z.index=J,i?(J=Z.alternate,J!==null?(J=J.index,J<X?(Z.flags|=2,X):J):(Z.flags|=2,X)):(Z.flags|=1048576,X)}function E(Z){return i&&Z.alternate===null&&(Z.flags|=2),Z}function H(Z,X,J,de){return X===null||X.tag!==6?(X=lh(J,Z.mode,de),X.return=Z,X):(X=x(X,J),X.return=Z,X)}function K(Z,X,J,de){var je=J.type;return je===T?oe(Z,X,J.props.children,de,J.key):X!==null&&(X.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===R&&Ew(je)===X.type)?(de=x(X,J.props),de.ref=ko(Z,X,J),de.return=Z,de):(de=nu(J.type,J.key,J.props,null,Z.mode,de),de.ref=ko(Z,X,J),de.return=Z,de)}function ee(Z,X,J,de){return X===null||X.tag!==4||X.stateNode.containerInfo!==J.containerInfo||X.stateNode.implementation!==J.implementation?(X=ch(J,Z.mode,de),X.return=Z,X):(X=x(X,J.children||[]),X.return=Z,X)}function oe(Z,X,J,de,je){return X===null||X.tag!==7?(X=Ga(J,Z.mode,de,je),X.return=Z,X):(X=x(X,J),X.return=Z,X)}function ce(Z,X,J){if(typeof X=="string"&&X!==""||typeof X=="number")return X=lh(""+X,Z.mode,J),X.return=Z,X;if(typeof X=="object"&&X!==null){switch(X.$$typeof){case N:return J=nu(X.type,X.key,X.props,null,Z.mode,J),J.ref=ko(Z,null,X),J.return=Z,J;case A:return X=ch(X,Z.mode,J),X.return=Z,X;case R:var de=X._init;return ce(Z,de(X._payload),J)}if(Pr(X)||W(X))return X=Ga(X,Z.mode,J,null),X.return=Z,X;Ic(Z,X)}return null}function se(Z,X,J,de){var je=X!==null?X.key:null;if(typeof J=="string"&&J!==""||typeof J=="number")return je!==null?null:H(Z,X,""+J,de);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case N:return J.key===je?K(Z,X,J,de):null;case A:return J.key===je?ee(Z,X,J,de):null;case R:return je=J._init,se(Z,X,je(J._payload),de)}if(Pr(J)||W(J))return je!==null?null:oe(Z,X,J,de,null);Ic(Z,J)}return null}function me(Z,X,J,de,je){if(typeof de=="string"&&de!==""||typeof de=="number")return Z=Z.get(J)||null,H(X,Z,""+de,je);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case N:return Z=Z.get(de.key===null?J:de.key)||null,K(X,Z,de,je);case A:return Z=Z.get(de.key===null?J:de.key)||null,ee(X,Z,de,je);case R:var Ne=de._init;return me(Z,X,J,Ne(de._payload),je)}if(Pr(de)||W(de))return Z=Z.get(J)||null,oe(X,Z,de,je,null);Ic(X,de)}return null}function ye(Z,X,J,de){for(var je=null,Ne=null,ke=X,Ce=X=0,Rt=null;ke!==null&&Ce<J.length;Ce++){ke.index>Ce?(Rt=ke,ke=null):Rt=ke.sibling;var Be=se(Z,ke,J[Ce],de);if(Be===null){ke===null&&(ke=Rt);break}i&&ke&&Be.alternate===null&&l(Z,ke),X=_(Be,X,Ce),Ne===null?je=Be:Ne.sibling=Be,Ne=Be,ke=Rt}if(Ce===J.length)return f(Z,ke),st&&La(Z,Ce),je;if(ke===null){for(;Ce<J.length;Ce++)ke=ce(Z,J[Ce],de),ke!==null&&(X=_(ke,X,Ce),Ne===null?je=ke:Ne.sibling=ke,Ne=ke);return st&&La(Z,Ce),je}for(ke=g(Z,ke);Ce<J.length;Ce++)Rt=me(ke,Z,Ce,J[Ce],de),Rt!==null&&(i&&Rt.alternate!==null&&ke.delete(Rt.key===null?Ce:Rt.key),X=_(Rt,X,Ce),Ne===null?je=Rt:Ne.sibling=Rt,Ne=Rt);return i&&ke.forEach(function(ma){return l(Z,ma)}),st&&La(Z,Ce),je}function be(Z,X,J,de){var je=W(J);if(typeof je!="function")throw Error(r(150));if(J=je.call(J),J==null)throw Error(r(151));for(var Ne=je=null,ke=X,Ce=X=0,Rt=null,Be=J.next();ke!==null&&!Be.done;Ce++,Be=J.next()){ke.index>Ce?(Rt=ke,ke=null):Rt=ke.sibling;var ma=se(Z,ke,Be.value,de);if(ma===null){ke===null&&(ke=Rt);break}i&&ke&&ma.alternate===null&&l(Z,ke),X=_(ma,X,Ce),Ne===null?je=ma:Ne.sibling=ma,Ne=ma,ke=Rt}if(Be.done)return f(Z,ke),st&&La(Z,Ce),je;if(ke===null){for(;!Be.done;Ce++,Be=J.next())Be=ce(Z,Be.value,de),Be!==null&&(X=_(Be,X,Ce),Ne===null?je=Be:Ne.sibling=Be,Ne=Be);return st&&La(Z,Ce),je}for(ke=g(Z,ke);!Be.done;Ce++,Be=J.next())Be=me(ke,Z,Ce,Be.value,de),Be!==null&&(i&&Be.alternate!==null&&ke.delete(Be.key===null?Ce:Be.key),X=_(Be,X,Ce),Ne===null?je=Be:Ne.sibling=Be,Ne=Be);return i&&ke.forEach(function(yM){return l(Z,yM)}),st&&La(Z,Ce),je}function vt(Z,X,J,de){if(typeof J=="object"&&J!==null&&J.type===T&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case N:e:{for(var je=J.key,Ne=X;Ne!==null;){if(Ne.key===je){if(je=J.type,je===T){if(Ne.tag===7){f(Z,Ne.sibling),X=x(Ne,J.props.children),X.return=Z,Z=X;break e}}else if(Ne.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===R&&Ew(je)===Ne.type){f(Z,Ne.sibling),X=x(Ne,J.props),X.ref=ko(Z,Ne,J),X.return=Z,Z=X;break e}f(Z,Ne);break}else l(Z,Ne);Ne=Ne.sibling}J.type===T?(X=Ga(J.props.children,Z.mode,de,J.key),X.return=Z,Z=X):(de=nu(J.type,J.key,J.props,null,Z.mode,de),de.ref=ko(Z,X,J),de.return=Z,Z=de)}return E(Z);case A:e:{for(Ne=J.key;X!==null;){if(X.key===Ne)if(X.tag===4&&X.stateNode.containerInfo===J.containerInfo&&X.stateNode.implementation===J.implementation){f(Z,X.sibling),X=x(X,J.children||[]),X.return=Z,Z=X;break e}else{f(Z,X);break}else l(Z,X);X=X.sibling}X=ch(J,Z.mode,de),X.return=Z,Z=X}return E(Z);case R:return Ne=J._init,vt(Z,X,Ne(J._payload),de)}if(Pr(J))return ye(Z,X,J,de);if(W(J))return be(Z,X,J,de);Ic(Z,J)}return typeof J=="string"&&J!==""||typeof J=="number"?(J=""+J,X!==null&&X.tag===6?(f(Z,X.sibling),X=x(X,J),X.return=Z,Z=X):(f(Z,X),X=lh(J,Z.mode,de),X.return=Z,Z=X),E(Z)):f(Z,X)}return vt}var Di=Tw(!0),Cw=Tw(!1),Mc=ra(null),Rc=null,Li=null,vm=null;function xm(){vm=Li=Rc=null}function bm(i){var l=Mc.current;tt(Mc),i._currentValue=l}function wm(i,l,f){for(;i!==null;){var g=i.alternate;if((i.childLanes&l)!==l?(i.childLanes|=l,g!==null&&(g.childLanes|=l)):g!==null&&(g.childLanes&l)!==l&&(g.childLanes|=l),i===f)break;i=i.return}}function Fi(i,l){Rc=i,vm=Li=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&l)!==0&&(ur=!0),i.firstContext=null)}function Cr(i){var l=i._currentValue;if(vm!==i)if(i={context:i,memoizedValue:l,next:null},Li===null){if(Rc===null)throw Error(r(308));Li=i,Rc.dependencies={lanes:0,firstContext:i}}else Li=Li.next=i;return l}var Fa=null;function jm(i){Fa===null?Fa=[i]:Fa.push(i)}function Iw(i,l,f,g){var x=l.interleaved;return x===null?(f.next=f,jm(l)):(f.next=x.next,x.next=f),l.interleaved=f,Pn(i,g)}function Pn(i,l){i.lanes|=l;var f=i.alternate;for(f!==null&&(f.lanes|=l),f=i,i=i.return;i!==null;)i.childLanes|=l,f=i.alternate,f!==null&&(f.childLanes|=l),f=i,i=i.return;return f.tag===3?f.stateNode:null}var ia=!1;function Sm(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Mw(i,l){i=i.updateQueue,l.updateQueue===i&&(l.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function En(i,l){return{eventTime:i,lane:l,tag:0,payload:null,callback:null,next:null}}function sa(i,l,f){var g=i.updateQueue;if(g===null)return null;if(g=g.shared,(Fe&2)!==0){var x=g.pending;return x===null?l.next=l:(l.next=x.next,x.next=l),g.pending=l,Pn(i,f)}return x=g.interleaved,x===null?(l.next=l,jm(g)):(l.next=x.next,x.next=l),g.interleaved=l,Pn(i,f)}function $c(i,l,f){if(l=l.updateQueue,l!==null&&(l=l.shared,(f&4194240)!==0)){var g=l.lanes;g&=i.pendingLanes,f|=g,l.lanes=f,Df(i,f)}}function Rw(i,l){var f=i.updateQueue,g=i.alternate;if(g!==null&&(g=g.updateQueue,f===g)){var x=null,_=null;if(f=f.firstBaseUpdate,f!==null){do{var E={eventTime:f.eventTime,lane:f.lane,tag:f.tag,payload:f.payload,callback:f.callback,next:null};_===null?x=_=E:_=_.next=E,f=f.next}while(f!==null);_===null?x=_=l:_=_.next=l}else x=_=l;f={baseState:g.baseState,firstBaseUpdate:x,lastBaseUpdate:_,shared:g.shared,effects:g.effects},i.updateQueue=f;return}i=f.lastBaseUpdate,i===null?f.firstBaseUpdate=l:i.next=l,f.lastBaseUpdate=l}function Dc(i,l,f,g){var x=i.updateQueue;ia=!1;var _=x.firstBaseUpdate,E=x.lastBaseUpdate,H=x.shared.pending;if(H!==null){x.shared.pending=null;var K=H,ee=K.next;K.next=null,E===null?_=ee:E.next=ee,E=K;var oe=i.alternate;oe!==null&&(oe=oe.updateQueue,H=oe.lastBaseUpdate,H!==E&&(H===null?oe.firstBaseUpdate=ee:H.next=ee,oe.lastBaseUpdate=K))}if(_!==null){var ce=x.baseState;E=0,oe=ee=K=null,H=_;do{var se=H.lane,me=H.eventTime;if((g&se)===se){oe!==null&&(oe=oe.next={eventTime:me,lane:0,tag:H.tag,payload:H.payload,callback:H.callback,next:null});e:{var ye=i,be=H;switch(se=l,me=f,be.tag){case 1:if(ye=be.payload,typeof ye=="function"){ce=ye.call(me,ce,se);break e}ce=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=be.payload,se=typeof ye=="function"?ye.call(me,ce,se):ye,se==null)break e;ce=Q({},ce,se);break e;case 2:ia=!0}}H.callback!==null&&H.lane!==0&&(i.flags|=64,se=x.effects,se===null?x.effects=[H]:se.push(H))}else me={eventTime:me,lane:se,tag:H.tag,payload:H.payload,callback:H.callback,next:null},oe===null?(ee=oe=me,K=ce):oe=oe.next=me,E|=se;if(H=H.next,H===null){if(H=x.shared.pending,H===null)break;se=H,H=se.next,se.next=null,x.lastBaseUpdate=se,x.shared.pending=null}}while(!0);if(oe===null&&(K=ce),x.baseState=K,x.firstBaseUpdate=ee,x.lastBaseUpdate=oe,l=x.shared.interleaved,l!==null){x=l;do E|=x.lane,x=x.next;while(x!==l)}else _===null&&(x.shared.lanes=0);qa|=E,i.lanes=E,i.memoizedState=ce}}function $w(i,l,f){if(i=l.effects,l.effects=null,i!==null)for(l=0;l<i.length;l++){var g=i[l],x=g.callback;if(x!==null){if(g.callback=null,g=f,typeof x!="function")throw Error(r(191,x));x.call(g)}}}var Oo={},fn=ra(Oo),Ao=ra(Oo),Po=ra(Oo);function Ba(i){if(i===Oo)throw Error(r(174));return i}function _m(i,l){switch(Ye(Po,l),Ye(Ao,i),Ye(fn,Oo),i=l.nodeType,i){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:Nf(null,"");break;default:i=i===8?l.parentNode:l,l=i.namespaceURI||null,i=i.tagName,l=Nf(l,i)}tt(fn),Ye(fn,l)}function Bi(){tt(fn),tt(Ao),tt(Po)}function Dw(i){Ba(Po.current);var l=Ba(fn.current),f=Nf(l,i.type);l!==f&&(Ye(Ao,i),Ye(fn,f))}function Nm(i){Ao.current===i&&(tt(fn),tt(Ao))}var ut=ra(0);function Lc(i){for(var l=i;l!==null;){if(l.tag===13){var f=l.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||f.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var km=[];function Om(){for(var i=0;i<km.length;i++)km[i]._workInProgressVersionPrimary=null;km.length=0}var Fc=P.ReactCurrentDispatcher,Am=P.ReactCurrentBatchConfig,za=0,dt=null,Nt=null,It=null,Bc=!1,Eo=!1,To=0,FI=0;function Vt(){throw Error(r(321))}function Pm(i,l){if(l===null)return!1;for(var f=0;f<l.length&&f<i.length;f++)if(!Yr(i[f],l[f]))return!1;return!0}function Em(i,l,f,g,x,_){if(za=_,dt=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,Fc.current=i===null||i.memoizedState===null?UI:WI,i=f(g,x),Eo){_=0;do{if(Eo=!1,To=0,25<=_)throw Error(r(301));_+=1,It=Nt=null,l.updateQueue=null,Fc.current=HI,i=f(g,x)}while(Eo)}if(Fc.current=Uc,l=Nt!==null&&Nt.next!==null,za=0,It=Nt=dt=null,Bc=!1,l)throw Error(r(300));return i}function Tm(){var i=To!==0;return To=0,i}function mn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return It===null?dt.memoizedState=It=i:It=It.next=i,It}function Ir(){if(Nt===null){var i=dt.alternate;i=i!==null?i.memoizedState:null}else i=Nt.next;var l=It===null?dt.memoizedState:It.next;if(l!==null)It=l,Nt=i;else{if(i===null)throw Error(r(310));Nt=i,i={memoizedState:Nt.memoizedState,baseState:Nt.baseState,baseQueue:Nt.baseQueue,queue:Nt.queue,next:null},It===null?dt.memoizedState=It=i:It=It.next=i}return It}function Co(i,l){return typeof l=="function"?l(i):l}function Cm(i){var l=Ir(),f=l.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=i;var g=Nt,x=g.baseQueue,_=f.pending;if(_!==null){if(x!==null){var E=x.next;x.next=_.next,_.next=E}g.baseQueue=x=_,f.pending=null}if(x!==null){_=x.next,g=g.baseState;var H=E=null,K=null,ee=_;do{var oe=ee.lane;if((za&oe)===oe)K!==null&&(K=K.next={lane:0,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),g=ee.hasEagerState?ee.eagerState:i(g,ee.action);else{var ce={lane:oe,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null};K===null?(H=K=ce,E=g):K=K.next=ce,dt.lanes|=oe,qa|=oe}ee=ee.next}while(ee!==null&&ee!==_);K===null?E=g:K.next=H,Yr(g,l.memoizedState)||(ur=!0),l.memoizedState=g,l.baseState=E,l.baseQueue=K,f.lastRenderedState=g}if(i=f.interleaved,i!==null){x=i;do _=x.lane,dt.lanes|=_,qa|=_,x=x.next;while(x!==i)}else x===null&&(f.lanes=0);return[l.memoizedState,f.dispatch]}function Im(i){var l=Ir(),f=l.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=i;var g=f.dispatch,x=f.pending,_=l.memoizedState;if(x!==null){f.pending=null;var E=x=x.next;do _=i(_,E.action),E=E.next;while(E!==x);Yr(_,l.memoizedState)||(ur=!0),l.memoizedState=_,l.baseQueue===null&&(l.baseState=_),f.lastRenderedState=_}return[_,g]}function Lw(){}function Fw(i,l){var f=dt,g=Ir(),x=l(),_=!Yr(g.memoizedState,x);if(_&&(g.memoizedState=x,ur=!0),g=g.queue,Mm(qw.bind(null,f,g,i),[i]),g.getSnapshot!==l||_||It!==null&&It.memoizedState.tag&1){if(f.flags|=2048,Io(9,zw.bind(null,f,g,x,l),void 0,null),Mt===null)throw Error(r(349));(za&30)!==0||Bw(f,l,x)}return x}function Bw(i,l,f){i.flags|=16384,i={getSnapshot:l,value:f},l=dt.updateQueue,l===null?(l={lastEffect:null,stores:null},dt.updateQueue=l,l.stores=[i]):(f=l.stores,f===null?l.stores=[i]:f.push(i))}function zw(i,l,f,g){l.value=f,l.getSnapshot=g,Uw(l)&&Ww(i)}function qw(i,l,f){return f(function(){Uw(l)&&Ww(i)})}function Uw(i){var l=i.getSnapshot;i=i.value;try{var f=l();return!Yr(i,f)}catch{return!0}}function Ww(i){var l=Pn(i,1);l!==null&&en(l,i,1,-1)}function Hw(i){var l=mn();return typeof i=="function"&&(i=i()),l.memoizedState=l.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:i},l.queue=i,i=i.dispatch=qI.bind(null,dt,i),[l.memoizedState,i]}function Io(i,l,f,g){return i={tag:i,create:l,destroy:f,deps:g,next:null},l=dt.updateQueue,l===null?(l={lastEffect:null,stores:null},dt.updateQueue=l,l.lastEffect=i.next=i):(f=l.lastEffect,f===null?l.lastEffect=i.next=i:(g=f.next,f.next=i,i.next=g,l.lastEffect=i)),i}function Gw(){return Ir().memoizedState}function zc(i,l,f,g){var x=mn();dt.flags|=i,x.memoizedState=Io(1|l,f,void 0,g===void 0?null:g)}function qc(i,l,f,g){var x=Ir();g=g===void 0?null:g;var _=void 0;if(Nt!==null){var E=Nt.memoizedState;if(_=E.destroy,g!==null&&Pm(g,E.deps)){x.memoizedState=Io(l,f,_,g);return}}dt.flags|=i,x.memoizedState=Io(1|l,f,_,g)}function Vw(i,l){return zc(8390656,8,i,l)}function Mm(i,l){return qc(2048,8,i,l)}function Kw(i,l){return qc(4,2,i,l)}function Yw(i,l){return qc(4,4,i,l)}function Xw(i,l){if(typeof l=="function")return i=i(),l(i),function(){l(null)};if(l!=null)return i=i(),l.current=i,function(){l.current=null}}function Qw(i,l,f){return f=f!=null?f.concat([i]):null,qc(4,4,Xw.bind(null,l,i),f)}function Rm(){}function Zw(i,l){var f=Ir();l=l===void 0?null:l;var g=f.memoizedState;return g!==null&&l!==null&&Pm(l,g[1])?g[0]:(f.memoizedState=[i,l],i)}function Jw(i,l){var f=Ir();l=l===void 0?null:l;var g=f.memoizedState;return g!==null&&l!==null&&Pm(l,g[1])?g[0]:(i=i(),f.memoizedState=[i,l],i)}function e1(i,l,f){return(za&21)===0?(i.baseState&&(i.baseState=!1,ur=!0),i.memoizedState=f):(Yr(f,l)||(f=Eb(),dt.lanes|=f,qa|=f,i.baseState=!0),l)}function BI(i,l){var f=Ge;Ge=f!==0&&4>f?f:4,i(!0);var g=Am.transition;Am.transition={};try{i(!1),l()}finally{Ge=f,Am.transition=g}}function t1(){return Ir().memoizedState}function zI(i,l,f){var g=ua(i);if(f={lane:g,action:f,hasEagerState:!1,eagerState:null,next:null},r1(i))n1(l,f);else if(f=Iw(i,l,f,g),f!==null){var x=Jt();en(f,i,g,x),a1(f,l,g)}}function qI(i,l,f){var g=ua(i),x={lane:g,action:f,hasEagerState:!1,eagerState:null,next:null};if(r1(i))n1(l,x);else{var _=i.alternate;if(i.lanes===0&&(_===null||_.lanes===0)&&(_=l.lastRenderedReducer,_!==null))try{var E=l.lastRenderedState,H=_(E,f);if(x.hasEagerState=!0,x.eagerState=H,Yr(H,E)){var K=l.interleaved;K===null?(x.next=x,jm(l)):(x.next=K.next,K.next=x),l.interleaved=x;return}}catch{}finally{}f=Iw(i,l,x,g),f!==null&&(x=Jt(),en(f,i,g,x),a1(f,l,g))}}function r1(i){var l=i.alternate;return i===dt||l!==null&&l===dt}function n1(i,l){Eo=Bc=!0;var f=i.pending;f===null?l.next=l:(l.next=f.next,f.next=l),i.pending=l}function a1(i,l,f){if((f&4194240)!==0){var g=l.lanes;g&=i.pendingLanes,f|=g,l.lanes=f,Df(i,f)}}var Uc={readContext:Cr,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useInsertionEffect:Vt,useLayoutEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useMutableSource:Vt,useSyncExternalStore:Vt,useId:Vt,unstable_isNewReconciler:!1},UI={readContext:Cr,useCallback:function(i,l){return mn().memoizedState=[i,l===void 0?null:l],i},useContext:Cr,useEffect:Vw,useImperativeHandle:function(i,l,f){return f=f!=null?f.concat([i]):null,zc(4194308,4,Xw.bind(null,l,i),f)},useLayoutEffect:function(i,l){return zc(4194308,4,i,l)},useInsertionEffect:function(i,l){return zc(4,2,i,l)},useMemo:function(i,l){var f=mn();return l=l===void 0?null:l,i=i(),f.memoizedState=[i,l],i},useReducer:function(i,l,f){var g=mn();return l=f!==void 0?f(l):l,g.memoizedState=g.baseState=l,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:l},g.queue=i,i=i.dispatch=zI.bind(null,dt,i),[g.memoizedState,i]},useRef:function(i){var l=mn();return i={current:i},l.memoizedState=i},useState:Hw,useDebugValue:Rm,useDeferredValue:function(i){return mn().memoizedState=i},useTransition:function(){var i=Hw(!1),l=i[0];return i=BI.bind(null,i[1]),mn().memoizedState=i,[l,i]},useMutableSource:function(){},useSyncExternalStore:function(i,l,f){var g=dt,x=mn();if(st){if(f===void 0)throw Error(r(407));f=f()}else{if(f=l(),Mt===null)throw Error(r(349));(za&30)!==0||Bw(g,l,f)}x.memoizedState=f;var _={value:f,getSnapshot:l};return x.queue=_,Vw(qw.bind(null,g,_,i),[i]),g.flags|=2048,Io(9,zw.bind(null,g,_,f,l),void 0,null),f},useId:function(){var i=mn(),l=Mt.identifierPrefix;if(st){var f=An,g=On;f=(g&~(1<<32-Kr(g)-1)).toString(32)+f,l=":"+l+"R"+f,f=To++,0<f&&(l+="H"+f.toString(32)),l+=":"}else f=FI++,l=":"+l+"r"+f.toString(32)+":";return i.memoizedState=l},unstable_isNewReconciler:!1},WI={readContext:Cr,useCallback:Zw,useContext:Cr,useEffect:Mm,useImperativeHandle:Qw,useInsertionEffect:Kw,useLayoutEffect:Yw,useMemo:Jw,useReducer:Cm,useRef:Gw,useState:function(){return Cm(Co)},useDebugValue:Rm,useDeferredValue:function(i){var l=Ir();return e1(l,Nt.memoizedState,i)},useTransition:function(){var i=Cm(Co)[0],l=Ir().memoizedState;return[i,l]},useMutableSource:Lw,useSyncExternalStore:Fw,useId:t1,unstable_isNewReconciler:!1},HI={readContext:Cr,useCallback:Zw,useContext:Cr,useEffect:Mm,useImperativeHandle:Qw,useInsertionEffect:Kw,useLayoutEffect:Yw,useMemo:Jw,useReducer:Im,useRef:Gw,useState:function(){return Im(Co)},useDebugValue:Rm,useDeferredValue:function(i){var l=Ir();return Nt===null?l.memoizedState=i:e1(l,Nt.memoizedState,i)},useTransition:function(){var i=Im(Co)[0],l=Ir().memoizedState;return[i,l]},useMutableSource:Lw,useSyncExternalStore:Fw,useId:t1,unstable_isNewReconciler:!1};function Qr(i,l){if(i&&i.defaultProps){l=Q({},l),i=i.defaultProps;for(var f in i)l[f]===void 0&&(l[f]=i[f]);return l}return l}function $m(i,l,f,g){l=i.memoizedState,f=f(g,l),f=f==null?l:Q({},l,f),i.memoizedState=f,i.lanes===0&&(i.updateQueue.baseState=f)}var Wc={isMounted:function(i){return(i=i._reactInternals)?Ma(i)===i:!1},enqueueSetState:function(i,l,f){i=i._reactInternals;var g=Jt(),x=ua(i),_=En(g,x);_.payload=l,f!=null&&(_.callback=f),l=sa(i,_,x),l!==null&&(en(l,i,x,g),$c(l,i,x))},enqueueReplaceState:function(i,l,f){i=i._reactInternals;var g=Jt(),x=ua(i),_=En(g,x);_.tag=1,_.payload=l,f!=null&&(_.callback=f),l=sa(i,_,x),l!==null&&(en(l,i,x,g),$c(l,i,x))},enqueueForceUpdate:function(i,l){i=i._reactInternals;var f=Jt(),g=ua(i),x=En(f,g);x.tag=2,l!=null&&(x.callback=l),l=sa(i,x,g),l!==null&&(en(l,i,g,f),$c(l,i,g))}};function i1(i,l,f,g,x,_,E){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(g,_,E):l.prototype&&l.prototype.isPureReactComponent?!xo(f,g)||!xo(x,_):!0}function s1(i,l,f){var g=!1,x=na,_=l.contextType;return typeof _=="object"&&_!==null?_=Cr(_):(x=cr(l)?$a:Gt.current,g=l.contextTypes,_=(g=g!=null)?Ii(i,x):na),l=new l(f,_),i.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=Wc,i.stateNode=l,l._reactInternals=i,g&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=x,i.__reactInternalMemoizedMaskedChildContext=_),l}function o1(i,l,f,g){i=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(f,g),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(f,g),l.state!==i&&Wc.enqueueReplaceState(l,l.state,null)}function Dm(i,l,f,g){var x=i.stateNode;x.props=f,x.state=i.memoizedState,x.refs={},Sm(i);var _=l.contextType;typeof _=="object"&&_!==null?x.context=Cr(_):(_=cr(l)?$a:Gt.current,x.context=Ii(i,_)),x.state=i.memoizedState,_=l.getDerivedStateFromProps,typeof _=="function"&&($m(i,l,_,f),x.state=i.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(l=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),l!==x.state&&Wc.enqueueReplaceState(x,x.state,null),Dc(i,f,x,g),x.state=i.memoizedState),typeof x.componentDidMount=="function"&&(i.flags|=4194308)}function zi(i,l){try{var f="",g=l;do f+=Se(g),g=g.return;while(g);var x=f}catch(_){x=`
Error generating stack: `+_.message+`
`+_.stack}return{value:i,source:l,stack:x,digest:null}}function Lm(i,l,f){return{value:i,source:null,stack:f??null,digest:l??null}}function Fm(i,l){try{console.error(l.value)}catch(f){setTimeout(function(){throw f})}}var GI=typeof WeakMap=="function"?WeakMap:Map;function l1(i,l,f){f=En(-1,f),f.tag=3,f.payload={element:null};var g=l.value;return f.callback=function(){Qc||(Qc=!0,eh=g),Fm(i,l)},f}function c1(i,l,f){f=En(-1,f),f.tag=3;var g=i.type.getDerivedStateFromError;if(typeof g=="function"){var x=l.value;f.payload=function(){return g(x)},f.callback=function(){Fm(i,l)}}var _=i.stateNode;return _!==null&&typeof _.componentDidCatch=="function"&&(f.callback=function(){Fm(i,l),typeof g!="function"&&(la===null?la=new Set([this]):la.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})}),f}function u1(i,l,f){var g=i.pingCache;if(g===null){g=i.pingCache=new GI;var x=new Set;g.set(l,x)}else x=g.get(l),x===void 0&&(x=new Set,g.set(l,x));x.has(f)||(x.add(f),i=sM.bind(null,i,l,f),l.then(i,i))}function d1(i){do{var l;if((l=i.tag===13)&&(l=i.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return i;i=i.return}while(i!==null);return null}function f1(i,l,f,g,x){return(i.mode&1)===0?(i===l?i.flags|=65536:(i.flags|=128,f.flags|=131072,f.flags&=-52805,f.tag===1&&(f.alternate===null?f.tag=17:(l=En(-1,1),l.tag=2,sa(f,l,1))),f.lanes|=1),i):(i.flags|=65536,i.lanes=x,i)}var VI=P.ReactCurrentOwner,ur=!1;function Zt(i,l,f,g){l.child=i===null?Cw(l,null,f,g):Di(l,i.child,f,g)}function m1(i,l,f,g,x){f=f.render;var _=l.ref;return Fi(l,x),g=Em(i,l,f,g,_,x),f=Tm(),i!==null&&!ur?(l.updateQueue=i.updateQueue,l.flags&=-2053,i.lanes&=~x,Tn(i,l,x)):(st&&f&&mm(l),l.flags|=1,Zt(i,l,g,x),l.child)}function h1(i,l,f,g,x){if(i===null){var _=f.type;return typeof _=="function"&&!oh(_)&&_.defaultProps===void 0&&f.compare===null&&f.defaultProps===void 0?(l.tag=15,l.type=_,p1(i,l,_,g,x)):(i=nu(f.type,null,g,l,l.mode,x),i.ref=l.ref,i.return=l,l.child=i)}if(_=i.child,(i.lanes&x)===0){var E=_.memoizedProps;if(f=f.compare,f=f!==null?f:xo,f(E,g)&&i.ref===l.ref)return Tn(i,l,x)}return l.flags|=1,i=fa(_,g),i.ref=l.ref,i.return=l,l.child=i}function p1(i,l,f,g,x){if(i!==null){var _=i.memoizedProps;if(xo(_,g)&&i.ref===l.ref)if(ur=!1,l.pendingProps=g=_,(i.lanes&x)!==0)(i.flags&131072)!==0&&(ur=!0);else return l.lanes=i.lanes,Tn(i,l,x)}return Bm(i,l,f,g,x)}function g1(i,l,f){var g=l.pendingProps,x=g.children,_=i!==null?i.memoizedState:null;if(g.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ye(Ui,wr),wr|=f;else{if((f&1073741824)===0)return i=_!==null?_.baseLanes|f:f,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:i,cachePool:null,transitions:null},l.updateQueue=null,Ye(Ui,wr),wr|=i,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=_!==null?_.baseLanes:f,Ye(Ui,wr),wr|=g}else _!==null?(g=_.baseLanes|f,l.memoizedState=null):g=f,Ye(Ui,wr),wr|=g;return Zt(i,l,x,f),l.child}function y1(i,l){var f=l.ref;(i===null&&f!==null||i!==null&&i.ref!==f)&&(l.flags|=512,l.flags|=2097152)}function Bm(i,l,f,g,x){var _=cr(f)?$a:Gt.current;return _=Ii(l,_),Fi(l,x),f=Em(i,l,f,g,_,x),g=Tm(),i!==null&&!ur?(l.updateQueue=i.updateQueue,l.flags&=-2053,i.lanes&=~x,Tn(i,l,x)):(st&&g&&mm(l),l.flags|=1,Zt(i,l,f,x),l.child)}function v1(i,l,f,g,x){if(cr(f)){var _=!0;Ac(l)}else _=!1;if(Fi(l,x),l.stateNode===null)Gc(i,l),s1(l,f,g),Dm(l,f,g,x),g=!0;else if(i===null){var E=l.stateNode,H=l.memoizedProps;E.props=H;var K=E.context,ee=f.contextType;typeof ee=="object"&&ee!==null?ee=Cr(ee):(ee=cr(f)?$a:Gt.current,ee=Ii(l,ee));var oe=f.getDerivedStateFromProps,ce=typeof oe=="function"||typeof E.getSnapshotBeforeUpdate=="function";ce||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(H!==g||K!==ee)&&o1(l,E,g,ee),ia=!1;var se=l.memoizedState;E.state=se,Dc(l,g,E,x),K=l.memoizedState,H!==g||se!==K||lr.current||ia?(typeof oe=="function"&&($m(l,f,oe,g),K=l.memoizedState),(H=ia||i1(l,f,H,g,se,K,ee))?(ce||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(l.flags|=4194308)):(typeof E.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=g,l.memoizedState=K),E.props=g,E.state=K,E.context=ee,g=H):(typeof E.componentDidMount=="function"&&(l.flags|=4194308),g=!1)}else{E=l.stateNode,Mw(i,l),H=l.memoizedProps,ee=l.type===l.elementType?H:Qr(l.type,H),E.props=ee,ce=l.pendingProps,se=E.context,K=f.contextType,typeof K=="object"&&K!==null?K=Cr(K):(K=cr(f)?$a:Gt.current,K=Ii(l,K));var me=f.getDerivedStateFromProps;(oe=typeof me=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(H!==ce||se!==K)&&o1(l,E,g,K),ia=!1,se=l.memoizedState,E.state=se,Dc(l,g,E,x);var ye=l.memoizedState;H!==ce||se!==ye||lr.current||ia?(typeof me=="function"&&($m(l,f,me,g),ye=l.memoizedState),(ee=ia||i1(l,f,ee,g,se,ye,K)||!1)?(oe||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(g,ye,K),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(g,ye,K)),typeof E.componentDidUpdate=="function"&&(l.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof E.componentDidUpdate!="function"||H===i.memoizedProps&&se===i.memoizedState||(l.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||H===i.memoizedProps&&se===i.memoizedState||(l.flags|=1024),l.memoizedProps=g,l.memoizedState=ye),E.props=g,E.state=ye,E.context=K,g=ee):(typeof E.componentDidUpdate!="function"||H===i.memoizedProps&&se===i.memoizedState||(l.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||H===i.memoizedProps&&se===i.memoizedState||(l.flags|=1024),g=!1)}return zm(i,l,f,g,_,x)}function zm(i,l,f,g,x,_){y1(i,l);var E=(l.flags&128)!==0;if(!g&&!E)return x&&Sw(l,f,!1),Tn(i,l,_);g=l.stateNode,VI.current=l;var H=E&&typeof f.getDerivedStateFromError!="function"?null:g.render();return l.flags|=1,i!==null&&E?(l.child=Di(l,i.child,null,_),l.child=Di(l,null,H,_)):Zt(i,l,H,_),l.memoizedState=g.state,x&&Sw(l,f,!0),l.child}function x1(i){var l=i.stateNode;l.pendingContext?ww(i,l.pendingContext,l.pendingContext!==l.context):l.context&&ww(i,l.context,!1),_m(i,l.containerInfo)}function b1(i,l,f,g,x){return $i(),ym(x),l.flags|=256,Zt(i,l,f,g),l.child}var qm={dehydrated:null,treeContext:null,retryLane:0};function Um(i){return{baseLanes:i,cachePool:null,transitions:null}}function w1(i,l,f){var g=l.pendingProps,x=ut.current,_=!1,E=(l.flags&128)!==0,H;if((H=E)||(H=i!==null&&i.memoizedState===null?!1:(x&2)!==0),H?(_=!0,l.flags&=-129):(i===null||i.memoizedState!==null)&&(x|=1),Ye(ut,x&1),i===null)return gm(l),i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((l.mode&1)===0?l.lanes=1:i.data==="$!"?l.lanes=8:l.lanes=1073741824,null):(E=g.children,i=g.fallback,_?(g=l.mode,_=l.child,E={mode:"hidden",children:E},(g&1)===0&&_!==null?(_.childLanes=0,_.pendingProps=E):_=au(E,g,0,null),i=Ga(i,g,f,null),_.return=l,i.return=l,_.sibling=i,l.child=_,l.child.memoizedState=Um(f),l.memoizedState=qm,i):Wm(l,E));if(x=i.memoizedState,x!==null&&(H=x.dehydrated,H!==null))return KI(i,l,E,g,H,x,f);if(_){_=g.fallback,E=l.mode,x=i.child,H=x.sibling;var K={mode:"hidden",children:g.children};return(E&1)===0&&l.child!==x?(g=l.child,g.childLanes=0,g.pendingProps=K,l.deletions=null):(g=fa(x,K),g.subtreeFlags=x.subtreeFlags&14680064),H!==null?_=fa(H,_):(_=Ga(_,E,f,null),_.flags|=2),_.return=l,g.return=l,g.sibling=_,l.child=g,g=_,_=l.child,E=i.child.memoizedState,E=E===null?Um(f):{baseLanes:E.baseLanes|f,cachePool:null,transitions:E.transitions},_.memoizedState=E,_.childLanes=i.childLanes&~f,l.memoizedState=qm,g}return _=i.child,i=_.sibling,g=fa(_,{mode:"visible",children:g.children}),(l.mode&1)===0&&(g.lanes=f),g.return=l,g.sibling=null,i!==null&&(f=l.deletions,f===null?(l.deletions=[i],l.flags|=16):f.push(i)),l.child=g,l.memoizedState=null,g}function Wm(i,l){return l=au({mode:"visible",children:l},i.mode,0,null),l.return=i,i.child=l}function Hc(i,l,f,g){return g!==null&&ym(g),Di(l,i.child,null,f),i=Wm(l,l.pendingProps.children),i.flags|=2,l.memoizedState=null,i}function KI(i,l,f,g,x,_,E){if(f)return l.flags&256?(l.flags&=-257,g=Lm(Error(r(422))),Hc(i,l,E,g)):l.memoizedState!==null?(l.child=i.child,l.flags|=128,null):(_=g.fallback,x=l.mode,g=au({mode:"visible",children:g.children},x,0,null),_=Ga(_,x,E,null),_.flags|=2,g.return=l,_.return=l,g.sibling=_,l.child=g,(l.mode&1)!==0&&Di(l,i.child,null,E),l.child.memoizedState=Um(E),l.memoizedState=qm,_);if((l.mode&1)===0)return Hc(i,l,E,null);if(x.data==="$!"){if(g=x.nextSibling&&x.nextSibling.dataset,g)var H=g.dgst;return g=H,_=Error(r(419)),g=Lm(_,g,void 0),Hc(i,l,E,g)}if(H=(E&i.childLanes)!==0,ur||H){if(g=Mt,g!==null){switch(E&-E){case 4:x=2;break;case 16:x=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:x=32;break;case 536870912:x=268435456;break;default:x=0}x=(x&(g.suspendedLanes|E))!==0?0:x,x!==0&&x!==_.retryLane&&(_.retryLane=x,Pn(i,x),en(g,i,x,-1))}return sh(),g=Lm(Error(r(421))),Hc(i,l,E,g)}return x.data==="$?"?(l.flags|=128,l.child=i.child,l=oM.bind(null,i),x._reactRetry=l,null):(i=_.treeContext,br=ta(x.nextSibling),xr=l,st=!0,Xr=null,i!==null&&(Er[Tr++]=On,Er[Tr++]=An,Er[Tr++]=Da,On=i.id,An=i.overflow,Da=l),l=Wm(l,g.children),l.flags|=4096,l)}function j1(i,l,f){i.lanes|=l;var g=i.alternate;g!==null&&(g.lanes|=l),wm(i.return,l,f)}function Hm(i,l,f,g,x){var _=i.memoizedState;_===null?i.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:g,tail:f,tailMode:x}:(_.isBackwards=l,_.rendering=null,_.renderingStartTime=0,_.last=g,_.tail=f,_.tailMode=x)}function S1(i,l,f){var g=l.pendingProps,x=g.revealOrder,_=g.tail;if(Zt(i,l,g.children,f),g=ut.current,(g&2)!==0)g=g&1|2,l.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=l.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&j1(i,f,l);else if(i.tag===19)j1(i,f,l);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===l)break e;for(;i.sibling===null;){if(i.return===null||i.return===l)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}g&=1}if(Ye(ut,g),(l.mode&1)===0)l.memoizedState=null;else switch(x){case"forwards":for(f=l.child,x=null;f!==null;)i=f.alternate,i!==null&&Lc(i)===null&&(x=f),f=f.sibling;f=x,f===null?(x=l.child,l.child=null):(x=f.sibling,f.sibling=null),Hm(l,!1,x,f,_);break;case"backwards":for(f=null,x=l.child,l.child=null;x!==null;){if(i=x.alternate,i!==null&&Lc(i)===null){l.child=x;break}i=x.sibling,x.sibling=f,f=x,x=i}Hm(l,!0,f,null,_);break;case"together":Hm(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Gc(i,l){(l.mode&1)===0&&i!==null&&(i.alternate=null,l.alternate=null,l.flags|=2)}function Tn(i,l,f){if(i!==null&&(l.dependencies=i.dependencies),qa|=l.lanes,(f&l.childLanes)===0)return null;if(i!==null&&l.child!==i.child)throw Error(r(153));if(l.child!==null){for(i=l.child,f=fa(i,i.pendingProps),l.child=f,f.return=l;i.sibling!==null;)i=i.sibling,f=f.sibling=fa(i,i.pendingProps),f.return=l;f.sibling=null}return l.child}function YI(i,l,f){switch(l.tag){case 3:x1(l),$i();break;case 5:Dw(l);break;case 1:cr(l.type)&&Ac(l);break;case 4:_m(l,l.stateNode.containerInfo);break;case 10:var g=l.type._context,x=l.memoizedProps.value;Ye(Mc,g._currentValue),g._currentValue=x;break;case 13:if(g=l.memoizedState,g!==null)return g.dehydrated!==null?(Ye(ut,ut.current&1),l.flags|=128,null):(f&l.child.childLanes)!==0?w1(i,l,f):(Ye(ut,ut.current&1),i=Tn(i,l,f),i!==null?i.sibling:null);Ye(ut,ut.current&1);break;case 19:if(g=(f&l.childLanes)!==0,(i.flags&128)!==0){if(g)return S1(i,l,f);l.flags|=128}if(x=l.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),Ye(ut,ut.current),g)break;return null;case 22:case 23:return l.lanes=0,g1(i,l,f)}return Tn(i,l,f)}var _1,Gm,N1,k1;_1=function(i,l){for(var f=l.child;f!==null;){if(f.tag===5||f.tag===6)i.appendChild(f.stateNode);else if(f.tag!==4&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===l)break;for(;f.sibling===null;){if(f.return===null||f.return===l)return;f=f.return}f.sibling.return=f.return,f=f.sibling}},Gm=function(){},N1=function(i,l,f,g){var x=i.memoizedProps;if(x!==g){i=l.stateNode,Ba(fn.current);var _=null;switch(f){case"input":x=Ee(i,x),g=Ee(i,g),_=[];break;case"select":x=Q({},x,{value:void 0}),g=Q({},g,{value:void 0}),_=[];break;case"textarea":x=ct(i,x),g=ct(i,g),_=[];break;default:typeof x.onClick!="function"&&typeof g.onClick=="function"&&(i.onclick=Nc)}kf(f,g);var E;f=null;for(ee in x)if(!g.hasOwnProperty(ee)&&x.hasOwnProperty(ee)&&x[ee]!=null)if(ee==="style"){var H=x[ee];for(E in H)H.hasOwnProperty(E)&&(f||(f={}),f[E]="")}else ee!=="dangerouslySetInnerHTML"&&ee!=="children"&&ee!=="suppressContentEditableWarning"&&ee!=="suppressHydrationWarning"&&ee!=="autoFocus"&&(a.hasOwnProperty(ee)?_||(_=[]):(_=_||[]).push(ee,null));for(ee in g){var K=g[ee];if(H=x?.[ee],g.hasOwnProperty(ee)&&K!==H&&(K!=null||H!=null))if(ee==="style")if(H){for(E in H)!H.hasOwnProperty(E)||K&&K.hasOwnProperty(E)||(f||(f={}),f[E]="");for(E in K)K.hasOwnProperty(E)&&H[E]!==K[E]&&(f||(f={}),f[E]=K[E])}else f||(_||(_=[]),_.push(ee,f)),f=K;else ee==="dangerouslySetInnerHTML"?(K=K?K.__html:void 0,H=H?H.__html:void 0,K!=null&&H!==K&&(_=_||[]).push(ee,K)):ee==="children"?typeof K!="string"&&typeof K!="number"||(_=_||[]).push(ee,""+K):ee!=="suppressContentEditableWarning"&&ee!=="suppressHydrationWarning"&&(a.hasOwnProperty(ee)?(K!=null&&ee==="onScroll"&&et("scroll",i),_||H===K||(_=[])):(_=_||[]).push(ee,K))}f&&(_=_||[]).push("style",f);var ee=_;(l.updateQueue=ee)&&(l.flags|=4)}},k1=function(i,l,f,g){f!==g&&(l.flags|=4)};function Mo(i,l){if(!st)switch(i.tailMode){case"hidden":l=i.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?i.tail=null:f.sibling=null;break;case"collapsed":f=i.tail;for(var g=null;f!==null;)f.alternate!==null&&(g=f),f=f.sibling;g===null?l||i.tail===null?i.tail=null:i.tail.sibling=null:g.sibling=null}}function Kt(i){var l=i.alternate!==null&&i.alternate.child===i.child,f=0,g=0;if(l)for(var x=i.child;x!==null;)f|=x.lanes|x.childLanes,g|=x.subtreeFlags&14680064,g|=x.flags&14680064,x.return=i,x=x.sibling;else for(x=i.child;x!==null;)f|=x.lanes|x.childLanes,g|=x.subtreeFlags,g|=x.flags,x.return=i,x=x.sibling;return i.subtreeFlags|=g,i.childLanes=f,l}function XI(i,l,f){var g=l.pendingProps;switch(hm(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kt(l),null;case 1:return cr(l.type)&&Oc(),Kt(l),null;case 3:return g=l.stateNode,Bi(),tt(lr),tt(Gt),Om(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(i===null||i.child===null)&&(Cc(l)?l.flags|=4:i===null||i.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Xr!==null&&(nh(Xr),Xr=null))),Gm(i,l),Kt(l),null;case 5:Nm(l);var x=Ba(Po.current);if(f=l.type,i!==null&&l.stateNode!=null)N1(i,l,f,g,x),i.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!g){if(l.stateNode===null)throw Error(r(166));return Kt(l),null}if(i=Ba(fn.current),Cc(l)){g=l.stateNode,f=l.type;var _=l.memoizedProps;switch(g[dn]=l,g[_o]=_,i=(l.mode&1)!==0,f){case"dialog":et("cancel",g),et("close",g);break;case"iframe":case"object":case"embed":et("load",g);break;case"video":case"audio":for(x=0;x<wo.length;x++)et(wo[x],g);break;case"source":et("error",g);break;case"img":case"image":case"link":et("error",g),et("load",g);break;case"details":et("toggle",g);break;case"input":Je(g,_),et("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!_.multiple},et("invalid",g);break;case"textarea":wi(g,_),et("invalid",g)}kf(f,_),x=null;for(var E in _)if(_.hasOwnProperty(E)){var H=_[E];E==="children"?typeof H=="string"?g.textContent!==H&&(_.suppressHydrationWarning!==!0&&_c(g.textContent,H,i),x=["children",H]):typeof H=="number"&&g.textContent!==""+H&&(_.suppressHydrationWarning!==!0&&_c(g.textContent,H,i),x=["children",""+H]):a.hasOwnProperty(E)&&H!=null&&E==="onScroll"&&et("scroll",g)}switch(f){case"input":ae(g),yr(g,_,!0);break;case"textarea":ae(g),eo(g);break;case"select":case"option":break;default:typeof _.onClick=="function"&&(g.onclick=Nc)}g=x,l.updateQueue=g,g!==null&&(l.flags|=4)}else{E=x.nodeType===9?x:x.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=fb(f)),i==="http://www.w3.org/1999/xhtml"?f==="script"?(i=E.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof g.is=="string"?i=E.createElement(f,{is:g.is}):(i=E.createElement(f),f==="select"&&(E=i,g.multiple?E.multiple=!0:g.size&&(E.size=g.size))):i=E.createElementNS(i,f),i[dn]=l,i[_o]=g,_1(i,l,!1,!1),l.stateNode=i;e:{switch(E=Of(f,g),f){case"dialog":et("cancel",i),et("close",i),x=g;break;case"iframe":case"object":case"embed":et("load",i),x=g;break;case"video":case"audio":for(x=0;x<wo.length;x++)et(wo[x],i);x=g;break;case"source":et("error",i),x=g;break;case"img":case"image":case"link":et("error",i),et("load",i),x=g;break;case"details":et("toggle",i),x=g;break;case"input":Je(i,g),x=Ee(i,g),et("invalid",i);break;case"option":x=g;break;case"select":i._wrapperState={wasMultiple:!!g.multiple},x=Q({},g,{value:void 0}),et("invalid",i);break;case"textarea":wi(i,g),x=ct(i,g),et("invalid",i);break;default:x=g}kf(f,x),H=x;for(_ in H)if(H.hasOwnProperty(_)){var K=H[_];_==="style"?pb(i,K):_==="dangerouslySetInnerHTML"?(K=K?K.__html:void 0,K!=null&&mb(i,K)):_==="children"?typeof K=="string"?(f!=="textarea"||K!=="")&&to(i,K):typeof K=="number"&&to(i,""+K):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(a.hasOwnProperty(_)?K!=null&&_==="onScroll"&&et("scroll",i):K!=null&&O(i,_,K,E))}switch(f){case"input":ae(i),yr(i,g,!1);break;case"textarea":ae(i),eo(i);break;case"option":g.value!=null&&i.setAttribute("value",""+Ie(g.value));break;case"select":i.multiple=!!g.multiple,_=g.value,_!=null?Ht(i,!!g.multiple,_,!1):g.defaultValue!=null&&Ht(i,!!g.multiple,g.defaultValue,!0);break;default:typeof x.onClick=="function"&&(i.onclick=Nc)}switch(f){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return Kt(l),null;case 6:if(i&&l.stateNode!=null)k1(i,l,i.memoizedProps,g);else{if(typeof g!="string"&&l.stateNode===null)throw Error(r(166));if(f=Ba(Po.current),Ba(fn.current),Cc(l)){if(g=l.stateNode,f=l.memoizedProps,g[dn]=l,(_=g.nodeValue!==f)&&(i=xr,i!==null))switch(i.tag){case 3:_c(g.nodeValue,f,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&_c(g.nodeValue,f,(i.mode&1)!==0)}_&&(l.flags|=4)}else g=(f.nodeType===9?f:f.ownerDocument).createTextNode(g),g[dn]=l,l.stateNode=g}return Kt(l),null;case 13:if(tt(ut),g=l.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(st&&br!==null&&(l.mode&1)!==0&&(l.flags&128)===0)Pw(),$i(),l.flags|=98560,_=!1;else if(_=Cc(l),g!==null&&g.dehydrated!==null){if(i===null){if(!_)throw Error(r(318));if(_=l.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(r(317));_[dn]=l}else $i(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Kt(l),_=!1}else Xr!==null&&(nh(Xr),Xr=null),_=!0;if(!_)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=f,l):(g=g!==null,g!==(i!==null&&i.memoizedState!==null)&&g&&(l.child.flags|=8192,(l.mode&1)!==0&&(i===null||(ut.current&1)!==0?kt===0&&(kt=3):sh())),l.updateQueue!==null&&(l.flags|=4),Kt(l),null);case 4:return Bi(),Gm(i,l),i===null&&jo(l.stateNode.containerInfo),Kt(l),null;case 10:return bm(l.type._context),Kt(l),null;case 17:return cr(l.type)&&Oc(),Kt(l),null;case 19:if(tt(ut),_=l.memoizedState,_===null)return Kt(l),null;if(g=(l.flags&128)!==0,E=_.rendering,E===null)if(g)Mo(_,!1);else{if(kt!==0||i!==null&&(i.flags&128)!==0)for(i=l.child;i!==null;){if(E=Lc(i),E!==null){for(l.flags|=128,Mo(_,!1),g=E.updateQueue,g!==null&&(l.updateQueue=g,l.flags|=4),l.subtreeFlags=0,g=f,f=l.child;f!==null;)_=f,i=g,_.flags&=14680066,E=_.alternate,E===null?(_.childLanes=0,_.lanes=i,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=E.childLanes,_.lanes=E.lanes,_.child=E.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=E.memoizedProps,_.memoizedState=E.memoizedState,_.updateQueue=E.updateQueue,_.type=E.type,i=E.dependencies,_.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),f=f.sibling;return Ye(ut,ut.current&1|2),l.child}i=i.sibling}_.tail!==null&&yt()>Wi&&(l.flags|=128,g=!0,Mo(_,!1),l.lanes=4194304)}else{if(!g)if(i=Lc(E),i!==null){if(l.flags|=128,g=!0,f=i.updateQueue,f!==null&&(l.updateQueue=f,l.flags|=4),Mo(_,!0),_.tail===null&&_.tailMode==="hidden"&&!E.alternate&&!st)return Kt(l),null}else 2*yt()-_.renderingStartTime>Wi&&f!==1073741824&&(l.flags|=128,g=!0,Mo(_,!1),l.lanes=4194304);_.isBackwards?(E.sibling=l.child,l.child=E):(f=_.last,f!==null?f.sibling=E:l.child=E,_.last=E)}return _.tail!==null?(l=_.tail,_.rendering=l,_.tail=l.sibling,_.renderingStartTime=yt(),l.sibling=null,f=ut.current,Ye(ut,g?f&1|2:f&1),l):(Kt(l),null);case 22:case 23:return ih(),g=l.memoizedState!==null,i!==null&&i.memoizedState!==null!==g&&(l.flags|=8192),g&&(l.mode&1)!==0?(wr&1073741824)!==0&&(Kt(l),l.subtreeFlags&6&&(l.flags|=8192)):Kt(l),null;case 24:return null;case 25:return null}throw Error(r(156,l.tag))}function QI(i,l){switch(hm(l),l.tag){case 1:return cr(l.type)&&Oc(),i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 3:return Bi(),tt(lr),tt(Gt),Om(),i=l.flags,(i&65536)!==0&&(i&128)===0?(l.flags=i&-65537|128,l):null;case 5:return Nm(l),null;case 13:if(tt(ut),i=l.memoizedState,i!==null&&i.dehydrated!==null){if(l.alternate===null)throw Error(r(340));$i()}return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 19:return tt(ut),null;case 4:return Bi(),null;case 10:return bm(l.type._context),null;case 22:case 23:return ih(),null;case 24:return null;default:return null}}var Vc=!1,Yt=!1,ZI=typeof WeakSet=="function"?WeakSet:Set,pe=null;function qi(i,l){var f=i.ref;if(f!==null)if(typeof f=="function")try{f(null)}catch(g){mt(i,l,g)}else f.current=null}function Vm(i,l,f){try{f()}catch(g){mt(i,l,g)}}var O1=!1;function JI(i,l){if(im=mc,i=iw(),Qf(i)){if("selectionStart"in i)var f={start:i.selectionStart,end:i.selectionEnd};else e:{f=(f=i.ownerDocument)&&f.defaultView||window;var g=f.getSelection&&f.getSelection();if(g&&g.rangeCount!==0){f=g.anchorNode;var x=g.anchorOffset,_=g.focusNode;g=g.focusOffset;try{f.nodeType,_.nodeType}catch{f=null;break e}var E=0,H=-1,K=-1,ee=0,oe=0,ce=i,se=null;t:for(;;){for(var me;ce!==f||x!==0&&ce.nodeType!==3||(H=E+x),ce!==_||g!==0&&ce.nodeType!==3||(K=E+g),ce.nodeType===3&&(E+=ce.nodeValue.length),(me=ce.firstChild)!==null;)se=ce,ce=me;for(;;){if(ce===i)break t;if(se===f&&++ee===x&&(H=E),se===_&&++oe===g&&(K=E),(me=ce.nextSibling)!==null)break;ce=se,se=ce.parentNode}ce=me}f=H===-1||K===-1?null:{start:H,end:K}}else f=null}f=f||{start:0,end:0}}else f=null;for(sm={focusedElem:i,selectionRange:f},mc=!1,pe=l;pe!==null;)if(l=pe,i=l.child,(l.subtreeFlags&1028)!==0&&i!==null)i.return=l,pe=i;else for(;pe!==null;){l=pe;try{var ye=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(ye!==null){var be=ye.memoizedProps,vt=ye.memoizedState,Z=l.stateNode,X=Z.getSnapshotBeforeUpdate(l.elementType===l.type?be:Qr(l.type,be),vt);Z.__reactInternalSnapshotBeforeUpdate=X}break;case 3:var J=l.stateNode.containerInfo;J.nodeType===1?J.textContent="":J.nodeType===9&&J.documentElement&&J.removeChild(J.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(de){mt(l,l.return,de)}if(i=l.sibling,i!==null){i.return=l.return,pe=i;break}pe=l.return}return ye=O1,O1=!1,ye}function Ro(i,l,f){var g=l.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var x=g=g.next;do{if((x.tag&i)===i){var _=x.destroy;x.destroy=void 0,_!==void 0&&Vm(l,f,_)}x=x.next}while(x!==g)}}function Kc(i,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var f=l=l.next;do{if((f.tag&i)===i){var g=f.create;f.destroy=g()}f=f.next}while(f!==l)}}function Km(i){var l=i.ref;if(l!==null){var f=i.stateNode;switch(i.tag){case 5:i=f;break;default:i=f}typeof l=="function"?l(i):l.current=i}}function A1(i){var l=i.alternate;l!==null&&(i.alternate=null,A1(l)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(l=i.stateNode,l!==null&&(delete l[dn],delete l[_o],delete l[um],delete l[RI],delete l[$I])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function P1(i){return i.tag===5||i.tag===3||i.tag===4}function E1(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||P1(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Ym(i,l,f){var g=i.tag;if(g===5||g===6)i=i.stateNode,l?f.nodeType===8?f.parentNode.insertBefore(i,l):f.insertBefore(i,l):(f.nodeType===8?(l=f.parentNode,l.insertBefore(i,f)):(l=f,l.appendChild(i)),f=f._reactRootContainer,f!=null||l.onclick!==null||(l.onclick=Nc));else if(g!==4&&(i=i.child,i!==null))for(Ym(i,l,f),i=i.sibling;i!==null;)Ym(i,l,f),i=i.sibling}function Xm(i,l,f){var g=i.tag;if(g===5||g===6)i=i.stateNode,l?f.insertBefore(i,l):f.appendChild(i);else if(g!==4&&(i=i.child,i!==null))for(Xm(i,l,f),i=i.sibling;i!==null;)Xm(i,l,f),i=i.sibling}var Ft=null,Zr=!1;function oa(i,l,f){for(f=f.child;f!==null;)T1(i,l,f),f=f.sibling}function T1(i,l,f){if(un&&typeof un.onCommitFiberUnmount=="function")try{un.onCommitFiberUnmount(oc,f)}catch{}switch(f.tag){case 5:Yt||qi(f,l);case 6:var g=Ft,x=Zr;Ft=null,oa(i,l,f),Ft=g,Zr=x,Ft!==null&&(Zr?(i=Ft,f=f.stateNode,i.nodeType===8?i.parentNode.removeChild(f):i.removeChild(f)):Ft.removeChild(f.stateNode));break;case 18:Ft!==null&&(Zr?(i=Ft,f=f.stateNode,i.nodeType===8?cm(i.parentNode,f):i.nodeType===1&&cm(i,f),mo(i)):cm(Ft,f.stateNode));break;case 4:g=Ft,x=Zr,Ft=f.stateNode.containerInfo,Zr=!0,oa(i,l,f),Ft=g,Zr=x;break;case 0:case 11:case 14:case 15:if(!Yt&&(g=f.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){x=g=g.next;do{var _=x,E=_.destroy;_=_.tag,E!==void 0&&((_&2)!==0||(_&4)!==0)&&Vm(f,l,E),x=x.next}while(x!==g)}oa(i,l,f);break;case 1:if(!Yt&&(qi(f,l),g=f.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=f.memoizedProps,g.state=f.memoizedState,g.componentWillUnmount()}catch(H){mt(f,l,H)}oa(i,l,f);break;case 21:oa(i,l,f);break;case 22:f.mode&1?(Yt=(g=Yt)||f.memoizedState!==null,oa(i,l,f),Yt=g):oa(i,l,f);break;default:oa(i,l,f)}}function C1(i){var l=i.updateQueue;if(l!==null){i.updateQueue=null;var f=i.stateNode;f===null&&(f=i.stateNode=new ZI),l.forEach(function(g){var x=lM.bind(null,i,g);f.has(g)||(f.add(g),g.then(x,x))})}}function Jr(i,l){var f=l.deletions;if(f!==null)for(var g=0;g<f.length;g++){var x=f[g];try{var _=i,E=l,H=E;e:for(;H!==null;){switch(H.tag){case 5:Ft=H.stateNode,Zr=!1;break e;case 3:Ft=H.stateNode.containerInfo,Zr=!0;break e;case 4:Ft=H.stateNode.containerInfo,Zr=!0;break e}H=H.return}if(Ft===null)throw Error(r(160));T1(_,E,x),Ft=null,Zr=!1;var K=x.alternate;K!==null&&(K.return=null),x.return=null}catch(ee){mt(x,l,ee)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)I1(l,i),l=l.sibling}function I1(i,l){var f=i.alternate,g=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Jr(l,i),hn(i),g&4){try{Ro(3,i,i.return),Kc(3,i)}catch(be){mt(i,i.return,be)}try{Ro(5,i,i.return)}catch(be){mt(i,i.return,be)}}break;case 1:Jr(l,i),hn(i),g&512&&f!==null&&qi(f,f.return);break;case 5:if(Jr(l,i),hn(i),g&512&&f!==null&&qi(f,f.return),i.flags&32){var x=i.stateNode;try{to(x,"")}catch(be){mt(i,i.return,be)}}if(g&4&&(x=i.stateNode,x!=null)){var _=i.memoizedProps,E=f!==null?f.memoizedProps:_,H=i.type,K=i.updateQueue;if(i.updateQueue=null,K!==null)try{H==="input"&&_.type==="radio"&&_.name!=null&&it(x,_),Of(H,E);var ee=Of(H,_);for(E=0;E<K.length;E+=2){var oe=K[E],ce=K[E+1];oe==="style"?pb(x,ce):oe==="dangerouslySetInnerHTML"?mb(x,ce):oe==="children"?to(x,ce):O(x,oe,ce,ee)}switch(H){case"input":xt(x,_);break;case"textarea":Js(x,_);break;case"select":var se=x._wrapperState.wasMultiple;x._wrapperState.wasMultiple=!!_.multiple;var me=_.value;me!=null?Ht(x,!!_.multiple,me,!1):se!==!!_.multiple&&(_.defaultValue!=null?Ht(x,!!_.multiple,_.defaultValue,!0):Ht(x,!!_.multiple,_.multiple?[]:"",!1))}x[_o]=_}catch(be){mt(i,i.return,be)}}break;case 6:if(Jr(l,i),hn(i),g&4){if(i.stateNode===null)throw Error(r(162));x=i.stateNode,_=i.memoizedProps;try{x.nodeValue=_}catch(be){mt(i,i.return,be)}}break;case 3:if(Jr(l,i),hn(i),g&4&&f!==null&&f.memoizedState.isDehydrated)try{mo(l.containerInfo)}catch(be){mt(i,i.return,be)}break;case 4:Jr(l,i),hn(i);break;case 13:Jr(l,i),hn(i),x=i.child,x.flags&8192&&(_=x.memoizedState!==null,x.stateNode.isHidden=_,!_||x.alternate!==null&&x.alternate.memoizedState!==null||(Jm=yt())),g&4&&C1(i);break;case 22:if(oe=f!==null&&f.memoizedState!==null,i.mode&1?(Yt=(ee=Yt)||oe,Jr(l,i),Yt=ee):Jr(l,i),hn(i),g&8192){if(ee=i.memoizedState!==null,(i.stateNode.isHidden=ee)&&!oe&&(i.mode&1)!==0)for(pe=i,oe=i.child;oe!==null;){for(ce=pe=oe;pe!==null;){switch(se=pe,me=se.child,se.tag){case 0:case 11:case 14:case 15:Ro(4,se,se.return);break;case 1:qi(se,se.return);var ye=se.stateNode;if(typeof ye.componentWillUnmount=="function"){g=se,f=se.return;try{l=g,ye.props=l.memoizedProps,ye.state=l.memoizedState,ye.componentWillUnmount()}catch(be){mt(g,f,be)}}break;case 5:qi(se,se.return);break;case 22:if(se.memoizedState!==null){$1(ce);continue}}me!==null?(me.return=se,pe=me):$1(ce)}oe=oe.sibling}e:for(oe=null,ce=i;;){if(ce.tag===5){if(oe===null){oe=ce;try{x=ce.stateNode,ee?(_=x.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none"):(H=ce.stateNode,K=ce.memoizedProps.style,E=K!=null&&K.hasOwnProperty("display")?K.display:null,H.style.display=hb("display",E))}catch(be){mt(i,i.return,be)}}}else if(ce.tag===6){if(oe===null)try{ce.stateNode.nodeValue=ee?"":ce.memoizedProps}catch(be){mt(i,i.return,be)}}else if((ce.tag!==22&&ce.tag!==23||ce.memoizedState===null||ce===i)&&ce.child!==null){ce.child.return=ce,ce=ce.child;continue}if(ce===i)break e;for(;ce.sibling===null;){if(ce.return===null||ce.return===i)break e;oe===ce&&(oe=null),ce=ce.return}oe===ce&&(oe=null),ce.sibling.return=ce.return,ce=ce.sibling}}break;case 19:Jr(l,i),hn(i),g&4&&C1(i);break;case 21:break;default:Jr(l,i),hn(i)}}function hn(i){var l=i.flags;if(l&2){try{e:{for(var f=i.return;f!==null;){if(P1(f)){var g=f;break e}f=f.return}throw Error(r(160))}switch(g.tag){case 5:var x=g.stateNode;g.flags&32&&(to(x,""),g.flags&=-33);var _=E1(i);Xm(i,_,x);break;case 3:case 4:var E=g.stateNode.containerInfo,H=E1(i);Ym(i,H,E);break;default:throw Error(r(161))}}catch(K){mt(i,i.return,K)}i.flags&=-3}l&4096&&(i.flags&=-4097)}function eM(i,l,f){pe=i,M1(i)}function M1(i,l,f){for(var g=(i.mode&1)!==0;pe!==null;){var x=pe,_=x.child;if(x.tag===22&&g){var E=x.memoizedState!==null||Vc;if(!E){var H=x.alternate,K=H!==null&&H.memoizedState!==null||Yt;H=Vc;var ee=Yt;if(Vc=E,(Yt=K)&&!ee)for(pe=x;pe!==null;)E=pe,K=E.child,E.tag===22&&E.memoizedState!==null?D1(x):K!==null?(K.return=E,pe=K):D1(x);for(;_!==null;)pe=_,M1(_),_=_.sibling;pe=x,Vc=H,Yt=ee}R1(i)}else(x.subtreeFlags&8772)!==0&&_!==null?(_.return=x,pe=_):R1(i)}}function R1(i){for(;pe!==null;){var l=pe;if((l.flags&8772)!==0){var f=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:Yt||Kc(5,l);break;case 1:var g=l.stateNode;if(l.flags&4&&!Yt)if(f===null)g.componentDidMount();else{var x=l.elementType===l.type?f.memoizedProps:Qr(l.type,f.memoizedProps);g.componentDidUpdate(x,f.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var _=l.updateQueue;_!==null&&$w(l,_,g);break;case 3:var E=l.updateQueue;if(E!==null){if(f=null,l.child!==null)switch(l.child.tag){case 5:f=l.child.stateNode;break;case 1:f=l.child.stateNode}$w(l,E,f)}break;case 5:var H=l.stateNode;if(f===null&&l.flags&4){f=H;var K=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":K.autoFocus&&f.focus();break;case"img":K.src&&(f.src=K.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var ee=l.alternate;if(ee!==null){var oe=ee.memoizedState;if(oe!==null){var ce=oe.dehydrated;ce!==null&&mo(ce)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Yt||l.flags&512&&Km(l)}catch(se){mt(l,l.return,se)}}if(l===i){pe=null;break}if(f=l.sibling,f!==null){f.return=l.return,pe=f;break}pe=l.return}}function $1(i){for(;pe!==null;){var l=pe;if(l===i){pe=null;break}var f=l.sibling;if(f!==null){f.return=l.return,pe=f;break}pe=l.return}}function D1(i){for(;pe!==null;){var l=pe;try{switch(l.tag){case 0:case 11:case 15:var f=l.return;try{Kc(4,l)}catch(K){mt(l,f,K)}break;case 1:var g=l.stateNode;if(typeof g.componentDidMount=="function"){var x=l.return;try{g.componentDidMount()}catch(K){mt(l,x,K)}}var _=l.return;try{Km(l)}catch(K){mt(l,_,K)}break;case 5:var E=l.return;try{Km(l)}catch(K){mt(l,E,K)}}}catch(K){mt(l,l.return,K)}if(l===i){pe=null;break}var H=l.sibling;if(H!==null){H.return=l.return,pe=H;break}pe=l.return}}var tM=Math.ceil,Yc=P.ReactCurrentDispatcher,Qm=P.ReactCurrentOwner,Mr=P.ReactCurrentBatchConfig,Fe=0,Mt=null,bt=null,Bt=0,wr=0,Ui=ra(0),kt=0,$o=null,qa=0,Xc=0,Zm=0,Do=null,dr=null,Jm=0,Wi=1/0,Cn=null,Qc=!1,eh=null,la=null,Zc=!1,ca=null,Jc=0,Lo=0,th=null,eu=-1,tu=0;function Jt(){return(Fe&6)!==0?yt():eu!==-1?eu:eu=yt()}function ua(i){return(i.mode&1)===0?1:(Fe&2)!==0&&Bt!==0?Bt&-Bt:LI.transition!==null?(tu===0&&(tu=Eb()),tu):(i=Ge,i!==0||(i=window.event,i=i===void 0?16:Fb(i.type)),i)}function en(i,l,f,g){if(50<Lo)throw Lo=0,th=null,Error(r(185));oo(i,f,g),((Fe&2)===0||i!==Mt)&&(i===Mt&&((Fe&2)===0&&(Xc|=f),kt===4&&da(i,Bt)),fr(i,g),f===1&&Fe===0&&(l.mode&1)===0&&(Wi=yt()+500,Pc&&aa()))}function fr(i,l){var f=i.callbackNode;LC(i,l);var g=uc(i,i===Mt?Bt:0);if(g===0)f!==null&&Ob(f),i.callbackNode=null,i.callbackPriority=0;else if(l=g&-g,i.callbackPriority!==l){if(f!=null&&Ob(f),l===1)i.tag===0?DI(F1.bind(null,i)):_w(F1.bind(null,i)),II(function(){(Fe&6)===0&&aa()}),f=null;else{switch(Tb(g)){case 1:f=Mf;break;case 4:f=Ab;break;case 16:f=sc;break;case 536870912:f=Pb;break;default:f=sc}f=V1(f,L1.bind(null,i))}i.callbackPriority=l,i.callbackNode=f}}function L1(i,l){if(eu=-1,tu=0,(Fe&6)!==0)throw Error(r(327));var f=i.callbackNode;if(Hi()&&i.callbackNode!==f)return null;var g=uc(i,i===Mt?Bt:0);if(g===0)return null;if((g&30)!==0||(g&i.expiredLanes)!==0||l)l=ru(i,g);else{l=g;var x=Fe;Fe|=2;var _=z1();(Mt!==i||Bt!==l)&&(Cn=null,Wi=yt()+500,Wa(i,l));do try{aM();break}catch(H){B1(i,H)}while(!0);xm(),Yc.current=_,Fe=x,bt!==null?l=0:(Mt=null,Bt=0,l=kt)}if(l!==0){if(l===2&&(x=Rf(i),x!==0&&(g=x,l=rh(i,x))),l===1)throw f=$o,Wa(i,0),da(i,g),fr(i,yt()),f;if(l===6)da(i,g);else{if(x=i.current.alternate,(g&30)===0&&!rM(x)&&(l=ru(i,g),l===2&&(_=Rf(i),_!==0&&(g=_,l=rh(i,_))),l===1))throw f=$o,Wa(i,0),da(i,g),fr(i,yt()),f;switch(i.finishedWork=x,i.finishedLanes=g,l){case 0:case 1:throw Error(r(345));case 2:Ha(i,dr,Cn);break;case 3:if(da(i,g),(g&130023424)===g&&(l=Jm+500-yt(),10<l)){if(uc(i,0)!==0)break;if(x=i.suspendedLanes,(x&g)!==g){Jt(),i.pingedLanes|=i.suspendedLanes&x;break}i.timeoutHandle=lm(Ha.bind(null,i,dr,Cn),l);break}Ha(i,dr,Cn);break;case 4:if(da(i,g),(g&4194240)===g)break;for(l=i.eventTimes,x=-1;0<g;){var E=31-Kr(g);_=1<<E,E=l[E],E>x&&(x=E),g&=~_}if(g=x,g=yt()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*tM(g/1960))-g,10<g){i.timeoutHandle=lm(Ha.bind(null,i,dr,Cn),g);break}Ha(i,dr,Cn);break;case 5:Ha(i,dr,Cn);break;default:throw Error(r(329))}}}return fr(i,yt()),i.callbackNode===f?L1.bind(null,i):null}function rh(i,l){var f=Do;return i.current.memoizedState.isDehydrated&&(Wa(i,l).flags|=256),i=ru(i,l),i!==2&&(l=dr,dr=f,l!==null&&nh(l)),i}function nh(i){dr===null?dr=i:dr.push.apply(dr,i)}function rM(i){for(var l=i;;){if(l.flags&16384){var f=l.updateQueue;if(f!==null&&(f=f.stores,f!==null))for(var g=0;g<f.length;g++){var x=f[g],_=x.getSnapshot;x=x.value;try{if(!Yr(_(),x))return!1}catch{return!1}}}if(f=l.child,l.subtreeFlags&16384&&f!==null)f.return=l,l=f;else{if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function da(i,l){for(l&=~Zm,l&=~Xc,i.suspendedLanes|=l,i.pingedLanes&=~l,i=i.expirationTimes;0<l;){var f=31-Kr(l),g=1<<f;i[f]=-1,l&=~g}}function F1(i){if((Fe&6)!==0)throw Error(r(327));Hi();var l=uc(i,0);if((l&1)===0)return fr(i,yt()),null;var f=ru(i,l);if(i.tag!==0&&f===2){var g=Rf(i);g!==0&&(l=g,f=rh(i,g))}if(f===1)throw f=$o,Wa(i,0),da(i,l),fr(i,yt()),f;if(f===6)throw Error(r(345));return i.finishedWork=i.current.alternate,i.finishedLanes=l,Ha(i,dr,Cn),fr(i,yt()),null}function ah(i,l){var f=Fe;Fe|=1;try{return i(l)}finally{Fe=f,Fe===0&&(Wi=yt()+500,Pc&&aa())}}function Ua(i){ca!==null&&ca.tag===0&&(Fe&6)===0&&Hi();var l=Fe;Fe|=1;var f=Mr.transition,g=Ge;try{if(Mr.transition=null,Ge=1,i)return i()}finally{Ge=g,Mr.transition=f,Fe=l,(Fe&6)===0&&aa()}}function ih(){wr=Ui.current,tt(Ui)}function Wa(i,l){i.finishedWork=null,i.finishedLanes=0;var f=i.timeoutHandle;if(f!==-1&&(i.timeoutHandle=-1,CI(f)),bt!==null)for(f=bt.return;f!==null;){var g=f;switch(hm(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&Oc();break;case 3:Bi(),tt(lr),tt(Gt),Om();break;case 5:Nm(g);break;case 4:Bi();break;case 13:tt(ut);break;case 19:tt(ut);break;case 10:bm(g.type._context);break;case 22:case 23:ih()}f=f.return}if(Mt=i,bt=i=fa(i.current,null),Bt=wr=l,kt=0,$o=null,Zm=Xc=qa=0,dr=Do=null,Fa!==null){for(l=0;l<Fa.length;l++)if(f=Fa[l],g=f.interleaved,g!==null){f.interleaved=null;var x=g.next,_=f.pending;if(_!==null){var E=_.next;_.next=x,g.next=E}f.pending=g}Fa=null}return i}function B1(i,l){do{var f=bt;try{if(xm(),Fc.current=Uc,Bc){for(var g=dt.memoizedState;g!==null;){var x=g.queue;x!==null&&(x.pending=null),g=g.next}Bc=!1}if(za=0,It=Nt=dt=null,Eo=!1,To=0,Qm.current=null,f===null||f.return===null){kt=1,$o=l,bt=null;break}e:{var _=i,E=f.return,H=f,K=l;if(l=Bt,H.flags|=32768,K!==null&&typeof K=="object"&&typeof K.then=="function"){var ee=K,oe=H,ce=oe.tag;if((oe.mode&1)===0&&(ce===0||ce===11||ce===15)){var se=oe.alternate;se?(oe.updateQueue=se.updateQueue,oe.memoizedState=se.memoizedState,oe.lanes=se.lanes):(oe.updateQueue=null,oe.memoizedState=null)}var me=d1(E);if(me!==null){me.flags&=-257,f1(me,E,H,_,l),me.mode&1&&u1(_,ee,l),l=me,K=ee;var ye=l.updateQueue;if(ye===null){var be=new Set;be.add(K),l.updateQueue=be}else ye.add(K);break e}else{if((l&1)===0){u1(_,ee,l),sh();break e}K=Error(r(426))}}else if(st&&H.mode&1){var vt=d1(E);if(vt!==null){(vt.flags&65536)===0&&(vt.flags|=256),f1(vt,E,H,_,l),ym(zi(K,H));break e}}_=K=zi(K,H),kt!==4&&(kt=2),Do===null?Do=[_]:Do.push(_),_=E;do{switch(_.tag){case 3:_.flags|=65536,l&=-l,_.lanes|=l;var Z=l1(_,K,l);Rw(_,Z);break e;case 1:H=K;var X=_.type,J=_.stateNode;if((_.flags&128)===0&&(typeof X.getDerivedStateFromError=="function"||J!==null&&typeof J.componentDidCatch=="function"&&(la===null||!la.has(J)))){_.flags|=65536,l&=-l,_.lanes|=l;var de=c1(_,H,l);Rw(_,de);break e}}_=_.return}while(_!==null)}U1(f)}catch(je){l=je,bt===f&&f!==null&&(bt=f=f.return);continue}break}while(!0)}function z1(){var i=Yc.current;return Yc.current=Uc,i===null?Uc:i}function sh(){(kt===0||kt===3||kt===2)&&(kt=4),Mt===null||(qa&268435455)===0&&(Xc&268435455)===0||da(Mt,Bt)}function ru(i,l){var f=Fe;Fe|=2;var g=z1();(Mt!==i||Bt!==l)&&(Cn=null,Wa(i,l));do try{nM();break}catch(x){B1(i,x)}while(!0);if(xm(),Fe=f,Yc.current=g,bt!==null)throw Error(r(261));return Mt=null,Bt=0,kt}function nM(){for(;bt!==null;)q1(bt)}function aM(){for(;bt!==null&&!PC();)q1(bt)}function q1(i){var l=G1(i.alternate,i,wr);i.memoizedProps=i.pendingProps,l===null?U1(i):bt=l,Qm.current=null}function U1(i){var l=i;do{var f=l.alternate;if(i=l.return,(l.flags&32768)===0){if(f=XI(f,l,wr),f!==null){bt=f;return}}else{if(f=QI(f,l),f!==null){f.flags&=32767,bt=f;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{kt=6,bt=null;return}}if(l=l.sibling,l!==null){bt=l;return}bt=l=i}while(l!==null);kt===0&&(kt=5)}function Ha(i,l,f){var g=Ge,x=Mr.transition;try{Mr.transition=null,Ge=1,iM(i,l,f,g)}finally{Mr.transition=x,Ge=g}return null}function iM(i,l,f,g){do Hi();while(ca!==null);if((Fe&6)!==0)throw Error(r(327));f=i.finishedWork;var x=i.finishedLanes;if(f===null)return null;if(i.finishedWork=null,i.finishedLanes=0,f===i.current)throw Error(r(177));i.callbackNode=null,i.callbackPriority=0;var _=f.lanes|f.childLanes;if(FC(i,_),i===Mt&&(bt=Mt=null,Bt=0),(f.subtreeFlags&2064)===0&&(f.flags&2064)===0||Zc||(Zc=!0,V1(sc,function(){return Hi(),null})),_=(f.flags&15990)!==0,(f.subtreeFlags&15990)!==0||_){_=Mr.transition,Mr.transition=null;var E=Ge;Ge=1;var H=Fe;Fe|=4,Qm.current=null,JI(i,f),I1(f,i),NI(sm),mc=!!im,sm=im=null,i.current=f,eM(f),EC(),Fe=H,Ge=E,Mr.transition=_}else i.current=f;if(Zc&&(Zc=!1,ca=i,Jc=x),_=i.pendingLanes,_===0&&(la=null),IC(f.stateNode),fr(i,yt()),l!==null)for(g=i.onRecoverableError,f=0;f<l.length;f++)x=l[f],g(x.value,{componentStack:x.stack,digest:x.digest});if(Qc)throw Qc=!1,i=eh,eh=null,i;return(Jc&1)!==0&&i.tag!==0&&Hi(),_=i.pendingLanes,(_&1)!==0?i===th?Lo++:(Lo=0,th=i):Lo=0,aa(),null}function Hi(){if(ca!==null){var i=Tb(Jc),l=Mr.transition,f=Ge;try{if(Mr.transition=null,Ge=16>i?16:i,ca===null)var g=!1;else{if(i=ca,ca=null,Jc=0,(Fe&6)!==0)throw Error(r(331));var x=Fe;for(Fe|=4,pe=i.current;pe!==null;){var _=pe,E=_.child;if((pe.flags&16)!==0){var H=_.deletions;if(H!==null){for(var K=0;K<H.length;K++){var ee=H[K];for(pe=ee;pe!==null;){var oe=pe;switch(oe.tag){case 0:case 11:case 15:Ro(8,oe,_)}var ce=oe.child;if(ce!==null)ce.return=oe,pe=ce;else for(;pe!==null;){oe=pe;var se=oe.sibling,me=oe.return;if(A1(oe),oe===ee){pe=null;break}if(se!==null){se.return=me,pe=se;break}pe=me}}}var ye=_.alternate;if(ye!==null){var be=ye.child;if(be!==null){ye.child=null;do{var vt=be.sibling;be.sibling=null,be=vt}while(be!==null)}}pe=_}}if((_.subtreeFlags&2064)!==0&&E!==null)E.return=_,pe=E;else e:for(;pe!==null;){if(_=pe,(_.flags&2048)!==0)switch(_.tag){case 0:case 11:case 15:Ro(9,_,_.return)}var Z=_.sibling;if(Z!==null){Z.return=_.return,pe=Z;break e}pe=_.return}}var X=i.current;for(pe=X;pe!==null;){E=pe;var J=E.child;if((E.subtreeFlags&2064)!==0&&J!==null)J.return=E,pe=J;else e:for(E=X;pe!==null;){if(H=pe,(H.flags&2048)!==0)try{switch(H.tag){case 0:case 11:case 15:Kc(9,H)}}catch(je){mt(H,H.return,je)}if(H===E){pe=null;break e}var de=H.sibling;if(de!==null){de.return=H.return,pe=de;break e}pe=H.return}}if(Fe=x,aa(),un&&typeof un.onPostCommitFiberRoot=="function")try{un.onPostCommitFiberRoot(oc,i)}catch{}g=!0}return g}finally{Ge=f,Mr.transition=l}}return!1}function W1(i,l,f){l=zi(f,l),l=l1(i,l,1),i=sa(i,l,1),l=Jt(),i!==null&&(oo(i,1,l),fr(i,l))}function mt(i,l,f){if(i.tag===3)W1(i,i,f);else for(;l!==null;){if(l.tag===3){W1(l,i,f);break}else if(l.tag===1){var g=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(la===null||!la.has(g))){i=zi(f,i),i=c1(l,i,1),l=sa(l,i,1),i=Jt(),l!==null&&(oo(l,1,i),fr(l,i));break}}l=l.return}}function sM(i,l,f){var g=i.pingCache;g!==null&&g.delete(l),l=Jt(),i.pingedLanes|=i.suspendedLanes&f,Mt===i&&(Bt&f)===f&&(kt===4||kt===3&&(Bt&130023424)===Bt&&500>yt()-Jm?Wa(i,0):Zm|=f),fr(i,l)}function H1(i,l){l===0&&((i.mode&1)===0?l=1:(l=cc,cc<<=1,(cc&130023424)===0&&(cc=4194304)));var f=Jt();i=Pn(i,l),i!==null&&(oo(i,l,f),fr(i,f))}function oM(i){var l=i.memoizedState,f=0;l!==null&&(f=l.retryLane),H1(i,f)}function lM(i,l){var f=0;switch(i.tag){case 13:var g=i.stateNode,x=i.memoizedState;x!==null&&(f=x.retryLane);break;case 19:g=i.stateNode;break;default:throw Error(r(314))}g!==null&&g.delete(l),H1(i,f)}var G1;G1=function(i,l,f){if(i!==null)if(i.memoizedProps!==l.pendingProps||lr.current)ur=!0;else{if((i.lanes&f)===0&&(l.flags&128)===0)return ur=!1,YI(i,l,f);ur=(i.flags&131072)!==0}else ur=!1,st&&(l.flags&1048576)!==0&&Nw(l,Tc,l.index);switch(l.lanes=0,l.tag){case 2:var g=l.type;Gc(i,l),i=l.pendingProps;var x=Ii(l,Gt.current);Fi(l,f),x=Em(null,l,g,i,x,f);var _=Tm();return l.flags|=1,typeof x=="object"&&x!==null&&typeof x.render=="function"&&x.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,cr(g)?(_=!0,Ac(l)):_=!1,l.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,Sm(l),x.updater=Wc,l.stateNode=x,x._reactInternals=l,Dm(l,g,i,f),l=zm(null,l,g,!0,_,f)):(l.tag=0,st&&_&&mm(l),Zt(null,l,x,f),l=l.child),l;case 16:g=l.elementType;e:{switch(Gc(i,l),i=l.pendingProps,x=g._init,g=x(g._payload),l.type=g,x=l.tag=uM(g),i=Qr(g,i),x){case 0:l=Bm(null,l,g,i,f);break e;case 1:l=v1(null,l,g,i,f);break e;case 11:l=m1(null,l,g,i,f);break e;case 14:l=h1(null,l,g,Qr(g.type,i),f);break e}throw Error(r(306,g,""))}return l;case 0:return g=l.type,x=l.pendingProps,x=l.elementType===g?x:Qr(g,x),Bm(i,l,g,x,f);case 1:return g=l.type,x=l.pendingProps,x=l.elementType===g?x:Qr(g,x),v1(i,l,g,x,f);case 3:e:{if(x1(l),i===null)throw Error(r(387));g=l.pendingProps,_=l.memoizedState,x=_.element,Mw(i,l),Dc(l,g,null,f);var E=l.memoizedState;if(g=E.element,_.isDehydrated)if(_={element:g,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},l.updateQueue.baseState=_,l.memoizedState=_,l.flags&256){x=zi(Error(r(423)),l),l=b1(i,l,g,f,x);break e}else if(g!==x){x=zi(Error(r(424)),l),l=b1(i,l,g,f,x);break e}else for(br=ta(l.stateNode.containerInfo.firstChild),xr=l,st=!0,Xr=null,f=Cw(l,null,g,f),l.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if($i(),g===x){l=Tn(i,l,f);break e}Zt(i,l,g,f)}l=l.child}return l;case 5:return Dw(l),i===null&&gm(l),g=l.type,x=l.pendingProps,_=i!==null?i.memoizedProps:null,E=x.children,om(g,x)?E=null:_!==null&&om(g,_)&&(l.flags|=32),y1(i,l),Zt(i,l,E,f),l.child;case 6:return i===null&&gm(l),null;case 13:return w1(i,l,f);case 4:return _m(l,l.stateNode.containerInfo),g=l.pendingProps,i===null?l.child=Di(l,null,g,f):Zt(i,l,g,f),l.child;case 11:return g=l.type,x=l.pendingProps,x=l.elementType===g?x:Qr(g,x),m1(i,l,g,x,f);case 7:return Zt(i,l,l.pendingProps,f),l.child;case 8:return Zt(i,l,l.pendingProps.children,f),l.child;case 12:return Zt(i,l,l.pendingProps.children,f),l.child;case 10:e:{if(g=l.type._context,x=l.pendingProps,_=l.memoizedProps,E=x.value,Ye(Mc,g._currentValue),g._currentValue=E,_!==null)if(Yr(_.value,E)){if(_.children===x.children&&!lr.current){l=Tn(i,l,f);break e}}else for(_=l.child,_!==null&&(_.return=l);_!==null;){var H=_.dependencies;if(H!==null){E=_.child;for(var K=H.firstContext;K!==null;){if(K.context===g){if(_.tag===1){K=En(-1,f&-f),K.tag=2;var ee=_.updateQueue;if(ee!==null){ee=ee.shared;var oe=ee.pending;oe===null?K.next=K:(K.next=oe.next,oe.next=K),ee.pending=K}}_.lanes|=f,K=_.alternate,K!==null&&(K.lanes|=f),wm(_.return,f,l),H.lanes|=f;break}K=K.next}}else if(_.tag===10)E=_.type===l.type?null:_.child;else if(_.tag===18){if(E=_.return,E===null)throw Error(r(341));E.lanes|=f,H=E.alternate,H!==null&&(H.lanes|=f),wm(E,f,l),E=_.sibling}else E=_.child;if(E!==null)E.return=_;else for(E=_;E!==null;){if(E===l){E=null;break}if(_=E.sibling,_!==null){_.return=E.return,E=_;break}E=E.return}_=E}Zt(i,l,x.children,f),l=l.child}return l;case 9:return x=l.type,g=l.pendingProps.children,Fi(l,f),x=Cr(x),g=g(x),l.flags|=1,Zt(i,l,g,f),l.child;case 14:return g=l.type,x=Qr(g,l.pendingProps),x=Qr(g.type,x),h1(i,l,g,x,f);case 15:return p1(i,l,l.type,l.pendingProps,f);case 17:return g=l.type,x=l.pendingProps,x=l.elementType===g?x:Qr(g,x),Gc(i,l),l.tag=1,cr(g)?(i=!0,Ac(l)):i=!1,Fi(l,f),s1(l,g,x),Dm(l,g,x,f),zm(null,l,g,!0,i,f);case 19:return S1(i,l,f);case 22:return g1(i,l,f)}throw Error(r(156,l.tag))};function V1(i,l){return kb(i,l)}function cM(i,l,f,g){this.tag=i,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rr(i,l,f,g){return new cM(i,l,f,g)}function oh(i){return i=i.prototype,!(!i||!i.isReactComponent)}function uM(i){if(typeof i=="function")return oh(i)?1:0;if(i!=null){if(i=i.$$typeof,i===q)return 11;if(i===L)return 14}return 2}function fa(i,l){var f=i.alternate;return f===null?(f=Rr(i.tag,l,i.key,i.mode),f.elementType=i.elementType,f.type=i.type,f.stateNode=i.stateNode,f.alternate=i,i.alternate=f):(f.pendingProps=l,f.type=i.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=i.flags&14680064,f.childLanes=i.childLanes,f.lanes=i.lanes,f.child=i.child,f.memoizedProps=i.memoizedProps,f.memoizedState=i.memoizedState,f.updateQueue=i.updateQueue,l=i.dependencies,f.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},f.sibling=i.sibling,f.index=i.index,f.ref=i.ref,f}function nu(i,l,f,g,x,_){var E=2;if(g=i,typeof i=="function")oh(i)&&(E=1);else if(typeof i=="string")E=5;else e:switch(i){case T:return Ga(f.children,x,_,l);case $:E=8,x|=8;break;case I:return i=Rr(12,f,l,x|2),i.elementType=I,i.lanes=_,i;case F:return i=Rr(13,f,l,x),i.elementType=F,i.lanes=_,i;case V:return i=Rr(19,f,l,x),i.elementType=V,i.lanes=_,i;case G:return au(f,x,_,l);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case B:E=10;break e;case M:E=9;break e;case q:E=11;break e;case L:E=14;break e;case R:E=16,g=null;break e}throw Error(r(130,i==null?i:typeof i,""))}return l=Rr(E,f,l,x),l.elementType=i,l.type=g,l.lanes=_,l}function Ga(i,l,f,g){return i=Rr(7,i,g,l),i.lanes=f,i}function au(i,l,f,g){return i=Rr(22,i,g,l),i.elementType=G,i.lanes=f,i.stateNode={isHidden:!1},i}function lh(i,l,f){return i=Rr(6,i,null,l),i.lanes=f,i}function ch(i,l,f){return l=Rr(4,i.children!==null?i.children:[],i.key,l),l.lanes=f,l.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},l}function dM(i,l,f,g,x){this.tag=l,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$f(0),this.expirationTimes=$f(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$f(0),this.identifierPrefix=g,this.onRecoverableError=x,this.mutableSourceEagerHydrationData=null}function uh(i,l,f,g,x,_,E,H,K){return i=new dM(i,l,f,H,K),l===1?(l=1,_===!0&&(l|=8)):l=0,_=Rr(3,null,null,l),i.current=_,_.stateNode=i,_.memoizedState={element:g,isDehydrated:f,cache:null,transitions:null,pendingSuspenseBoundaries:null},Sm(_),i}function fM(i,l,f){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:A,key:g==null?null:""+g,children:i,containerInfo:l,implementation:f}}function K1(i){if(!i)return na;i=i._reactInternals;e:{if(Ma(i)!==i||i.tag!==1)throw Error(r(170));var l=i;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(cr(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(r(171))}if(i.tag===1){var f=i.type;if(cr(f))return jw(i,f,l)}return l}function Y1(i,l,f,g,x,_,E,H,K){return i=uh(f,g,!0,i,x,_,E,H,K),i.context=K1(null),f=i.current,g=Jt(),x=ua(f),_=En(g,x),_.callback=l??null,sa(f,_,x),i.current.lanes=x,oo(i,x,g),fr(i,g),i}function iu(i,l,f,g){var x=l.current,_=Jt(),E=ua(x);return f=K1(f),l.context===null?l.context=f:l.pendingContext=f,l=En(_,E),l.payload={element:i},g=g===void 0?null:g,g!==null&&(l.callback=g),i=sa(x,l,E),i!==null&&(en(i,x,E,_),$c(i,x,E)),E}function su(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function X1(i,l){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var f=i.retryLane;i.retryLane=f!==0&&f<l?f:l}}function dh(i,l){X1(i,l),(i=i.alternate)&&X1(i,l)}function mM(){return null}var Q1=typeof reportError=="function"?reportError:function(i){console.error(i)};function fh(i){this._internalRoot=i}ou.prototype.render=fh.prototype.render=function(i){var l=this._internalRoot;if(l===null)throw Error(r(409));iu(i,l,null,null)},ou.prototype.unmount=fh.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var l=i.containerInfo;Ua(function(){iu(null,i,null,null)}),l[Nn]=null}};function ou(i){this._internalRoot=i}ou.prototype.unstable_scheduleHydration=function(i){if(i){var l=Mb();i={blockedOn:null,target:i,priority:l};for(var f=0;f<Zn.length&&l!==0&&l<Zn[f].priority;f++);Zn.splice(f,0,i),f===0&&Db(i)}};function mh(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function lu(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function Z1(){}function hM(i,l,f,g,x){if(x){if(typeof g=="function"){var _=g;g=function(){var ee=su(E);_.call(ee)}}var E=Y1(l,g,i,0,null,!1,!1,"",Z1);return i._reactRootContainer=E,i[Nn]=E.current,jo(i.nodeType===8?i.parentNode:i),Ua(),E}for(;x=i.lastChild;)i.removeChild(x);if(typeof g=="function"){var H=g;g=function(){var ee=su(K);H.call(ee)}}var K=uh(i,0,!1,null,null,!1,!1,"",Z1);return i._reactRootContainer=K,i[Nn]=K.current,jo(i.nodeType===8?i.parentNode:i),Ua(function(){iu(l,K,f,g)}),K}function cu(i,l,f,g,x){var _=f._reactRootContainer;if(_){var E=_;if(typeof x=="function"){var H=x;x=function(){var K=su(E);H.call(K)}}iu(l,E,i,x)}else E=hM(f,l,i,x,g);return su(E)}Cb=function(i){switch(i.tag){case 3:var l=i.stateNode;if(l.current.memoizedState.isDehydrated){var f=so(l.pendingLanes);f!==0&&(Df(l,f|1),fr(l,yt()),(Fe&6)===0&&(Wi=yt()+500,aa()))}break;case 13:Ua(function(){var g=Pn(i,1);if(g!==null){var x=Jt();en(g,i,1,x)}}),dh(i,1)}},Lf=function(i){if(i.tag===13){var l=Pn(i,134217728);if(l!==null){var f=Jt();en(l,i,134217728,f)}dh(i,134217728)}},Ib=function(i){if(i.tag===13){var l=ua(i),f=Pn(i,l);if(f!==null){var g=Jt();en(f,i,l,g)}dh(i,l)}},Mb=function(){return Ge},Rb=function(i,l){var f=Ge;try{return Ge=i,l()}finally{Ge=f}},Ef=function(i,l,f){switch(l){case"input":if(xt(i,f),l=f.name,f.type==="radio"&&l!=null){for(f=i;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<f.length;l++){var g=f[l];if(g!==i&&g.form===i.form){var x=kc(g);if(!x)throw Error(r(90));ne(g),xt(g,x)}}}break;case"textarea":Js(i,f);break;case"select":l=f.value,l!=null&&Ht(i,!!f.multiple,l,!1)}},xb=ah,bb=Ua;var pM={usingClientEntryPoint:!1,Events:[No,Ti,kc,yb,vb,ah]},Fo={findFiberByHostInstance:Ra,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},gM={bundleType:Fo.bundleType,version:Fo.version,rendererPackageName:Fo.rendererPackageName,rendererConfig:Fo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:P.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=_b(i),i===null?null:i.stateNode},findFiberByHostInstance:Fo.findFiberByHostInstance||mM,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var uu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uu.isDisabled&&uu.supportsFiber)try{oc=uu.inject(gM),un=uu}catch{}}return mr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pM,mr.createPortal=function(i,l){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!mh(l))throw Error(r(200));return fM(i,l,null,f)},mr.createRoot=function(i,l){if(!mh(i))throw Error(r(299));var f=!1,g="",x=Q1;return l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onRecoverableError!==void 0&&(x=l.onRecoverableError)),l=uh(i,1,!1,null,null,f,!1,g,x),i[Nn]=l.current,jo(i.nodeType===8?i.parentNode:i),new fh(l)},mr.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var l=i._reactInternals;if(l===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=_b(l),i=i===null?null:i.stateNode,i},mr.flushSync=function(i){return Ua(i)},mr.hydrate=function(i,l,f){if(!lu(l))throw Error(r(200));return cu(null,i,l,!0,f)},mr.hydrateRoot=function(i,l,f){if(!mh(i))throw Error(r(405));var g=f!=null&&f.hydratedSources||null,x=!1,_="",E=Q1;if(f!=null&&(f.unstable_strictMode===!0&&(x=!0),f.identifierPrefix!==void 0&&(_=f.identifierPrefix),f.onRecoverableError!==void 0&&(E=f.onRecoverableError)),l=Y1(l,null,i,1,f??null,x,!1,_,E),i[Nn]=l.current,jo(i),g)for(i=0;i<g.length;i++)f=g[i],x=f._getVersion,x=x(f._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[f,x]:l.mutableSourceEagerHydrationData.push(f,x);return new ou(l)},mr.render=function(i,l,f){if(!lu(l))throw Error(r(200));return cu(null,i,l,!1,f)},mr.unmountComponentAtNode=function(i){if(!lu(i))throw Error(r(40));return i._reactRootContainer?(Ua(function(){cu(null,null,i,!1,function(){i._reactRootContainer=null,i[Nn]=null})}),!0):!1},mr.unstable_batchedUpdates=ah,mr.unstable_renderSubtreeIntoContainer=function(i,l,f,g){if(!lu(f))throw Error(r(200));if(i==null||i._reactInternals===void 0)throw Error(r(38));return cu(i,l,f,!1,g)},mr.version="18.3.1-next-f1338f8080-20240426",mr}var sj;function _M(){if(sj)return gh.exports;sj=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),gh.exports=SM(),gh.exports}var oj;function NM(){if(oj)return fu;oj=1;var t=_M();return fu.createRoot=t.createRoot,fu.hydrateRoot=t.hydrateRoot,fu}var kM=NM();const OM=He(kM),AM={VITE_DEBUG_LOGS:"false",VITE_ENABLE_EDGE_FETCH:"true",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFueW1iZWNqZ2Vhb3hzZnBocnRpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTYwMTczNjEsImV4cCI6MjA3MTU5MzM2MX0.6wAWe5GdKzTOjVa0eUVhDJ4IwczseO9A83uwXlDg0DU",VITE_SUPABASE_EDGE_BASE:"https://qnymbecjgeaoxsfphrti.functions.supabase.co",VITE_SUPABASE_URL:"https://qnymbecjgeaoxsfphrti.supabase.co",VITE_USE_STREAMING_DATASETS:"true"},ja=AM||{},tx=String(ja.VITE_DEBUG_LOGS||"").toLowerCase()==="true";let lj=!1;function rx(){const t=ja.VITE_SUPABASE_URL,e=ja.VITE_SUPABASE_ANON_KEY;return tx&&console.log("getSupabaseConfig - VITE_SUPABASE_URL:",t,"VITE_SUPABASE_ANON_KEY loaded:",!!e),(!t||!e)&&(lj||(console.warn("Supabase config missing: ensure VITE_SUPABASE_URL and VITE_SUPABASE_ANON_KEY are set."),lj=!0)),{url:t||"",anonKey:e||""}}function qs(){const{url:t}=rx(),e=ja.VITE_SUPABASE_EDGE_BASE||"";return tx&&console.log("getEdgeBaseUrl - override:",e,"url:",t,"final base:",e||`${t}/functions/v1`),e||(t?/\.functions\.supabase\.co\b/.test(t)?t:`${t}/functions/v1`:"")}function Us(){const{anonKey:t}=rx(),e={"Content-Type":"application/json"};return t&&(e.Authorization=`Bearer ${t}`,e.apikey=t),tx&&console.log("getEdgeHeaders - anonKey:",!!t,"Authorization header sent:","Authorization"in e),e}function Ur(){const t=ja.VITE_ENABLE_EDGE_FETCH;if(typeof t=="boolean")return t;if(typeof t=="string")return t.toLowerCase()==="true";if(typeof window<"u"){const e=window.location?.hostname||"";if(e==="localhost"||e==="127.0.0.1")return!1}return!!(ja.VITE_SUPABASE_URL&&ja.VITE_SUPABASE_ANON_KEY)}function PM(){const t=ja.VITE_USE_STREAMING_DATASETS;return typeof t=="boolean"?t:typeof t=="string"?t.toLowerCase()==="true":!1}function AA(){const{url:t,anonKey:e}=rx();return!!(t&&e)}function cj(){return PM()&&AA()}function nx(t){return!!t&&(t.name==="AbortError"||typeof t.message=="string"&&/aborted/i.test(t.message))}function us(){try{return new DOMException("Aborted","AbortError")}catch{const e=new Error("Aborted");return e.name="AbortError",e}}async function Pt(t,e={}){if(!Ur())throw new Error("Supabase Edge fetch disabled via configuration (VITE_ENABLE_EDGE_FETCH=false)");const r=qs(),n=Us();if(!r)throw new Error("Supabase Edge base URL is not configured. Set VITE_SUPABASE_URL and VITE_SUPABASE_ANON_KEY, and enable VITE_USE_STREAMING_DATASETS if desired.");let a=null;const o=e.timeoutMs||15e3,c=new AbortController,u=setTimeout(()=>c.abort(),o),d=e.signal||c.signal;if(d?.aborted)throw clearTimeout(u),us();try{for(const m of t){if(d?.aborted)throw us();const p=`${r}/${m}`;try{const h=await fetch(p,{headers:n,signal:d});if(!h.ok){a=new Error(`Request failed: ${h.status} ${h.statusText}`);continue}const y=await h.json();return clearTimeout(u),{json:y,response:h}}catch(h){if(nx(h))throw h;a=h}}throw a||new Error("All edge endpoint candidates failed")}finally{clearTimeout(u)}}async function Rd(t,e,r={}){if(!Ur())throw new Error("Supabase Edge fetch disabled via configuration (VITE_ENABLE_EDGE_FETCH=false)");const n=qs(),a=Us();if(!n)throw new Error("Supabase Edge base URL is not configured. Set VITE_SUPABASE_URL and VITE_SUPABASE_ANON_KEY, and enable VITE_USE_STREAMING_DATASETS if desired.");let o=null;if(r.signal?.aborted)throw us();for(const c of t){if(r.signal?.aborted)throw us();const u=`${n}/${c}`;try{const d=await fetch(u,{method:"POST",headers:a,body:JSON.stringify(e??{}),signal:r.signal});if(!d.ok){o=new Error(`Request failed: ${d.status} ${d.statusText}`);continue}return{json:await d.json(),response:d}}catch(d){if(nx(d))throw d;o=d}}throw o||new Error("All edge endpoint candidates failed")}async function mi(t,e,r={}){if(!Ur())throw new Error("Supabase Edge fetch disabled via configuration (VITE_ENABLE_EDGE_FETCH=false)");const n=qs(),a=Us();if(!n)throw new Error("Supabase Edge base URL is not configured. Set VITE_SUPABASE_URL and VITE_SUPABASE_ANON_KEY, and enable VITE_USE_STREAMING_DATASETS if desired.");let o=null;if(r.signal?.aborted)throw us();for(const c of t){if(r.signal?.aborted)throw us();const u=new URL(`${n}/${c}`);Object.entries(e).forEach(([d,m])=>u.searchParams.set(d,m));try{const d=await fetch(u.toString(),{headers:a,signal:r.signal});if(!d.ok){o=new Error(`Request failed: ${d.status} ${d.statusText}`);continue}return d}catch(d){if(nx(d))throw d;o=d}}throw o||new Error("All edge endpoint candidates failed")}class hi{baseUrl;headers;constructor(){this.baseUrl=qs(),this.headers=Us()}async fetchWithErrorHandling(e,r){const n=await fetch(e,{headers:this.headers,signal:r});if(!n.ok)throw new Error(`Request failed: ${n.status} ${n.statusText}`);return n}}const EM=()=>`${"/".replace(/\/+$/,"/")}data/`;async function $d(t){const e=`${EM()}${t}`,r=await fetch(e);if(!r.ok)throw new Error(`Failed to load fallback data from ${e}: ${r.status} ${r.statusText}`);return await r.json()}class TM extends hi{async getManifest(){const{json:e}=await Pt(["manifest-provincial-generation","manifest/kaggle/provincial_generation"]);return e}async*streamData(e={}){const{limit:r=1e3,maxRows:n=1/0,onProgress:a,onError:o,signal:c}=e;let u=null,d=0,m=0;try{for(;d<n;){if(c?.aborted){const j=new Error("Aborted");throw j.name="AbortError",j}const p={limit:Math.min(r,n-d).toString()};u&&(p.cursor=u);const h=await mi(["stream-provincial-generation","stream/kaggle/provincial_generation"],p,{signal:c}),y=await h.json(),v=h.headers.get("x-next-cursor");if(!m&&y.metadata?.totalEstimate&&(m=Math.min(y.metadata.totalEstimate,n)),d+=y.rows?.length||0,a?.({loaded:d,total:m||n,percentage:m?d/m*100:0}),yield y.rows||[],!y.metadata?.hasMore||!v||!y.rows?.length)break;u=v}}catch(p){throw o?.(p),p}}async loadFallbackData(){const e=await $d("provincial_generation_sample.json"),r=new Date;return e.map((n,a)=>({...n,id:n.id??`provincial_generation_fallback_${a}`,source:"fallback",version:"1.0-fallback",ingested_at:r}))}}class CM extends hi{async getManifest(){const{json:e}=await Pt(["manifest-ontario-demand","manifest/kaggle/ontario_demand"]);return e}async*streamData(e={}){const{limit:r=1e3,maxRows:n=1/0,onProgress:a,onError:o,signal:c}=e;let u=null,d=0,m=0;try{for(;d<n;){if(c?.aborted){const j=new Error("Aborted");throw j.name="AbortError",j}const p={limit:Math.min(r,n-d).toString()};u&&(p.cursor=u);const h=await mi(["stream-ontario-demand","stream/kaggle/ontario_demand"],p,{signal:c}),y=await h.json(),v=h.headers.get("x-next-cursor");if(!m&&y.metadata?.totalEstimate&&(m=Math.min(y.metadata.totalEstimate,n)),d+=y.rows?.length||0,a?.({loaded:d,total:m||n,percentage:m?d/m*100:0}),yield y.rows||[],!y.metadata?.hasMore||!v||!y.rows?.length)break;u=v}}catch(p){throw o?.(p),p}}async loadFallbackData(){return(await $d("ontario_demand_sample.json")).map((r,n)=>({...r,id:r.id??n,source:"fallback",version:"1.0-fallback",ingested_at:new Date(r.datetime)}))}}class IM extends hi{async getManifest(){const{json:e}=await Pt(["manifest-ontario-prices","manifest/kaggle/ontario_prices"]);return e}async*streamData(e={}){const{limit:r=1e3,maxRows:n=1/0,onProgress:a,onError:o,signal:c}=e;let u=null,d=0,m=0;try{for(;d<n;){if(c?.aborted){const j=new Error("Aborted");throw j.name="AbortError",j}const p={limit:Math.min(r,n-d).toString()};u&&(p.cursor=u);const h=await mi(["stream-ontario-prices","stream/kaggle/ontario_prices"],p,{signal:c}),y=await h.json(),v=h.headers.get("x-next-cursor");if(!m&&y.metadata?.totalEstimate&&(m=Math.min(y.metadata.totalEstimate,n)),d+=y.rows?.length||0,a?.({loaded:d,total:m||n,percentage:m?d/m*100:0}),yield y.rows||[],!y.metadata?.hasMore||!v||!y.rows?.length)break;u=v}}catch(p){throw o?.(p),p}}async loadFallbackData(){return(await $d("ontario_prices_sample.json")).map((r,n)=>({...r,id:r.id??n,source:"fallback",version:"1.0-fallback",ingested_at:new Date(r.datetime)}))}}class MM extends hi{async getManifest(){const{json:e}=await Pt(["manifest-hf-electricity-demand","manifest/hf/electricity_demand","manifest/huggingface/electricity_demand"]);return e}async*streamData(e={}){const{limit:r=1e3,maxRows:n=1/0,onProgress:a,onError:o,signal:c}=e;let u=null,d=0,m=0;try{for(;d<n;){if(c?.aborted){const j=new Error("Aborted");throw j.name="AbortError",j}const p={limit:Math.min(r,n-d).toString()};u&&(p.cursor=u);const h=await mi(["stream-hf-electricity-demand","stream/hf/electricity_demand","stream/huggingface/electricity_demand"],p,{signal:c}),y=await h.json(),v=h.headers.get("x-next-cursor");if(!m&&y.metadata?.totalEstimate&&(m=Math.min(y.metadata.totalEstimate,n)),d+=y.rows?.length||0,a?.({loaded:d,total:m||n,percentage:m?d/m*100:0}),yield y.rows||[],!y.metadata?.hasMore||!v||!y.rows?.length)break;u=v}}catch(p){throw o?.(p),p}}async loadFallbackData(){return(await $d("hf_electricity_demand_sample.json")).map(r=>({...r,source:"fallback",version:"1.0-fallback"}))}}class RM extends hi{async getManifest(){const{json:e}=await Pt(["manifest-emissions","manifest/kaggle/emissions"]);return e}async*streamData(e={}){const{limit:r=1e3,maxRows:n=1/0,onProgress:a,onError:o,signal:c}=e;let u=null,d=0,m=0;try{for(;d<n;){if(c?.aborted){const j=new Error("Aborted");throw j.name="AbortError",j}const p={limit:Math.min(r,n-d).toString()};u&&(p.cursor=u);const h=await mi(["stream-emissions","stream/kaggle/emissions"],p,{signal:c}),y=await h.json(),v=h.headers.get("x-next-cursor");if(!m&&y.metadata?.totalEstimate&&(m=Math.min(y.metadata.totalEstimate,n)),d+=y.rows?.length||0,a?.({loaded:d,total:m||n,percentage:m?d/m*100:0}),yield y.rows||[],!y.metadata?.hasMore||!v||!y.rows?.length)break;u=v}}catch(p){throw o?.(p),p}}async loadFallbackData(){throw new Error("Fallback disabled: emissions requires real streaming backend")}}class $M extends hi{async getManifest(){const{json:e}=await Pt(["manifest-market","manifest/kaggle/market"]);return e}async*streamData(e={}){const{limit:r=1e3,maxRows:n=1/0,onProgress:a,onError:o,signal:c}=e;let u=null,d=0,m=0;try{for(;d<n;){if(c?.aborted){const j=new Error("Aborted");throw j.name="AbortError",j}const p={limit:Math.min(r,n-d).toString()};u&&(p.cursor=u);const h=await mi(["stream-market","stream/kaggle/market"],p,{signal:c}),y=await h.json(),v=h.headers.get("x-next-cursor");if(!m&&y.metadata?.totalEstimate&&(m=Math.min(y.metadata.totalEstimate,n)),d+=y.rows?.length||0,a?.({loaded:d,total:m||n,percentage:m?d/m*100:0}),yield y.rows||[],!y.metadata?.hasMore||!v||!y.rows?.length)break;u=v}}catch(p){throw o?.(p),p}}async loadFallbackData(){throw new Error("Fallback disabled: market requires real streaming backend")}}class DM extends hi{async getManifest(){const{json:e}=await Pt(["manifest-community","manifest/kaggle/community"]);return e}async*streamData(e={}){const{limit:r=1e3,maxRows:n=1/0,onProgress:a,onError:o,signal:c}=e;let u=null,d=0,m=0;try{for(;d<n;){if(c?.aborted){const j=new Error("Aborted");throw j.name="AbortError",j}const p={limit:Math.min(r,n-d).toString()};u&&(p.cursor=u);const h=await mi(["stream-community","stream/kaggle/community"],p,{signal:c}),y=await h.json(),v=h.headers.get("x-next-cursor");if(!m&&y.metadata?.totalEstimate&&(m=Math.min(y.metadata.totalEstimate,n)),d+=y.rows?.length||0,a?.({loaded:d,total:m||n,percentage:m?d/m*100:0}),yield y.rows||[],!y.metadata?.hasMore||!v||!y.rows?.length)break;u=v}}catch(p){throw o?.(p),p}}async loadFallbackData(){throw new Error("Fallback disabled: community requires real streaming backend")}}const LM=new TM,FM=new CM,BM=new IM,zM=new MM;new RM;new $M;new DM;class qM{store=new Map;async getItem(e){return this.store.get(e)}async setItem(e,r){this.store.set(e,r)}async deleteItem(e){this.store.delete(e)}async clear(){this.store.clear()}async keys(){return Array.from(this.store.keys())}}const UM="energy-cache",Cu="datasets",WM=1;function HM(){try{return typeof indexedDB<"u"}catch{return!1}}function GM(){return new Promise((t,e)=>{const r=indexedDB.open(UM,WM);r.onupgradeneeded=()=>{const n=r.result;n.objectStoreNames.contains(Cu)||n.createObjectStore(Cu)},r.onsuccess=()=>t(r.result),r.onerror=()=>e(r.error)})}async function zo(t,e){const r=await GM();return new Promise((n,a)=>{const o=r.transaction(Cu,t),c=o.objectStore(Cu);o.oncomplete=()=>n(u),o.onerror=()=>a(o.error);let u;(async()=>{try{u=await e(c)}catch(d){a(d)}})()})}class VM{async getItem(e){return zo("readonly",r=>new Promise((n,a)=>{const o=r.get(e);o.onsuccess=()=>n(o.result),o.onerror=()=>a(o.error)}))}async setItem(e,r){return zo("readwrite",n=>new Promise((a,o)=>{const c=n.put(r,e);c.onsuccess=()=>a(),c.onerror=()=>o(c.error)}))}async deleteItem(e){return zo("readwrite",r=>new Promise((n,a)=>{const o=r.delete(e);o.onsuccess=()=>n(),o.onerror=()=>a(o.error)}))}async clear(){return zo("readwrite",e=>new Promise((r,n)=>{const a=e.clear();a.onsuccess=()=>r(),a.onerror=()=>n(a.error)}))}async keys(){return zo("readonly",e=>new Promise((r,n)=>{const a=e.getAllKeys();a.onsuccess=()=>r(a.result.map(String)),a.onerror=()=>n(a.error)}))}}const uj=HM()?new VM:new qM,ya=[{key:"provincial_generation",name:"Provincial Generation",description:"Canadian provincial electricity generation by source",color:"#0ea5e9",icon:"Zap",estimatedRows:5e4,source:"kaggle"},{key:"ontario_demand",name:"Ontario Demand",description:"Ontario hourly electricity demand data",color:"#10b981",icon:"TrendingUp",estimatedRows:175e3,source:"kaggle"},{key:"ontario_prices",name:"Ontario Prices",description:"Ontario LMP pricing data with 5-min intervals",color:"#f59e0b",icon:"DollarSign",estimatedRows:25e5,source:"kaggle"},{key:"hf_electricity_demand",name:"HF Electricity Demand",description:"European smart meter data with weather",color:"#ef4444",icon:"Home",estimatedRows:876e4,source:"huggingface"}];class KM{connectionStatuses=new Map;dataCache=new Map;statusListeners=new Map;constructor(){ya.forEach(e=>{this.connectionStatuses.set(e.key,{dataset:e.name,status:"connecting",lastUpdate:null,recordCount:0,source:"stream"}),this.statusListeners.set(e.key,new Set)})}updateStatus(e,r){const a={...this.connectionStatuses.get(e),...r};this.connectionStatuses.set(e,a),this.statusListeners.get(e)?.forEach(c=>c(a))}subscribeToStatus(e,r){const n=this.statusListeners.get(e);n.add(r);const a=this.connectionStatuses.get(e);return r(a),()=>{n.delete(r)}}getConnectionStatus(e){return this.connectionStatuses.get(e)}getAllConnectionStatuses(){return Array.from(this.connectionStatuses.values())}async initializeConnection(e){try{return this.updateStatus(e,{status:"connecting",error:void 0}),cj()&&Ur()?(await this.getStreamer(e).getManifest(),this.updateStatus(e,{status:"connected",source:"stream",lastUpdate:new Date}),!0):(this.updateStatus(e,{status:"fallback",source:"fallback",lastUpdate:new Date,recordCount:this.dataCache.get(e)?.length??0,error:void 0}),!0)}catch(r){return console.error(`Failed to initialize connection for ${e}:`,r),this.updateStatus(e,{status:"error",error:r instanceof Error?r.message:"Connection failed"}),!1}}async loadData(e,r={}){const{forceStream:n=!1,maxRows:a=5e3,onProgress:o,onStatusChange:c,signal:u}=r;this.updateStatus(e,{status:"connecting",error:void 0}),c?.(this.getConnectionStatus(e));try{if(!this.dataCache.get(e)){const d=await uj.getItem(e);d&&d.length>0&&this.dataCache.set(e,d)}}catch{}try{const d=AA()&&Ur(),m=cj()&&Ur();if(!(n?d:m))return await this.loadUsingFallback(e,{maxRows:a,onProgress:o,onStatusChange:c});const h=await this.loadFromStream(e,{maxRows:a,onProgress:o,signal:u});this.updateStatus(e,{status:"connected",source:"stream",recordCount:h.length,lastUpdate:new Date}),this.dataCache.set(e,h);try{await uj.setItem(e,h)}catch{}return c?.(this.getConnectionStatus(e)),h}catch(d){if(d?.name==="AbortError")throw d;console.error(`Failed to load streaming data for ${e}:`,d);try{return await this.loadUsingFallback(e,{maxRows:a,onProgress:o,onStatusChange:c})}catch(m){throw this.updateStatus(e,{status:"error",source:"stream",recordCount:0,lastUpdate:new Date,error:m instanceof Error?m.message:"Stream and fallback failed"}),c?.(this.getConnectionStatus(e)),m}}}async loadFromStream(e,r){const n=this.getStreamer(e),a=[];for await(const o of n.streamData({limit:1e3,maxRows:r.maxRows,onProgress:r.onProgress,signal:r.signal}))a.push(...o.map(c=>({...c,source:ya.find(u=>u.key===e)?.source||"kaggle",version:"1.0-stream",ingested_at:new Date})));return a}async loadUsingFallback(e,r){const n=await this.loadFromFallback(e),a=r.maxRows?n.slice(0,r.maxRows):n;return r.onProgress&&r.onProgress({loaded:a.length,total:a.length,percentage:a.length>0?100:0}),this.dataCache.set(e,a),this.updateStatus(e,{status:"fallback",source:"fallback",recordCount:a.length,lastUpdate:new Date,error:void 0}),r.onStatusChange?.(this.getConnectionStatus(e)),a}async loadFromFallback(e){return await this.getStreamer(e).loadFallbackData()}getStreamer(e){switch(e){case"provincial_generation":return LM;case"ontario_demand":return FM;case"ontario_prices":return BM;case"hf_electricity_demand":return zM;default:throw new Error(`Unknown dataset: ${e}`)}}getCachedData(e){return this.dataCache.get(e)}clearCache(e){e?this.dataCache.delete(e):this.dataCache.clear()}async refreshData(e,r={}){return this.clearCache(e),await this.loadData(e,{...r})}exportData(e,r="json"){const n=this.getCachedData(e);if(!n||n.length===0)throw new Error(`No data available for ${e}`);if(r==="json")return JSON.stringify(n,null,2);if(r==="csv"){const a=Object.keys(n[0]),o=[a.join(",")];return n.forEach(c=>{const u=a.map(d=>{const m=c[d];return typeof m=="string"&&m.includes(",")?`"${m}"`:m});o.push(u.join(","))}),o.join(`
`)}throw new Error(`Unsupported format: ${r}`)}async initializeAllDatasets(e={}){const r=ya.map(async n=>{try{await this.loadData(n.key,{...e,maxRows:100})}catch(a){console.warn(`Failed to initialize ${n.key}:`,a)}});await Promise.allSettled(r),console.log("Dataset initialization completed")}downloadData(e,r="json"){const n=this.exportData(e,r),a=new Blob([n],{type:r==="json"?"application/json":"text/csv"}),o=URL.createObjectURL(a),c=document.createElement("a");c.href=o,c.download=`${e}_${new Date().toISOString().split("T")[0]}.${r}`,document.body.appendChild(c),c.click(),document.body.removeChild(c),URL.revokeObjectURL(o)}}const yn=new KM;/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var YM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XM=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=(t,e)=>{const r=C.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:o=2,absoluteStrokeWidth:c,className:u="",children:d,...m},p)=>C.createElement("svg",{ref:p,...YM,width:a,height:a,stroke:n,strokeWidth:c?Number(o)*24/Number(a):o,className:["lucide",`lucide-${XM(t)}`,u].join(" "),...m},[...e.map(([h,y])=>C.createElement(h,y)),...Array.isArray(d)?d:[d]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hr=_e("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mu=_e("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hu=_e("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ax=_e("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dj=_e("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xh=_e("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fj=_e("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QM=_e("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PA=_e("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EA=_e("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TA=_e("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const si=_e("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qt=_e("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZM=_e("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ds=_e("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JM=_e("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const el=_e("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dl=_e("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ix=_e("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CA=_e("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IA=_e("FileDown",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pn=_e("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mj=_e("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e3=_e("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t3=_e("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iu=_e("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ss=_e("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qi=_e("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dd=_e("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MA=_e("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RA=_e("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r3=_e("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bh=_e("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const va=_e("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hj=_e("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n3=_e("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pj=_e("Radio",[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a3=_e("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i3=_e("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s3=_e("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o3=_e("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zr=_e("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pu=_e("Signal",[["path",{d:"M2 20h.01",key:"4haj6o"}],["path",{d:"M7 20v-4",key:"j294jx"}],["path",{d:"M12 20v-8",key:"i3yub9"}],["path",{d:"M17 20V8",key:"1tkaf5"}],["path",{d:"M22 4v16",key:"sih9yq"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l3=_e("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c3=_e("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $A=_e("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oi=_e("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DA=_e("Thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fl=_e("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tr=_e("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nr=_e("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u3=_e("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LA=_e("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FA=_e("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sx=_e("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d3=_e("Wind",[["path",{d:"M17.7 7.7a2.5 2.5 0 1 1 1.8 4.3H2",key:"1k4u03"}],["path",{d:"M9.6 4.6A2 2 0 1 1 11 8H2",key:"b7d0fd"}],["path",{d:"M12.6 19.4A2 2 0 1 0 14 16H2",key:"1p5cb3"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BA=_e("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pt=_e("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);async function f3(){const t=qs(),e=t?`${t}/help-simple/manifest`:"/api/help/manifest",r=await fetch(e,{headers:Us()});return r.ok?(await r.json()).manifest:(console.error("Failed to fetch help manifest:",r.status),[])}async function m3(t){const e=qs(),r=e?`${e}/help-simple/${encodeURIComponent(t)}`:`/api/help/${encodeURIComponent(t)}`,n=await fetch(r,{headers:Us()});if(!n.ok){if(n.status===404)return console.warn(`Help content not found for ID: ${t}`),null;throw console.error(`Failed to fetch help content for ${t}:`,n.status),new Error(`Help content unavailable for ${t}`)}return await n.json()}const gj={"dashboard.overview":{id:"dashboard.overview",title:"Real-Time Energy Dashboard",shortText:"Live monitoring of Canadian energy systems",difficulty:"beginner",bodyHtml:`
      <h3 class="text-lg font-semibold mb-3">What is the Real-Time Dashboard?</h3>
      <p class="mb-4">This dashboard shows you <strong>live energy data</strong> from across Canada. Think of it like a "weather map" but for electricity!</p>
      
      <h4 class="font-semibold mt-4 mb-2">What You'll See:</h4>
      <ul class="list-disc pl-5 space-y-2 mb-4">
        <li><strong>Ontario Demand</strong> - How much electricity Ontario is using right now (measured in Megawatts)</li>
        <li><strong>Generation Mix</strong> - Where our electricity comes from (nuclear, hydro, wind, solar, etc.)</li>
        <li><strong>Prices</strong> - How much electricity costs in different provinces</li>
        <li><strong>Weather Impact</strong> - How temperature affects energy use</li>
      </ul>
      
      <h4 class="font-semibold mt-4 mb-2">Why This Matters:</h4>
      <p class="mb-4">Understanding real-time energy helps us:</p>
      <ul class="list-disc pl-5 space-y-1 mb-4">
        <li>Plan when to use electricity (cheaper during off-peak times)</li>
        <li>See how renewable energy is growing</li>
        <li>Understand energy security and reliability</li>
      </ul>
      
      <div class="bg-blue-50 border-l-4 border-blue-500 p-4 mt-4">
        <p class="text-sm"><strong>💡 Student Tip:</strong> The dashboard updates every 30 seconds. Watch how demand changes throughout the day - it's highest during business hours!</p>
      </div>
    `,relatedTopics:["chart.ontario_demand","chart.provincial_generation"]},"chart.ontario_demand":{id:"chart.ontario_demand",title:"Ontario Hourly Demand",shortText:"Real-time electricity demand in Ontario",difficulty:"beginner",bodyHtml:`
      <h3 class="text-lg font-semibold mb-3">Understanding Ontario's Electricity Demand</h3>
      <p class="mb-4"><strong>Demand</strong> means how much electricity people in Ontario are using right now.</p>
      
      <h4 class="font-semibold mt-4 mb-2">What the Chart Shows:</h4>
      <ul class="list-disc pl-5 space-y-2 mb-4">
        <li><strong>Y-Axis (Vertical)</strong> - Amount of power in <strong>Megawatts (MW)</strong>
          <br/><span class="text-sm text-slate-600">1 MW can power about 400-900 homes</span>
        </li>
        <li><strong>X-Axis (Horizontal)</strong> - Time of day</li>
        <li><strong>Line</strong> - Shows how demand changes minute by minute</li>
      </ul>
      
      <h4 class="font-semibold mt-4 mb-2">Typical Patterns:</h4>
      <ul class="list-disc pl-5 space-y-1 mb-4">
        <li><strong>Morning Peak (7-9 AM):</strong> People wake up, turn on lights, make breakfast</li>
        <li><strong>Afternoon Peak (4-7 PM):</strong> Everyone returns home, cooks dinner</li>
        <li><strong>Overnight Low (2-5 AM):</strong> Most people sleeping, minimal usage</li>
      </ul>
      
      <div class="bg-green-50 border-l-4 border-green-500 p-4 mt-4">
        <p class="text-sm"><strong>🌍 Climate Connection:</strong> On hot summer days, demand spikes because of air conditioning. On cold winter mornings, it spikes because of heating!</p>
      </div>
    `,relatedTopics:["dashboard.overview","chart.weather_correlation"]},"chart.provincial_generation":{id:"chart.provincial_generation",title:"Provincial Generation Mix",shortText:"How provinces generate their electricity",difficulty:"beginner",bodyHtml:`
      <h3 class="text-lg font-semibold mb-3">Where Does Our Electricity Come From?</h3>
      <p class="mb-4">This chart shows the <strong>energy sources</strong> used to generate electricity across Canadian provinces over the past 30 days.</p>
      
      <h4 class="font-semibold mt-4 mb-2">Energy Sources Explained:</h4>
      <ul class="list-disc pl-5 space-y-2 mb-4">
        <li><strong>☢️ Nuclear</strong> - Uses uranium atoms to create heat → steam → electricity
          <br/><span class="text-sm text-slate-600">Clean (no emissions), reliable, generates large amounts</span>
        </li>
        <li><strong>💧 Hydro (Water)</strong> - Uses falling water to spin turbines
          <br/><span class="text-sm text-slate-600">Renewable, clean, works best in provinces with rivers/dams</span>
        </li>
        <li><strong>🔥 Natural Gas</strong> - Burns gas to create electricity
          <br/><span class="text-sm text-slate-600">Flexible, can ramp up/down quickly, produces some emissions</span>
        </li>
        <li><strong>💨 Wind</strong> - Wind spins turbine blades
          <br/><span class="text-sm text-slate-600">Renewable, clean, but only works when windy</span>
        </li>
        <li><strong>☀️ Solar</strong> - Sunlight converted directly to electricity
          <br/><span class="text-sm text-slate-600">Renewable, clean, but only works during daytime</span>
        </li>
      </ul>
      
      <div class="bg-blue-50 border-l-4 border-blue-500 p-4 mt-4">
        <p class="text-sm"><strong>📊 Reading the Chart:</strong> Longer bars = more energy generated from that source. Ontario uses mostly nuclear and hydro. Quebec uses almost all hydro!</p>
      </div>
    `,relatedTopics:["dashboard.overview","page.trends"]},"chart.alberta_supply_demand":{id:"chart.alberta_supply_demand",title:"Alberta Supply & Demand",shortText:"Real-time balance between electricity supply and demand in Alberta",difficulty:"intermediate",bodyHtml:`
      <h3 class="text-lg font-semibold mb-3">The Electricity Balancing Act</h3>
      <p class="mb-4">Electricity grids must <strong>always balance supply and demand</strong>. Too much or too little can cause blackouts!</p>
      
      <h4 class="font-semibold mt-4 mb-2">What You're Seeing:</h4>
      <ul class="list-disc pl-5 space-y-2 mb-4">
        <li><strong>Purple Line (Supply)</strong> - How much electricity power plants are generating</li>
        <li><strong>Blue Line (Demand)</strong> - How much electricity people are using</li>
        <li><strong>Price</strong> - Cost per megawatt-hour (goes up when demand is high)</li>
      </ul>
      
      <h4 class="font-semibold mt-4 mb-2">Why Supply > Demand:</h4>
      <p class="mb-4">Supply should always be <em>slightly higher</em> than demand to:</p>
      <ul class="list-disc pl-5 space-y-1 mb-4">
        <li>Maintain stable voltage (like water pressure in pipes)</li>
        <li>Have reserves ready for sudden spikes</li>
        <li>Prevent blackouts</li>
      </ul>
      
      <h4 class="font-semibold mt-4 mb-2">Price Dynamics:</h4>
      <p class="mb-3">Electricity price changes based on:</p>
      <ul class="list-disc pl-5 space-y-1 mb-4">
        <li><strong>High Demand + Limited Supply</strong> = Higher Prices 📈</li>
        <li><strong>Low Demand + Plenty of Supply</strong> = Lower Prices 📉</li>
        <li><strong>Time of Day</strong> - Peak hours cost more</li>
      </ul>
      
      <div class="bg-amber-50 border-l-4 border-amber-500 p-4 mt-4">
        <p class="text-sm"><strong>⚡ Fun Fact:</strong> Alberta has a "deregulated" electricity market, meaning prices change minute-by-minute based on supply and demand - like a stock market for electricity!</p>
      </div>
    `,relatedTopics:["chart.ontario_demand","page.investment"]},"chart.weather_correlation":{id:"chart.weather_correlation",title:"Weather & Energy Correlation",shortText:"How temperature affects electricity demand",difficulty:"intermediate",bodyHtml:`
      <h3 class="text-lg font-semibold mb-3">Temperature's Impact on Energy Use</h3>
      <p class="mb-4">Temperature and electricity demand are <strong>closely related</strong>. This chart shows how much!</p>
      
      <h4 class="font-semibold mt-4 mb-2">Understanding Correlation:</h4>
      <ul class="list-disc pl-5 space-y-2 mb-4">
        <li><strong>1.0 = Perfect Correlation</strong> - Temperature and demand move together exactly</li>
        <li><strong>0.7-0.9 = Strong Correlation</strong> - Temperature is a major factor</li>
        <li><strong>0.4-0.6 = Moderate Correlation</strong> - Temperature matters, but other factors too</li>
        <li><strong>< 0.3 = Weak Correlation</strong> - Temperature doesn't affect demand much</li>
      </ul>
      
      <h4 class="font-semibold mt-4 mb-2">Why Temperature Matters:</h4>
      <p class="mb-3"><strong>Hot Days:</strong></p>
      <ul class="list-disc pl-5 space-y-1 mb-3">
        <li>Air conditioners work harder → More electricity used</li>
        <li>Peak demand in summer afternoons (2-5 PM)</li>
        <li>Can strain the grid during heatwaves</li>
      </ul>
      
      <p class="mb-3"><strong>Cold Days:</strong></p>
      <ul class="list-disc pl-5 space-y-1 mb-4">
        <li>Electric heaters run more → Higher demand</li>
        <li>Peak demand in winter mornings (6-9 AM)</li>
        <li>Some homes use gas heat (lowers electricity correlation)</li>
      </ul>
      
      <div class="bg-purple-50 border-l-4 border-purple-500 p-4 mt-4">
        <p class="text-sm"><strong>🌡️ City Differences:</strong> Calgary shows higher correlation because more buildings use electric heating. Vancouver shows lower correlation due to milder climate and less AC usage!</p>
      </div>
    `,relatedTopics:["chart.ontario_demand","dashboard.overview"]},"page.indigenous":{id:"page.indigenous",title:"Indigenous Energy Partnerships",shortText:"Tracking consultation and collaboration with Indigenous communities",difficulty:"intermediate",bodyHtml:`
      <h3 class="text-lg font-semibold mb-3">Indigenous Rights & Energy Projects</h3>
      <p class="mb-4">Canada has a <strong>legal duty to consult</strong> with Indigenous communities on energy projects that may affect their lands, rights, or interests.</p>
      
      <h4 class="font-semibold mt-4 mb-2">Why Indigenous Consultation Matters:</h4>
      <ul class="list-disc pl-5 space-y-2 mb-4">
        <li><strong>Treaties & Rights</strong> - Many energy projects occur on traditional territories</li>
        <li><strong>Environmental Protection</strong> - Indigenous knowledge helps protect ecosystems</li>
        <li><strong>Economic Participation</strong> - Fair benefit-sharing from energy development</li>
        <li><strong>Reconciliation</strong> - Honoring UNDRIP (United Nations Declaration on the Rights of Indigenous Peoples)</li>
      </ul>
      
      <h4 class="font-semibold mt-4 mb-2">What This Dashboard Tracks:</h4>
      <ul class="list-disc pl-5 space-y-1 mb-4">
        <li>Active consultation processes</li>
        <li>Completed agreements</li>
        <li>Indigenous-led energy projects</li>
        <li>Territorial mapping</li>
      </ul>
      
      <div class="bg-indigo-50 border-l-4 border-indigo-500 p-4 mt-4">
        <p class="text-sm"><strong>📚 Learning More:</strong> The Truth and Reconciliation Commission's Calls to Action (#92) emphasizes the importance of Indigenous participation in energy decision-making.</p>
      </div>
    `,relatedTopics:["metric.indigenous.completed_consultations","chart.indigenous.consultation_status"]},"metric.indigenous.completed_consultations":{id:"metric.indigenous.completed_consultations",title:"Completed Consultations",shortText:"Number of consultation processes completed with Indigenous communities",difficulty:"beginner",bodyHtml:`
      <h3 class="text-lg font-semibold mb-3">What Are Energy Consultations?</h3>
      <p class="mb-4">A <strong>consultation</strong> is a formal process where energy companies and governments discuss project plans with Indigenous communities.</p>
      
      <h4 class="font-semibold mt-4 mb-2">The Consultation Process:</h4>
      <ol class="list-decimal pl-5 space-y-2 mb-4">
        <li><strong>Notification</strong> - Community is informed of proposed project</li>
        <li><strong>Information Sharing</strong> - Technical details, environmental impacts</li>
        <li><strong>Dialogue</strong> - Concerns, questions, Traditional Knowledge shared</li>
        <li><strong>Accommodation</strong> - Project adjusted based on feedback</li>
        <li><strong>Agreement or Decision</strong> - Final outcome documented</li>
      </ol>
      
      <h4 class="font-semibold mt-4 mb-2">Why Track This Number?</h4>
      <ul class="list-disc pl-5 space-y-1 mb-4">
        <li>Shows progress on reconciliation commitments</li>
        <li>Indicates government/industry engagement levels</li>
        <li>Helps communities plan capacity for future consultations</li>
      </ul>
      
      <div class="bg-green-50 border-l-4 border-green-500 p-4 mt-4">
        <p class="text-sm"><strong>✅ Good Consultation:</strong> Takes time, involves community elders, respects traditional territories, and results in free, prior, and informed consent (FPIC).</p>
      </div>
    `,relatedTopics:["page.indigenous","metric.indigenous.completion_rate"]},"metric.indigenous.completion_rate":{id:"metric.indigenous.completion_rate",title:"Consultation Completion Rate",shortText:"Percentage of consultations successfully completed",difficulty:"intermediate",bodyHtml:`
      <h3 class="text-lg font-semibold mb-3">Measuring Consultation Success</h3>
      <p class="mb-4">The <strong>completion rate</strong> shows what percentage of started consultations reach a final agreement or decision.</p>
      
      <h4 class="font-semibold mt-4 mb-2">How It's Calculated:</h4>
      <div class="bg-slate-100 p-3 rounded mb-4 font-mono text-sm">
        Completion Rate = (Completed Consultations / Total Started) × 100%
      </div>
      
      <h4 class="font-semibold mt-4 mb-2">What Different Rates Mean:</h4>
      <ul class="list-disc pl-5 space-y-2 mb-4">
        <li><strong>90-100%</strong> - Excellent track record, strong relationships</li>
        <li><strong>70-89%</strong> - Good progress, some challenges</li>
        <li><strong>50-69%</strong> - Moderate success, room for improvement</li>
        <li><strong>< 50%</strong> - Significant issues, need better processes</li>
      </ul>
      
      <h4 class="font-semibold mt-4 mb-2">Why Some Don't Complete:</h4>
      <ul class="list-disc pl-5 space-y-1 mb-4">
        <li>Project cancelled or postponed</li>
        <li>Unresolved concerns from community</li>
        <li>Insufficient time or resources allocated</li>
        <li>Breakdown in trust or communication</li>
      </ul>
      
      <div class="bg-amber-50 border-l-4 border-amber-500 p-4 mt-4">
        <p class="text-sm"><strong>⚖️ Legal Context:</strong> Under Canadian law, the Crown has a duty to consult when actions might infringe on Aboriginal or treaty rights. Incomplete consultations can lead to legal challenges!</p>
      </div>
    `,relatedTopics:["metric.indigenous.completed_consultations","page.indigenous"]},"chart.indigenous.consultation_status":{id:"chart.indigenous.consultation_status",title:"Consultation Status Breakdown",shortText:"Current stage of all consultation processes",difficulty:"beginner",bodyHtml:`
      <h3 class="text-lg font-semibold mb-3">Tracking Consultation Progress</h3>
      <p class="mb-4">This chart shows where each consultation currently stands in the process.</p>
      
      <h4 class="font-semibold mt-4 mb-2">Status Categories:</h4>
      <ul class="list-disc pl-5 space-y-2 mb-4">
        <li><strong>🟢 Completed</strong> - Agreement reached or final decision made</li>
        <li><strong>🟡 In Progress</strong> - Active discussions happening</li>
        <li><strong>🟠 On Hold</strong> - Paused (waiting for info, funding, or other factors)</li>
        <li><strong>🔴 Delayed</strong> - Behind schedule, may have issues</li>
        <li><strong>⚪ Planned</strong> - Scheduled to start soon</li>
      </ul>
      
      <h4 class="font-semibold mt-4 mb-2">What "In Progress" Means:</h4>
      <p class="mb-4">Active consultations might involve:</p>
      <ul class="list-disc pl-5 space-y-1 mb-4">
        <li>Community meetings and presentations</li>
        <li>Environmental impact assessments</li>
        <li>Negotiating benefit-sharing agreements</li>
        <li>Incorporating Traditional Ecological Knowledge</li>
      </ul>
      
      <div class="bg-blue-50 border-l-4 border-blue-500 p-4 mt-4">
        <p class="text-sm"><strong>🔄 Timeframes:</strong> Good consultations take 6-18 months. Rushing leads to poor outcomes. Quality matters more than speed!</p>
      </div>
    `,relatedTopics:["page.indigenous","metric.indigenous.completion_rate"]},"page.investment":{id:"page.investment",title:"Energy Investment Analysis",shortText:"Financial analysis tools for energy projects",difficulty:"advanced",bodyHtml:`
      <h3 class="text-lg font-semibold mb-3">Understanding Energy Project Finance</h3>
      <p class="mb-4">Energy projects require <strong>massive upfront investment</strong> but generate revenue over decades. This tool helps evaluate if they're worth it!</p>
      
      <h4 class="font-semibold mt-4 mb-2">Key Financial Metrics:</h4>
      <ul class="list-disc pl-5 space-y-2 mb-4">
        <li><strong>NPV (Net Present Value)</strong> - Total profit over project lifetime, adjusted for time value of money</li>
        <li><strong>IRR (Internal Rate of Return)</strong> - Annual return percentage, like interest rate</li>
        <li><strong>Payback Period</strong> - How long until initial investment is recovered</li>
        <li><strong>LCOE (Levelized Cost of Energy)</strong> - Average cost per kWh over project life</li>
      </ul>
      
      <h4 class="font-semibold mt-4 mb-2">Why Different Energy Sources Cost Different:</h4>
      <div class="space-y-3 mb-4">
        <div>
          <strong>☀️ Solar:</strong> High upfront cost, $0 fuel cost, 25-30 year lifespan
        </div>
        <div>
          <strong>💨 Wind:</strong> Medium upfront, $0 fuel, 20-25 years
        </div>
        <div>
          <strong>☢️ Nuclear:</strong> Very high upfront, low fuel cost, 60+ years
        </div>
        <div>
          <strong>🔥 Natural Gas:</strong> Low upfront, high ongoing fuel cost, 30-40 years
        </div>
      </div>
      
      <div class="bg-green-50 border-l-4 border-green-500 p-4 mt-4">
        <p class="text-sm"><strong>📊 Decision Making:</strong> Projects with NPV > $0 and IRR > 8-12% are typically considered good investments. But also consider: grid reliability, emissions, job creation, and energy security!</p>
      </div>
    `,relatedTopics:["metric.investment.npv","metric.investment.irr"]},"page.resilience":{id:"page.resilience",title:"Energy Resilience Analysis",shortText:"Assessing energy system ability to withstand disruptions",difficulty:"intermediate",bodyHtml:`
      <h3 class="text-lg font-semibold mb-3">What is Energy Resilience?</h3>
      <p class="mb-4"><strong>Resilience</strong> = The ability to prepare for, withstand, and recover from disruptions to energy systems.</p>
      
      <h4 class="font-semibold mt-4 mb-2">Types of Threats:</h4>
      <ul class="list-disc pl-5 space-y-2 mb-4">
        <li><strong>🌪️ Natural Disasters</strong> - Hurricanes, ice storms, floods, wildfires</li>
        <li><strong>🌡️ Climate Change</strong> - Heatwaves, droughts, extreme weather</li>
        <li><strong>💻 Cyber Attacks</strong> - Hacking power grid controls</li>
        <li><strong>🔧 Equipment Failures</strong> - Transformer failures, line breaks</li>
        <li><strong>⛽ Fuel Supply Issues</strong> - Pipeline disruptions, gas shortages</li>
      </ul>
      
      <h4 class="font-semibold mt-4 mb-2">How We Build Resilience:</h4>
      <ul class="list-disc pl-5 space-y-1 mb-4">
        <li><strong>Redundancy</strong> - Multiple power sources and transmission paths</li>
        <li><strong>Diversification</strong> - Mix of energy types (not all eggs in one basket)</li>
        <li><strong>Smart Grids</strong> - Automated systems that reroute power during failures</li>
        <li><strong>Energy Storage</strong> - Batteries to bridge supply gaps</li>
        <li><strong>Microgrids</strong> - Local grids that can operate independently</li>
      </ul>
      
      <div class="bg-red-50 border-l-4 border-red-500 p-4 mt-4">
        <p class="text-sm"><strong>⚠️ Real Example:</strong> The 2021 Texas blackouts showed what happens when systems aren't resilient. Extreme cold + natural gas shortages = millions without power for days. Canada's more diverse energy mix helps prevent this!</p>
      </div>
    `,relatedTopics:["page.security","chart.provincial_generation"]}};function h3(t){if(gj[t])return gj[t];const e=t.split(".").map(r=>r.charAt(0).toUpperCase()+r.slice(1).replace(/_/g," ")).join(" - ");return{id:t,title:e,shortText:`Learn about ${e}`,difficulty:"beginner",bodyHtml:`
      <h3 class="text-lg font-semibold mb-3">${e}</h3>
      <p class="mb-4">Detailed help content for this feature is being developed.</p>
      <p class="mb-4">This feature is fully functional and ready to use.</p>
      
      <div class="bg-blue-50 border-l-4 border-blue-500 p-4 mt-4">
        <p class="text-sm"><strong>💡 Need Help?</strong> If you have questions about this feature, please contact your instructor or check the platform documentation.</p>
      </div>
    `}}function p3({id:t,open:e,onClose:r,content:n,loading:a=!1}){const o=C.useRef(null),c=C.useRef(null);return C.useEffect(()=>{function u(d){d.key==="Escape"&&r()}return e&&(document.addEventListener("keydown",u),setTimeout(()=>c.current?.focus(),50)),()=>document.removeEventListener("keydown",u)},[e,r]),C.useEffect(()=>{if(!e)return;const u=o.current?.querySelectorAll('a[href], button:not([disabled]), textarea, input, select, [tabindex]:not([tabindex="-1"])');if(!u||u.length===0)return;const d=u[0],m=u[u.length-1];function p(h){h.key==="Tab"&&(h.shiftKey&&document.activeElement===d?(h.preventDefault(),m.focus()):!h.shiftKey&&document.activeElement===m&&(h.preventDefault(),d.focus()))}return document.addEventListener("keydown",p),()=>document.removeEventListener("keydown",p)},[e]),e?s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx("div",{className:"absolute inset-0 bg-black/70",onClick:r,"aria-hidden":"true"}),s.jsxs("div",{ref:o,role:"dialog","aria-modal":"true","aria-labelledby":"help-modal-title","aria-describedby":"help-modal-content",className:"relative bg-slate-800 rounded-xl border border-slate-700 shadow-2xl max-w-2xl w-full max-h-[80vh] overflow-auto focus:outline-none",tabIndex:-1,children:[s.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-slate-700",children:[s.jsx("h2",{id:"help-modal-title",className:"text-xl font-semibold text-slate-200",children:"Help"}),s.jsx("button",{ref:c,onClick:r,"aria-label":"Close help",className:"flex items-center justify-center w-8 h-8 rounded-md hover:bg-slate-700 transition-colors",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-4 h-4 text-slate-300",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsxs("div",{className:"px-6 py-4",children:[n?.short_text&&s.jsx("div",{className:"mb-4 text-slate-300 text-sm leading-relaxed",children:n.short_text}),s.jsx("div",{id:"help-modal-content",className:"prose prose-slate prose-invert max-w-none",children:a?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsxs("div",{className:"flex items-center space-x-2 text-slate-400",children:[s.jsx("div",{className:"w-4 h-4 border-2 border-cyan-400 border-t-transparent rounded-full animate-spin"}),s.jsx("span",{children:"Loading help content..."})]})}):n?.body_html?s.jsx("div",{className:"text-slate-200 space-y-4",children:s.jsx("pre",{className:"whitespace-pre-wrap",children:n.body_html.replace(/<[^>]*>/g,"")})}):s.jsx("div",{className:"text-slate-400 text-center py-8",children:"Help content not available."})}),n?.related_sources&&n.related_sources.length>0&&s.jsxs("div",{className:"mt-6 pt-4 border-t border-slate-700",children:[s.jsx("h3",{className:"text-sm font-medium text-slate-200 mb-2",children:"More Information:"}),s.jsx("ul",{className:"space-y-1",children:n.related_sources.map((u,d)=>s.jsx("li",{children:s.jsx("a",{href:u.url,target:"_blank",rel:"noopener noreferrer",className:"text-cyan-400 hover:text-cyan-300 transition-colors underline",children:u.name})},d))})]})]}),s.jsx("div",{className:"flex justify-end items-center space-x-3 px-6 py-4 border-t border-slate-700",children:s.jsx("button",{onClick:r,className:"px-4 py-2 bg-slate-700 text-slate-300 rounded-lg hover:bg-slate-600 transition-colors text-sm font-medium",children:"Close"})})]})]}):null}const zA=C.createContext(null);function g3(){const t=C.useContext(zA);if(!t)throw new Error("useHelp must be used within a HelpProvider");return t}function y3({children:t}){const[e,r]=C.useState([]),[n,a]=C.useState(!0),[o,c]=C.useState(null),u=async()=>{try{a(!0),c(null);const m=await f3();r(m)}catch(m){console.error("Failed to load help manifest:",m),c(m instanceof Error?m.message:"Failed to load help content"),r([])}finally{a(!1)}};C.useEffect(()=>{u()},[]);const d=async()=>{await u()};return s.jsx(zA.Provider,{value:{manifest:e,loading:n,error:o,refreshManifest:d},children:t})}function v3(t){const{manifest:e}=g3();return e.find(n=>n.id===t)?.short_text||"Help"}function jt({id:t,className:e=""}){const[r,n]=C.useState(!1),[a,o]=C.useState(null),[c,u]=C.useState(!1),d=v3(t),m=async()=>{if(n(!0),!a||a.id!==t){u(!0);try{const h=h3(t);o({id:h.id,short_text:h.shortText,body_html:h.bodyHtml,related_sources:h.relatedTopics?.map(y=>({name:y,url:`#help-${y}`}))}),m3(t).then(y=>{y&&o(y)}).catch(()=>{})}catch(h){console.error("Failed to load help content:",h),o({id:t,short_text:d,body_html:"<p>Unable to load help content. Please try again or contact support.</p>"})}finally{u(!1)}}},p=h=>{console.debug(`Help ${h} for ${t}`,{timestamp:Date.now(),action:h,id:t})};return s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:()=>{p("button_click"),m()},onMouseEnter:()=>p("tooltip_hover"),"aria-label":`Help: ${d}`,title:d,className:`
          inline-flex items-center justify-center
          w-8 h-8 rounded-md
          bg-slate-700 hover:bg-slate-600
          border border-slate-600 hover:border-cyan-500
          transition-all duration-200
          text-cyan-400 hover:text-cyan-300
          focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:ring-offset-2 focus:ring-offset-slate-900
          ${e}
        `,children:s.jsx(ss,{className:"w-4 h-4"})}),r&&s.jsx(p3,{id:t,open:r,onClose:()=>n(!1),content:a,loading:c})]})}function qA(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(r=qA(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Me(){for(var t,e,r=0,n="",a=arguments.length;r<a;r++)(t=arguments[r])&&(e=qA(t))&&(n&&(n+=" "),n+=e);return n}var wh,yj;function gr(){if(yj)return wh;yj=1;var t=Array.isArray;return wh=t,wh}var jh,vj;function UA(){if(vj)return jh;vj=1;var t=typeof du=="object"&&du&&du.Object===Object&&du;return jh=t,jh}var Sh,xj;function Sn(){if(xj)return Sh;xj=1;var t=UA(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return Sh=r,Sh}var _h,bj;function Kl(){if(bj)return _h;bj=1;var t=Sn(),e=t.Symbol;return _h=e,_h}var Nh,wj;function x3(){if(wj)return Nh;wj=1;var t=Kl(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,a=t?t.toStringTag:void 0;function o(c){var u=r.call(c,a),d=c[a];try{c[a]=void 0;var m=!0}catch{}var p=n.call(c);return m&&(u?c[a]=d:delete c[a]),p}return Nh=o,Nh}var kh,jj;function b3(){if(jj)return kh;jj=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return kh=r,kh}var Oh,Sj;function Hn(){if(Sj)return Oh;Sj=1;var t=Kl(),e=x3(),r=b3(),n="[object Null]",a="[object Undefined]",o=t?t.toStringTag:void 0;function c(u){return u==null?u===void 0?a:n:o&&o in Object(u)?e(u):r(u)}return Oh=c,Oh}var Ah,_j;function Gn(){if(_j)return Ah;_j=1;function t(e){return e!=null&&typeof e=="object"}return Ah=t,Ah}var Ph,Nj;function Ws(){if(Nj)return Ph;Nj=1;var t=Hn(),e=Gn(),r="[object Symbol]";function n(a){return typeof a=="symbol"||e(a)&&t(a)==r}return Ph=n,Ph}var Eh,kj;function ox(){if(kj)return Eh;kj=1;var t=gr(),e=Ws(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(o,c){if(t(o))return!1;var u=typeof o;return u=="number"||u=="symbol"||u=="boolean"||o==null||e(o)?!0:n.test(o)||!r.test(o)||c!=null&&o in Object(c)}return Eh=a,Eh}var Th,Oj;function Pa(){if(Oj)return Th;Oj=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return Th=t,Th}var Ch,Aj;function lx(){if(Aj)return Ch;Aj=1;var t=Hn(),e=Pa(),r="[object AsyncFunction]",n="[object Function]",a="[object GeneratorFunction]",o="[object Proxy]";function c(u){if(!e(u))return!1;var d=t(u);return d==n||d==a||d==r||d==o}return Ch=c,Ch}var Ih,Pj;function w3(){if(Pj)return Ih;Pj=1;var t=Sn(),e=t["__core-js_shared__"];return Ih=e,Ih}var Mh,Ej;function j3(){if(Ej)return Mh;Ej=1;var t=w3(),e=(function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!e&&e in n}return Mh=r,Mh}var Rh,Tj;function WA(){if(Tj)return Rh;Tj=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return Rh=r,Rh}var $h,Cj;function S3(){if(Cj)return $h;Cj=1;var t=lx(),e=j3(),r=Pa(),n=WA(),a=/[\\^$.*+?()[\]{}|]/g,o=/^\[object .+?Constructor\]$/,c=Function.prototype,u=Object.prototype,d=c.toString,m=u.hasOwnProperty,p=RegExp("^"+d.call(m).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function h(y){if(!r(y)||e(y))return!1;var v=t(y)?p:o;return v.test(n(y))}return $h=h,$h}var Dh,Ij;function _3(){if(Ij)return Dh;Ij=1;function t(e,r){return e?.[r]}return Dh=t,Dh}var Lh,Mj;function pi(){if(Mj)return Lh;Mj=1;var t=S3(),e=_3();function r(n,a){var o=e(n,a);return t(o)?o:void 0}return Lh=r,Lh}var Fh,Rj;function Ld(){if(Rj)return Fh;Rj=1;var t=pi(),e=t(Object,"create");return Fh=e,Fh}var Bh,$j;function N3(){if($j)return Bh;$j=1;var t=Ld();function e(){this.__data__=t?t(null):{},this.size=0}return Bh=e,Bh}var zh,Dj;function k3(){if(Dj)return zh;Dj=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return zh=t,zh}var qh,Lj;function O3(){if(Lj)return qh;Lj=1;var t=Ld(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function a(o){var c=this.__data__;if(t){var u=c[o];return u===e?void 0:u}return n.call(c,o)?c[o]:void 0}return qh=a,qh}var Uh,Fj;function A3(){if(Fj)return Uh;Fj=1;var t=Ld(),e=Object.prototype,r=e.hasOwnProperty;function n(a){var o=this.__data__;return t?o[a]!==void 0:r.call(o,a)}return Uh=n,Uh}var Wh,Bj;function P3(){if(Bj)return Wh;Bj=1;var t=Ld(),e="__lodash_hash_undefined__";function r(n,a){var o=this.__data__;return this.size+=this.has(n)?0:1,o[n]=t&&a===void 0?e:a,this}return Wh=r,Wh}var Hh,zj;function E3(){if(zj)return Hh;zj=1;var t=N3(),e=k3(),r=O3(),n=A3(),a=P3();function o(c){var u=-1,d=c==null?0:c.length;for(this.clear();++u<d;){var m=c[u];this.set(m[0],m[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=r,o.prototype.has=n,o.prototype.set=a,Hh=o,Hh}var Gh,qj;function T3(){if(qj)return Gh;qj=1;function t(){this.__data__=[],this.size=0}return Gh=t,Gh}var Vh,Uj;function cx(){if(Uj)return Vh;Uj=1;function t(e,r){return e===r||e!==e&&r!==r}return Vh=t,Vh}var Kh,Wj;function Fd(){if(Wj)return Kh;Wj=1;var t=cx();function e(r,n){for(var a=r.length;a--;)if(t(r[a][0],n))return a;return-1}return Kh=e,Kh}var Yh,Hj;function C3(){if(Hj)return Yh;Hj=1;var t=Fd(),e=Array.prototype,r=e.splice;function n(a){var o=this.__data__,c=t(o,a);if(c<0)return!1;var u=o.length-1;return c==u?o.pop():r.call(o,c,1),--this.size,!0}return Yh=n,Yh}var Xh,Gj;function I3(){if(Gj)return Xh;Gj=1;var t=Fd();function e(r){var n=this.__data__,a=t(n,r);return a<0?void 0:n[a][1]}return Xh=e,Xh}var Qh,Vj;function M3(){if(Vj)return Qh;Vj=1;var t=Fd();function e(r){return t(this.__data__,r)>-1}return Qh=e,Qh}var Zh,Kj;function R3(){if(Kj)return Zh;Kj=1;var t=Fd();function e(r,n){var a=this.__data__,o=t(a,r);return o<0?(++this.size,a.push([r,n])):a[o][1]=n,this}return Zh=e,Zh}var Jh,Yj;function Bd(){if(Yj)return Jh;Yj=1;var t=T3(),e=C3(),r=I3(),n=M3(),a=R3();function o(c){var u=-1,d=c==null?0:c.length;for(this.clear();++u<d;){var m=c[u];this.set(m[0],m[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=r,o.prototype.has=n,o.prototype.set=a,Jh=o,Jh}var ep,Xj;function ux(){if(Xj)return ep;Xj=1;var t=pi(),e=Sn(),r=t(e,"Map");return ep=r,ep}var tp,Qj;function $3(){if(Qj)return tp;Qj=1;var t=E3(),e=Bd(),r=ux();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return tp=n,tp}var rp,Zj;function D3(){if(Zj)return rp;Zj=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return rp=t,rp}var np,Jj;function zd(){if(Jj)return np;Jj=1;var t=D3();function e(r,n){var a=r.__data__;return t(n)?a[typeof n=="string"?"string":"hash"]:a.map}return np=e,np}var ap,eS;function L3(){if(eS)return ap;eS=1;var t=zd();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return ap=e,ap}var ip,tS;function F3(){if(tS)return ip;tS=1;var t=zd();function e(r){return t(this,r).get(r)}return ip=e,ip}var sp,rS;function B3(){if(rS)return sp;rS=1;var t=zd();function e(r){return t(this,r).has(r)}return sp=e,sp}var op,nS;function z3(){if(nS)return op;nS=1;var t=zd();function e(r,n){var a=t(this,r),o=a.size;return a.set(r,n),this.size+=a.size==o?0:1,this}return op=e,op}var lp,aS;function dx(){if(aS)return lp;aS=1;var t=$3(),e=L3(),r=F3(),n=B3(),a=z3();function o(c){var u=-1,d=c==null?0:c.length;for(this.clear();++u<d;){var m=c[u];this.set(m[0],m[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=r,o.prototype.has=n,o.prototype.set=a,lp=o,lp}var cp,iS;function HA(){if(iS)return cp;iS=1;var t=dx(),e="Expected a function";function r(n,a){if(typeof n!="function"||a!=null&&typeof a!="function")throw new TypeError(e);var o=function(){var c=arguments,u=a?a.apply(this,c):c[0],d=o.cache;if(d.has(u))return d.get(u);var m=n.apply(this,c);return o.cache=d.set(u,m)||d,m};return o.cache=new(r.Cache||t),o}return r.Cache=t,cp=r,cp}var up,sS;function q3(){if(sS)return up;sS=1;var t=HA(),e=500;function r(n){var a=t(n,function(c){return o.size===e&&o.clear(),c}),o=a.cache;return a}return up=r,up}var dp,oS;function U3(){if(oS)return dp;oS=1;var t=q3(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(a){var o=[];return a.charCodeAt(0)===46&&o.push(""),a.replace(e,function(c,u,d,m){o.push(d?m.replace(r,"$1"):u||c)}),o});return dp=n,dp}var fp,lS;function fx(){if(lS)return fp;lS=1;function t(e,r){for(var n=-1,a=e==null?0:e.length,o=Array(a);++n<a;)o[n]=r(e[n],n,e);return o}return fp=t,fp}var mp,cS;function W3(){if(cS)return mp;cS=1;var t=Kl(),e=fx(),r=gr(),n=Ws(),a=t?t.prototype:void 0,o=a?a.toString:void 0;function c(u){if(typeof u=="string")return u;if(r(u))return e(u,c)+"";if(n(u))return o?o.call(u):"";var d=u+"";return d=="0"&&1/u==-1/0?"-0":d}return mp=c,mp}var hp,uS;function GA(){if(uS)return hp;uS=1;var t=W3();function e(r){return r==null?"":t(r)}return hp=e,hp}var pp,dS;function VA(){if(dS)return pp;dS=1;var t=gr(),e=ox(),r=U3(),n=GA();function a(o,c){return t(o)?o:e(o,c)?[o]:r(n(o))}return pp=a,pp}var gp,fS;function qd(){if(fS)return gp;fS=1;var t=Ws();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return gp=e,gp}var yp,mS;function mx(){if(mS)return yp;mS=1;var t=VA(),e=qd();function r(n,a){a=t(a,n);for(var o=0,c=a.length;n!=null&&o<c;)n=n[e(a[o++])];return o&&o==c?n:void 0}return yp=r,yp}var vp,hS;function KA(){if(hS)return vp;hS=1;var t=mx();function e(r,n,a){var o=r==null?void 0:t(r,n);return o===void 0?a:o}return vp=e,vp}var H3=KA();const Or=He(H3);var xp,pS;function G3(){if(pS)return xp;pS=1;function t(e){return e==null}return xp=t,xp}var V3=G3();const Oe=He(V3);var bp,gS;function K3(){if(gS)return bp;gS=1;var t=Hn(),e=gr(),r=Gn(),n="[object String]";function a(o){return typeof o=="string"||!e(o)&&r(o)&&t(o)==n}return bp=a,bp}var Y3=K3();const li=He(Y3);var X3=lx();const Ae=He(X3);var Q3=Pa();const Hs=He(Q3);var wp={exports:{}},qe={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yS;function Z3(){if(yS)return qe;yS=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.for("react.offscreen"),j;j=Symbol.for("react.module.reference");function b(w){if(typeof w=="object"&&w!==null){var k=w.$$typeof;switch(k){case t:switch(w=w.type,w){case r:case a:case n:case m:case p:return w;default:switch(w=w&&w.$$typeof,w){case u:case c:case d:case y:case h:case o:return w;default:return k}}case e:return k}}}return qe.ContextConsumer=c,qe.ContextProvider=o,qe.Element=t,qe.ForwardRef=d,qe.Fragment=r,qe.Lazy=y,qe.Memo=h,qe.Portal=e,qe.Profiler=a,qe.StrictMode=n,qe.Suspense=m,qe.SuspenseList=p,qe.isAsyncMode=function(){return!1},qe.isConcurrentMode=function(){return!1},qe.isContextConsumer=function(w){return b(w)===c},qe.isContextProvider=function(w){return b(w)===o},qe.isElement=function(w){return typeof w=="object"&&w!==null&&w.$$typeof===t},qe.isForwardRef=function(w){return b(w)===d},qe.isFragment=function(w){return b(w)===r},qe.isLazy=function(w){return b(w)===y},qe.isMemo=function(w){return b(w)===h},qe.isPortal=function(w){return b(w)===e},qe.isProfiler=function(w){return b(w)===a},qe.isStrictMode=function(w){return b(w)===n},qe.isSuspense=function(w){return b(w)===m},qe.isSuspenseList=function(w){return b(w)===p},qe.isValidElementType=function(w){return typeof w=="string"||typeof w=="function"||w===r||w===a||w===n||w===m||w===p||w===v||typeof w=="object"&&w!==null&&(w.$$typeof===y||w.$$typeof===h||w.$$typeof===o||w.$$typeof===c||w.$$typeof===d||w.$$typeof===j||w.getModuleId!==void 0)},qe.typeOf=b,qe}var vS;function J3(){return vS||(vS=1,wp.exports=Z3()),wp.exports}var eR=J3(),jp,xS;function YA(){if(xS)return jp;xS=1;var t=Hn(),e=Gn(),r="[object Number]";function n(a){return typeof a=="number"||e(a)&&t(a)==r}return jp=n,jp}var Sp,bS;function tR(){if(bS)return Sp;bS=1;var t=YA();function e(r){return t(r)&&r!=+r}return Sp=e,Sp}var rR=tR();const Gs=He(rR);var nR=YA();const aR=He(nR);var rr=function(e){return e===0?0:e>0?1:-1},Ja=function(e){return li(e)&&e.indexOf("%")===e.length-1},ue=function(e){return aR(e)&&!Gs(e)},iR=function(e){return Oe(e)},Et=function(e){return ue(e)||li(e)},sR=0,Ea=function(e){var r=++sR;return"".concat(e||"").concat(r)},nr=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ue(e)&&!li(e))return n;var o;if(Ja(e)){var c=e.indexOf("%");o=r*parseFloat(e.slice(0,c))/100}else o=+e;return Gs(o)&&(o=n),a&&o>r&&(o=r),o},ga=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},oR=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},a=0;a<r;a++)if(!n[e[a]])n[e[a]]=!0;else return!0;return!1},ft=function(e,r){return ue(e)&&ue(r)?function(n){return e+n*(r-e)}:function(){return r}};function Mu(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):Or(n,e))===r})}var lR=function(e){if(!e||!e.length)return null;for(var r=e.length,n=0,a=0,o=0,c=0,u=1/0,d=-1/0,m=0,p=0,h=0;h<r;h++)m=e[h].cx||0,p=e[h].cy||0,n+=m,a+=p,o+=m*p,c+=m*m,u=Math.min(u,m),d=Math.max(d,m);var y=r*c!==n*n?(r*o-n*a)/(r*c-n*n):0;return{xmin:u,xmax:d,a:y,b:(a-y*n)/r}},cR=function(e,r){return ue(e)&&ue(r)?e-r:li(e)&&li(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function os(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function E0(t){"@babel/helpers - typeof";return E0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E0(t)}var uR=["viewBox","children"],dR=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],wS=["points","pathLength"],_p={svg:uR,polygon:wS,polyline:wS},hx=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Ru=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(C.isValidElement(e)&&(n=e.props),!Hs(n))return null;var a={};return Object.keys(n).forEach(function(o){hx.includes(o)&&(a[o]=r||function(c){return n[o](n,c)})}),a},fR=function(e,r,n){return function(a){return e(r,n,a),null}},Na=function(e,r,n){if(!Hs(e)||E0(e)!=="object")return null;var a=null;return Object.keys(e).forEach(function(o){var c=e[o];hx.includes(o)&&typeof c=="function"&&(a||(a={}),a[o]=fR(c,r,n))}),a},mR=["children"],hR=["children"];function jS(t,e){if(t==null)return{};var r=pR(t,e),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(a=0;a<o.length;a++)n=o[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function pR(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function T0(t){"@babel/helpers - typeof";return T0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T0(t)}var SS={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Fn=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},_S=null,Np=null,px=function t(e){if(e===_S&&Array.isArray(Np))return Np;var r=[];return C.Children.forEach(e,function(n){Oe(n)||(eR.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),Np=r,_S=e,r};function sr(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(a){return Fn(a)}):n=[Fn(e)],px(t).forEach(function(a){var o=Or(a,"type.displayName")||Or(a,"type.name");n.indexOf(o)!==-1&&r.push(a)}),r}function _r(t,e){var r=sr(t,e);return r&&r[0]}var NS=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,a=r.height;return!(!ue(n)||n<=0||!ue(a)||a<=0)},gR=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],yR=function(e){return e&&e.type&&li(e.type)&&gR.indexOf(e.type)>=0},XA=function(e){return e&&T0(e)==="object"&&"clipDot"in e},vR=function(e,r,n,a){var o,c=(o=_p?.[a])!==null&&o!==void 0?o:[];return r.startsWith("data-")||!Ae(e)&&(a&&c.includes(r)||dR.includes(r))||n&&hx.includes(r)},we=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var a=e;if(C.isValidElement(e)&&(a=e.props),!Hs(a))return null;var o={};return Object.keys(a).forEach(function(c){var u;vR((u=a)===null||u===void 0?void 0:u[c],c,r,n)&&(o[c]=a[c])}),o},C0=function t(e,r){if(e===r)return!0;var n=C.Children.count(e);if(n!==C.Children.count(r))return!1;if(n===0)return!0;if(n===1)return kS(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var o=e[a],c=r[a];if(Array.isArray(o)||Array.isArray(c)){if(!t(o,c))return!1}else if(!kS(o,c))return!1}return!0},kS=function(e,r){if(Oe(e)&&Oe(r))return!0;if(!Oe(e)&&!Oe(r)){var n=e.props||{},a=n.children,o=jS(n,mR),c=r.props||{},u=c.children,d=jS(c,hR);return a&&u?os(o,d)&&C0(a,u):!a&&!u?os(o,d):!1}return!1},OS=function(e,r){var n=[],a={};return px(e).forEach(function(o,c){if(yR(o))n.push(o);else if(o){var u=Fn(o.type),d=r[u]||{},m=d.handler,p=d.once;if(m&&(!p||!a[u])){var h=m(o,u,c);n.push(h),a[u]=!0}}}),n},xR=function(e){var r=e&&e.type;return r&&SS[r]?SS[r]:null},bR=function(e,r){return px(r).indexOf(e)},wR=["children","width","height","viewBox","className","style","title","desc"];function I0(){return I0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},I0.apply(this,arguments)}function jR(t,e){if(t==null)return{};var r=SR(t,e),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(a=0;a<o.length;a++)n=o[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function SR(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function M0(t){var e=t.children,r=t.width,n=t.height,a=t.viewBox,o=t.className,c=t.style,u=t.title,d=t.desc,m=jR(t,wR),p=a||{width:r,height:n,x:0,y:0},h=Me("recharts-surface",o);return U.createElement("svg",I0({},we(m,!0,"svg"),{className:h,width:r,height:n,style:c,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height)}),U.createElement("title",null,u),U.createElement("desc",null,d),e)}var _R=["children","className"];function R0(){return R0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},R0.apply(this,arguments)}function NR(t,e){if(t==null)return{};var r=kR(t,e),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(a=0;a<o.length;a++)n=o[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function kR(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var $e=U.forwardRef(function(t,e){var r=t.children,n=t.className,a=NR(t,_R),o=Me("recharts-layer",n);return U.createElement("g",R0({className:o},we(a,!0),{ref:e}),r)}),sn=function(e,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),o=2;o<n;o++)a[o-2]=arguments[o]},kp,AS;function OR(){if(AS)return kp;AS=1;function t(e,r,n){var a=-1,o=e.length;r<0&&(r=-r>o?0:o+r),n=n>o?o:n,n<0&&(n+=o),o=r>n?0:n-r>>>0,r>>>=0;for(var c=Array(o);++a<o;)c[a]=e[a+r];return c}return kp=t,kp}var Op,PS;function AR(){if(PS)return Op;PS=1;var t=OR();function e(r,n,a){var o=r.length;return a=a===void 0?o:a,!n&&a>=o?r:t(r,n,a)}return Op=e,Op}var Ap,ES;function QA(){if(ES)return Ap;ES=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",a=e+r+n,o="\\ufe0e\\ufe0f",c="\\u200d",u=RegExp("["+c+t+a+o+"]");function d(m){return u.test(m)}return Ap=d,Ap}var Pp,TS;function PR(){if(TS)return Pp;TS=1;function t(e){return e.split("")}return Pp=t,Pp}var Ep,CS;function ER(){if(CS)return Ep;CS=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",a=e+r+n,o="\\ufe0e\\ufe0f",c="["+t+"]",u="["+a+"]",d="\\ud83c[\\udffb-\\udfff]",m="(?:"+u+"|"+d+")",p="[^"+t+"]",h="(?:\\ud83c[\\udde6-\\uddff]){2}",y="[\\ud800-\\udbff][\\udc00-\\udfff]",v="\\u200d",j=m+"?",b="["+o+"]?",w="(?:"+v+"(?:"+[p,h,y].join("|")+")"+b+j+")*",k=b+j+w,S="(?:"+[p+u+"?",u,h,y,c].join("|")+")",O=RegExp(d+"(?="+d+")|"+S+k,"g");function P(N){return N.match(O)||[]}return Ep=P,Ep}var Tp,IS;function TR(){if(IS)return Tp;IS=1;var t=PR(),e=QA(),r=ER();function n(a){return e(a)?r(a):t(a)}return Tp=n,Tp}var Cp,MS;function CR(){if(MS)return Cp;MS=1;var t=AR(),e=QA(),r=TR(),n=GA();function a(o){return function(c){c=n(c);var u=e(c)?r(c):void 0,d=u?u[0]:c.charAt(0),m=u?t(u,1).join(""):c.slice(1);return d[o]()+m}}return Cp=a,Cp}var Ip,RS;function IR(){if(RS)return Ip;RS=1;var t=CR(),e=t("toUpperCase");return Ip=e,Ip}var MR=IR();const Ud=He(MR);function Qe(t){return function(){return t}}const ZA=Math.cos,$u=Math.sin,ln=Math.sqrt,Du=Math.PI,Wd=2*Du,$0=Math.PI,D0=2*$0,Xa=1e-6,RR=D0-Xa;function JA(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function $R(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return JA;const r=10**e;return function(n){this._+=n[0];for(let a=1,o=n.length;a<o;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class DR{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?JA:$R(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,a){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(e,r,n,a,o,c){this._append`C${+e},${+r},${+n},${+a},${this._x1=+o},${this._y1=+c}`}arcTo(e,r,n,a,o){if(e=+e,r=+r,n=+n,a=+a,o=+o,o<0)throw new Error(`negative radius: ${o}`);let c=this._x1,u=this._y1,d=n-e,m=a-r,p=c-e,h=u-r,y=p*p+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(y>Xa)if(!(Math.abs(h*d-m*p)>Xa)||!o)this._append`L${this._x1=e},${this._y1=r}`;else{let v=n-c,j=a-u,b=d*d+m*m,w=v*v+j*j,k=Math.sqrt(b),S=Math.sqrt(y),O=o*Math.tan(($0-Math.acos((b+y-w)/(2*k*S)))/2),P=O/S,N=O/k;Math.abs(P-1)>Xa&&this._append`L${e+P*p},${r+P*h}`,this._append`A${o},${o},0,0,${+(h*v>p*j)},${this._x1=e+N*d},${this._y1=r+N*m}`}}arc(e,r,n,a,o,c){if(e=+e,r=+r,n=+n,c=!!c,n<0)throw new Error(`negative radius: ${n}`);let u=n*Math.cos(a),d=n*Math.sin(a),m=e+u,p=r+d,h=1^c,y=c?a-o:o-a;this._x1===null?this._append`M${m},${p}`:(Math.abs(this._x1-m)>Xa||Math.abs(this._y1-p)>Xa)&&this._append`L${m},${p}`,n&&(y<0&&(y=y%D0+D0),y>RR?this._append`A${n},${n},0,1,${h},${e-u},${r-d}A${n},${n},0,1,${h},${this._x1=m},${this._y1=p}`:y>Xa&&this._append`A${n},${n},0,${+(y>=$0)},${h},${this._x1=e+n*Math.cos(o)},${this._y1=r+n*Math.sin(o)}`)}rect(e,r,n,a){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function gx(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new DR(e)}function yx(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function eP(t){this._context=t}eP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Hd(t){return new eP(t)}function tP(t){return t[0]}function rP(t){return t[1]}function nP(t,e){var r=Qe(!0),n=null,a=Hd,o=null,c=gx(u);t=typeof t=="function"?t:t===void 0?tP:Qe(t),e=typeof e=="function"?e:e===void 0?rP:Qe(e);function u(d){var m,p=(d=yx(d)).length,h,y=!1,v;for(n==null&&(o=a(v=c())),m=0;m<=p;++m)!(m<p&&r(h=d[m],m,d))===y&&((y=!y)?o.lineStart():o.lineEnd()),y&&o.point(+t(h,m,d),+e(h,m,d));if(v)return o=null,v+""||null}return u.x=function(d){return arguments.length?(t=typeof d=="function"?d:Qe(+d),u):t},u.y=function(d){return arguments.length?(e=typeof d=="function"?d:Qe(+d),u):e},u.defined=function(d){return arguments.length?(r=typeof d=="function"?d:Qe(!!d),u):r},u.curve=function(d){return arguments.length?(a=d,n!=null&&(o=a(n)),u):a},u.context=function(d){return arguments.length?(d==null?n=o=null:o=a(n=d),u):n},u}function gu(t,e,r){var n=null,a=Qe(!0),o=null,c=Hd,u=null,d=gx(m);t=typeof t=="function"?t:t===void 0?tP:Qe(+t),e=typeof e=="function"?e:Qe(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?rP:Qe(+r);function m(h){var y,v,j,b=(h=yx(h)).length,w,k=!1,S,O=new Array(b),P=new Array(b);for(o==null&&(u=c(S=d())),y=0;y<=b;++y){if(!(y<b&&a(w=h[y],y,h))===k)if(k=!k)v=y,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),j=y-1;j>=v;--j)u.point(O[j],P[j]);u.lineEnd(),u.areaEnd()}k&&(O[y]=+t(w,y,h),P[y]=+e(w,y,h),u.point(n?+n(w,y,h):O[y],r?+r(w,y,h):P[y]))}if(S)return u=null,S+""||null}function p(){return nP().defined(a).curve(c).context(o)}return m.x=function(h){return arguments.length?(t=typeof h=="function"?h:Qe(+h),n=null,m):t},m.x0=function(h){return arguments.length?(t=typeof h=="function"?h:Qe(+h),m):t},m.x1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:Qe(+h),m):n},m.y=function(h){return arguments.length?(e=typeof h=="function"?h:Qe(+h),r=null,m):e},m.y0=function(h){return arguments.length?(e=typeof h=="function"?h:Qe(+h),m):e},m.y1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:Qe(+h),m):r},m.lineX0=m.lineY0=function(){return p().x(t).y(e)},m.lineY1=function(){return p().x(t).y(r)},m.lineX1=function(){return p().x(n).y(e)},m.defined=function(h){return arguments.length?(a=typeof h=="function"?h:Qe(!!h),m):a},m.curve=function(h){return arguments.length?(c=h,o!=null&&(u=c(o)),m):c},m.context=function(h){return arguments.length?(h==null?o=u=null:u=c(o=h),m):o},m}class aP{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function LR(t){return new aP(t,!0)}function FR(t){return new aP(t,!1)}const vx={draw(t,e){const r=ln(e/Du);t.moveTo(r,0),t.arc(0,0,r,0,Wd)}},BR={draw(t,e){const r=ln(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},iP=ln(1/3),zR=iP*2,qR={draw(t,e){const r=ln(e/zR),n=r*iP;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},UR={draw(t,e){const r=ln(e),n=-r/2;t.rect(n,n,r,r)}},WR=.8908130915292852,sP=$u(Du/10)/$u(7*Du/10),HR=$u(Wd/10)*sP,GR=-ZA(Wd/10)*sP,VR={draw(t,e){const r=ln(e*WR),n=HR*r,a=GR*r;t.moveTo(0,-r),t.lineTo(n,a);for(let o=1;o<5;++o){const c=Wd*o/5,u=ZA(c),d=$u(c);t.lineTo(d*r,-u*r),t.lineTo(u*n-d*a,d*n+u*a)}t.closePath()}},Mp=ln(3),KR={draw(t,e){const r=-ln(e/(Mp*3));t.moveTo(0,r*2),t.lineTo(-Mp*r,-r),t.lineTo(Mp*r,-r),t.closePath()}},$r=-.5,Dr=ln(3)/2,L0=1/ln(12),YR=(L0/2+1)*3,XR={draw(t,e){const r=ln(e/YR),n=r/2,a=r*L0,o=n,c=r*L0+r,u=-o,d=c;t.moveTo(n,a),t.lineTo(o,c),t.lineTo(u,d),t.lineTo($r*n-Dr*a,Dr*n+$r*a),t.lineTo($r*o-Dr*c,Dr*o+$r*c),t.lineTo($r*u-Dr*d,Dr*u+$r*d),t.lineTo($r*n+Dr*a,$r*a-Dr*n),t.lineTo($r*o+Dr*c,$r*c-Dr*o),t.lineTo($r*u+Dr*d,$r*d-Dr*u),t.closePath()}};function QR(t,e){let r=null,n=gx(a);t=typeof t=="function"?t:Qe(t||vx),e=typeof e=="function"?e:Qe(e===void 0?64:+e);function a(){let o;if(r||(r=o=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),o)return r=null,o+""||null}return a.type=function(o){return arguments.length?(t=typeof o=="function"?o:Qe(o),a):t},a.size=function(o){return arguments.length?(e=typeof o=="function"?o:Qe(+o),a):e},a.context=function(o){return arguments.length?(r=o??null,a):r},a}function Lu(){}function Fu(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function oP(t){this._context=t}oP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Fu(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Fu(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function ZR(t){return new oP(t)}function lP(t){this._context=t}lP.prototype={areaStart:Lu,areaEnd:Lu,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Fu(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function JR(t){return new lP(t)}function cP(t){this._context=t}cP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Fu(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function e4(t){return new cP(t)}function uP(t){this._context=t}uP.prototype={areaStart:Lu,areaEnd:Lu,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function t4(t){return new uP(t)}function $S(t){return t<0?-1:1}function DS(t,e,r){var n=t._x1-t._x0,a=e-t._x1,o=(t._y1-t._y0)/(n||a<0&&-0),c=(r-t._y1)/(a||n<0&&-0),u=(o*a+c*n)/(n+a);return($S(o)+$S(c))*Math.min(Math.abs(o),Math.abs(c),.5*Math.abs(u))||0}function LS(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function Rp(t,e,r){var n=t._x0,a=t._y0,o=t._x1,c=t._y1,u=(o-n)/3;t._context.bezierCurveTo(n+u,a+u*e,o-u,c-u*r,o,c)}function Bu(t){this._context=t}Bu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Rp(this,this._t0,LS(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Rp(this,LS(this,r=DS(this,t,e)),r);break;default:Rp(this,this._t0,r=DS(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function dP(t){this._context=new fP(t)}(dP.prototype=Object.create(Bu.prototype)).point=function(t,e){Bu.prototype.point.call(this,e,t)};function fP(t){this._context=t}fP.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,a,o){this._context.bezierCurveTo(e,t,n,r,o,a)}};function r4(t){return new Bu(t)}function n4(t){return new dP(t)}function mP(t){this._context=t}mP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=FS(t),a=FS(e),o=0,c=1;c<r;++o,++c)this._context.bezierCurveTo(n[0][o],a[0][o],n[1][o],a[1][o],t[c],e[c]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function FS(t){var e,r=t.length-1,n,a=new Array(r),o=new Array(r),c=new Array(r);for(a[0]=0,o[0]=2,c[0]=t[0]+2*t[1],e=1;e<r-1;++e)a[e]=1,o[e]=4,c[e]=4*t[e]+2*t[e+1];for(a[r-1]=2,o[r-1]=7,c[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=a[e]/o[e-1],o[e]-=n,c[e]-=n*c[e-1];for(a[r-1]=c[r-1]/o[r-1],e=r-2;e>=0;--e)a[e]=(c[e]-a[e+1])/o[e];for(o[r-1]=(t[r]+a[r-1])/2,e=0;e<r-1;++e)o[e]=2*t[e+1]-a[e+1];return[a,o]}function a4(t){return new mP(t)}function Gd(t,e){this._context=t,this._t=e}Gd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function i4(t){return new Gd(t,.5)}function s4(t){return new Gd(t,0)}function o4(t){return new Gd(t,1)}function fs(t,e){if((c=t.length)>1)for(var r=1,n,a,o=t[e[0]],c,u=o.length;r<c;++r)for(a=o,o=t[e[r]],n=0;n<u;++n)o[n][1]+=o[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function F0(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function l4(t,e){return t[e]}function c4(t){const e=[];return e.key=t,e}function u4(){var t=Qe([]),e=F0,r=fs,n=l4;function a(o){var c=Array.from(t.apply(this,arguments),c4),u,d=c.length,m=-1,p;for(const h of o)for(u=0,++m;u<d;++u)(c[u][m]=[0,+n(h,c[u].key,m,o)]).data=h;for(u=0,p=yx(e(c));u<d;++u)c[p[u]].index=u;return r(c,p),c}return a.keys=function(o){return arguments.length?(t=typeof o=="function"?o:Qe(Array.from(o)),a):t},a.value=function(o){return arguments.length?(n=typeof o=="function"?o:Qe(+o),a):n},a.order=function(o){return arguments.length?(e=o==null?F0:typeof o=="function"?o:Qe(Array.from(o)),a):e},a.offset=function(o){return arguments.length?(r=o??fs,a):r},a}function d4(t,e){if((n=t.length)>0){for(var r,n,a=0,o=t[0].length,c;a<o;++a){for(c=r=0;r<n;++r)c+=t[r][a][1]||0;if(c)for(r=0;r<n;++r)t[r][a][1]/=c}fs(t,e)}}function f4(t,e){if((a=t.length)>0){for(var r=0,n=t[e[0]],a,o=n.length;r<o;++r){for(var c=0,u=0;c<a;++c)u+=t[c][r][1]||0;n[r][1]+=n[r][0]=-u/2}fs(t,e)}}function m4(t,e){if(!(!((c=t.length)>0)||!((o=(a=t[e[0]]).length)>0))){for(var r=0,n=1,a,o,c;n<o;++n){for(var u=0,d=0,m=0;u<c;++u){for(var p=t[e[u]],h=p[n][1]||0,y=p[n-1][1]||0,v=(h-y)/2,j=0;j<u;++j){var b=t[e[j]],w=b[n][1]||0,k=b[n-1][1]||0;v+=w-k}d+=h,m+=v*h}a[n-1][1]+=a[n-1][0]=r,d&&(r-=m/d)}a[n-1][1]+=a[n-1][0]=r,fs(t,e)}}function ml(t){"@babel/helpers - typeof";return ml=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ml(t)}var h4=["type","size","sizeType"];function B0(){return B0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},B0.apply(this,arguments)}function BS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function zS(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BS(Object(r),!0).forEach(function(n){p4(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function p4(t,e,r){return e=g4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function g4(t){var e=y4(t,"string");return ml(e)=="symbol"?e:e+""}function y4(t,e){if(ml(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ml(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function v4(t,e){if(t==null)return{};var r=x4(t,e),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(a=0;a<o.length;a++)n=o[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function x4(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var hP={symbolCircle:vx,symbolCross:BR,symbolDiamond:qR,symbolSquare:UR,symbolStar:VR,symbolTriangle:KR,symbolWye:XR},b4=Math.PI/180,w4=function(e){var r="symbol".concat(Ud(e));return hP[r]||vx},j4=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var a=18*b4;return 1.25*e*e*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},S4=function(e,r){hP["symbol".concat(Ud(e))]=r},Vd=function(e){var r=e.type,n=r===void 0?"circle":r,a=e.size,o=a===void 0?64:a,c=e.sizeType,u=c===void 0?"area":c,d=v4(e,h4),m=zS(zS({},d),{},{type:n,size:o,sizeType:u}),p=function(){var w=w4(n),k=QR().type(w).size(j4(o,u,n));return k()},h=m.className,y=m.cx,v=m.cy,j=we(m,!0);return y===+y&&v===+v&&o===+o?U.createElement("path",B0({},j,{className:Me("recharts-symbols",h),transform:"translate(".concat(y,", ").concat(v,")"),d:p()})):null};Vd.registerSymbol=S4;function ms(t){"@babel/helpers - typeof";return ms=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ms(t)}function z0(){return z0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},z0.apply(this,arguments)}function qS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function _4(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qS(Object(r),!0).forEach(function(n){hl(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function N4(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function k4(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,gP(n.key),n)}}function O4(t,e,r){return e&&k4(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function A4(t,e,r){return e=zu(e),P4(t,pP()?Reflect.construct(e,r||[],zu(t).constructor):e.apply(t,r))}function P4(t,e){if(e&&(ms(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return E4(t)}function E4(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pP=function(){return!!t})()}function zu(t){return zu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zu(t)}function T4(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&q0(t,e)}function q0(t,e){return q0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},q0(t,e)}function hl(t,e,r){return e=gP(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gP(t){var e=C4(t,"string");return ms(e)=="symbol"?e:e+""}function C4(t,e){if(ms(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ms(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Lr=32,xx=(function(t){function e(){return N4(this,e),A4(this,e,arguments)}return T4(e,t),O4(e,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,o=Lr/2,c=Lr/6,u=Lr/3,d=n.inactive?a:n.color;if(n.type==="plainline")return U.createElement("line",{strokeWidth:4,fill:"none",stroke:d,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:o,x2:Lr,y2:o,className:"recharts-legend-icon"});if(n.type==="line")return U.createElement("path",{strokeWidth:4,fill:"none",stroke:d,d:"M0,".concat(o,"h").concat(u,`
            A`).concat(c,",").concat(c,",0,1,1,").concat(2*u,",").concat(o,`
            H`).concat(Lr,"M").concat(2*u,",").concat(o,`
            A`).concat(c,",").concat(c,",0,1,1,").concat(u,",").concat(o),className:"recharts-legend-icon"});if(n.type==="rect")return U.createElement("path",{stroke:"none",fill:d,d:"M0,".concat(Lr/8,"h").concat(Lr,"v").concat(Lr*3/4,"h").concat(-Lr,"z"),className:"recharts-legend-icon"});if(U.isValidElement(n.legendIcon)){var m=_4({},n);return delete m.legendIcon,U.cloneElement(n.legendIcon,m)}return U.createElement(Vd,{fill:d,cx:o,cy:o,size:Lr,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,o=a.payload,c=a.iconSize,u=a.layout,d=a.formatter,m=a.inactiveColor,p={x:0,y:0,width:Lr,height:Lr},h={display:u==="horizontal"?"inline-block":"block",marginRight:10},y={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(v,j){var b=v.formatter||d,w=Me(hl(hl({"recharts-legend-item":!0},"legend-item-".concat(j),!0),"inactive",v.inactive));if(v.type==="none")return null;var k=Ae(v.value)?null:v.value;sn(!Ae(v.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var S=v.inactive?m:v.color;return U.createElement("li",z0({className:w,style:h,key:"legend-item-".concat(j)},Na(n.props,v,j)),U.createElement(M0,{width:c,height:c,viewBox:p,style:y},n.renderIcon(v)),U.createElement("span",{className:"recharts-legend-item-text",style:{color:S}},b?b(k,v,j):k))})}},{key:"render",value:function(){var n=this.props,a=n.payload,o=n.layout,c=n.align;if(!a||!a.length)return null;var u={padding:0,margin:0,textAlign:o==="horizontal"?c:"left"};return U.createElement("ul",{className:"recharts-default-legend",style:u},this.renderItems())}}])})(C.PureComponent);hl(xx,"displayName","Legend");hl(xx,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var $p,US;function I4(){if(US)return $p;US=1;var t=Bd();function e(){this.__data__=new t,this.size=0}return $p=e,$p}var Dp,WS;function M4(){if(WS)return Dp;WS=1;function t(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}return Dp=t,Dp}var Lp,HS;function R4(){if(HS)return Lp;HS=1;function t(e){return this.__data__.get(e)}return Lp=t,Lp}var Fp,GS;function $4(){if(GS)return Fp;GS=1;function t(e){return this.__data__.has(e)}return Fp=t,Fp}var Bp,VS;function D4(){if(VS)return Bp;VS=1;var t=Bd(),e=ux(),r=dx(),n=200;function a(o,c){var u=this.__data__;if(u instanceof t){var d=u.__data__;if(!e||d.length<n-1)return d.push([o,c]),this.size=++u.size,this;u=this.__data__=new r(d)}return u.set(o,c),this.size=u.size,this}return Bp=a,Bp}var zp,KS;function yP(){if(KS)return zp;KS=1;var t=Bd(),e=I4(),r=M4(),n=R4(),a=$4(),o=D4();function c(u){var d=this.__data__=new t(u);this.size=d.size}return c.prototype.clear=e,c.prototype.delete=r,c.prototype.get=n,c.prototype.has=a,c.prototype.set=o,zp=c,zp}var qp,YS;function L4(){if(YS)return qp;YS=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return qp=e,qp}var Up,XS;function F4(){if(XS)return Up;XS=1;function t(e){return this.__data__.has(e)}return Up=t,Up}var Wp,QS;function vP(){if(QS)return Wp;QS=1;var t=dx(),e=L4(),r=F4();function n(a){var o=-1,c=a==null?0:a.length;for(this.__data__=new t;++o<c;)this.add(a[o])}return n.prototype.add=n.prototype.push=e,n.prototype.has=r,Wp=n,Wp}var Hp,ZS;function xP(){if(ZS)return Hp;ZS=1;function t(e,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(e[n],n,e))return!0;return!1}return Hp=t,Hp}var Gp,JS;function bP(){if(JS)return Gp;JS=1;function t(e,r){return e.has(r)}return Gp=t,Gp}var Vp,e_;function wP(){if(e_)return Vp;e_=1;var t=vP(),e=xP(),r=bP(),n=1,a=2;function o(c,u,d,m,p,h){var y=d&n,v=c.length,j=u.length;if(v!=j&&!(y&&j>v))return!1;var b=h.get(c),w=h.get(u);if(b&&w)return b==u&&w==c;var k=-1,S=!0,O=d&a?new t:void 0;for(h.set(c,u),h.set(u,c);++k<v;){var P=c[k],N=u[k];if(m)var A=y?m(N,P,k,u,c,h):m(P,N,k,c,u,h);if(A!==void 0){if(A)continue;S=!1;break}if(O){if(!e(u,function(T,$){if(!r(O,$)&&(P===T||p(P,T,d,m,h)))return O.push($)})){S=!1;break}}else if(!(P===N||p(P,N,d,m,h))){S=!1;break}}return h.delete(c),h.delete(u),S}return Vp=o,Vp}var Kp,t_;function B4(){if(t_)return Kp;t_=1;var t=Sn(),e=t.Uint8Array;return Kp=e,Kp}var Yp,r_;function z4(){if(r_)return Yp;r_=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(a,o){n[++r]=[o,a]}),n}return Yp=t,Yp}var Xp,n_;function bx(){if(n_)return Xp;n_=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(a){n[++r]=a}),n}return Xp=t,Xp}var Qp,a_;function q4(){if(a_)return Qp;a_=1;var t=Kl(),e=B4(),r=cx(),n=wP(),a=z4(),o=bx(),c=1,u=2,d="[object Boolean]",m="[object Date]",p="[object Error]",h="[object Map]",y="[object Number]",v="[object RegExp]",j="[object Set]",b="[object String]",w="[object Symbol]",k="[object ArrayBuffer]",S="[object DataView]",O=t?t.prototype:void 0,P=O?O.valueOf:void 0;function N(A,T,$,I,B,M,q){switch($){case S:if(A.byteLength!=T.byteLength||A.byteOffset!=T.byteOffset)return!1;A=A.buffer,T=T.buffer;case k:return!(A.byteLength!=T.byteLength||!M(new e(A),new e(T)));case d:case m:case y:return r(+A,+T);case p:return A.name==T.name&&A.message==T.message;case v:case b:return A==T+"";case h:var F=a;case j:var V=I&c;if(F||(F=o),A.size!=T.size&&!V)return!1;var L=q.get(A);if(L)return L==T;I|=u,q.set(A,T);var R=n(F(A),F(T),I,B,M,q);return q.delete(A),R;case w:if(P)return P.call(A)==P.call(T)}return!1}return Qp=N,Qp}var Zp,i_;function jP(){if(i_)return Zp;i_=1;function t(e,r){for(var n=-1,a=r.length,o=e.length;++n<a;)e[o+n]=r[n];return e}return Zp=t,Zp}var Jp,s_;function U4(){if(s_)return Jp;s_=1;var t=jP(),e=gr();function r(n,a,o){var c=a(n);return e(n)?c:t(c,o(n))}return Jp=r,Jp}var eg,o_;function W4(){if(o_)return eg;o_=1;function t(e,r){for(var n=-1,a=e==null?0:e.length,o=0,c=[];++n<a;){var u=e[n];r(u,n,e)&&(c[o++]=u)}return c}return eg=t,eg}var tg,l_;function H4(){if(l_)return tg;l_=1;function t(){return[]}return tg=t,tg}var rg,c_;function G4(){if(c_)return rg;c_=1;var t=W4(),e=H4(),r=Object.prototype,n=r.propertyIsEnumerable,a=Object.getOwnPropertySymbols,o=a?function(c){return c==null?[]:(c=Object(c),t(a(c),function(u){return n.call(c,u)}))}:e;return rg=o,rg}var ng,u_;function V4(){if(u_)return ng;u_=1;function t(e,r){for(var n=-1,a=Array(e);++n<e;)a[n]=r(n);return a}return ng=t,ng}var ag,d_;function K4(){if(d_)return ag;d_=1;var t=Hn(),e=Gn(),r="[object Arguments]";function n(a){return e(a)&&t(a)==r}return ag=n,ag}var ig,f_;function wx(){if(f_)return ig;f_=1;var t=K4(),e=Gn(),r=Object.prototype,n=r.hasOwnProperty,a=r.propertyIsEnumerable,o=t((function(){return arguments})())?t:function(c){return e(c)&&n.call(c,"callee")&&!a.call(c,"callee")};return ig=o,ig}var Qo={exports:{}},sg,m_;function Y4(){if(m_)return sg;m_=1;function t(){return!1}return sg=t,sg}Qo.exports;var h_;function SP(){return h_||(h_=1,(function(t,e){var r=Sn(),n=Y4(),a=e&&!e.nodeType&&e,o=a&&!0&&t&&!t.nodeType&&t,c=o&&o.exports===a,u=c?r.Buffer:void 0,d=u?u.isBuffer:void 0,m=d||n;t.exports=m})(Qo,Qo.exports)),Qo.exports}var og,p_;function jx(){if(p_)return og;p_=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,a){var o=typeof n;return a=a??t,!!a&&(o=="number"||o!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<a}return og=r,og}var lg,g_;function Sx(){if(g_)return lg;g_=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return lg=e,lg}var cg,y_;function X4(){if(y_)return cg;y_=1;var t=Hn(),e=Sx(),r=Gn(),n="[object Arguments]",a="[object Array]",o="[object Boolean]",c="[object Date]",u="[object Error]",d="[object Function]",m="[object Map]",p="[object Number]",h="[object Object]",y="[object RegExp]",v="[object Set]",j="[object String]",b="[object WeakMap]",w="[object ArrayBuffer]",k="[object DataView]",S="[object Float32Array]",O="[object Float64Array]",P="[object Int8Array]",N="[object Int16Array]",A="[object Int32Array]",T="[object Uint8Array]",$="[object Uint8ClampedArray]",I="[object Uint16Array]",B="[object Uint32Array]",M={};M[S]=M[O]=M[P]=M[N]=M[A]=M[T]=M[$]=M[I]=M[B]=!0,M[n]=M[a]=M[w]=M[o]=M[k]=M[c]=M[u]=M[d]=M[m]=M[p]=M[h]=M[y]=M[v]=M[j]=M[b]=!1;function q(F){return r(F)&&e(F.length)&&!!M[t(F)]}return cg=q,cg}var ug,v_;function _P(){if(v_)return ug;v_=1;function t(e){return function(r){return e(r)}}return ug=t,ug}var Zo={exports:{}};Zo.exports;var x_;function Q4(){return x_||(x_=1,(function(t,e){var r=UA(),n=e&&!e.nodeType&&e,a=n&&!0&&t&&!t.nodeType&&t,o=a&&a.exports===n,c=o&&r.process,u=(function(){try{var d=a&&a.require&&a.require("util").types;return d||c&&c.binding&&c.binding("util")}catch{}})();t.exports=u})(Zo,Zo.exports)),Zo.exports}var dg,b_;function NP(){if(b_)return dg;b_=1;var t=X4(),e=_P(),r=Q4(),n=r&&r.isTypedArray,a=n?e(n):t;return dg=a,dg}var fg,w_;function Z4(){if(w_)return fg;w_=1;var t=V4(),e=wx(),r=gr(),n=SP(),a=jx(),o=NP(),c=Object.prototype,u=c.hasOwnProperty;function d(m,p){var h=r(m),y=!h&&e(m),v=!h&&!y&&n(m),j=!h&&!y&&!v&&o(m),b=h||y||v||j,w=b?t(m.length,String):[],k=w.length;for(var S in m)(p||u.call(m,S))&&!(b&&(S=="length"||v&&(S=="offset"||S=="parent")||j&&(S=="buffer"||S=="byteLength"||S=="byteOffset")||a(S,k)))&&w.push(S);return w}return fg=d,fg}var mg,j_;function J4(){if(j_)return mg;j_=1;var t=Object.prototype;function e(r){var n=r&&r.constructor,a=typeof n=="function"&&n.prototype||t;return r===a}return mg=e,mg}var hg,S_;function kP(){if(S_)return hg;S_=1;function t(e,r){return function(n){return e(r(n))}}return hg=t,hg}var pg,__;function e$(){if(__)return pg;__=1;var t=kP(),e=t(Object.keys,Object);return pg=e,pg}var gg,N_;function t$(){if(N_)return gg;N_=1;var t=J4(),e=e$(),r=Object.prototype,n=r.hasOwnProperty;function a(o){if(!t(o))return e(o);var c=[];for(var u in Object(o))n.call(o,u)&&u!="constructor"&&c.push(u);return c}return gg=a,gg}var yg,k_;function Yl(){if(k_)return yg;k_=1;var t=lx(),e=Sx();function r(n){return n!=null&&e(n.length)&&!t(n)}return yg=r,yg}var vg,O_;function Kd(){if(O_)return vg;O_=1;var t=Z4(),e=t$(),r=Yl();function n(a){return r(a)?t(a):e(a)}return vg=n,vg}var xg,A_;function r$(){if(A_)return xg;A_=1;var t=U4(),e=G4(),r=Kd();function n(a){return t(a,r,e)}return xg=n,xg}var bg,P_;function n$(){if(P_)return bg;P_=1;var t=r$(),e=1,r=Object.prototype,n=r.hasOwnProperty;function a(o,c,u,d,m,p){var h=u&e,y=t(o),v=y.length,j=t(c),b=j.length;if(v!=b&&!h)return!1;for(var w=v;w--;){var k=y[w];if(!(h?k in c:n.call(c,k)))return!1}var S=p.get(o),O=p.get(c);if(S&&O)return S==c&&O==o;var P=!0;p.set(o,c),p.set(c,o);for(var N=h;++w<v;){k=y[w];var A=o[k],T=c[k];if(d)var $=h?d(T,A,k,c,o,p):d(A,T,k,o,c,p);if(!($===void 0?A===T||m(A,T,u,d,p):$)){P=!1;break}N||(N=k=="constructor")}if(P&&!N){var I=o.constructor,B=c.constructor;I!=B&&"constructor"in o&&"constructor"in c&&!(typeof I=="function"&&I instanceof I&&typeof B=="function"&&B instanceof B)&&(P=!1)}return p.delete(o),p.delete(c),P}return bg=a,bg}var wg,E_;function a$(){if(E_)return wg;E_=1;var t=pi(),e=Sn(),r=t(e,"DataView");return wg=r,wg}var jg,T_;function i$(){if(T_)return jg;T_=1;var t=pi(),e=Sn(),r=t(e,"Promise");return jg=r,jg}var Sg,C_;function OP(){if(C_)return Sg;C_=1;var t=pi(),e=Sn(),r=t(e,"Set");return Sg=r,Sg}var _g,I_;function s$(){if(I_)return _g;I_=1;var t=pi(),e=Sn(),r=t(e,"WeakMap");return _g=r,_g}var Ng,M_;function o$(){if(M_)return Ng;M_=1;var t=a$(),e=ux(),r=i$(),n=OP(),a=s$(),o=Hn(),c=WA(),u="[object Map]",d="[object Object]",m="[object Promise]",p="[object Set]",h="[object WeakMap]",y="[object DataView]",v=c(t),j=c(e),b=c(r),w=c(n),k=c(a),S=o;return(t&&S(new t(new ArrayBuffer(1)))!=y||e&&S(new e)!=u||r&&S(r.resolve())!=m||n&&S(new n)!=p||a&&S(new a)!=h)&&(S=function(O){var P=o(O),N=P==d?O.constructor:void 0,A=N?c(N):"";if(A)switch(A){case v:return y;case j:return u;case b:return m;case w:return p;case k:return h}return P}),Ng=S,Ng}var kg,R_;function l$(){if(R_)return kg;R_=1;var t=yP(),e=wP(),r=q4(),n=n$(),a=o$(),o=gr(),c=SP(),u=NP(),d=1,m="[object Arguments]",p="[object Array]",h="[object Object]",y=Object.prototype,v=y.hasOwnProperty;function j(b,w,k,S,O,P){var N=o(b),A=o(w),T=N?p:a(b),$=A?p:a(w);T=T==m?h:T,$=$==m?h:$;var I=T==h,B=$==h,M=T==$;if(M&&c(b)){if(!c(w))return!1;N=!0,I=!1}if(M&&!I)return P||(P=new t),N||u(b)?e(b,w,k,S,O,P):r(b,w,T,k,S,O,P);if(!(k&d)){var q=I&&v.call(b,"__wrapped__"),F=B&&v.call(w,"__wrapped__");if(q||F){var V=q?b.value():b,L=F?w.value():w;return P||(P=new t),O(V,L,k,S,P)}}return M?(P||(P=new t),n(b,w,k,S,O,P)):!1}return kg=j,kg}var Og,$_;function _x(){if($_)return Og;$_=1;var t=l$(),e=Gn();function r(n,a,o,c,u){return n===a?!0:n==null||a==null||!e(n)&&!e(a)?n!==n&&a!==a:t(n,a,o,c,r,u)}return Og=r,Og}var Ag,D_;function c$(){if(D_)return Ag;D_=1;var t=yP(),e=_x(),r=1,n=2;function a(o,c,u,d){var m=u.length,p=m,h=!d;if(o==null)return!p;for(o=Object(o);m--;){var y=u[m];if(h&&y[2]?y[1]!==o[y[0]]:!(y[0]in o))return!1}for(;++m<p;){y=u[m];var v=y[0],j=o[v],b=y[1];if(h&&y[2]){if(j===void 0&&!(v in o))return!1}else{var w=new t;if(d)var k=d(j,b,v,o,c,w);if(!(k===void 0?e(b,j,r|n,d,w):k))return!1}}return!0}return Ag=a,Ag}var Pg,L_;function AP(){if(L_)return Pg;L_=1;var t=Pa();function e(r){return r===r&&!t(r)}return Pg=e,Pg}var Eg,F_;function u$(){if(F_)return Eg;F_=1;var t=AP(),e=Kd();function r(n){for(var a=e(n),o=a.length;o--;){var c=a[o],u=n[c];a[o]=[c,u,t(u)]}return a}return Eg=r,Eg}var Tg,B_;function PP(){if(B_)return Tg;B_=1;function t(e,r){return function(n){return n==null?!1:n[e]===r&&(r!==void 0||e in Object(n))}}return Tg=t,Tg}var Cg,z_;function d$(){if(z_)return Cg;z_=1;var t=c$(),e=u$(),r=PP();function n(a){var o=e(a);return o.length==1&&o[0][2]?r(o[0][0],o[0][1]):function(c){return c===a||t(c,a,o)}}return Cg=n,Cg}var Ig,q_;function f$(){if(q_)return Ig;q_=1;function t(e,r){return e!=null&&r in Object(e)}return Ig=t,Ig}var Mg,U_;function m$(){if(U_)return Mg;U_=1;var t=VA(),e=wx(),r=gr(),n=jx(),a=Sx(),o=qd();function c(u,d,m){d=t(d,u);for(var p=-1,h=d.length,y=!1;++p<h;){var v=o(d[p]);if(!(y=u!=null&&m(u,v)))break;u=u[v]}return y||++p!=h?y:(h=u==null?0:u.length,!!h&&a(h)&&n(v,h)&&(r(u)||e(u)))}return Mg=c,Mg}var Rg,W_;function h$(){if(W_)return Rg;W_=1;var t=f$(),e=m$();function r(n,a){return n!=null&&e(n,a,t)}return Rg=r,Rg}var $g,H_;function p$(){if(H_)return $g;H_=1;var t=_x(),e=KA(),r=h$(),n=ox(),a=AP(),o=PP(),c=qd(),u=1,d=2;function m(p,h){return n(p)&&a(h)?o(c(p),h):function(y){var v=e(y,p);return v===void 0&&v===h?r(y,p):t(h,v,u|d)}}return $g=m,$g}var Dg,G_;function Vs(){if(G_)return Dg;G_=1;function t(e){return e}return Dg=t,Dg}var Lg,V_;function g$(){if(V_)return Lg;V_=1;function t(e){return function(r){return r?.[e]}}return Lg=t,Lg}var Fg,K_;function y$(){if(K_)return Fg;K_=1;var t=mx();function e(r){return function(n){return t(n,r)}}return Fg=e,Fg}var Bg,Y_;function v$(){if(Y_)return Bg;Y_=1;var t=g$(),e=y$(),r=ox(),n=qd();function a(o){return r(o)?t(n(o)):e(o)}return Bg=a,Bg}var zg,X_;function _n(){if(X_)return zg;X_=1;var t=d$(),e=p$(),r=Vs(),n=gr(),a=v$();function o(c){return typeof c=="function"?c:c==null?r:typeof c=="object"?n(c)?e(c[0],c[1]):t(c):a(c)}return zg=o,zg}var qg,Q_;function EP(){if(Q_)return qg;Q_=1;function t(e,r,n,a){for(var o=e.length,c=n+(a?1:-1);a?c--:++c<o;)if(r(e[c],c,e))return c;return-1}return qg=t,qg}var Ug,Z_;function x$(){if(Z_)return Ug;Z_=1;function t(e){return e!==e}return Ug=t,Ug}var Wg,J_;function b$(){if(J_)return Wg;J_=1;function t(e,r,n){for(var a=n-1,o=e.length;++a<o;)if(e[a]===r)return a;return-1}return Wg=t,Wg}var Hg,eN;function w$(){if(eN)return Hg;eN=1;var t=EP(),e=x$(),r=b$();function n(a,o,c){return o===o?r(a,o,c):t(a,e,c)}return Hg=n,Hg}var Gg,tN;function j$(){if(tN)return Gg;tN=1;var t=w$();function e(r,n){var a=r==null?0:r.length;return!!a&&t(r,n,0)>-1}return Gg=e,Gg}var Vg,rN;function S$(){if(rN)return Vg;rN=1;function t(e,r,n){for(var a=-1,o=e==null?0:e.length;++a<o;)if(n(r,e[a]))return!0;return!1}return Vg=t,Vg}var Kg,nN;function _$(){if(nN)return Kg;nN=1;function t(){}return Kg=t,Kg}var Yg,aN;function N$(){if(aN)return Yg;aN=1;var t=OP(),e=_$(),r=bx(),n=1/0,a=t&&1/r(new t([,-0]))[1]==n?function(o){return new t(o)}:e;return Yg=a,Yg}var Xg,iN;function k$(){if(iN)return Xg;iN=1;var t=vP(),e=j$(),r=S$(),n=bP(),a=N$(),o=bx(),c=200;function u(d,m,p){var h=-1,y=e,v=d.length,j=!0,b=[],w=b;if(p)j=!1,y=r;else if(v>=c){var k=m?null:a(d);if(k)return o(k);j=!1,y=n,w=new t}else w=m?[]:b;e:for(;++h<v;){var S=d[h],O=m?m(S):S;if(S=p||S!==0?S:0,j&&O===O){for(var P=w.length;P--;)if(w[P]===O)continue e;m&&w.push(O),b.push(S)}else y(w,O,p)||(w!==b&&w.push(O),b.push(S))}return b}return Xg=u,Xg}var Qg,sN;function O$(){if(sN)return Qg;sN=1;var t=_n(),e=k$();function r(n,a){return n&&n.length?e(n,t(a,2)):[]}return Qg=r,Qg}var A$=O$();const oN=He(A$);function TP(t,e,r){return e===!0?oN(t,r):Ae(e)?oN(t,e):t}function hs(t){"@babel/helpers - typeof";return hs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hs(t)}var P$=["ref"];function lN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function In(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lN(Object(r),!0).forEach(function(n){Yd(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function E$(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cN(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,IP(n.key),n)}}function T$(t,e,r){return e&&cN(t.prototype,e),r&&cN(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function C$(t,e,r){return e=qu(e),I$(t,CP()?Reflect.construct(e,r||[],qu(t).constructor):e.apply(t,r))}function I$(t,e){if(e&&(hs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return M$(t)}function M$(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function CP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CP=function(){return!!t})()}function qu(t){return qu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qu(t)}function R$(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&U0(t,e)}function U0(t,e){return U0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},U0(t,e)}function Yd(t,e,r){return e=IP(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function IP(t){var e=$$(t,"string");return hs(e)=="symbol"?e:e+""}function $$(t,e){if(hs(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(hs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function D$(t,e){if(t==null)return{};var r=L$(t,e),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(a=0;a<o.length;a++)n=o[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function L$(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function F$(t){return t.value}function B$(t,e){if(U.isValidElement(t))return U.cloneElement(t,e);if(typeof t=="function")return U.createElement(t,e);e.ref;var r=D$(e,P$);return U.createElement(xx,r)}var uN=1,or=(function(t){function e(){var r;E$(this,e);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=C$(this,e,[].concat(a)),Yd(r,"lastBoundingBox",{width:-1,height:-1}),r}return R$(e,t),T$(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>uN||Math.abs(a.height-this.lastBoundingBox.height)>uN)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?In({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,o=a.layout,c=a.align,u=a.verticalAlign,d=a.margin,m=a.chartWidth,p=a.chartHeight,h,y;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(c==="center"&&o==="vertical"){var v=this.getBBoxSnapshot();h={left:((m||0)-v.width)/2}}else h=c==="right"?{right:d&&d.right||0}:{left:d&&d.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(u==="middle"){var j=this.getBBoxSnapshot();y={top:((p||0)-j.height)/2}}else y=u==="bottom"?{bottom:d&&d.bottom||0}:{top:d&&d.top||0};return In(In({},h),y)}},{key:"render",value:function(){var n=this,a=this.props,o=a.content,c=a.width,u=a.height,d=a.wrapperStyle,m=a.payloadUniqBy,p=a.payload,h=In(In({position:"absolute",width:c||"auto",height:u||"auto"},this.getDefaultPosition(d)),d);return U.createElement("div",{className:"recharts-legend-wrapper",style:h,ref:function(v){n.wrapperNode=v}},B$(o,In(In({},this.props),{},{payload:TP(p,m,F$)})))}}],[{key:"getWithHeight",value:function(n,a){var o=In(In({},this.defaultProps),n.props),c=o.layout;return c==="vertical"&&ue(n.props.height)?{height:n.props.height}:c==="horizontal"?{width:n.props.width||a}:null}}])})(C.PureComponent);Yd(or,"displayName","Legend");Yd(or,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Zg,dN;function z$(){if(dN)return Zg;dN=1;var t=Kl(),e=wx(),r=gr(),n=t?t.isConcatSpreadable:void 0;function a(o){return r(o)||e(o)||!!(n&&o&&o[n])}return Zg=a,Zg}var Jg,fN;function MP(){if(fN)return Jg;fN=1;var t=jP(),e=z$();function r(n,a,o,c,u){var d=-1,m=n.length;for(o||(o=e),u||(u=[]);++d<m;){var p=n[d];a>0&&o(p)?a>1?r(p,a-1,o,c,u):t(u,p):c||(u[u.length]=p)}return u}return Jg=r,Jg}var ey,mN;function q$(){if(mN)return ey;mN=1;function t(e){return function(r,n,a){for(var o=-1,c=Object(r),u=a(r),d=u.length;d--;){var m=u[e?d:++o];if(n(c[m],m,c)===!1)break}return r}}return ey=t,ey}var ty,hN;function U$(){if(hN)return ty;hN=1;var t=q$(),e=t();return ty=e,ty}var ry,pN;function RP(){if(pN)return ry;pN=1;var t=U$(),e=Kd();function r(n,a){return n&&t(n,a,e)}return ry=r,ry}var ny,gN;function W$(){if(gN)return ny;gN=1;var t=Yl();function e(r,n){return function(a,o){if(a==null)return a;if(!t(a))return r(a,o);for(var c=a.length,u=n?c:-1,d=Object(a);(n?u--:++u<c)&&o(d[u],u,d)!==!1;);return a}}return ny=e,ny}var ay,yN;function Nx(){if(yN)return ay;yN=1;var t=RP(),e=W$(),r=e(t);return ay=r,ay}var iy,vN;function $P(){if(vN)return iy;vN=1;var t=Nx(),e=Yl();function r(n,a){var o=-1,c=e(n)?Array(n.length):[];return t(n,function(u,d,m){c[++o]=a(u,d,m)}),c}return iy=r,iy}var sy,xN;function H$(){if(xN)return sy;xN=1;function t(e,r){var n=e.length;for(e.sort(r);n--;)e[n]=e[n].value;return e}return sy=t,sy}var oy,bN;function G$(){if(bN)return oy;bN=1;var t=Ws();function e(r,n){if(r!==n){var a=r!==void 0,o=r===null,c=r===r,u=t(r),d=n!==void 0,m=n===null,p=n===n,h=t(n);if(!m&&!h&&!u&&r>n||u&&d&&p&&!m&&!h||o&&d&&p||!a&&p||!c)return 1;if(!o&&!u&&!h&&r<n||h&&a&&c&&!o&&!u||m&&a&&c||!d&&c||!p)return-1}return 0}return oy=e,oy}var ly,wN;function V$(){if(wN)return ly;wN=1;var t=G$();function e(r,n,a){for(var o=-1,c=r.criteria,u=n.criteria,d=c.length,m=a.length;++o<d;){var p=t(c[o],u[o]);if(p){if(o>=m)return p;var h=a[o];return p*(h=="desc"?-1:1)}}return r.index-n.index}return ly=e,ly}var cy,jN;function K$(){if(jN)return cy;jN=1;var t=fx(),e=mx(),r=_n(),n=$P(),a=H$(),o=_P(),c=V$(),u=Vs(),d=gr();function m(p,h,y){h.length?h=t(h,function(b){return d(b)?function(w){return e(w,b.length===1?b[0]:b)}:b}):h=[u];var v=-1;h=t(h,o(r));var j=n(p,function(b,w,k){var S=t(h,function(O){return O(b)});return{criteria:S,index:++v,value:b}});return a(j,function(b,w){return c(b,w,y)})}return cy=m,cy}var uy,SN;function Y$(){if(SN)return uy;SN=1;function t(e,r,n){switch(n.length){case 0:return e.call(r);case 1:return e.call(r,n[0]);case 2:return e.call(r,n[0],n[1]);case 3:return e.call(r,n[0],n[1],n[2])}return e.apply(r,n)}return uy=t,uy}var dy,_N;function X$(){if(_N)return dy;_N=1;var t=Y$(),e=Math.max;function r(n,a,o){return a=e(a===void 0?n.length-1:a,0),function(){for(var c=arguments,u=-1,d=e(c.length-a,0),m=Array(d);++u<d;)m[u]=c[a+u];u=-1;for(var p=Array(a+1);++u<a;)p[u]=c[u];return p[a]=o(m),t(n,this,p)}}return dy=r,dy}var fy,NN;function Q$(){if(NN)return fy;NN=1;function t(e){return function(){return e}}return fy=t,fy}var my,kN;function DP(){if(kN)return my;kN=1;var t=pi(),e=(function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}})();return my=e,my}var hy,ON;function Z$(){if(ON)return hy;ON=1;var t=Q$(),e=DP(),r=Vs(),n=e?function(a,o){return e(a,"toString",{configurable:!0,enumerable:!1,value:t(o),writable:!0})}:r;return hy=n,hy}var py,AN;function J$(){if(AN)return py;AN=1;var t=800,e=16,r=Date.now;function n(a){var o=0,c=0;return function(){var u=r(),d=e-(u-c);if(c=u,d>0){if(++o>=t)return arguments[0]}else o=0;return a.apply(void 0,arguments)}}return py=n,py}var gy,PN;function eD(){if(PN)return gy;PN=1;var t=Z$(),e=J$(),r=e(t);return gy=r,gy}var yy,EN;function tD(){if(EN)return yy;EN=1;var t=Vs(),e=X$(),r=eD();function n(a,o){return r(e(a,o,t),a+"")}return yy=n,yy}var vy,TN;function Xd(){if(TN)return vy;TN=1;var t=cx(),e=Yl(),r=jx(),n=Pa();function a(o,c,u){if(!n(u))return!1;var d=typeof c;return(d=="number"?e(u)&&r(c,u.length):d=="string"&&c in u)?t(u[c],o):!1}return vy=a,vy}var xy,CN;function rD(){if(CN)return xy;CN=1;var t=MP(),e=K$(),r=tD(),n=Xd(),a=r(function(o,c){if(o==null)return[];var u=c.length;return u>1&&n(o,c[0],c[1])?c=[]:u>2&&n(c[0],c[1],c[2])&&(c=[c[0]]),e(o,t(c,1),[])});return xy=a,xy}var nD=rD();const kx=He(nD);function pl(t){"@babel/helpers - typeof";return pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pl(t)}function W0(){return W0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},W0.apply(this,arguments)}function aD(t,e){return lD(t)||oD(t,e)||sD(t,e)||iD()}function iD(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sD(t,e){if(t){if(typeof t=="string")return IN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return IN(t,e)}}function IN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function oD(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,o,c,u=[],d=!0,m=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(p){m=!0,a=p}finally{try{if(!d&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(m)throw a}}return u}}function lD(t){if(Array.isArray(t))return t}function MN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function by(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?MN(Object(r),!0).forEach(function(n){cD(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):MN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cD(t,e,r){return e=uD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uD(t){var e=dD(t,"string");return pl(e)=="symbol"?e:e+""}function dD(t,e){if(pl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(pl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fD(t){return Array.isArray(t)&&Et(t[0])&&Et(t[1])?t.join(" ~ "):t}var mD=function(e){var r=e.separator,n=r===void 0?" : ":r,a=e.contentStyle,o=a===void 0?{}:a,c=e.itemStyle,u=c===void 0?{}:c,d=e.labelStyle,m=d===void 0?{}:d,p=e.payload,h=e.formatter,y=e.itemSorter,v=e.wrapperClassName,j=e.labelClassName,b=e.label,w=e.labelFormatter,k=e.accessibilityLayer,S=k===void 0?!1:k,O=function(){if(p&&p.length){var q={padding:0,margin:0},F=(y?kx(p,y):p).map(function(V,L){if(V.type==="none")return null;var R=by({display:"block",paddingTop:4,paddingBottom:4,color:V.color||"#000"},u),G=V.formatter||h||fD,D=V.value,W=V.name,Q=D,z=W;if(G&&Q!=null&&z!=null){var Y=G(D,W,V,L,p);if(Array.isArray(Y)){var ie=aD(Y,2);Q=ie[0],z=ie[1]}else Q=Y}return U.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(L),style:R},Et(z)?U.createElement("span",{className:"recharts-tooltip-item-name"},z):null,Et(z)?U.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,U.createElement("span",{className:"recharts-tooltip-item-value"},Q),U.createElement("span",{className:"recharts-tooltip-item-unit"},V.unit||""))});return U.createElement("ul",{className:"recharts-tooltip-item-list",style:q},F)}return null},P=by({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),N=by({margin:0},m),A=!Oe(b),T=A?b:"",$=Me("recharts-default-tooltip",v),I=Me("recharts-tooltip-label",j);A&&w&&p!==void 0&&p!==null&&(T=w(b,p));var B=S?{role:"status","aria-live":"assertive"}:{};return U.createElement("div",W0({className:$,style:P},B),U.createElement("p",{className:I,style:N},U.isValidElement(T)?T:"".concat(T)),O())};function gl(t){"@babel/helpers - typeof";return gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gl(t)}function yu(t,e,r){return e=hD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hD(t){var e=pD(t,"string");return gl(e)=="symbol"?e:e+""}function pD(t,e){if(gl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(gl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qo="recharts-tooltip-wrapper",gD={visibility:"hidden"};function yD(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return Me(qo,yu(yu(yu(yu({},"".concat(qo,"-right"),ue(r)&&e&&ue(e.x)&&r>=e.x),"".concat(qo,"-left"),ue(r)&&e&&ue(e.x)&&r<e.x),"".concat(qo,"-bottom"),ue(n)&&e&&ue(e.y)&&n>=e.y),"".concat(qo,"-top"),ue(n)&&e&&ue(e.y)&&n<e.y))}function RN(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,a=t.offsetTopLeft,o=t.position,c=t.reverseDirection,u=t.tooltipDimension,d=t.viewBox,m=t.viewBoxDimension;if(o&&ue(o[n]))return o[n];var p=r[n]-u-a,h=r[n]+a;if(e[n])return c[n]?p:h;if(c[n]){var y=p,v=d[n];return y<v?Math.max(h,d[n]):Math.max(p,d[n])}var j=h+u,b=d[n]+m;return j>b?Math.max(p,d[n]):Math.max(h,d[n])}function vD(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function xD(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,a=t.position,o=t.reverseDirection,c=t.tooltipBox,u=t.useTranslate3d,d=t.viewBox,m,p,h;return c.height>0&&c.width>0&&r?(p=RN({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:o,tooltipDimension:c.width,viewBox:d,viewBoxDimension:d.width}),h=RN({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:o,tooltipDimension:c.height,viewBox:d,viewBoxDimension:d.height}),m=vD({translateX:p,translateY:h,useTranslate3d:u})):m=gD,{cssProperties:m,cssClasses:yD({translateX:p,translateY:h,coordinate:r})}}function ps(t){"@babel/helpers - typeof";return ps=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ps(t)}function $N(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function DN(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$N(Object(r),!0).forEach(function(n){G0(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$N(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bD(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wD(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,FP(n.key),n)}}function jD(t,e,r){return e&&wD(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function SD(t,e,r){return e=Uu(e),_D(t,LP()?Reflect.construct(e,r||[],Uu(t).constructor):e.apply(t,r))}function _D(t,e){if(e&&(ps(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ND(t)}function ND(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function LP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LP=function(){return!!t})()}function Uu(t){return Uu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Uu(t)}function kD(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&H0(t,e)}function H0(t,e){return H0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},H0(t,e)}function G0(t,e,r){return e=FP(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function FP(t){var e=OD(t,"string");return ps(e)=="symbol"?e:e+""}function OD(t,e){if(ps(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ps(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var LN=1,AD=(function(t){function e(){var r;bD(this,e);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=SD(this,e,[].concat(a)),G0(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),G0(r,"handleKeyDown",function(c){if(c.key==="Escape"){var u,d,m,p;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.x)!==null&&u!==void 0?u:0,y:(m=(p=r.props.coordinate)===null||p===void 0?void 0:p.y)!==null&&m!==void 0?m:0}})}}),r}return kD(e,t),jD(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>LN||Math.abs(n.height-this.state.lastBoundingBox.height)>LN)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,o=a.active,c=a.allowEscapeViewBox,u=a.animationDuration,d=a.animationEasing,m=a.children,p=a.coordinate,h=a.hasPayload,y=a.isAnimationActive,v=a.offset,j=a.position,b=a.reverseDirection,w=a.useTranslate3d,k=a.viewBox,S=a.wrapperStyle,O=xD({allowEscapeViewBox:c,coordinate:p,offsetTopLeft:v,position:j,reverseDirection:b,tooltipBox:this.state.lastBoundingBox,useTranslate3d:w,viewBox:k}),P=O.cssClasses,N=O.cssProperties,A=DN(DN({transition:y&&o?"transform ".concat(u,"ms ").concat(d):void 0},N),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&h?"visible":"hidden",position:"absolute",top:0,left:0},S);return U.createElement("div",{tabIndex:-1,className:P,style:A,ref:function($){n.wrapperNode=$}},m)}}])})(C.PureComponent),PD=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Vn={isSsr:PD()};function gs(t){"@babel/helpers - typeof";return gs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gs(t)}function FN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function BN(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?FN(Object(r),!0).forEach(function(n){Ox(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):FN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ED(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TD(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,zP(n.key),n)}}function CD(t,e,r){return e&&TD(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ID(t,e,r){return e=Wu(e),MD(t,BP()?Reflect.construct(e,r||[],Wu(t).constructor):e.apply(t,r))}function MD(t,e){if(e&&(gs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return RD(t)}function RD(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function BP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BP=function(){return!!t})()}function Wu(t){return Wu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Wu(t)}function $D(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&V0(t,e)}function V0(t,e){return V0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},V0(t,e)}function Ox(t,e,r){return e=zP(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zP(t){var e=DD(t,"string");return gs(e)=="symbol"?e:e+""}function DD(t,e){if(gs(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(gs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function LD(t){return t.dataKey}function FD(t,e){return U.isValidElement(t)?U.cloneElement(t,e):typeof t=="function"?U.createElement(t,e):U.createElement(mD,e)}var We=(function(t){function e(){return ED(this,e),ID(this,e,arguments)}return $D(e,t),CD(e,[{key:"render",value:function(){var n=this,a=this.props,o=a.active,c=a.allowEscapeViewBox,u=a.animationDuration,d=a.animationEasing,m=a.content,p=a.coordinate,h=a.filterNull,y=a.isAnimationActive,v=a.offset,j=a.payload,b=a.payloadUniqBy,w=a.position,k=a.reverseDirection,S=a.useTranslate3d,O=a.viewBox,P=a.wrapperStyle,N=j??[];h&&N.length&&(N=TP(j.filter(function(T){return T.value!=null&&(T.hide!==!0||n.props.includeHidden)}),b,LD));var A=N.length>0;return U.createElement(AD,{allowEscapeViewBox:c,animationDuration:u,animationEasing:d,isAnimationActive:y,active:o,coordinate:p,hasPayload:A,offset:v,position:w,reverseDirection:k,useTranslate3d:S,viewBox:O,wrapperStyle:P},FD(m,BN(BN({},this.props),{},{payload:N})))}}])})(C.PureComponent);Ox(We,"displayName","Tooltip");Ox(We,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Vn.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var wy,zN;function BD(){if(zN)return wy;zN=1;var t=Sn(),e=function(){return t.Date.now()};return wy=e,wy}var jy,qN;function zD(){if(qN)return jy;qN=1;var t=/\s/;function e(r){for(var n=r.length;n--&&t.test(r.charAt(n)););return n}return jy=e,jy}var Sy,UN;function qD(){if(UN)return Sy;UN=1;var t=zD(),e=/^\s+/;function r(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return Sy=r,Sy}var _y,WN;function qP(){if(WN)return _y;WN=1;var t=qD(),e=Pa(),r=Ws(),n=NaN,a=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,c=/^0o[0-7]+$/i,u=parseInt;function d(m){if(typeof m=="number")return m;if(r(m))return n;if(e(m)){var p=typeof m.valueOf=="function"?m.valueOf():m;m=e(p)?p+"":p}if(typeof m!="string")return m===0?m:+m;m=t(m);var h=o.test(m);return h||c.test(m)?u(m.slice(2),h?2:8):a.test(m)?n:+m}return _y=d,_y}var Ny,HN;function UD(){if(HN)return Ny;HN=1;var t=Pa(),e=BD(),r=qP(),n="Expected a function",a=Math.max,o=Math.min;function c(u,d,m){var p,h,y,v,j,b,w=0,k=!1,S=!1,O=!0;if(typeof u!="function")throw new TypeError(n);d=r(d)||0,t(m)&&(k=!!m.leading,S="maxWait"in m,y=S?a(r(m.maxWait)||0,d):y,O="trailing"in m?!!m.trailing:O);function P(F){var V=p,L=h;return p=h=void 0,w=F,v=u.apply(L,V),v}function N(F){return w=F,j=setTimeout($,d),k?P(F):v}function A(F){var V=F-b,L=F-w,R=d-V;return S?o(R,y-L):R}function T(F){var V=F-b,L=F-w;return b===void 0||V>=d||V<0||S&&L>=y}function $(){var F=e();if(T(F))return I(F);j=setTimeout($,A(F))}function I(F){return j=void 0,O&&p?P(F):(p=h=void 0,v)}function B(){j!==void 0&&clearTimeout(j),w=0,p=b=h=j=void 0}function M(){return j===void 0?v:I(e())}function q(){var F=e(),V=T(F);if(p=arguments,h=this,b=F,V){if(j===void 0)return N(b);if(S)return clearTimeout(j),j=setTimeout($,d),P(b)}return j===void 0&&(j=setTimeout($,d)),v}return q.cancel=B,q.flush=M,q}return Ny=c,Ny}var ky,GN;function WD(){if(GN)return ky;GN=1;var t=UD(),e=Pa(),r="Expected a function";function n(a,o,c){var u=!0,d=!0;if(typeof a!="function")throw new TypeError(r);return e(c)&&(u="leading"in c?!!c.leading:u,d="trailing"in c?!!c.trailing:d),t(a,o,{leading:u,maxWait:o,trailing:d})}return ky=n,ky}var HD=WD();const UP=He(HD);function yl(t){"@babel/helpers - typeof";return yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yl(t)}function VN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function vu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?VN(Object(r),!0).forEach(function(n){GD(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):VN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function GD(t,e,r){return e=VD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function VD(t){var e=KD(t,"string");return yl(e)=="symbol"?e:e+""}function KD(t,e){if(yl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(yl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function YD(t,e){return JD(t)||ZD(t,e)||QD(t,e)||XD()}function XD(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QD(t,e){if(t){if(typeof t=="string")return KN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return KN(t,e)}}function KN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ZD(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,o,c,u=[],d=!0,m=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(p){m=!0,a=p}finally{try{if(!d&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(m)throw a}}return u}}function JD(t){if(Array.isArray(t))return t}var St=C.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,a=n===void 0?{width:-1,height:-1}:n,o=t.width,c=o===void 0?"100%":o,u=t.height,d=u===void 0?"100%":u,m=t.minWidth,p=m===void 0?0:m,h=t.minHeight,y=t.maxHeight,v=t.children,j=t.debounce,b=j===void 0?0:j,w=t.id,k=t.className,S=t.onResize,O=t.style,P=O===void 0?{}:O,N=C.useRef(null),A=C.useRef();A.current=S,C.useImperativeHandle(e,function(){return Object.defineProperty(N.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),N.current},configurable:!0})});var T=C.useState({containerWidth:a.width,containerHeight:a.height}),$=YD(T,2),I=$[0],B=$[1],M=C.useCallback(function(F,V){B(function(L){var R=Math.round(F),G=Math.round(V);return L.containerWidth===R&&L.containerHeight===G?L:{containerWidth:R,containerHeight:G}})},[]);C.useEffect(function(){var F=function(W){var Q,z=W[0].contentRect,Y=z.width,ie=z.height;M(Y,ie),(Q=A.current)===null||Q===void 0||Q.call(A,Y,ie)};b>0&&(F=UP(F,b,{trailing:!0,leading:!1}));var V=new ResizeObserver(F),L=N.current.getBoundingClientRect(),R=L.width,G=L.height;return M(R,G),V.observe(N.current),function(){V.disconnect()}},[M,b]);var q=C.useMemo(function(){var F=I.containerWidth,V=I.containerHeight;if(F<0||V<0)return null;sn(Ja(c)||Ja(d),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,c,d),sn(!r||r>0,"The aspect(%s) must be greater than zero.",r);var L=Ja(c)?F:c,R=Ja(d)?V:d;r&&r>0&&(L?R=L/r:R&&(L=R*r),y&&R>y&&(R=y)),sn(L>0||R>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,L,R,c,d,p,h,r);var G=!Array.isArray(v)&&Fn(v.type).endsWith("Chart");return U.Children.map(v,function(D){return U.isValidElement(D)?C.cloneElement(D,vu({width:L,height:R},G?{style:vu({height:"100%",width:"100%",maxHeight:R,maxWidth:L},D.props.style)}:{})):D})},[r,v,d,y,h,p,I,c]);return U.createElement("div",{id:w?"".concat(w):void 0,className:Me("recharts-responsive-container",k),style:vu(vu({},P),{},{width:c,height:d,minWidth:p,minHeight:h,maxHeight:y}),ref:N},q)}),gi=function(e){return null};gi.displayName="Cell";function vl(t){"@babel/helpers - typeof";return vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vl(t)}function YN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function K0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?YN(Object(r),!0).forEach(function(n){e5(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):YN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function e5(t,e,r){return e=t5(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function t5(t){var e=r5(t,"string");return vl(e)=="symbol"?e:e+""}function r5(t,e){if(vl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(vl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Gi={widthCache:{},cacheCount:0},n5=2e3,a5={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},XN="recharts_measurement_span";function i5(t){var e=K0({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var tl=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Vn.isSsr)return{width:0,height:0};var n=i5(r),a=JSON.stringify({text:e,copyStyle:n});if(Gi.widthCache[a])return Gi.widthCache[a];try{var o=document.getElementById(XN);o||(o=document.createElement("span"),o.setAttribute("id",XN),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var c=K0(K0({},a5),n);Object.assign(o.style,c),o.textContent="".concat(e);var u=o.getBoundingClientRect(),d={width:u.width,height:u.height};return Gi.widthCache[a]=d,++Gi.cacheCount>n5&&(Gi.cacheCount=0,Gi.widthCache={}),d}catch{return{width:0,height:0}}},s5=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function xl(t){"@babel/helpers - typeof";return xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xl(t)}function Hu(t,e){return u5(t)||c5(t,e)||l5(t,e)||o5()}function o5(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function l5(t,e){if(t){if(typeof t=="string")return QN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return QN(t,e)}}function QN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function c5(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,o,c,u=[],d=!0,m=!1;try{if(o=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(p){m=!0,a=p}finally{try{if(!d&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(m)throw a}}return u}}function u5(t){if(Array.isArray(t))return t}function d5(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ZN(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,m5(n.key),n)}}function f5(t,e,r){return e&&ZN(t.prototype,e),r&&ZN(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function m5(t){var e=h5(t,"string");return xl(e)=="symbol"?e:e+""}function h5(t,e){if(xl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(xl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var JN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,e2=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,p5=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,g5=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,WP={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},y5=Object.keys(WP),Zi="NaN";function v5(t,e){return t*WP[e]}var xu=(function(){function t(e,r){d5(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!p5.test(r)&&(this.num=NaN,this.unit=""),y5.includes(r)&&(this.num=v5(e,r),this.unit="px")}return f5(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=g5.exec(r))!==null&&n!==void 0?n:[],o=Hu(a,3),c=o[1],u=o[2];return new t(parseFloat(c),u??"")}}])})();function HP(t){if(t.includes(Zi))return Zi;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=JN.exec(e))!==null&&r!==void 0?r:[],a=Hu(n,4),o=a[1],c=a[2],u=a[3],d=xu.parse(o??""),m=xu.parse(u??""),p=c==="*"?d.multiply(m):d.divide(m);if(p.isNaN())return Zi;e=e.replace(JN,p.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var h,y=(h=e2.exec(e))!==null&&h!==void 0?h:[],v=Hu(y,4),j=v[1],b=v[2],w=v[3],k=xu.parse(j??""),S=xu.parse(w??""),O=b==="+"?k.add(S):k.subtract(S);if(O.isNaN())return Zi;e=e.replace(e2,O.toString())}return e}var t2=/\(([^()]*)\)/;function x5(t){for(var e=t;e.includes("(");){var r=t2.exec(e),n=Hu(r,2),a=n[1];e=e.replace(t2,HP(a))}return e}function b5(t){var e=t.replace(/\s+/g,"");return e=x5(e),e=HP(e),e}function w5(t){try{return b5(t)}catch{return Zi}}function Oy(t){var e=w5(t.slice(5,-1));return e===Zi?"":e}var j5=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],S5=["dx","dy","angle","className","breakAll"];function Y0(){return Y0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Y0.apply(this,arguments)}function r2(t,e){if(t==null)return{};var r=_5(t,e),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(a=0;a<o.length;a++)n=o[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function _5(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function n2(t,e){return A5(t)||O5(t,e)||k5(t,e)||N5()}function N5(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function k5(t,e){if(t){if(typeof t=="string")return a2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a2(t,e)}}function a2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function O5(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,o,c,u=[],d=!0,m=!1;try{if(o=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(p){m=!0,a=p}finally{try{if(!d&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(m)throw a}}return u}}function A5(t){if(Array.isArray(t))return t}var GP=/[ \f\n\r\t\v\u2028\u2029]+/,VP=function(e){var r=e.children,n=e.breakAll,a=e.style;try{var o=[];Oe(r)||(n?o=r.toString().split(""):o=r.toString().split(GP));var c=o.map(function(d){return{word:d,width:tl(d,a).width}}),u=n?0:tl(" ",a).width;return{wordsWithComputedWidth:c,spaceWidth:u}}catch{return null}},P5=function(e,r,n,a,o){var c=e.maxLines,u=e.children,d=e.style,m=e.breakAll,p=ue(c),h=u,y=function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return L.reduce(function(R,G){var D=G.word,W=G.width,Q=R[R.length-1];if(Q&&(a==null||o||Q.width+W+n<Number(a)))Q.words.push(D),Q.width+=W+n;else{var z={words:[D],width:W};R.push(z)}return R},[])},v=y(r),j=function(L){return L.reduce(function(R,G){return R.width>G.width?R:G})};if(!p)return v;for(var b="…",w=function(L){var R=h.slice(0,L),G=VP({breakAll:m,style:d,children:R+b}).wordsWithComputedWidth,D=y(G),W=D.length>c||j(D).width>Number(a);return[W,D]},k=0,S=h.length-1,O=0,P;k<=S&&O<=h.length-1;){var N=Math.floor((k+S)/2),A=N-1,T=w(A),$=n2(T,2),I=$[0],B=$[1],M=w(N),q=n2(M,1),F=q[0];if(!I&&!F&&(k=N+1),I&&F&&(S=N-1),!I&&F){P=B;break}O++}return P||v},i2=function(e){var r=Oe(e)?[]:e.toString().split(GP);return[{words:r}]},E5=function(e){var r=e.width,n=e.scaleToFit,a=e.children,o=e.style,c=e.breakAll,u=e.maxLines;if((r||n)&&!Vn.isSsr){var d,m,p=VP({breakAll:c,children:a,style:o});if(p){var h=p.wordsWithComputedWidth,y=p.spaceWidth;d=h,m=y}else return i2(a);return P5({breakAll:c,children:a,maxLines:u,style:o},d,m,r,n)}return i2(a)},s2="#808080",ci=function(e){var r=e.x,n=r===void 0?0:r,a=e.y,o=a===void 0?0:a,c=e.lineHeight,u=c===void 0?"1em":c,d=e.capHeight,m=d===void 0?"0.71em":d,p=e.scaleToFit,h=p===void 0?!1:p,y=e.textAnchor,v=y===void 0?"start":y,j=e.verticalAnchor,b=j===void 0?"end":j,w=e.fill,k=w===void 0?s2:w,S=r2(e,j5),O=C.useMemo(function(){return E5({breakAll:S.breakAll,children:S.children,maxLines:S.maxLines,scaleToFit:h,style:S.style,width:S.width})},[S.breakAll,S.children,S.maxLines,h,S.style,S.width]),P=S.dx,N=S.dy,A=S.angle,T=S.className,$=S.breakAll,I=r2(S,S5);if(!Et(n)||!Et(o))return null;var B=n+(ue(P)?P:0),M=o+(ue(N)?N:0),q;switch(b){case"start":q=Oy("calc(".concat(m,")"));break;case"middle":q=Oy("calc(".concat((O.length-1)/2," * -").concat(u," + (").concat(m," / 2))"));break;default:q=Oy("calc(".concat(O.length-1," * -").concat(u,")"));break}var F=[];if(h){var V=O[0].width,L=S.width;F.push("scale(".concat((ue(L)?L/V:1)/V,")"))}return A&&F.push("rotate(".concat(A,", ").concat(B,", ").concat(M,")")),F.length&&(I.transform=F.join(" ")),U.createElement("text",Y0({},we(I,!0),{x:B,y:M,className:Me("recharts-text",T),textAnchor:v,fill:k.includes("url")?s2:k}),O.map(function(R,G){var D=R.words.join($?"":" ");return U.createElement("tspan",{x:B,dy:G===0?q:u,key:"".concat(D,"-").concat(G)},D)}))};function Sa(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function T5(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Ax(t){let e,r,n;t.length!==2?(e=Sa,r=(u,d)=>Sa(t(u),d),n=(u,d)=>t(u)-d):(e=t===Sa||t===T5?t:C5,r=t,n=t);function a(u,d,m=0,p=u.length){if(m<p){if(e(d,d)!==0)return p;do{const h=m+p>>>1;r(u[h],d)<0?m=h+1:p=h}while(m<p)}return m}function o(u,d,m=0,p=u.length){if(m<p){if(e(d,d)!==0)return p;do{const h=m+p>>>1;r(u[h],d)<=0?m=h+1:p=h}while(m<p)}return m}function c(u,d,m=0,p=u.length){const h=a(u,d,m,p-1);return h>m&&n(u[h-1],d)>-n(u[h],d)?h-1:h}return{left:a,center:c,right:o}}function C5(){return 0}function KP(t){return t===null?NaN:+t}function*I5(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const M5=Ax(Sa),Xl=M5.right;Ax(KP).center;class o2 extends Map{constructor(e,r=D5){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,a]of e)this.set(n,a)}get(e){return super.get(l2(this,e))}has(e){return super.has(l2(this,e))}set(e,r){return super.set(R5(this,e),r)}delete(e){return super.delete($5(this,e))}}function l2({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function R5({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function $5({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function D5(t){return t!==null&&typeof t=="object"?t.valueOf():t}function L5(t=Sa){if(t===Sa)return YP;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function YP(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const F5=Math.sqrt(50),B5=Math.sqrt(10),z5=Math.sqrt(2);function Gu(t,e,r){const n=(e-t)/Math.max(0,r),a=Math.floor(Math.log10(n)),o=n/Math.pow(10,a),c=o>=F5?10:o>=B5?5:o>=z5?2:1;let u,d,m;return a<0?(m=Math.pow(10,-a)/c,u=Math.round(t*m),d=Math.round(e*m),u/m<t&&++u,d/m>e&&--d,m=-m):(m=Math.pow(10,a)*c,u=Math.round(t/m),d=Math.round(e/m),u*m<t&&++u,d*m>e&&--d),d<u&&.5<=r&&r<2?Gu(t,e,r*2):[u,d,m]}function X0(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[a,o,c]=n?Gu(e,t,r):Gu(t,e,r);if(!(o>=a))return[];const u=o-a+1,d=new Array(u);if(n)if(c<0)for(let m=0;m<u;++m)d[m]=(o-m)/-c;else for(let m=0;m<u;++m)d[m]=(o-m)*c;else if(c<0)for(let m=0;m<u;++m)d[m]=(a+m)/-c;else for(let m=0;m<u;++m)d[m]=(a+m)*c;return d}function Q0(t,e,r){return e=+e,t=+t,r=+r,Gu(t,e,r)[2]}function Z0(t,e,r){e=+e,t=+t,r=+r;const n=e<t,a=n?Q0(e,t,r):Q0(t,e,r);return(n?-1:1)*(a<0?1/-a:a)}function c2(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function u2(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function XP(t,e,r=0,n=1/0,a){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(a=a===void 0?YP:L5(a);n>r;){if(n-r>600){const d=n-r+1,m=e-r+1,p=Math.log(d),h=.5*Math.exp(2*p/3),y=.5*Math.sqrt(p*h*(d-h)/d)*(m-d/2<0?-1:1),v=Math.max(r,Math.floor(e-m*h/d+y)),j=Math.min(n,Math.floor(e+(d-m)*h/d+y));XP(t,e,v,j,a)}const o=t[e];let c=r,u=n;for(Uo(t,r,e),a(t[n],o)>0&&Uo(t,r,n);c<u;){for(Uo(t,c,u),++c,--u;a(t[c],o)<0;)++c;for(;a(t[u],o)>0;)--u}a(t[r],o)===0?Uo(t,r,u):(++u,Uo(t,u,n)),u<=e&&(r=u+1),e<=u&&(n=u-1)}return t}function Uo(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function q5(t,e,r){if(t=Float64Array.from(I5(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return u2(t);if(e>=1)return c2(t);var n,a=(n-1)*e,o=Math.floor(a),c=c2(XP(t,o).subarray(0,o+1)),u=u2(t.subarray(o+1));return c+(u-c)*(a-o)}}function U5(t,e,r=KP){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,a=(n-1)*e,o=Math.floor(a),c=+r(t[o],o,t),u=+r(t[o+1],o+1,t);return c+(u-c)*(a-o)}}function W5(t,e,r){t=+t,e=+e,r=(a=arguments.length)<2?(e=t,t=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((e-t)/r))|0,o=new Array(a);++n<a;)o[n]=t+n*r;return o}function Vr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Kn(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const J0=Symbol("implicit");function Px(){var t=new o2,e=[],r=[],n=J0;function a(o){let c=t.get(o);if(c===void 0){if(n!==J0)return n;t.set(o,c=e.push(o)-1)}return r[c%r.length]}return a.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new o2;for(const c of o)t.has(c)||t.set(c,e.push(c)-1);return a},a.range=function(o){return arguments.length?(r=Array.from(o),a):r.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.copy=function(){return Px(e,r).unknown(n)},Vr.apply(a,arguments),a}function bl(){var t=Px().unknown(void 0),e=t.domain,r=t.range,n=0,a=1,o,c,u=!1,d=0,m=0,p=.5;delete t.unknown;function h(){var y=e().length,v=a<n,j=v?a:n,b=v?n:a;o=(b-j)/Math.max(1,y-d+m*2),u&&(o=Math.floor(o)),j+=(b-j-o*(y-d))*p,c=o*(1-d),u&&(j=Math.round(j),c=Math.round(c));var w=W5(y).map(function(k){return j+o*k});return r(v?w.reverse():w)}return t.domain=function(y){return arguments.length?(e(y),h()):e()},t.range=function(y){return arguments.length?([n,a]=y,n=+n,a=+a,h()):[n,a]},t.rangeRound=function(y){return[n,a]=y,n=+n,a=+a,u=!0,h()},t.bandwidth=function(){return c},t.step=function(){return o},t.round=function(y){return arguments.length?(u=!!y,h()):u},t.padding=function(y){return arguments.length?(d=Math.min(1,m=+y),h()):d},t.paddingInner=function(y){return arguments.length?(d=Math.min(1,y),h()):d},t.paddingOuter=function(y){return arguments.length?(m=+y,h()):m},t.align=function(y){return arguments.length?(p=Math.max(0,Math.min(1,y)),h()):p},t.copy=function(){return bl(e(),[n,a]).round(u).paddingInner(d).paddingOuter(m).align(p)},Vr.apply(h(),arguments)}function QP(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return QP(e())},t}function rl(){return QP(bl.apply(null,arguments).paddingInner(1))}function Ex(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function ZP(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function Ql(){}var wl=.7,Vu=1/wl,ls="\\s*([+-]?\\d+)\\s*",jl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",bn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",H5=/^#([0-9a-f]{3,8})$/,G5=new RegExp(`^rgb\\(${ls},${ls},${ls}\\)$`),V5=new RegExp(`^rgb\\(${bn},${bn},${bn}\\)$`),K5=new RegExp(`^rgba\\(${ls},${ls},${ls},${jl}\\)$`),Y5=new RegExp(`^rgba\\(${bn},${bn},${bn},${jl}\\)$`),X5=new RegExp(`^hsl\\(${jl},${bn},${bn}\\)$`),Q5=new RegExp(`^hsla\\(${jl},${bn},${bn},${jl}\\)$`),d2={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ex(Ql,Sl,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:f2,formatHex:f2,formatHex8:Z5,formatHsl:J5,formatRgb:m2,toString:m2});function f2(){return this.rgb().formatHex()}function Z5(){return this.rgb().formatHex8()}function J5(){return JP(this).formatHsl()}function m2(){return this.rgb().formatRgb()}function Sl(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=H5.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?h2(e):r===3?new pr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?bu(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?bu(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=G5.exec(t))?new pr(e[1],e[2],e[3],1):(e=V5.exec(t))?new pr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=K5.exec(t))?bu(e[1],e[2],e[3],e[4]):(e=Y5.exec(t))?bu(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=X5.exec(t))?y2(e[1],e[2]/100,e[3]/100,1):(e=Q5.exec(t))?y2(e[1],e[2]/100,e[3]/100,e[4]):d2.hasOwnProperty(t)?h2(d2[t]):t==="transparent"?new pr(NaN,NaN,NaN,0):null}function h2(t){return new pr(t>>16&255,t>>8&255,t&255,1)}function bu(t,e,r,n){return n<=0&&(t=e=r=NaN),new pr(t,e,r,n)}function e6(t){return t instanceof Ql||(t=Sl(t)),t?(t=t.rgb(),new pr(t.r,t.g,t.b,t.opacity)):new pr}function ev(t,e,r,n){return arguments.length===1?e6(t):new pr(t,e,r,n??1)}function pr(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}Ex(pr,ev,ZP(Ql,{brighter(t){return t=t==null?Vu:Math.pow(Vu,t),new pr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?wl:Math.pow(wl,t),new pr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new pr(ai(this.r),ai(this.g),ai(this.b),Ku(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:p2,formatHex:p2,formatHex8:t6,formatRgb:g2,toString:g2}));function p2(){return`#${ei(this.r)}${ei(this.g)}${ei(this.b)}`}function t6(){return`#${ei(this.r)}${ei(this.g)}${ei(this.b)}${ei((isNaN(this.opacity)?1:this.opacity)*255)}`}function g2(){const t=Ku(this.opacity);return`${t===1?"rgb(":"rgba("}${ai(this.r)}, ${ai(this.g)}, ${ai(this.b)}${t===1?")":`, ${t})`}`}function Ku(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ai(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function ei(t){return t=ai(t),(t<16?"0":"")+t.toString(16)}function y2(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new an(t,e,r,n)}function JP(t){if(t instanceof an)return new an(t.h,t.s,t.l,t.opacity);if(t instanceof Ql||(t=Sl(t)),!t)return new an;if(t instanceof an)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,a=Math.min(e,r,n),o=Math.max(e,r,n),c=NaN,u=o-a,d=(o+a)/2;return u?(e===o?c=(r-n)/u+(r<n)*6:r===o?c=(n-e)/u+2:c=(e-r)/u+4,u/=d<.5?o+a:2-o-a,c*=60):u=d>0&&d<1?0:c,new an(c,u,d,t.opacity)}function r6(t,e,r,n){return arguments.length===1?JP(t):new an(t,e,r,n??1)}function an(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}Ex(an,r6,ZP(Ql,{brighter(t){return t=t==null?Vu:Math.pow(Vu,t),new an(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?wl:Math.pow(wl,t),new an(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,a=2*r-n;return new pr(Ay(t>=240?t-240:t+120,a,n),Ay(t,a,n),Ay(t<120?t+240:t-120,a,n),this.opacity)},clamp(){return new an(v2(this.h),wu(this.s),wu(this.l),Ku(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Ku(this.opacity);return`${t===1?"hsl(":"hsla("}${v2(this.h)}, ${wu(this.s)*100}%, ${wu(this.l)*100}%${t===1?")":`, ${t})`}`}}));function v2(t){return t=(t||0)%360,t<0?t+360:t}function wu(t){return Math.max(0,Math.min(1,t||0))}function Ay(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const Tx=t=>()=>t;function n6(t,e){return function(r){return t+r*e}}function a6(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function i6(t){return(t=+t)==1?eE:function(e,r){return r-e?a6(e,r,t):Tx(isNaN(e)?r:e)}}function eE(t,e){var r=e-t;return r?n6(t,r):Tx(isNaN(t)?e:t)}const x2=(function t(e){var r=i6(e);function n(a,o){var c=r((a=ev(a)).r,(o=ev(o)).r),u=r(a.g,o.g),d=r(a.b,o.b),m=eE(a.opacity,o.opacity);return function(p){return a.r=c(p),a.g=u(p),a.b=d(p),a.opacity=m(p),a+""}}return n.gamma=t,n})(1);function s6(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),a;return function(o){for(a=0;a<r;++a)n[a]=t[a]*(1-o)+e[a]*o;return n}}function o6(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function l6(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,a=new Array(n),o=new Array(r),c;for(c=0;c<n;++c)a[c]=Ks(t[c],e[c]);for(;c<r;++c)o[c]=e[c];return function(u){for(c=0;c<n;++c)o[c]=a[c](u);return o}}function c6(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function Yu(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function u6(t,e){var r={},n={},a;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(a in e)a in t?r[a]=Ks(t[a],e[a]):n[a]=e[a];return function(o){for(a in r)n[a]=r[a](o);return n}}var tv=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Py=new RegExp(tv.source,"g");function d6(t){return function(){return t}}function f6(t){return function(e){return t(e)+""}}function m6(t,e){var r=tv.lastIndex=Py.lastIndex=0,n,a,o,c=-1,u=[],d=[];for(t=t+"",e=e+"";(n=tv.exec(t))&&(a=Py.exec(e));)(o=a.index)>r&&(o=e.slice(r,o),u[c]?u[c]+=o:u[++c]=o),(n=n[0])===(a=a[0])?u[c]?u[c]+=a:u[++c]=a:(u[++c]=null,d.push({i:c,x:Yu(n,a)})),r=Py.lastIndex;return r<e.length&&(o=e.slice(r),u[c]?u[c]+=o:u[++c]=o),u.length<2?d[0]?f6(d[0].x):d6(e):(e=d.length,function(m){for(var p=0,h;p<e;++p)u[(h=d[p]).i]=h.x(m);return u.join("")})}function Ks(t,e){var r=typeof e,n;return e==null||r==="boolean"?Tx(e):(r==="number"?Yu:r==="string"?(n=Sl(e))?(e=n,x2):m6:e instanceof Sl?x2:e instanceof Date?c6:o6(e)?s6:Array.isArray(e)?l6:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?u6:Yu)(t,e)}function Cx(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function h6(t,e){e===void 0&&(e=t,t=Ks);for(var r=0,n=e.length-1,a=e[0],o=new Array(n<0?0:n);r<n;)o[r]=t(a,a=e[++r]);return function(c){var u=Math.max(0,Math.min(n-1,Math.floor(c*=n)));return o[u](c-u)}}function p6(t){return function(){return t}}function Xu(t){return+t}var b2=[0,1];function ar(t){return t}function rv(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:p6(isNaN(e)?NaN:.5)}function g6(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function y6(t,e,r){var n=t[0],a=t[1],o=e[0],c=e[1];return a<n?(n=rv(a,n),o=r(c,o)):(n=rv(n,a),o=r(o,c)),function(u){return o(n(u))}}function v6(t,e,r){var n=Math.min(t.length,e.length)-1,a=new Array(n),o=new Array(n),c=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++c<n;)a[c]=rv(t[c],t[c+1]),o[c]=r(e[c],e[c+1]);return function(u){var d=Xl(t,u,1,n)-1;return o[d](a[d](u))}}function Zl(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Qd(){var t=b2,e=b2,r=Ks,n,a,o,c=ar,u,d,m;function p(){var y=Math.min(t.length,e.length);return c!==ar&&(c=g6(t[0],t[y-1])),u=y>2?v6:y6,d=m=null,h}function h(y){return y==null||isNaN(y=+y)?o:(d||(d=u(t.map(n),e,r)))(n(c(y)))}return h.invert=function(y){return c(a((m||(m=u(e,t.map(n),Yu)))(y)))},h.domain=function(y){return arguments.length?(t=Array.from(y,Xu),p()):t.slice()},h.range=function(y){return arguments.length?(e=Array.from(y),p()):e.slice()},h.rangeRound=function(y){return e=Array.from(y),r=Cx,p()},h.clamp=function(y){return arguments.length?(c=y?!0:ar,p()):c!==ar},h.interpolate=function(y){return arguments.length?(r=y,p()):r},h.unknown=function(y){return arguments.length?(o=y,h):o},function(y,v){return n=y,a=v,p()}}function Ix(){return Qd()(ar,ar)}function x6(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Qu(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function ys(t){return t=Qu(Math.abs(t)),t?t[1]:NaN}function b6(t,e){return function(r,n){for(var a=r.length,o=[],c=0,u=t[0],d=0;a>0&&u>0&&(d+u+1>n&&(u=Math.max(1,n-d)),o.push(r.substring(a-=u,a+u)),!((d+=u+1)>n));)u=t[c=(c+1)%t.length];return o.reverse().join(e)}}function w6(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var j6=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function _l(t){if(!(e=j6.exec(t)))throw new Error("invalid format: "+t);var e;return new Mx({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}_l.prototype=Mx.prototype;function Mx(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Mx.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function S6(t){e:for(var e=t.length,r=1,n=-1,a;r<e;++r)switch(t[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(a+1):t}var tE;function _6(t,e){var r=Qu(t,e);if(!r)return t+"";var n=r[0],a=r[1],o=a-(tE=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,c=n.length;return o===c?n:o>c?n+new Array(o-c+1).join("0"):o>0?n.slice(0,o)+"."+n.slice(o):"0."+new Array(1-o).join("0")+Qu(t,Math.max(0,e+o-1))[0]}function w2(t,e){var r=Qu(t,e);if(!r)return t+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const j2={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:x6,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>w2(t*100,e),r:w2,s:_6,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function S2(t){return t}var _2=Array.prototype.map,N2=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function N6(t){var e=t.grouping===void 0||t.thousands===void 0?S2:b6(_2.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",a=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?S2:w6(_2.call(t.numerals,String)),c=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"−":t.minus+"",d=t.nan===void 0?"NaN":t.nan+"";function m(h){h=_l(h);var y=h.fill,v=h.align,j=h.sign,b=h.symbol,w=h.zero,k=h.width,S=h.comma,O=h.precision,P=h.trim,N=h.type;N==="n"?(S=!0,N="g"):j2[N]||(O===void 0&&(O=12),P=!0,N="g"),(w||y==="0"&&v==="=")&&(w=!0,y="0",v="=");var A=b==="$"?r:b==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",T=b==="$"?n:/[%p]/.test(N)?c:"",$=j2[N],I=/[defgprs%]/.test(N);O=O===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,O)):Math.max(0,Math.min(20,O));function B(M){var q=A,F=T,V,L,R;if(N==="c")F=$(M)+F,M="";else{M=+M;var G=M<0||1/M<0;if(M=isNaN(M)?d:$(Math.abs(M),O),P&&(M=S6(M)),G&&+M==0&&j!=="+"&&(G=!1),q=(G?j==="("?j:u:j==="-"||j==="("?"":j)+q,F=(N==="s"?N2[8+tE/3]:"")+F+(G&&j==="("?")":""),I){for(V=-1,L=M.length;++V<L;)if(R=M.charCodeAt(V),48>R||R>57){F=(R===46?a+M.slice(V+1):M.slice(V))+F,M=M.slice(0,V);break}}}S&&!w&&(M=e(M,1/0));var D=q.length+M.length+F.length,W=D<k?new Array(k-D+1).join(y):"";switch(S&&w&&(M=e(W+M,W.length?k-F.length:1/0),W=""),v){case"<":M=q+M+F+W;break;case"=":M=q+W+M+F;break;case"^":M=W.slice(0,D=W.length>>1)+q+M+F+W.slice(D);break;default:M=W+q+M+F;break}return o(M)}return B.toString=function(){return h+""},B}function p(h,y){var v=m((h=_l(h),h.type="f",h)),j=Math.max(-8,Math.min(8,Math.floor(ys(y)/3)))*3,b=Math.pow(10,-j),w=N2[8+j/3];return function(k){return v(b*k)+w}}return{format:m,formatPrefix:p}}var ju,Rx,rE;k6({thousands:",",grouping:[3],currency:["$",""]});function k6(t){return ju=N6(t),Rx=ju.format,rE=ju.formatPrefix,ju}function O6(t){return Math.max(0,-ys(Math.abs(t)))}function A6(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ys(e)/3)))*3-ys(Math.abs(t)))}function P6(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,ys(e)-ys(t))+1}function nE(t,e,r,n){var a=Z0(t,e,r),o;switch(n=_l(n??",f"),n.type){case"s":{var c=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(o=A6(a,c))&&(n.precision=o),rE(n,c)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(o=P6(a,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=o-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(o=O6(a))&&(n.precision=o-(n.type==="%")*2);break}}return Rx(n)}function Ta(t){var e=t.domain;return t.ticks=function(r){var n=e();return X0(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var a=e();return nE(a[0],a[a.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),a=0,o=n.length-1,c=n[a],u=n[o],d,m,p=10;for(u<c&&(m=c,c=u,u=m,m=a,a=o,o=m);p-- >0;){if(m=Q0(c,u,r),m===d)return n[a]=c,n[o]=u,e(n);if(m>0)c=Math.floor(c/m)*m,u=Math.ceil(u/m)*m;else if(m<0)c=Math.ceil(c*m)/m,u=Math.floor(u*m)/m;else break;d=m}return t},t}function Zu(){var t=Ix();return t.copy=function(){return Zl(t,Zu())},Vr.apply(t,arguments),Ta(t)}function aE(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,Xu),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return aE(t).unknown(e)},t=arguments.length?Array.from(t,Xu):[0,1],Ta(r)}function iE(t,e){t=t.slice();var r=0,n=t.length-1,a=t[r],o=t[n],c;return o<a&&(c=r,r=n,n=c,c=a,a=o,o=c),t[r]=e.floor(a),t[n]=e.ceil(o),t}function k2(t){return Math.log(t)}function O2(t){return Math.exp(t)}function E6(t){return-Math.log(-t)}function T6(t){return-Math.exp(-t)}function C6(t){return isFinite(t)?+("1e"+t):t<0?0:t}function I6(t){return t===10?C6:t===Math.E?Math.exp:e=>Math.pow(t,e)}function M6(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function A2(t){return(e,r)=>-t(-e,r)}function $x(t){const e=t(k2,O2),r=e.domain;let n=10,a,o;function c(){return a=M6(n),o=I6(n),r()[0]<0?(a=A2(a),o=A2(o),t(E6,T6)):t(k2,O2),e}return e.base=function(u){return arguments.length?(n=+u,c()):n},e.domain=function(u){return arguments.length?(r(u),c()):r()},e.ticks=u=>{const d=r();let m=d[0],p=d[d.length-1];const h=p<m;h&&([m,p]=[p,m]);let y=a(m),v=a(p),j,b;const w=u==null?10:+u;let k=[];if(!(n%1)&&v-y<w){if(y=Math.floor(y),v=Math.ceil(v),m>0){for(;y<=v;++y)for(j=1;j<n;++j)if(b=y<0?j/o(-y):j*o(y),!(b<m)){if(b>p)break;k.push(b)}}else for(;y<=v;++y)for(j=n-1;j>=1;--j)if(b=y>0?j/o(-y):j*o(y),!(b<m)){if(b>p)break;k.push(b)}k.length*2<w&&(k=X0(m,p,w))}else k=X0(y,v,Math.min(v-y,w)).map(o);return h?k.reverse():k},e.tickFormat=(u,d)=>{if(u==null&&(u=10),d==null&&(d=n===10?"s":","),typeof d!="function"&&(!(n%1)&&(d=_l(d)).precision==null&&(d.trim=!0),d=Rx(d)),u===1/0)return d;const m=Math.max(1,n*u/e.ticks().length);return p=>{let h=p/o(Math.round(a(p)));return h*n<n-.5&&(h*=n),h<=m?d(p):""}},e.nice=()=>r(iE(r(),{floor:u=>o(Math.floor(a(u))),ceil:u=>o(Math.ceil(a(u)))})),e}function sE(){const t=$x(Qd()).domain([1,10]);return t.copy=()=>Zl(t,sE()).base(t.base()),Vr.apply(t,arguments),t}function P2(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function E2(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function Dx(t){var e=1,r=t(P2(e),E2(e));return r.constant=function(n){return arguments.length?t(P2(e=+n),E2(e)):e},Ta(r)}function oE(){var t=Dx(Qd());return t.copy=function(){return Zl(t,oE()).constant(t.constant())},Vr.apply(t,arguments)}function T2(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function R6(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function $6(t){return t<0?-t*t:t*t}function Lx(t){var e=t(ar,ar),r=1;function n(){return r===1?t(ar,ar):r===.5?t(R6,$6):t(T2(r),T2(1/r))}return e.exponent=function(a){return arguments.length?(r=+a,n()):r},Ta(e)}function Fx(){var t=Lx(Qd());return t.copy=function(){return Zl(t,Fx()).exponent(t.exponent())},Vr.apply(t,arguments),t}function D6(){return Fx.apply(null,arguments).exponent(.5)}function C2(t){return Math.sign(t)*t*t}function L6(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function lE(){var t=Ix(),e=[0,1],r=!1,n;function a(o){var c=L6(t(o));return isNaN(c)?n:r?Math.round(c):c}return a.invert=function(o){return t.invert(C2(o))},a.domain=function(o){return arguments.length?(t.domain(o),a):t.domain()},a.range=function(o){return arguments.length?(t.range((e=Array.from(o,Xu)).map(C2)),a):e.slice()},a.rangeRound=function(o){return a.range(o).round(!0)},a.round=function(o){return arguments.length?(r=!!o,a):r},a.clamp=function(o){return arguments.length?(t.clamp(o),a):t.clamp()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.copy=function(){return lE(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},Vr.apply(a,arguments),Ta(a)}function cE(){var t=[],e=[],r=[],n;function a(){var c=0,u=Math.max(1,e.length);for(r=new Array(u-1);++c<u;)r[c-1]=U5(t,c/u);return o}function o(c){return c==null||isNaN(c=+c)?n:e[Xl(r,c)]}return o.invertExtent=function(c){var u=e.indexOf(c);return u<0?[NaN,NaN]:[u>0?r[u-1]:t[0],u<r.length?r[u]:t[t.length-1]]},o.domain=function(c){if(!arguments.length)return t.slice();t=[];for(let u of c)u!=null&&!isNaN(u=+u)&&t.push(u);return t.sort(Sa),a()},o.range=function(c){return arguments.length?(e=Array.from(c),a()):e.slice()},o.unknown=function(c){return arguments.length?(n=c,o):n},o.quantiles=function(){return r.slice()},o.copy=function(){return cE().domain(t).range(e).unknown(n)},Vr.apply(o,arguments)}function uE(){var t=0,e=1,r=1,n=[.5],a=[0,1],o;function c(d){return d!=null&&d<=d?a[Xl(n,d,0,r)]:o}function u(){var d=-1;for(n=new Array(r);++d<r;)n[d]=((d+1)*e-(d-r)*t)/(r+1);return c}return c.domain=function(d){return arguments.length?([t,e]=d,t=+t,e=+e,u()):[t,e]},c.range=function(d){return arguments.length?(r=(a=Array.from(d)).length-1,u()):a.slice()},c.invertExtent=function(d){var m=a.indexOf(d);return m<0?[NaN,NaN]:m<1?[t,n[0]]:m>=r?[n[r-1],e]:[n[m-1],n[m]]},c.unknown=function(d){return arguments.length&&(o=d),c},c.thresholds=function(){return n.slice()},c.copy=function(){return uE().domain([t,e]).range(a).unknown(o)},Vr.apply(Ta(c),arguments)}function dE(){var t=[.5],e=[0,1],r,n=1;function a(o){return o!=null&&o<=o?e[Xl(t,o,0,n)]:r}return a.domain=function(o){return arguments.length?(t=Array.from(o),n=Math.min(t.length,e.length-1),a):t.slice()},a.range=function(o){return arguments.length?(e=Array.from(o),n=Math.min(t.length,e.length-1),a):e.slice()},a.invertExtent=function(o){var c=e.indexOf(o);return[t[c-1],t[c]]},a.unknown=function(o){return arguments.length?(r=o,a):r},a.copy=function(){return dE().domain(t).range(e).unknown(r)},Vr.apply(a,arguments)}const Ey=new Date,Ty=new Date;function Ct(t,e,r,n){function a(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return a.floor=o=>(t(o=new Date(+o)),o),a.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),a.round=o=>{const c=a(o),u=a.ceil(o);return o-c<u-o?c:u},a.offset=(o,c)=>(e(o=new Date(+o),c==null?1:Math.floor(c)),o),a.range=(o,c,u)=>{const d=[];if(o=a.ceil(o),u=u==null?1:Math.floor(u),!(o<c)||!(u>0))return d;let m;do d.push(m=new Date(+o)),e(o,u),t(o);while(m<o&&o<c);return d},a.filter=o=>Ct(c=>{if(c>=c)for(;t(c),!o(c);)c.setTime(c-1)},(c,u)=>{if(c>=c)if(u<0)for(;++u<=0;)for(;e(c,-1),!o(c););else for(;--u>=0;)for(;e(c,1),!o(c););}),r&&(a.count=(o,c)=>(Ey.setTime(+o),Ty.setTime(+c),t(Ey),t(Ty),Math.floor(r(Ey,Ty))),a.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?a.filter(n?c=>n(c)%o===0:c=>a.count(0,c)%o===0):a)),a}const Ju=Ct(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Ju.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Ct(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):Ju);Ju.range;const $n=1e3,Wr=$n*60,Dn=Wr*60,zn=Dn*24,Bx=zn*7,I2=zn*30,Cy=zn*365,ti=Ct(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*$n)},(t,e)=>(e-t)/$n,t=>t.getUTCSeconds());ti.range;const zx=Ct(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*$n)},(t,e)=>{t.setTime(+t+e*Wr)},(t,e)=>(e-t)/Wr,t=>t.getMinutes());zx.range;const qx=Ct(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Wr)},(t,e)=>(e-t)/Wr,t=>t.getUTCMinutes());qx.range;const Ux=Ct(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*$n-t.getMinutes()*Wr)},(t,e)=>{t.setTime(+t+e*Dn)},(t,e)=>(e-t)/Dn,t=>t.getHours());Ux.range;const Wx=Ct(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Dn)},(t,e)=>(e-t)/Dn,t=>t.getUTCHours());Wx.range;const Jl=Ct(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Wr)/zn,t=>t.getDate()-1);Jl.range;const Zd=Ct(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/zn,t=>t.getUTCDate()-1);Zd.range;const fE=Ct(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/zn,t=>Math.floor(t/zn));fE.range;function yi(t){return Ct(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*Wr)/Bx)}const Jd=yi(0),ed=yi(1),F6=yi(2),B6=yi(3),vs=yi(4),z6=yi(5),q6=yi(6);Jd.range;ed.range;F6.range;B6.range;vs.range;z6.range;q6.range;function vi(t){return Ct(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/Bx)}const ef=vi(0),td=vi(1),U6=vi(2),W6=vi(3),xs=vi(4),H6=vi(5),G6=vi(6);ef.range;td.range;U6.range;W6.range;xs.range;H6.range;G6.range;const Hx=Ct(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());Hx.range;const Gx=Ct(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());Gx.range;const qn=Ct(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());qn.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Ct(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});qn.range;const Un=Ct(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Un.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Ct(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});Un.range;function mE(t,e,r,n,a,o){const c=[[ti,1,$n],[ti,5,5*$n],[ti,15,15*$n],[ti,30,30*$n],[o,1,Wr],[o,5,5*Wr],[o,15,15*Wr],[o,30,30*Wr],[a,1,Dn],[a,3,3*Dn],[a,6,6*Dn],[a,12,12*Dn],[n,1,zn],[n,2,2*zn],[r,1,Bx],[e,1,I2],[e,3,3*I2],[t,1,Cy]];function u(m,p,h){const y=p<m;y&&([m,p]=[p,m]);const v=h&&typeof h.range=="function"?h:d(m,p,h),j=v?v.range(m,+p+1):[];return y?j.reverse():j}function d(m,p,h){const y=Math.abs(p-m)/h,v=Ax(([,,w])=>w).right(c,y);if(v===c.length)return t.every(Z0(m/Cy,p/Cy,h));if(v===0)return Ju.every(Math.max(Z0(m,p,h),1));const[j,b]=c[y/c[v-1][2]<c[v][2]/y?v-1:v];return j.every(b)}return[u,d]}const[V6,K6]=mE(Un,Gx,ef,fE,Wx,qx),[Y6,X6]=mE(qn,Hx,Jd,Jl,Ux,zx);function Iy(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function My(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Wo(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function Q6(t){var e=t.dateTime,r=t.date,n=t.time,a=t.periods,o=t.days,c=t.shortDays,u=t.months,d=t.shortMonths,m=Ho(a),p=Go(a),h=Ho(o),y=Go(o),v=Ho(c),j=Go(c),b=Ho(u),w=Go(u),k=Ho(d),S=Go(d),O={a:G,A:D,b:W,B:Q,c:null,d:F2,e:F2,f:bL,g:EL,G:CL,H:yL,I:vL,j:xL,L:hE,m:wL,M:jL,p:z,q:Y,Q:q2,s:U2,S:SL,u:_L,U:NL,V:kL,w:OL,W:AL,x:null,X:null,y:PL,Y:TL,Z:IL,"%":z2},P={a:ie,A:fe,b:Se,B:xe,c:null,d:B2,e:B2,f:DL,g:VL,G:YL,H:ML,I:RL,j:$L,L:gE,m:LL,M:FL,p:Le,q:Ie,Q:q2,s:U2,S:BL,u:zL,U:qL,V:UL,w:WL,W:HL,x:null,X:null,y:GL,Y:KL,Z:XL,"%":z2},N={a:B,A:M,b:q,B:F,c:V,d:D2,e:D2,f:mL,g:$2,G:R2,H:L2,I:L2,j:cL,L:fL,m:lL,M:uL,p:I,q:oL,Q:pL,s:gL,S:dL,u:rL,U:nL,V:aL,w:tL,W:iL,x:L,X:R,y:$2,Y:R2,Z:sL,"%":hL};O.x=A(r,O),O.X=A(n,O),O.c=A(e,O),P.x=A(r,P),P.X=A(n,P),P.c=A(e,P);function A(le,te){return function(ae){var ne=[],Re=-1,Ee=0,Je=le.length,it,xt,yr;for(ae instanceof Date||(ae=new Date(+ae));++Re<Je;)le.charCodeAt(Re)===37&&(ne.push(le.slice(Ee,Re)),(xt=M2[it=le.charAt(++Re)])!=null?it=le.charAt(++Re):xt=it==="e"?" ":"0",(yr=te[it])&&(it=yr(ae,xt)),ne.push(it),Ee=Re+1);return ne.push(le.slice(Ee,Re)),ne.join("")}}function T(le,te){return function(ae){var ne=Wo(1900,void 0,1),Re=$(ne,le,ae+="",0),Ee,Je;if(Re!=ae.length)return null;if("Q"in ne)return new Date(ne.Q);if("s"in ne)return new Date(ne.s*1e3+("L"in ne?ne.L:0));if(te&&!("Z"in ne)&&(ne.Z=0),"p"in ne&&(ne.H=ne.H%12+ne.p*12),ne.m===void 0&&(ne.m="q"in ne?ne.q:0),"V"in ne){if(ne.V<1||ne.V>53)return null;"w"in ne||(ne.w=1),"Z"in ne?(Ee=My(Wo(ne.y,0,1)),Je=Ee.getUTCDay(),Ee=Je>4||Je===0?td.ceil(Ee):td(Ee),Ee=Zd.offset(Ee,(ne.V-1)*7),ne.y=Ee.getUTCFullYear(),ne.m=Ee.getUTCMonth(),ne.d=Ee.getUTCDate()+(ne.w+6)%7):(Ee=Iy(Wo(ne.y,0,1)),Je=Ee.getDay(),Ee=Je>4||Je===0?ed.ceil(Ee):ed(Ee),Ee=Jl.offset(Ee,(ne.V-1)*7),ne.y=Ee.getFullYear(),ne.m=Ee.getMonth(),ne.d=Ee.getDate()+(ne.w+6)%7)}else("W"in ne||"U"in ne)&&("w"in ne||(ne.w="u"in ne?ne.u%7:"W"in ne?1:0),Je="Z"in ne?My(Wo(ne.y,0,1)).getUTCDay():Iy(Wo(ne.y,0,1)).getDay(),ne.m=0,ne.d="W"in ne?(ne.w+6)%7+ne.W*7-(Je+5)%7:ne.w+ne.U*7-(Je+6)%7);return"Z"in ne?(ne.H+=ne.Z/100|0,ne.M+=ne.Z%100,My(ne)):Iy(ne)}}function $(le,te,ae,ne){for(var Re=0,Ee=te.length,Je=ae.length,it,xt;Re<Ee;){if(ne>=Je)return-1;if(it=te.charCodeAt(Re++),it===37){if(it=te.charAt(Re++),xt=N[it in M2?te.charAt(Re++):it],!xt||(ne=xt(le,ae,ne))<0)return-1}else if(it!=ae.charCodeAt(ne++))return-1}return ne}function I(le,te,ae){var ne=m.exec(te.slice(ae));return ne?(le.p=p.get(ne[0].toLowerCase()),ae+ne[0].length):-1}function B(le,te,ae){var ne=v.exec(te.slice(ae));return ne?(le.w=j.get(ne[0].toLowerCase()),ae+ne[0].length):-1}function M(le,te,ae){var ne=h.exec(te.slice(ae));return ne?(le.w=y.get(ne[0].toLowerCase()),ae+ne[0].length):-1}function q(le,te,ae){var ne=k.exec(te.slice(ae));return ne?(le.m=S.get(ne[0].toLowerCase()),ae+ne[0].length):-1}function F(le,te,ae){var ne=b.exec(te.slice(ae));return ne?(le.m=w.get(ne[0].toLowerCase()),ae+ne[0].length):-1}function V(le,te,ae){return $(le,e,te,ae)}function L(le,te,ae){return $(le,r,te,ae)}function R(le,te,ae){return $(le,n,te,ae)}function G(le){return c[le.getDay()]}function D(le){return o[le.getDay()]}function W(le){return d[le.getMonth()]}function Q(le){return u[le.getMonth()]}function z(le){return a[+(le.getHours()>=12)]}function Y(le){return 1+~~(le.getMonth()/3)}function ie(le){return c[le.getUTCDay()]}function fe(le){return o[le.getUTCDay()]}function Se(le){return d[le.getUTCMonth()]}function xe(le){return u[le.getUTCMonth()]}function Le(le){return a[+(le.getUTCHours()>=12)]}function Ie(le){return 1+~~(le.getUTCMonth()/3)}return{format:function(le){var te=A(le+="",O);return te.toString=function(){return le},te},parse:function(le){var te=T(le+="",!1);return te.toString=function(){return le},te},utcFormat:function(le){var te=A(le+="",P);return te.toString=function(){return le},te},utcParse:function(le){var te=T(le+="",!0);return te.toString=function(){return le},te}}}var M2={"-":"",_:" ",0:"0"},Lt=/^\s*\d+/,Z6=/^%/,J6=/[\\^$*+?|[\]().{}]/g;function ze(t,e,r){var n=t<0?"-":"",a=(n?-t:t)+"",o=a.length;return n+(o<r?new Array(r-o+1).join(e)+a:a)}function eL(t){return t.replace(J6,"\\$&")}function Ho(t){return new RegExp("^(?:"+t.map(eL).join("|")+")","i")}function Go(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function tL(t,e,r){var n=Lt.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function rL(t,e,r){var n=Lt.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function nL(t,e,r){var n=Lt.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function aL(t,e,r){var n=Lt.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function iL(t,e,r){var n=Lt.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function R2(t,e,r){var n=Lt.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function $2(t,e,r){var n=Lt.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function sL(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function oL(t,e,r){var n=Lt.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function lL(t,e,r){var n=Lt.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function D2(t,e,r){var n=Lt.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function cL(t,e,r){var n=Lt.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function L2(t,e,r){var n=Lt.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function uL(t,e,r){var n=Lt.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function dL(t,e,r){var n=Lt.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function fL(t,e,r){var n=Lt.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function mL(t,e,r){var n=Lt.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function hL(t,e,r){var n=Z6.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function pL(t,e,r){var n=Lt.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function gL(t,e,r){var n=Lt.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function F2(t,e){return ze(t.getDate(),e,2)}function yL(t,e){return ze(t.getHours(),e,2)}function vL(t,e){return ze(t.getHours()%12||12,e,2)}function xL(t,e){return ze(1+Jl.count(qn(t),t),e,3)}function hE(t,e){return ze(t.getMilliseconds(),e,3)}function bL(t,e){return hE(t,e)+"000"}function wL(t,e){return ze(t.getMonth()+1,e,2)}function jL(t,e){return ze(t.getMinutes(),e,2)}function SL(t,e){return ze(t.getSeconds(),e,2)}function _L(t){var e=t.getDay();return e===0?7:e}function NL(t,e){return ze(Jd.count(qn(t)-1,t),e,2)}function pE(t){var e=t.getDay();return e>=4||e===0?vs(t):vs.ceil(t)}function kL(t,e){return t=pE(t),ze(vs.count(qn(t),t)+(qn(t).getDay()===4),e,2)}function OL(t){return t.getDay()}function AL(t,e){return ze(ed.count(qn(t)-1,t),e,2)}function PL(t,e){return ze(t.getFullYear()%100,e,2)}function EL(t,e){return t=pE(t),ze(t.getFullYear()%100,e,2)}function TL(t,e){return ze(t.getFullYear()%1e4,e,4)}function CL(t,e){var r=t.getDay();return t=r>=4||r===0?vs(t):vs.ceil(t),ze(t.getFullYear()%1e4,e,4)}function IL(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+ze(e/60|0,"0",2)+ze(e%60,"0",2)}function B2(t,e){return ze(t.getUTCDate(),e,2)}function ML(t,e){return ze(t.getUTCHours(),e,2)}function RL(t,e){return ze(t.getUTCHours()%12||12,e,2)}function $L(t,e){return ze(1+Zd.count(Un(t),t),e,3)}function gE(t,e){return ze(t.getUTCMilliseconds(),e,3)}function DL(t,e){return gE(t,e)+"000"}function LL(t,e){return ze(t.getUTCMonth()+1,e,2)}function FL(t,e){return ze(t.getUTCMinutes(),e,2)}function BL(t,e){return ze(t.getUTCSeconds(),e,2)}function zL(t){var e=t.getUTCDay();return e===0?7:e}function qL(t,e){return ze(ef.count(Un(t)-1,t),e,2)}function yE(t){var e=t.getUTCDay();return e>=4||e===0?xs(t):xs.ceil(t)}function UL(t,e){return t=yE(t),ze(xs.count(Un(t),t)+(Un(t).getUTCDay()===4),e,2)}function WL(t){return t.getUTCDay()}function HL(t,e){return ze(td.count(Un(t)-1,t),e,2)}function GL(t,e){return ze(t.getUTCFullYear()%100,e,2)}function VL(t,e){return t=yE(t),ze(t.getUTCFullYear()%100,e,2)}function KL(t,e){return ze(t.getUTCFullYear()%1e4,e,4)}function YL(t,e){var r=t.getUTCDay();return t=r>=4||r===0?xs(t):xs.ceil(t),ze(t.getUTCFullYear()%1e4,e,4)}function XL(){return"+0000"}function z2(){return"%"}function q2(t){return+t}function U2(t){return Math.floor(+t/1e3)}var Vi,vE,xE;QL({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function QL(t){return Vi=Q6(t),vE=Vi.format,Vi.parse,xE=Vi.utcFormat,Vi.utcParse,Vi}function ZL(t){return new Date(t)}function JL(t){return t instanceof Date?+t:+new Date(+t)}function Vx(t,e,r,n,a,o,c,u,d,m){var p=Ix(),h=p.invert,y=p.domain,v=m(".%L"),j=m(":%S"),b=m("%I:%M"),w=m("%I %p"),k=m("%a %d"),S=m("%b %d"),O=m("%B"),P=m("%Y");function N(A){return(d(A)<A?v:u(A)<A?j:c(A)<A?b:o(A)<A?w:n(A)<A?a(A)<A?k:S:r(A)<A?O:P)(A)}return p.invert=function(A){return new Date(h(A))},p.domain=function(A){return arguments.length?y(Array.from(A,JL)):y().map(ZL)},p.ticks=function(A){var T=y();return t(T[0],T[T.length-1],A??10)},p.tickFormat=function(A,T){return T==null?N:m(T)},p.nice=function(A){var T=y();return(!A||typeof A.range!="function")&&(A=e(T[0],T[T.length-1],A??10)),A?y(iE(T,A)):p},p.copy=function(){return Zl(p,Vx(t,e,r,n,a,o,c,u,d,m))},p}function e8(){return Vr.apply(Vx(Y6,X6,qn,Hx,Jd,Jl,Ux,zx,ti,vE).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function t8(){return Vr.apply(Vx(V6,K6,Un,Gx,ef,Zd,Wx,qx,ti,xE).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function tf(){var t=0,e=1,r,n,a,o,c=ar,u=!1,d;function m(h){return h==null||isNaN(h=+h)?d:c(a===0?.5:(h=(o(h)-r)*a,u?Math.max(0,Math.min(1,h)):h))}m.domain=function(h){return arguments.length?([t,e]=h,r=o(t=+t),n=o(e=+e),a=r===n?0:1/(n-r),m):[t,e]},m.clamp=function(h){return arguments.length?(u=!!h,m):u},m.interpolator=function(h){return arguments.length?(c=h,m):c};function p(h){return function(y){var v,j;return arguments.length?([v,j]=y,c=h(v,j),m):[c(0),c(1)]}}return m.range=p(Ks),m.rangeRound=p(Cx),m.unknown=function(h){return arguments.length?(d=h,m):d},function(h){return o=h,r=h(t),n=h(e),a=r===n?0:1/(n-r),m}}function Ca(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function bE(){var t=Ta(tf()(ar));return t.copy=function(){return Ca(t,bE())},Kn.apply(t,arguments)}function wE(){var t=$x(tf()).domain([1,10]);return t.copy=function(){return Ca(t,wE()).base(t.base())},Kn.apply(t,arguments)}function jE(){var t=Dx(tf());return t.copy=function(){return Ca(t,jE()).constant(t.constant())},Kn.apply(t,arguments)}function Kx(){var t=Lx(tf());return t.copy=function(){return Ca(t,Kx()).exponent(t.exponent())},Kn.apply(t,arguments)}function r8(){return Kx.apply(null,arguments).exponent(.5)}function SE(){var t=[],e=ar;function r(n){if(n!=null&&!isNaN(n=+n))return e((Xl(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let a of n)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(Sa),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,a)=>e(a/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,o)=>q5(t,o/n))},r.copy=function(){return SE(e).domain(t)},Kn.apply(r,arguments)}function rf(){var t=0,e=.5,r=1,n=1,a,o,c,u,d,m=ar,p,h=!1,y;function v(b){return isNaN(b=+b)?y:(b=.5+((b=+p(b))-o)*(n*b<n*o?u:d),m(h?Math.max(0,Math.min(1,b)):b))}v.domain=function(b){return arguments.length?([t,e,r]=b,a=p(t=+t),o=p(e=+e),c=p(r=+r),u=a===o?0:.5/(o-a),d=o===c?0:.5/(c-o),n=o<a?-1:1,v):[t,e,r]},v.clamp=function(b){return arguments.length?(h=!!b,v):h},v.interpolator=function(b){return arguments.length?(m=b,v):m};function j(b){return function(w){var k,S,O;return arguments.length?([k,S,O]=w,m=h6(b,[k,S,O]),v):[m(0),m(.5),m(1)]}}return v.range=j(Ks),v.rangeRound=j(Cx),v.unknown=function(b){return arguments.length?(y=b,v):y},function(b){return p=b,a=b(t),o=b(e),c=b(r),u=a===o?0:.5/(o-a),d=o===c?0:.5/(c-o),n=o<a?-1:1,v}}function _E(){var t=Ta(rf()(ar));return t.copy=function(){return Ca(t,_E())},Kn.apply(t,arguments)}function NE(){var t=$x(rf()).domain([.1,1,10]);return t.copy=function(){return Ca(t,NE()).base(t.base())},Kn.apply(t,arguments)}function kE(){var t=Dx(rf());return t.copy=function(){return Ca(t,kE()).constant(t.constant())},Kn.apply(t,arguments)}function Yx(){var t=Lx(rf());return t.copy=function(){return Ca(t,Yx()).exponent(t.exponent())},Kn.apply(t,arguments)}function n8(){return Yx.apply(null,arguments).exponent(.5)}const W2=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:bl,scaleDiverging:_E,scaleDivergingLog:NE,scaleDivergingPow:Yx,scaleDivergingSqrt:n8,scaleDivergingSymlog:kE,scaleIdentity:aE,scaleImplicit:J0,scaleLinear:Zu,scaleLog:sE,scaleOrdinal:Px,scalePoint:rl,scalePow:Fx,scaleQuantile:cE,scaleQuantize:uE,scaleRadial:lE,scaleSequential:bE,scaleSequentialLog:wE,scaleSequentialPow:Kx,scaleSequentialQuantile:SE,scaleSequentialSqrt:r8,scaleSequentialSymlog:jE,scaleSqrt:D6,scaleSymlog:oE,scaleThreshold:dE,scaleTime:e8,scaleUtc:t8,tickFormat:nE},Symbol.toStringTag,{value:"Module"}));var Ry,H2;function nf(){if(H2)return Ry;H2=1;var t=Ws();function e(r,n,a){for(var o=-1,c=r.length;++o<c;){var u=r[o],d=n(u);if(d!=null&&(m===void 0?d===d&&!t(d):a(d,m)))var m=d,p=u}return p}return Ry=e,Ry}var $y,G2;function OE(){if(G2)return $y;G2=1;function t(e,r){return e>r}return $y=t,$y}var Dy,V2;function a8(){if(V2)return Dy;V2=1;var t=nf(),e=OE(),r=Vs();function n(a){return a&&a.length?t(a,r,e):void 0}return Dy=n,Dy}var i8=a8();const xa=He(i8);var Ly,K2;function AE(){if(K2)return Ly;K2=1;function t(e,r){return e<r}return Ly=t,Ly}var Fy,Y2;function s8(){if(Y2)return Fy;Y2=1;var t=nf(),e=AE(),r=Vs();function n(a){return a&&a.length?t(a,r,e):void 0}return Fy=n,Fy}var o8=s8();const af=He(o8);var By,X2;function l8(){if(X2)return By;X2=1;var t=fx(),e=_n(),r=$P(),n=gr();function a(o,c){var u=n(o)?t:r;return u(o,e(c,3))}return By=a,By}var zy,Q2;function c8(){if(Q2)return zy;Q2=1;var t=MP(),e=l8();function r(n,a){return t(e(n,a),1)}return zy=r,zy}var u8=c8();const d8=He(u8);var qy,Z2;function f8(){if(Z2)return qy;Z2=1;var t=_x();function e(r,n){return t(r,n)}return qy=e,qy}var m8=f8();const ka=He(m8);var Ys=1e9,h8={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Qx,ot=!0,Hr="[DecimalError] ",ii=Hr+"Invalid argument: ",Xx=Hr+"Exponent out of range: ",Xs=Math.floor,Qa=Math.pow,p8=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,kr,$t=1e7,rt=7,PE=9007199254740991,rd=Xs(PE/rt),ge={};ge.absoluteValue=ge.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ge.comparedTo=ge.cmp=function(t){var e,r,n,a,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(n=o.d.length,a=t.d.length,e=0,r=n<a?n:a;e<r;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return n===a?0:n>a^o.s<0?1:-1};ge.decimalPlaces=ge.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*rt;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};ge.dividedBy=ge.div=function(t){return Bn(this,new this.constructor(t))};ge.dividedToIntegerBy=ge.idiv=function(t){var e=this,r=e.constructor;return Ke(Bn(e,new r(t),0,1),r.precision)};ge.equals=ge.eq=function(t){return!this.cmp(t)};ge.exponent=function(){return _t(this)};ge.greaterThan=ge.gt=function(t){return this.cmp(t)>0};ge.greaterThanOrEqualTo=ge.gte=function(t){return this.cmp(t)>=0};ge.isInteger=ge.isint=function(){return this.e>this.d.length-2};ge.isNegative=ge.isneg=function(){return this.s<0};ge.isPositive=ge.ispos=function(){return this.s>0};ge.isZero=function(){return this.s===0};ge.lessThan=ge.lt=function(t){return this.cmp(t)<0};ge.lessThanOrEqualTo=ge.lte=function(t){return this.cmp(t)<1};ge.logarithm=ge.log=function(t){var e,r=this,n=r.constructor,a=n.precision,o=a+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(kr))throw Error(Hr+"NaN");if(r.s<1)throw Error(Hr+(r.s?"NaN":"-Infinity"));return r.eq(kr)?new n(0):(ot=!1,e=Bn(Nl(r,o),Nl(t,o),o),ot=!0,Ke(e,a))};ge.minus=ge.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?CE(e,t):EE(e,(t.s=-t.s,t))};ge.modulo=ge.mod=function(t){var e,r=this,n=r.constructor,a=n.precision;if(t=new n(t),!t.s)throw Error(Hr+"NaN");return r.s?(ot=!1,e=Bn(r,t,0,1).times(t),ot=!0,r.minus(e)):Ke(new n(r),a)};ge.naturalExponential=ge.exp=function(){return TE(this)};ge.naturalLogarithm=ge.ln=function(){return Nl(this)};ge.negated=ge.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ge.plus=ge.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?EE(e,t):CE(e,(t.s=-t.s,t))};ge.precision=ge.sd=function(t){var e,r,n,a=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(ii+t);if(e=_t(a)+1,n=a.d.length-1,r=n*rt+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};ge.squareRoot=ge.sqrt=function(){var t,e,r,n,a,o,c,u=this,d=u.constructor;if(u.s<1){if(!u.s)return new d(0);throw Error(Hr+"NaN")}for(t=_t(u),ot=!1,a=Math.sqrt(+u),a==0||a==1/0?(e=vn(u.d),(e.length+t)%2==0&&(e+="0"),a=Math.sqrt(e),t=Xs((t+1)/2)-(t<0||t%2),a==1/0?e="5e"+t:(e=a.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new d(e)):n=new d(a.toString()),r=d.precision,a=c=r+3;;)if(o=n,n=o.plus(Bn(u,o,c+2)).times(.5),vn(o.d).slice(0,c)===(e=vn(n.d)).slice(0,c)){if(e=e.slice(c-3,c+1),a==c&&e=="4999"){if(Ke(o,r+1,0),o.times(o).eq(u)){n=o;break}}else if(e!="9999")break;c+=4}return ot=!0,Ke(n,r)};ge.times=ge.mul=function(t){var e,r,n,a,o,c,u,d,m,p=this,h=p.constructor,y=p.d,v=(t=new h(t)).d;if(!p.s||!t.s)return new h(0);for(t.s*=p.s,r=p.e+t.e,d=y.length,m=v.length,d<m&&(o=y,y=v,v=o,c=d,d=m,m=c),o=[],c=d+m,n=c;n--;)o.push(0);for(n=m;--n>=0;){for(e=0,a=d+n;a>n;)u=o[a]+v[n]*y[a-n-1]+e,o[a--]=u%$t|0,e=u/$t|0;o[a]=(o[a]+e)%$t|0}for(;!o[--c];)o.pop();return e?++r:o.shift(),t.d=o,t.e=r,ot?Ke(t,h.precision):t};ge.toDecimalPlaces=ge.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(jn(t,0,Ys),e===void 0?e=n.rounding:jn(e,0,8),Ke(r,t+_t(r)+1,e))};ge.toExponential=function(t,e){var r,n=this,a=n.constructor;return t===void 0?r=ui(n,!0):(jn(t,0,Ys),e===void 0?e=a.rounding:jn(e,0,8),n=Ke(new a(n),t+1,e),r=ui(n,!0,t+1)),r};ge.toFixed=function(t,e){var r,n,a=this,o=a.constructor;return t===void 0?ui(a):(jn(t,0,Ys),e===void 0?e=o.rounding:jn(e,0,8),n=Ke(new o(a),t+_t(a)+1,e),r=ui(n.abs(),!1,t+_t(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};ge.toInteger=ge.toint=function(){var t=this,e=t.constructor;return Ke(new e(t),_t(t)+1,e.rounding)};ge.toNumber=function(){return+this};ge.toPower=ge.pow=function(t){var e,r,n,a,o,c,u=this,d=u.constructor,m=12,p=+(t=new d(t));if(!t.s)return new d(kr);if(u=new d(u),!u.s){if(t.s<1)throw Error(Hr+"Infinity");return u}if(u.eq(kr))return u;if(n=d.precision,t.eq(kr))return Ke(u,n);if(e=t.e,r=t.d.length-1,c=e>=r,o=u.s,c){if((r=p<0?-p:p)<=PE){for(a=new d(kr),e=Math.ceil(n/rt+4),ot=!1;r%2&&(a=a.times(u),ek(a.d,e)),r=Xs(r/2),r!==0;)u=u.times(u),ek(u.d,e);return ot=!0,t.s<0?new d(kr).div(a):Ke(a,n)}}else if(o<0)throw Error(Hr+"NaN");return o=o<0&&t.d[Math.max(e,r)]&1?-1:1,u.s=1,ot=!1,a=t.times(Nl(u,n+m)),ot=!0,a=TE(a),a.s=o,a};ge.toPrecision=function(t,e){var r,n,a=this,o=a.constructor;return t===void 0?(r=_t(a),n=ui(a,r<=o.toExpNeg||r>=o.toExpPos)):(jn(t,1,Ys),e===void 0?e=o.rounding:jn(e,0,8),a=Ke(new o(a),t,e),r=_t(a),n=ui(a,t<=r||r<=o.toExpNeg,t)),n};ge.toSignificantDigits=ge.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(jn(t,1,Ys),e===void 0?e=n.rounding:jn(e,0,8)),Ke(new n(r),t,e)};ge.toString=ge.valueOf=ge.val=ge.toJSON=ge[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=_t(t),r=t.constructor;return ui(t,e<=r.toExpNeg||e>=r.toExpPos)};function EE(t,e){var r,n,a,o,c,u,d,m,p=t.constructor,h=p.precision;if(!t.s||!e.s)return e.s||(e=new p(t)),ot?Ke(e,h):e;if(d=t.d,m=e.d,c=t.e,a=e.e,d=d.slice(),o=c-a,o){for(o<0?(n=d,o=-o,u=m.length):(n=m,a=c,u=d.length),c=Math.ceil(h/rt),u=c>u?c+1:u+1,o>u&&(o=u,n.length=1),n.reverse();o--;)n.push(0);n.reverse()}for(u=d.length,o=m.length,u-o<0&&(o=u,n=m,m=d,d=n),r=0;o;)r=(d[--o]=d[o]+m[o]+r)/$t|0,d[o]%=$t;for(r&&(d.unshift(r),++a),u=d.length;d[--u]==0;)d.pop();return e.d=d,e.e=a,ot?Ke(e,h):e}function jn(t,e,r){if(t!==~~t||t<e||t>r)throw Error(ii+t)}function vn(t){var e,r,n,a=t.length-1,o="",c=t[0];if(a>0){for(o+=c,e=1;e<a;e++)n=t[e]+"",r=rt-n.length,r&&(o+=pa(r)),o+=n;c=t[e],n=c+"",r=rt-n.length,r&&(o+=pa(r))}else if(c===0)return"0";for(;c%10===0;)c/=10;return o+c}var Bn=(function(){function t(n,a){var o,c=0,u=n.length;for(n=n.slice();u--;)o=n[u]*a+c,n[u]=o%$t|0,c=o/$t|0;return c&&n.unshift(c),n}function e(n,a,o,c){var u,d;if(o!=c)d=o>c?1:-1;else for(u=d=0;u<o;u++)if(n[u]!=a[u]){d=n[u]>a[u]?1:-1;break}return d}function r(n,a,o){for(var c=0;o--;)n[o]-=c,c=n[o]<a[o]?1:0,n[o]=c*$t+n[o]-a[o];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,o,c){var u,d,m,p,h,y,v,j,b,w,k,S,O,P,N,A,T,$,I=n.constructor,B=n.s==a.s?1:-1,M=n.d,q=a.d;if(!n.s)return new I(n);if(!a.s)throw Error(Hr+"Division by zero");for(d=n.e-a.e,T=q.length,N=M.length,v=new I(B),j=v.d=[],m=0;q[m]==(M[m]||0);)++m;if(q[m]>(M[m]||0)&&--d,o==null?S=o=I.precision:c?S=o+(_t(n)-_t(a))+1:S=o,S<0)return new I(0);if(S=S/rt+2|0,m=0,T==1)for(p=0,q=q[0],S++;(m<N||p)&&S--;m++)O=p*$t+(M[m]||0),j[m]=O/q|0,p=O%q|0;else{for(p=$t/(q[0]+1)|0,p>1&&(q=t(q,p),M=t(M,p),T=q.length,N=M.length),P=T,b=M.slice(0,T),w=b.length;w<T;)b[w++]=0;$=q.slice(),$.unshift(0),A=q[0],q[1]>=$t/2&&++A;do p=0,u=e(q,b,T,w),u<0?(k=b[0],T!=w&&(k=k*$t+(b[1]||0)),p=k/A|0,p>1?(p>=$t&&(p=$t-1),h=t(q,p),y=h.length,w=b.length,u=e(h,b,y,w),u==1&&(p--,r(h,T<y?$:q,y))):(p==0&&(u=p=1),h=q.slice()),y=h.length,y<w&&h.unshift(0),r(b,h,w),u==-1&&(w=b.length,u=e(q,b,T,w),u<1&&(p++,r(b,T<w?$:q,w))),w=b.length):u===0&&(p++,b=[0]),j[m++]=p,u&&b[0]?b[w++]=M[P]||0:(b=[M[P]],w=1);while((P++<N||b[0]!==void 0)&&S--)}return j[0]||j.shift(),v.e=d,Ke(v,c?o+_t(v)+1:o)}})();function TE(t,e){var r,n,a,o,c,u,d=0,m=0,p=t.constructor,h=p.precision;if(_t(t)>16)throw Error(Xx+_t(t));if(!t.s)return new p(kr);for(ot=!1,u=h,c=new p(.03125);t.abs().gte(.1);)t=t.times(c),m+=5;for(n=Math.log(Qa(2,m))/Math.LN10*2+5|0,u+=n,r=a=o=new p(kr),p.precision=u;;){if(a=Ke(a.times(t),u),r=r.times(++d),c=o.plus(Bn(a,r,u)),vn(c.d).slice(0,u)===vn(o.d).slice(0,u)){for(;m--;)o=Ke(o.times(o),u);return p.precision=h,e==null?(ot=!0,Ke(o,h)):o}o=c}}function _t(t){for(var e=t.e*rt,r=t.d[0];r>=10;r/=10)e++;return e}function Uy(t,e,r){if(e>t.LN10.sd())throw ot=!0,r&&(t.precision=r),Error(Hr+"LN10 precision limit exceeded");return Ke(new t(t.LN10),e)}function pa(t){for(var e="";t--;)e+="0";return e}function Nl(t,e){var r,n,a,o,c,u,d,m,p,h=1,y=10,v=t,j=v.d,b=v.constructor,w=b.precision;if(v.s<1)throw Error(Hr+(v.s?"NaN":"-Infinity"));if(v.eq(kr))return new b(0);if(e==null?(ot=!1,m=w):m=e,v.eq(10))return e==null&&(ot=!0),Uy(b,m);if(m+=y,b.precision=m,r=vn(j),n=r.charAt(0),o=_t(v),Math.abs(o)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)v=v.times(t),r=vn(v.d),n=r.charAt(0),h++;o=_t(v),n>1?(v=new b("0."+r),o++):v=new b(n+"."+r.slice(1))}else return d=Uy(b,m+2,w).times(o+""),v=Nl(new b(n+"."+r.slice(1)),m-y).plus(d),b.precision=w,e==null?(ot=!0,Ke(v,w)):v;for(u=c=v=Bn(v.minus(kr),v.plus(kr),m),p=Ke(v.times(v),m),a=3;;){if(c=Ke(c.times(p),m),d=u.plus(Bn(c,new b(a),m)),vn(d.d).slice(0,m)===vn(u.d).slice(0,m))return u=u.times(2),o!==0&&(u=u.plus(Uy(b,m+2,w).times(o+""))),u=Bn(u,new b(h),m),b.precision=w,e==null?(ot=!0,Ke(u,w)):u;u=d,a+=2}}function J2(t,e){var r,n,a;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(a=e.length;e.charCodeAt(a-1)===48;)--a;if(e=e.slice(n,a),e){if(a-=n,r=r-n-1,t.e=Xs(r/rt),t.d=[],n=(r+1)%rt,r<0&&(n+=rt),n<a){for(n&&t.d.push(+e.slice(0,n)),a-=rt;n<a;)t.d.push(+e.slice(n,n+=rt));e=e.slice(n),n=rt-e.length}else n-=a;for(;n--;)e+="0";if(t.d.push(+e),ot&&(t.e>rd||t.e<-rd))throw Error(Xx+r)}else t.s=0,t.e=0,t.d=[0];return t}function Ke(t,e,r){var n,a,o,c,u,d,m,p,h=t.d;for(c=1,o=h[0];o>=10;o/=10)c++;if(n=e-c,n<0)n+=rt,a=e,m=h[p=0];else{if(p=Math.ceil((n+1)/rt),o=h.length,p>=o)return t;for(m=o=h[p],c=1;o>=10;o/=10)c++;n%=rt,a=n-rt+c}if(r!==void 0&&(o=Qa(10,c-a-1),u=m/o%10|0,d=e<0||h[p+1]!==void 0||m%o,d=r<4?(u||d)&&(r==0||r==(t.s<0?3:2)):u>5||u==5&&(r==4||d||r==6&&(n>0?a>0?m/Qa(10,c-a):0:h[p-1])%10&1||r==(t.s<0?8:7))),e<1||!h[0])return d?(o=_t(t),h.length=1,e=e-o-1,h[0]=Qa(10,(rt-e%rt)%rt),t.e=Xs(-e/rt)||0):(h.length=1,h[0]=t.e=t.s=0),t;if(n==0?(h.length=p,o=1,p--):(h.length=p+1,o=Qa(10,rt-n),h[p]=a>0?(m/Qa(10,c-a)%Qa(10,a)|0)*o:0),d)for(;;)if(p==0){(h[0]+=o)==$t&&(h[0]=1,++t.e);break}else{if(h[p]+=o,h[p]!=$t)break;h[p--]=0,o=1}for(n=h.length;h[--n]===0;)h.pop();if(ot&&(t.e>rd||t.e<-rd))throw Error(Xx+_t(t));return t}function CE(t,e){var r,n,a,o,c,u,d,m,p,h,y=t.constructor,v=y.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new y(t),ot?Ke(e,v):e;if(d=t.d,h=e.d,n=e.e,m=t.e,d=d.slice(),c=m-n,c){for(p=c<0,p?(r=d,c=-c,u=h.length):(r=h,n=m,u=d.length),a=Math.max(Math.ceil(v/rt),u)+2,c>a&&(c=a,r.length=1),r.reverse(),a=c;a--;)r.push(0);r.reverse()}else{for(a=d.length,u=h.length,p=a<u,p&&(u=a),a=0;a<u;a++)if(d[a]!=h[a]){p=d[a]<h[a];break}c=0}for(p&&(r=d,d=h,h=r,e.s=-e.s),u=d.length,a=h.length-u;a>0;--a)d[u++]=0;for(a=h.length;a>c;){if(d[--a]<h[a]){for(o=a;o&&d[--o]===0;)d[o]=$t-1;--d[o],d[a]+=$t}d[a]-=h[a]}for(;d[--u]===0;)d.pop();for(;d[0]===0;d.shift())--n;return d[0]?(e.d=d,e.e=n,ot?Ke(e,v):e):new y(0)}function ui(t,e,r){var n,a=_t(t),o=vn(t.d),c=o.length;return e?(r&&(n=r-c)>0?o=o.charAt(0)+"."+o.slice(1)+pa(n):c>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(a<0?"e":"e+")+a):a<0?(o="0."+pa(-a-1)+o,r&&(n=r-c)>0&&(o+=pa(n))):a>=c?(o+=pa(a+1-c),r&&(n=r-a-1)>0&&(o=o+"."+pa(n))):((n=a+1)<c&&(o=o.slice(0,n)+"."+o.slice(n)),r&&(n=r-c)>0&&(a+1===c&&(o+="."),o+=pa(n))),t.s<0?"-"+o:o}function ek(t,e){if(t.length>e)return t.length=e,!0}function IE(t){var e,r,n;function a(o){var c=this;if(!(c instanceof a))return new a(o);if(c.constructor=a,o instanceof a){c.s=o.s,c.e=o.e,c.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(ii+o);if(o>0)c.s=1;else if(o<0)o=-o,c.s=-1;else{c.s=0,c.e=0,c.d=[0];return}if(o===~~o&&o<1e7){c.e=0,c.d=[o];return}return J2(c,o.toString())}else if(typeof o!="string")throw Error(ii+o);if(o.charCodeAt(0)===45?(o=o.slice(1),c.s=-1):c.s=1,p8.test(o))J2(c,o);else throw Error(ii+o)}if(a.prototype=ge,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=IE,a.config=a.set=g8,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return a.config(t),a}function g8(t){if(!t||typeof t!="object")throw Error(Hr+"Object expected");var e,r,n,a=["precision",1,Ys,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<a.length;e+=3)if((n=t[r=a[e]])!==void 0)if(Xs(n)===n&&n>=a[e+1]&&n<=a[e+2])this[r]=n;else throw Error(ii+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(ii+r+": "+n);return this}var Qx=IE(h8);kr=new Qx(1);const Ve=Qx;function y8(t){return w8(t)||b8(t)||x8(t)||v8()}function v8(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x8(t,e){if(t){if(typeof t=="string")return nv(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nv(t,e)}}function b8(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function w8(t){if(Array.isArray(t))return nv(t)}function nv(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var j8=function(e){return e},ME={},RE=function(e){return e===ME},tk=function(e){return function r(){return arguments.length===0||arguments.length===1&&RE(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},S8=function t(e,r){return e===1?r:tk(function(){for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];var c=a.filter(function(u){return u!==ME}).length;return c>=e?r.apply(void 0,a):t(e-c,tk(function(){for(var u=arguments.length,d=new Array(u),m=0;m<u;m++)d[m]=arguments[m];var p=a.map(function(h){return RE(h)?d.shift():h});return r.apply(void 0,y8(p).concat(d))}))})},sf=function(e){return S8(e.length,e)},av=function(e,r){for(var n=[],a=e;a<r;++a)n[a-e]=a;return n},_8=sf(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),N8=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return j8;var a=r.reverse(),o=a[0],c=a.slice(1);return function(){return c.reduce(function(u,d){return d(u)},o.apply(void 0,arguments))}},iv=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},$E=function(e){var r=null,n=null;return function(){for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return r&&o.every(function(u,d){return u===r[d]})||(r=o,n=e.apply(void 0,o)),n}};function k8(t){var e;return t===0?e=1:e=Math.floor(new Ve(t).abs().log(10).toNumber())+1,e}function O8(t,e,r){for(var n=new Ve(t),a=0,o=[];n.lt(e)&&a<1e5;)o.push(n.toNumber()),n=n.add(r),a++;return o}var A8=sf(function(t,e,r){var n=+t,a=+e;return n+r*(a-n)}),P8=sf(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),E8=sf(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const of={rangeStep:O8,getDigitCount:k8,interpolateNumber:A8,uninterpolateNumber:P8,uninterpolateTruncation:E8};function sv(t){return I8(t)||C8(t)||DE(t)||T8()}function T8(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function C8(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function I8(t){if(Array.isArray(t))return ov(t)}function kl(t,e){return $8(t)||R8(t,e)||DE(t,e)||M8()}function M8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DE(t,e){if(t){if(typeof t=="string")return ov(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ov(t,e)}}function ov(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function R8(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,a=!1,o=void 0;try{for(var c=t[Symbol.iterator](),u;!(n=(u=c.next()).done)&&(r.push(u.value),!(e&&r.length===e));n=!0);}catch(d){a=!0,o=d}finally{try{!n&&c.return!=null&&c.return()}finally{if(a)throw o}}return r}}function $8(t){if(Array.isArray(t))return t}function LE(t){var e=kl(t,2),r=e[0],n=e[1],a=r,o=n;return r>n&&(a=n,o=r),[a,o]}function FE(t,e,r){if(t.lte(0))return new Ve(0);var n=of.getDigitCount(t.toNumber()),a=new Ve(10).pow(n),o=t.div(a),c=n!==1?.05:.1,u=new Ve(Math.ceil(o.div(c).toNumber())).add(r).mul(c),d=u.mul(a);return e?d:new Ve(Math.ceil(d))}function D8(t,e,r){var n=1,a=new Ve(t);if(!a.isint()&&r){var o=Math.abs(t);o<1?(n=new Ve(10).pow(of.getDigitCount(t)-1),a=new Ve(Math.floor(a.div(n).toNumber())).mul(n)):o>1&&(a=new Ve(Math.floor(t)))}else t===0?a=new Ve(Math.floor((e-1)/2)):r||(a=new Ve(Math.floor(t)));var c=Math.floor((e-1)/2),u=N8(_8(function(d){return a.add(new Ve(d-c).mul(n)).toNumber()}),av);return u(0,e)}function BE(t,e,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new Ve(0),tickMin:new Ve(0),tickMax:new Ve(0)};var o=FE(new Ve(e).sub(t).div(r-1),n,a),c;t<=0&&e>=0?c=new Ve(0):(c=new Ve(t).add(e).div(2),c=c.sub(new Ve(c).mod(o)));var u=Math.ceil(c.sub(t).div(o).toNumber()),d=Math.ceil(new Ve(e).sub(c).div(o).toNumber()),m=u+d+1;return m>r?BE(t,e,r,n,a+1):(m<r&&(d=e>0?d+(r-m):d,u=e>0?u:u+(r-m)),{step:o,tickMin:c.sub(new Ve(u).mul(o)),tickMax:c.add(new Ve(d).mul(o))})}function L8(t){var e=kl(t,2),r=e[0],n=e[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,c=Math.max(a,2),u=LE([r,n]),d=kl(u,2),m=d[0],p=d[1];if(m===-1/0||p===1/0){var h=p===1/0?[m].concat(sv(av(0,a-1).map(function(){return 1/0}))):[].concat(sv(av(0,a-1).map(function(){return-1/0})),[p]);return r>n?iv(h):h}if(m===p)return D8(m,a,o);var y=BE(m,p,c,o),v=y.step,j=y.tickMin,b=y.tickMax,w=of.rangeStep(j,b.add(new Ve(.1).mul(v)),v);return r>n?iv(w):w}function F8(t,e){var r=kl(t,2),n=r[0],a=r[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,c=LE([n,a]),u=kl(c,2),d=u[0],m=u[1];if(d===-1/0||m===1/0)return[n,a];if(d===m)return[d];var p=Math.max(e,2),h=FE(new Ve(m).sub(d).div(p-1),o,0),y=[].concat(sv(of.rangeStep(new Ve(d),new Ve(m).sub(new Ve(.99).mul(h)),h)),[m]);return n>a?iv(y):y}var B8=$E(L8),z8=$E(F8),q8="Invariant failed";function di(t,e){throw new Error(q8)}var U8=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function bs(t){"@babel/helpers - typeof";return bs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bs(t)}function nd(){return nd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},nd.apply(this,arguments)}function W8(t,e){return K8(t)||V8(t,e)||G8(t,e)||H8()}function H8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function G8(t,e){if(t){if(typeof t=="string")return rk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rk(t,e)}}function rk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function V8(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,o,c,u=[],d=!0,m=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(p){m=!0,a=p}finally{try{if(!d&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(m)throw a}}return u}}function K8(t){if(Array.isArray(t))return t}function Y8(t,e){if(t==null)return{};var r=X8(t,e),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(a=0;a<o.length;a++)n=o[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function X8(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Q8(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Z8(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,UE(n.key),n)}}function J8(t,e,r){return e&&Z8(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function eF(t,e,r){return e=ad(e),tF(t,zE()?Reflect.construct(e,r||[],ad(t).constructor):e.apply(t,r))}function tF(t,e){if(e&&(bs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rF(t)}function rF(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zE(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zE=function(){return!!t})()}function ad(t){return ad=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ad(t)}function nF(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lv(t,e)}function lv(t,e){return lv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},lv(t,e)}function qE(t,e,r){return e=UE(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function UE(t){var e=aF(t,"string");return bs(e)=="symbol"?e:e+""}function aF(t,e){if(bs(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(bs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Qs=(function(t){function e(){return Q8(this,e),eF(this,e,arguments)}return nF(e,t),J8(e,[{key:"render",value:function(){var n=this.props,a=n.offset,o=n.layout,c=n.width,u=n.dataKey,d=n.data,m=n.dataPointFormatter,p=n.xAxis,h=n.yAxis,y=Y8(n,U8),v=we(y,!1);this.props.direction==="x"&&p.type!=="number"&&di();var j=d.map(function(b){var w=m(b,u),k=w.x,S=w.y,O=w.value,P=w.errorVal;if(!P)return null;var N=[],A,T;if(Array.isArray(P)){var $=W8(P,2);A=$[0],T=$[1]}else A=T=P;if(o==="vertical"){var I=p.scale,B=S+a,M=B+c,q=B-c,F=I(O-A),V=I(O+T);N.push({x1:V,y1:M,x2:V,y2:q}),N.push({x1:F,y1:B,x2:V,y2:B}),N.push({x1:F,y1:M,x2:F,y2:q})}else if(o==="horizontal"){var L=h.scale,R=k+a,G=R-c,D=R+c,W=L(O-A),Q=L(O+T);N.push({x1:G,y1:Q,x2:D,y2:Q}),N.push({x1:R,y1:W,x2:R,y2:Q}),N.push({x1:G,y1:W,x2:D,y2:W})}return U.createElement($e,nd({className:"recharts-errorBar",key:"bar-".concat(N.map(function(z){return"".concat(z.x1,"-").concat(z.x2,"-").concat(z.y1,"-").concat(z.y2)}))},v),N.map(function(z){return U.createElement("line",nd({},z,{key:"line-".concat(z.x1,"-").concat(z.x2,"-").concat(z.y1,"-").concat(z.y2)}))}))});return U.createElement($e,{className:"recharts-errorBars"},j)}}])})(U.Component);qE(Qs,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});qE(Qs,"displayName","ErrorBar");function Ol(t){"@babel/helpers - typeof";return Ol=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ol(t)}function nk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Va(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nk(Object(r),!0).forEach(function(n){iF(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function iF(t,e,r){return e=sF(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sF(t){var e=oF(t,"string");return Ol(e)=="symbol"?e:e+""}function oF(t,e){if(Ol(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ol(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var WE=function(e){var r=e.children,n=e.formattedGraphicalItems,a=e.legendWidth,o=e.legendContent,c=_r(r,or);if(!c)return null;var u=or.defaultProps,d=u!==void 0?Va(Va({},u),c.props):{},m;return c.props&&c.props.payload?m=c.props&&c.props.payload:o==="children"?m=(n||[]).reduce(function(p,h){var y=h.item,v=h.props,j=v.sectors||v.data||[];return p.concat(j.map(function(b){return{type:c.props.iconType||y.props.legendType,value:b.name,color:b.fill,payload:b}}))},[]):m=(n||[]).map(function(p){var h=p.item,y=h.type.defaultProps,v=y!==void 0?Va(Va({},y),h.props):{},j=v.dataKey,b=v.name,w=v.legendType,k=v.hide;return{inactive:k,dataKey:j,type:d.iconType||w||"square",color:Zx(h),value:b||j,payload:v}}),Va(Va(Va({},d),or.getWithHeight(c,a)),{},{payload:m,item:c})};function Al(t){"@babel/helpers - typeof";return Al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Al(t)}function ak(t){return dF(t)||uF(t)||cF(t)||lF()}function lF(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cF(t,e){if(t){if(typeof t=="string")return cv(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cv(t,e)}}function uF(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function dF(t){if(Array.isArray(t))return cv(t)}function cv(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ik(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function gt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ik(Object(r),!0).forEach(function(n){cs(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ik(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cs(t,e,r){return e=fF(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fF(t){var e=mF(t,"string");return Al(e)=="symbol"?e:e+""}function mF(t,e){if(Al(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Al(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nt(t,e,r){return Oe(t)||Oe(e)?r:Et(e)?Or(t,e,r):Ae(e)?e(t):r}function nl(t,e,r,n){var a=d8(t,function(u){return nt(u,e)});if(r==="number"){var o=a.filter(function(u){return ue(u)||parseFloat(u)});return o.length?[af(o),xa(o)]:[1/0,-1/0]}var c=n?a.filter(function(u){return!Oe(u)}):a;return c.map(function(u){return Et(u)||u instanceof Date?u:""})}var hF=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,c=-1,u=(r=n?.length)!==null&&r!==void 0?r:0;if(u<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var d=o.range,m=0;m<u;m++){var p=m>0?a[m-1].coordinate:a[u-1].coordinate,h=a[m].coordinate,y=m>=u-1?a[0].coordinate:a[m+1].coordinate,v=void 0;if(rr(h-p)!==rr(y-h)){var j=[];if(rr(y-h)===rr(d[1]-d[0])){v=y;var b=h+d[1]-d[0];j[0]=Math.min(b,(b+p)/2),j[1]=Math.max(b,(b+p)/2)}else{v=p;var w=y+d[1]-d[0];j[0]=Math.min(h,(w+h)/2),j[1]=Math.max(h,(w+h)/2)}var k=[Math.min(h,(v+h)/2),Math.max(h,(v+h)/2)];if(e>k[0]&&e<=k[1]||e>=j[0]&&e<=j[1]){c=a[m].index;break}}else{var S=Math.min(p,y),O=Math.max(p,y);if(e>(S+h)/2&&e<=(O+h)/2){c=a[m].index;break}}}else for(var P=0;P<u;P++)if(P===0&&e<=(n[P].coordinate+n[P+1].coordinate)/2||P>0&&P<u-1&&e>(n[P].coordinate+n[P-1].coordinate)/2&&e<=(n[P].coordinate+n[P+1].coordinate)/2||P===u-1&&e>(n[P].coordinate+n[P-1].coordinate)/2){c=n[P].index;break}return c},Zx=function(e){var r,n=e,a=n.type.displayName,o=(r=e.type)!==null&&r!==void 0&&r.defaultProps?gt(gt({},e.type.defaultProps),e.props):e.props,c=o.stroke,u=o.fill,d;switch(a){case"Line":d=c;break;case"Area":case"Radar":d=c&&c!=="none"?c:u;break;default:d=u;break}return d},pF=function(e){var r=e.barSize,n=e.totalSize,a=e.stackGroups,o=a===void 0?{}:a;if(!o)return{};for(var c={},u=Object.keys(o),d=0,m=u.length;d<m;d++)for(var p=o[u[d]].stackGroups,h=Object.keys(p),y=0,v=h.length;y<v;y++){var j=p[h[y]],b=j.items,w=j.cateAxisId,k=b.filter(function(T){return Fn(T.type).indexOf("Bar")>=0});if(k&&k.length){var S=k[0].type.defaultProps,O=S!==void 0?gt(gt({},S),k[0].props):k[0].props,P=O.barSize,N=O[w];c[N]||(c[N]=[]);var A=Oe(P)?r:P;c[N].push({item:k[0],stackList:k.slice(1),barSize:Oe(A)?void 0:nr(A,n,0)})}}return c},gF=function(e){var r=e.barGap,n=e.barCategoryGap,a=e.bandSize,o=e.sizeList,c=o===void 0?[]:o,u=e.maxBarSize,d=c.length;if(d<1)return null;var m=nr(r,a,0,!0),p,h=[];if(c[0].barSize===+c[0].barSize){var y=!1,v=a/d,j=c.reduce(function(P,N){return P+N.barSize||0},0);j+=(d-1)*m,j>=a&&(j-=(d-1)*m,m=0),j>=a&&v>0&&(y=!0,v*=.9,j=d*v);var b=(a-j)/2>>0,w={offset:b-m,size:0};p=c.reduce(function(P,N){var A={item:N.item,position:{offset:w.offset+w.size+m,size:y?v:N.barSize}},T=[].concat(ak(P),[A]);return w=T[T.length-1].position,N.stackList&&N.stackList.length&&N.stackList.forEach(function($){T.push({item:$,position:w})}),T},h)}else{var k=nr(n,a,0,!0);a-2*k-(d-1)*m<=0&&(m=0);var S=(a-2*k-(d-1)*m)/d;S>1&&(S>>=0);var O=u===+u?Math.min(S,u):S;p=c.reduce(function(P,N,A){var T=[].concat(ak(P),[{item:N.item,position:{offset:k+(S+m)*A+(S-O)/2,size:O}}]);return N.stackList&&N.stackList.length&&N.stackList.forEach(function($){T.push({item:$,position:T[T.length-1].position})}),T},h)}return p},yF=function(e,r,n,a){var o=n.children,c=n.width,u=n.margin,d=c-(u.left||0)-(u.right||0),m=WE({children:o,legendWidth:d});if(m){var p=a||{},h=p.width,y=p.height,v=m.align,j=m.verticalAlign,b=m.layout;if((b==="vertical"||b==="horizontal"&&j==="middle")&&v!=="center"&&ue(e[v]))return gt(gt({},e),{},cs({},v,e[v]+(h||0)));if((b==="horizontal"||b==="vertical"&&v==="center")&&j!=="middle"&&ue(e[j]))return gt(gt({},e),{},cs({},j,e[j]+(y||0)))}return e},vF=function(e,r,n){return Oe(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},HE=function(e,r,n,a,o){var c=r.props.children,u=sr(c,Qs).filter(function(m){return vF(a,o,m.props.direction)});if(u&&u.length){var d=u.map(function(m){return m.props.dataKey});return e.reduce(function(m,p){var h=nt(p,n);if(Oe(h))return m;var y=Array.isArray(h)?[af(h),xa(h)]:[h,h],v=d.reduce(function(j,b){var w=nt(p,b,0),k=y[0]-Math.abs(Array.isArray(w)?w[0]:w),S=y[1]+Math.abs(Array.isArray(w)?w[1]:w);return[Math.min(k,j[0]),Math.max(S,j[1])]},[1/0,-1/0]);return[Math.min(v[0],m[0]),Math.max(v[1],m[1])]},[1/0,-1/0])}return null},xF=function(e,r,n,a,o){var c=r.map(function(u){return HE(e,u,n,o,a)}).filter(function(u){return!Oe(u)});return c&&c.length?c.reduce(function(u,d){return[Math.min(u[0],d[0]),Math.max(u[1],d[1])]},[1/0,-1/0]):null},GE=function(e,r,n,a,o){var c=r.map(function(d){var m=d.props.dataKey;return n==="number"&&m&&HE(e,d,m,a)||nl(e,m,n,o)});if(n==="number")return c.reduce(function(d,m){return[Math.min(d[0],m[0]),Math.max(d[1],m[1])]},[1/0,-1/0]);var u={};return c.reduce(function(d,m){for(var p=0,h=m.length;p<h;p++)u[m[p]]||(u[m[p]]=!0,d.push(m[p]));return d},[])},VE=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},KE=function(e,r,n,a){if(a)return e.map(function(d){return d.coordinate});var o,c,u=e.map(function(d){return d.coordinate===r&&(o=!0),d.coordinate===n&&(c=!0),d.coordinate});return o||u.push(r),c||u.push(n),u},Ln=function(e,r,n){if(!e)return null;var a=e.scale,o=e.duplicateDomain,c=e.type,u=e.range,d=e.realScaleType==="scaleBand"?a.bandwidth()/2:2,m=(r||n)&&c==="category"&&a.bandwidth?a.bandwidth()/d:0;if(m=e.axisType==="angleAxis"&&u?.length>=2?rr(u[0]-u[1])*2*m:m,r&&(e.ticks||e.niceTicks)){var p=(e.ticks||e.niceTicks).map(function(h){var y=o?o.indexOf(h):h;return{coordinate:a(y)+m,value:h,offset:m}});return p.filter(function(h){return!Gs(h.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(h,y){return{coordinate:a(h)+m,value:h,index:y,offset:m}}):a.ticks&&!n?a.ticks(e.tickCount).map(function(h){return{coordinate:a(h)+m,value:h,offset:m}}):a.domain().map(function(h,y){return{coordinate:a(h)+m,value:o?o[h]:h,index:y,offset:m}})},Wy=new WeakMap,Su=function(e,r){if(typeof r!="function")return e;Wy.has(e)||Wy.set(e,new WeakMap);var n=Wy.get(e);if(n.has(r))return n.get(r);var a=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},YE=function(e,r,n){var a=e.scale,o=e.type,c=e.layout,u=e.axisType;if(a==="auto")return c==="radial"&&u==="radiusAxis"?{scale:bl(),realScaleType:"band"}:c==="radial"&&u==="angleAxis"?{scale:Zu(),realScaleType:"linear"}:o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:rl(),realScaleType:"point"}:o==="category"?{scale:bl(),realScaleType:"band"}:{scale:Zu(),realScaleType:"linear"};if(li(a)){var d="scale".concat(Ud(a));return{scale:(W2[d]||rl)(),realScaleType:W2[d]?d:"point"}}return Ae(a)?{scale:a}:{scale:rl(),realScaleType:"point"}},sk=1e-4,XE=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,a=e.range(),o=Math.min(a[0],a[1])-sk,c=Math.max(a[0],a[1])+sk,u=e(r[0]),d=e(r[n-1]);(u<o||u>c||d<o||d>c)&&e.domain([r[0],r[n-1]])}},bF=function(e,r){if(!e)return null;for(var n=0,a=e.length;n<a;n++)if(e[n].item===r)return e[n].position;return null},wF=function(e,r){if(!r||r.length!==2||!ue(r[0])||!ue(r[1]))return e;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),o=[e[0],e[1]];return(!ue(e[0])||e[0]<n)&&(o[0]=n),(!ue(e[1])||e[1]>a)&&(o[1]=a),o[0]>a&&(o[0]=a),o[1]<n&&(o[1]=n),o},jF=function(e){var r=e.length;if(!(r<=0))for(var n=0,a=e[0].length;n<a;++n)for(var o=0,c=0,u=0;u<r;++u){var d=Gs(e[u][n][1])?e[u][n][0]:e[u][n][1];d>=0?(e[u][n][0]=o,e[u][n][1]=o+d,o=e[u][n][1]):(e[u][n][0]=c,e[u][n][1]=c+d,c=e[u][n][1])}},SF=function(e){var r=e.length;if(!(r<=0))for(var n=0,a=e[0].length;n<a;++n)for(var o=0,c=0;c<r;++c){var u=Gs(e[c][n][1])?e[c][n][0]:e[c][n][1];u>=0?(e[c][n][0]=o,e[c][n][1]=o+u,o=e[c][n][1]):(e[c][n][0]=0,e[c][n][1]=0)}},_F={sign:jF,expand:d4,none:fs,silhouette:f4,wiggle:m4,positive:SF},NF=function(e,r,n){var a=r.map(function(u){return u.props.dataKey}),o=_F[n],c=u4().keys(a).value(function(u,d){return+nt(u,d,0)}).order(F0).offset(o);return c(e)},kF=function(e,r,n,a,o,c){if(!e)return null;var u=c?r.reverse():r,d={},m=u.reduce(function(h,y){var v,j=(v=y.type)!==null&&v!==void 0&&v.defaultProps?gt(gt({},y.type.defaultProps),y.props):y.props,b=j.stackId,w=j.hide;if(w)return h;var k=j[n],S=h[k]||{hasStack:!1,stackGroups:{}};if(Et(b)){var O=S.stackGroups[b]||{numericAxisId:n,cateAxisId:a,items:[]};O.items.push(y),S.hasStack=!0,S.stackGroups[b]=O}else S.stackGroups[Ea("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[y]};return gt(gt({},h),{},cs({},k,S))},d),p={};return Object.keys(m).reduce(function(h,y){var v=m[y];if(v.hasStack){var j={};v.stackGroups=Object.keys(v.stackGroups).reduce(function(b,w){var k=v.stackGroups[w];return gt(gt({},b),{},cs({},w,{numericAxisId:n,cateAxisId:a,items:k.items,stackedData:NF(e,k.items,o)}))},j)}return gt(gt({},h),{},cs({},y,v))},p)},QE=function(e,r){var n=r.realScaleType,a=r.type,o=r.tickCount,c=r.originalDomain,u=r.allowDecimals,d=n||r.scale;if(d!=="auto"&&d!=="linear")return null;if(o&&a==="number"&&c&&(c[0]==="auto"||c[1]==="auto")){var m=e.domain();if(!m.length)return null;var p=B8(m,o,u);return e.domain([af(p),xa(p)]),{niceTicks:p}}if(o&&a==="number"){var h=e.domain(),y=z8(h,o,u);return{niceTicks:y}}return null};function ws(t){var e=t.axis,r=t.ticks,n=t.bandSize,a=t.entry,o=t.index,c=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Oe(a[e.dataKey])){var u=Mu(r,"value",a[e.dataKey]);if(u)return u.coordinate+n/2}return r[o]?r[o].coordinate+n/2:null}var d=nt(a,Oe(c)?e.dataKey:c);return Oe(d)?null:e.scale(d)}var ok=function(e){var r=e.axis,n=e.ticks,a=e.offset,o=e.bandSize,c=e.entry,u=e.index;if(r.type==="category")return n[u]?n[u].coordinate+a:null;var d=nt(c,r.dataKey,r.domain[u]);return Oe(d)?null:r.scale(d)-o/2+a},OF=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),o=Math.max(n[0],n[1]);return a<=0&&o>=0?0:o<0?o:a}return n[0]},AF=function(e,r){var n,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?gt(gt({},e.type.defaultProps),e.props):e.props,o=a.stackId;if(Et(o)){var c=r[o];if(c){var u=c.items.indexOf(e);return u>=0?c.stackedData[u]:null}}return null},PF=function(e){return e.reduce(function(r,n){return[af(n.concat([r[0]]).filter(ue)),xa(n.concat([r[1]]).filter(ue))]},[1/0,-1/0])},ZE=function(e,r,n){return Object.keys(e).reduce(function(a,o){var c=e[o],u=c.stackedData,d=u.reduce(function(m,p){var h=PF(p.slice(r,n+1));return[Math.min(m[0],h[0]),Math.max(m[1],h[1])]},[1/0,-1/0]);return[Math.min(d[0],a[0]),Math.max(d[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},lk=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,ck=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,uv=function(e,r,n){if(Ae(e))return e(r,n);if(!Array.isArray(e))return r;var a=[];if(ue(e[0]))a[0]=n?e[0]:Math.min(e[0],r[0]);else if(lk.test(e[0])){var o=+lk.exec(e[0])[1];a[0]=r[0]-o}else Ae(e[0])?a[0]=e[0](r[0]):a[0]=r[0];if(ue(e[1]))a[1]=n?e[1]:Math.max(e[1],r[1]);else if(ck.test(e[1])){var c=+ck.exec(e[1])[1];a[1]=r[1]+c}else Ae(e[1])?a[1]=e[1](r[1]):a[1]=r[1];return a},id=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var a=e.scale.bandwidth();if(!n||a>0)return a}if(e&&r&&r.length>=2){for(var o=kx(r,function(h){return h.coordinate}),c=1/0,u=1,d=o.length;u<d;u++){var m=o[u],p=o[u-1];c=Math.min((m.coordinate||0)-(p.coordinate||0),c)}return c===1/0?0:c}return n?void 0:0},uk=function(e,r,n){return!e||!e.length||ka(e,Or(n,"type.defaultProps.domain"))?r:e},JE=function(e,r){var n=e.type.defaultProps?gt(gt({},e.type.defaultProps),e.props):e.props,a=n.dataKey,o=n.name,c=n.unit,u=n.formatter,d=n.tooltipType,m=n.chartType,p=n.hide;return gt(gt({},we(e,!1)),{},{dataKey:a,unit:c,formatter:u,name:o||a,color:Zx(e),value:nt(r,a),type:d,payload:r,chartType:m,hide:p})};function Pl(t){"@babel/helpers - typeof";return Pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pl(t)}function dk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Rn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dk(Object(r),!0).forEach(function(n){eT(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function eT(t,e,r){return e=EF(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function EF(t){var e=TF(t,"string");return Pl(e)=="symbol"?e:e+""}function TF(t,e){if(Pl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Pl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function CF(t,e){return $F(t)||RF(t,e)||MF(t,e)||IF()}function IF(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MF(t,e){if(t){if(typeof t=="string")return fk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fk(t,e)}}function fk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function RF(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,o,c,u=[],d=!0,m=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(p){m=!0,a=p}finally{try{if(!d&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(m)throw a}}return u}}function $F(t){if(Array.isArray(t))return t}var sd=Math.PI/180,DF=function(e){return e*180/Math.PI},Ze=function(e,r,n,a){return{x:e+Math.cos(-sd*a)*n,y:r+Math.sin(-sd*a)*n}},tT=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},LF=function(e,r,n,a,o){var c=e.width,u=e.height,d=e.startAngle,m=e.endAngle,p=nr(e.cx,c,c/2),h=nr(e.cy,u,u/2),y=tT(c,u,n),v=nr(e.innerRadius,y,0),j=nr(e.outerRadius,y,y*.8),b=Object.keys(r);return b.reduce(function(w,k){var S=r[k],O=S.domain,P=S.reversed,N;if(Oe(S.range))a==="angleAxis"?N=[d,m]:a==="radiusAxis"&&(N=[v,j]),P&&(N=[N[1],N[0]]);else{N=S.range;var A=N,T=CF(A,2);d=T[0],m=T[1]}var $=YE(S,o),I=$.realScaleType,B=$.scale;B.domain(O).range(N),XE(B);var M=QE(B,Rn(Rn({},S),{},{realScaleType:I})),q=Rn(Rn(Rn({},S),M),{},{range:N,radius:j,realScaleType:I,scale:B,cx:p,cy:h,innerRadius:v,outerRadius:j,startAngle:d,endAngle:m});return Rn(Rn({},w),{},eT({},k,q))},{})},FF=function(e,r){var n=e.x,a=e.y,o=r.x,c=r.y;return Math.sqrt(Math.pow(n-o,2)+Math.pow(a-c,2))},BF=function(e,r){var n=e.x,a=e.y,o=r.cx,c=r.cy,u=FF({x:n,y:a},{x:o,y:c});if(u<=0)return{radius:u};var d=(n-o)/u,m=Math.acos(d);return a>c&&(m=2*Math.PI-m),{radius:u,angle:DF(m),angleInRadian:m}},zF=function(e){var r=e.startAngle,n=e.endAngle,a=Math.floor(r/360),o=Math.floor(n/360),c=Math.min(a,o);return{startAngle:r-c*360,endAngle:n-c*360}},qF=function(e,r){var n=r.startAngle,a=r.endAngle,o=Math.floor(n/360),c=Math.floor(a/360),u=Math.min(o,c);return e+u*360},mk=function(e,r){var n=e.x,a=e.y,o=BF({x:n,y:a},r),c=o.radius,u=o.angle,d=r.innerRadius,m=r.outerRadius;if(c<d||c>m)return!1;if(c===0)return!0;var p=zF(r),h=p.startAngle,y=p.endAngle,v=u,j;if(h<=y){for(;v>y;)v-=360;for(;v<h;)v+=360;j=v>=h&&v<=y}else{for(;v>h;)v-=360;for(;v<y;)v+=360;j=v>=y&&v<=h}return j?Rn(Rn({},r),{},{radius:c,angle:qF(v,r)}):null},rT=function(e){return!C.isValidElement(e)&&!Ae(e)&&typeof e!="boolean"?e.className:""};function El(t){"@babel/helpers - typeof";return El=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},El(t)}var UF=["offset"];function WF(t){return KF(t)||VF(t)||GF(t)||HF()}function HF(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GF(t,e){if(t){if(typeof t=="string")return dv(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dv(t,e)}}function VF(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function KF(t){if(Array.isArray(t))return dv(t)}function dv(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function YF(t,e){if(t==null)return{};var r=XF(t,e),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(a=0;a<o.length;a++)n=o[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function XF(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function hk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function At(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hk(Object(r),!0).forEach(function(n){QF(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function QF(t,e,r){return e=ZF(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ZF(t){var e=JF(t,"string");return El(e)=="symbol"?e:e+""}function JF(t,e){if(El(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(El(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Tl(){return Tl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Tl.apply(this,arguments)}var eB=function(e){var r=e.value,n=e.formatter,a=Oe(e.children)?r:e.children;return Ae(n)?n(a):a},tB=function(e,r){var n=rr(r-e),a=Math.min(Math.abs(r-e),360);return n*a},rB=function(e,r,n){var a=e.position,o=e.viewBox,c=e.offset,u=e.className,d=o,m=d.cx,p=d.cy,h=d.innerRadius,y=d.outerRadius,v=d.startAngle,j=d.endAngle,b=d.clockWise,w=(h+y)/2,k=tB(v,j),S=k>=0?1:-1,O,P;a==="insideStart"?(O=v+S*c,P=b):a==="insideEnd"?(O=j-S*c,P=!b):a==="end"&&(O=j+S*c,P=b),P=k<=0?P:!P;var N=Ze(m,p,w,O),A=Ze(m,p,w,O+(P?1:-1)*359),T="M".concat(N.x,",").concat(N.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(P?0:1,`,
    `).concat(A.x,",").concat(A.y),$=Oe(e.id)?Ea("recharts-radial-line-"):e.id;return U.createElement("text",Tl({},n,{dominantBaseline:"central",className:Me("recharts-radial-bar-label",u)}),U.createElement("defs",null,U.createElement("path",{id:$,d:T})),U.createElement("textPath",{xlinkHref:"#".concat($)},r))},nB=function(e){var r=e.viewBox,n=e.offset,a=e.position,o=r,c=o.cx,u=o.cy,d=o.innerRadius,m=o.outerRadius,p=o.startAngle,h=o.endAngle,y=(p+h)/2;if(a==="outside"){var v=Ze(c,u,m+n,y),j=v.x,b=v.y;return{x:j,y:b,textAnchor:j>=c?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:c,y:u,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:c,y:u,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:c,y:u,textAnchor:"middle",verticalAnchor:"end"};var w=(d+m)/2,k=Ze(c,u,w,y),S=k.x,O=k.y;return{x:S,y:O,textAnchor:"middle",verticalAnchor:"middle"}},aB=function(e){var r=e.viewBox,n=e.parentViewBox,a=e.offset,o=e.position,c=r,u=c.x,d=c.y,m=c.width,p=c.height,h=p>=0?1:-1,y=h*a,v=h>0?"end":"start",j=h>0?"start":"end",b=m>=0?1:-1,w=b*a,k=b>0?"end":"start",S=b>0?"start":"end";if(o==="top"){var O={x:u+m/2,y:d-h*a,textAnchor:"middle",verticalAnchor:v};return At(At({},O),n?{height:Math.max(d-n.y,0),width:m}:{})}if(o==="bottom"){var P={x:u+m/2,y:d+p+y,textAnchor:"middle",verticalAnchor:j};return At(At({},P),n?{height:Math.max(n.y+n.height-(d+p),0),width:m}:{})}if(o==="left"){var N={x:u-w,y:d+p/2,textAnchor:k,verticalAnchor:"middle"};return At(At({},N),n?{width:Math.max(N.x-n.x,0),height:p}:{})}if(o==="right"){var A={x:u+m+w,y:d+p/2,textAnchor:S,verticalAnchor:"middle"};return At(At({},A),n?{width:Math.max(n.x+n.width-A.x,0),height:p}:{})}var T=n?{width:m,height:p}:{};return o==="insideLeft"?At({x:u+w,y:d+p/2,textAnchor:S,verticalAnchor:"middle"},T):o==="insideRight"?At({x:u+m-w,y:d+p/2,textAnchor:k,verticalAnchor:"middle"},T):o==="insideTop"?At({x:u+m/2,y:d+y,textAnchor:"middle",verticalAnchor:j},T):o==="insideBottom"?At({x:u+m/2,y:d+p-y,textAnchor:"middle",verticalAnchor:v},T):o==="insideTopLeft"?At({x:u+w,y:d+y,textAnchor:S,verticalAnchor:j},T):o==="insideTopRight"?At({x:u+m-w,y:d+y,textAnchor:k,verticalAnchor:j},T):o==="insideBottomLeft"?At({x:u+w,y:d+p-y,textAnchor:S,verticalAnchor:v},T):o==="insideBottomRight"?At({x:u+m-w,y:d+p-y,textAnchor:k,verticalAnchor:v},T):Hs(o)&&(ue(o.x)||Ja(o.x))&&(ue(o.y)||Ja(o.y))?At({x:u+nr(o.x,m),y:d+nr(o.y,p),textAnchor:"end",verticalAnchor:"end"},T):At({x:u+m/2,y:d+p/2,textAnchor:"middle",verticalAnchor:"middle"},T)},iB=function(e){return"cx"in e&&ue(e.cx)};function Dt(t){var e=t.offset,r=e===void 0?5:e,n=YF(t,UF),a=At({offset:r},n),o=a.viewBox,c=a.position,u=a.value,d=a.children,m=a.content,p=a.className,h=p===void 0?"":p,y=a.textBreakAll;if(!o||Oe(u)&&Oe(d)&&!C.isValidElement(m)&&!Ae(m))return null;if(C.isValidElement(m))return C.cloneElement(m,a);var v;if(Ae(m)){if(v=C.createElement(m,a),C.isValidElement(v))return v}else v=eB(a);var j=iB(o),b=we(a,!0);if(j&&(c==="insideStart"||c==="insideEnd"||c==="end"))return rB(a,v,b);var w=j?nB(a):aB(a);return U.createElement(ci,Tl({className:Me("recharts-label",h)},b,w,{breakAll:y}),v)}Dt.displayName="Label";var nT=function(e){var r=e.cx,n=e.cy,a=e.angle,o=e.startAngle,c=e.endAngle,u=e.r,d=e.radius,m=e.innerRadius,p=e.outerRadius,h=e.x,y=e.y,v=e.top,j=e.left,b=e.width,w=e.height,k=e.clockWise,S=e.labelViewBox;if(S)return S;if(ue(b)&&ue(w)){if(ue(h)&&ue(y))return{x:h,y,width:b,height:w};if(ue(v)&&ue(j))return{x:v,y:j,width:b,height:w}}return ue(h)&&ue(y)?{x:h,y,width:0,height:0}:ue(r)&&ue(n)?{cx:r,cy:n,startAngle:o||a||0,endAngle:c||a||0,innerRadius:m||0,outerRadius:p||d||u||0,clockWise:k}:e.viewBox?e.viewBox:{}},sB=function(e,r){return e?e===!0?U.createElement(Dt,{key:"label-implicit",viewBox:r}):Et(e)?U.createElement(Dt,{key:"label-implicit",viewBox:r,value:e}):C.isValidElement(e)?e.type===Dt?C.cloneElement(e,{key:"label-implicit",viewBox:r}):U.createElement(Dt,{key:"label-implicit",content:e,viewBox:r}):Ae(e)?U.createElement(Dt,{key:"label-implicit",content:e,viewBox:r}):Hs(e)?U.createElement(Dt,Tl({viewBox:r},e,{key:"label-implicit"})):null:null},oB=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var a=e.children,o=nT(e),c=sr(a,Dt).map(function(d,m){return C.cloneElement(d,{viewBox:r||o,key:"label-".concat(m)})});if(!n)return c;var u=sB(e.label,r||o);return[u].concat(WF(c))};Dt.parseViewBox=nT;Dt.renderCallByParent=oB;var Hy,pk;function lB(){if(pk)return Hy;pk=1;function t(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}return Hy=t,Hy}var cB=lB();const uB=He(cB);function Cl(t){"@babel/helpers - typeof";return Cl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cl(t)}var dB=["valueAccessor"],fB=["data","dataKey","clockWise","id","textBreakAll"];function mB(t){return yB(t)||gB(t)||pB(t)||hB()}function hB(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pB(t,e){if(t){if(typeof t=="string")return fv(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fv(t,e)}}function gB(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function yB(t){if(Array.isArray(t))return fv(t)}function fv(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function od(){return od=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},od.apply(this,arguments)}function gk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function yk(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gk(Object(r),!0).forEach(function(n){vB(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vB(t,e,r){return e=xB(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xB(t){var e=bB(t,"string");return Cl(e)=="symbol"?e:e+""}function bB(t,e){if(Cl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Cl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vk(t,e){if(t==null)return{};var r=wB(t,e),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(a=0;a<o.length;a++)n=o[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function wB(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var jB=function(e){return Array.isArray(e.value)?uB(e.value):e.value};function on(t){var e=t.valueAccessor,r=e===void 0?jB:e,n=vk(t,dB),a=n.data,o=n.dataKey,c=n.clockWise,u=n.id,d=n.textBreakAll,m=vk(n,fB);return!a||!a.length?null:U.createElement($e,{className:"recharts-label-list"},a.map(function(p,h){var y=Oe(o)?r(p,h):nt(p&&p.payload,o),v=Oe(u)?{}:{id:"".concat(u,"-").concat(h)};return U.createElement(Dt,od({},we(p,!0),m,v,{parentViewBox:p.parentViewBox,value:y,textBreakAll:d,viewBox:Dt.parseViewBox(Oe(c)?p:yk(yk({},p),{},{clockWise:c})),key:"label-".concat(h),index:h}))}))}on.displayName="LabelList";function SB(t,e){return t?t===!0?U.createElement(on,{key:"labelList-implicit",data:e}):U.isValidElement(t)||Ae(t)?U.createElement(on,{key:"labelList-implicit",data:e,content:t}):Hs(t)?U.createElement(on,od({data:e},t,{key:"labelList-implicit"})):null:null}function _B(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,a=sr(n,on).map(function(c,u){return C.cloneElement(c,{data:e,key:"labelList-".concat(u)})});if(!r)return a;var o=SB(t.label,e);return[o].concat(mB(a))}on.renderCallByParent=_B;function Il(t){"@babel/helpers - typeof";return Il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Il(t)}function mv(){return mv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},mv.apply(this,arguments)}function xk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function bk(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xk(Object(r),!0).forEach(function(n){NB(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function NB(t,e,r){return e=kB(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kB(t){var e=OB(t,"string");return Il(e)=="symbol"?e:e+""}function OB(t,e){if(Il(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Il(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var AB=function(e,r){var n=rr(r-e),a=Math.min(Math.abs(r-e),359.999);return n*a},_u=function(e){var r=e.cx,n=e.cy,a=e.radius,o=e.angle,c=e.sign,u=e.isExternal,d=e.cornerRadius,m=e.cornerIsExternal,p=d*(u?1:-1)+a,h=Math.asin(d/p)/sd,y=m?o:o+c*h,v=Ze(r,n,p,y),j=Ze(r,n,a,y),b=m?o-c*h:o,w=Ze(r,n,p*Math.cos(h*sd),b);return{center:v,circleTangency:j,lineTangency:w,theta:h}},aT=function(e){var r=e.cx,n=e.cy,a=e.innerRadius,o=e.outerRadius,c=e.startAngle,u=e.endAngle,d=AB(c,u),m=c+d,p=Ze(r,n,o,c),h=Ze(r,n,o,m),y="M ".concat(p.x,",").concat(p.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(c>m),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(a>0){var v=Ze(r,n,a,c),j=Ze(r,n,a,m);y+="L ".concat(j.x,",").concat(j.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(c<=m),`,
            `).concat(v.x,",").concat(v.y," Z")}else y+="L ".concat(r,",").concat(n," Z");return y},PB=function(e){var r=e.cx,n=e.cy,a=e.innerRadius,o=e.outerRadius,c=e.cornerRadius,u=e.forceCornerRadius,d=e.cornerIsExternal,m=e.startAngle,p=e.endAngle,h=rr(p-m),y=_u({cx:r,cy:n,radius:o,angle:m,sign:h,cornerRadius:c,cornerIsExternal:d}),v=y.circleTangency,j=y.lineTangency,b=y.theta,w=_u({cx:r,cy:n,radius:o,angle:p,sign:-h,cornerRadius:c,cornerIsExternal:d}),k=w.circleTangency,S=w.lineTangency,O=w.theta,P=d?Math.abs(m-p):Math.abs(m-p)-b-O;if(P<0)return u?"M ".concat(j.x,",").concat(j.y,`
        a`).concat(c,",").concat(c,",0,0,1,").concat(c*2,`,0
        a`).concat(c,",").concat(c,",0,0,1,").concat(-c*2,`,0
      `):aT({cx:r,cy:n,innerRadius:a,outerRadius:o,startAngle:m,endAngle:p});var N="M ".concat(j.x,",").concat(j.y,`
    A`).concat(c,",").concat(c,",0,0,").concat(+(h<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(P>180),",").concat(+(h<0),",").concat(k.x,",").concat(k.y,`
    A`).concat(c,",").concat(c,",0,0,").concat(+(h<0),",").concat(S.x,",").concat(S.y,`
  `);if(a>0){var A=_u({cx:r,cy:n,radius:a,angle:m,sign:h,isExternal:!0,cornerRadius:c,cornerIsExternal:d}),T=A.circleTangency,$=A.lineTangency,I=A.theta,B=_u({cx:r,cy:n,radius:a,angle:p,sign:-h,isExternal:!0,cornerRadius:c,cornerIsExternal:d}),M=B.circleTangency,q=B.lineTangency,F=B.theta,V=d?Math.abs(m-p):Math.abs(m-p)-I-F;if(V<0&&c===0)return"".concat(N,"L").concat(r,",").concat(n,"Z");N+="L".concat(q.x,",").concat(q.y,`
      A`).concat(c,",").concat(c,",0,0,").concat(+(h<0),",").concat(M.x,",").concat(M.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(V>180),",").concat(+(h>0),",").concat(T.x,",").concat(T.y,`
      A`).concat(c,",").concat(c,",0,0,").concat(+(h<0),",").concat($.x,",").concat($.y,"Z")}else N+="L".concat(r,",").concat(n,"Z");return N},EB={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},iT=function(e){var r=bk(bk({},EB),e),n=r.cx,a=r.cy,o=r.innerRadius,c=r.outerRadius,u=r.cornerRadius,d=r.forceCornerRadius,m=r.cornerIsExternal,p=r.startAngle,h=r.endAngle,y=r.className;if(c<o||p===h)return null;var v=Me("recharts-sector",y),j=c-o,b=nr(u,j,0,!0),w;return b>0&&Math.abs(p-h)<360?w=PB({cx:n,cy:a,innerRadius:o,outerRadius:c,cornerRadius:Math.min(b,j/2),forceCornerRadius:d,cornerIsExternal:m,startAngle:p,endAngle:h}):w=aT({cx:n,cy:a,innerRadius:o,outerRadius:c,startAngle:p,endAngle:h}),U.createElement("path",mv({},we(r,!0),{className:v,d:w,role:"img"}))};function Ml(t){"@babel/helpers - typeof";return Ml=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ml(t)}function hv(){return hv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hv.apply(this,arguments)}function wk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function jk(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wk(Object(r),!0).forEach(function(n){TB(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function TB(t,e,r){return e=CB(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function CB(t){var e=IB(t,"string");return Ml(e)=="symbol"?e:e+""}function IB(t,e){if(Ml(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ml(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Sk={curveBasisClosed:JR,curveBasisOpen:e4,curveBasis:ZR,curveBumpX:LR,curveBumpY:FR,curveLinearClosed:t4,curveLinear:Hd,curveMonotoneX:r4,curveMonotoneY:n4,curveNatural:a4,curveStep:i4,curveStepAfter:o4,curveStepBefore:s4},Nu=function(e){return e.x===+e.x&&e.y===+e.y},Vo=function(e){return e.x},Ko=function(e){return e.y},MB=function(e,r){if(Ae(e))return e;var n="curve".concat(Ud(e));return(n==="curveMonotone"||n==="curveBump")&&r?Sk["".concat(n).concat(r==="vertical"?"Y":"X")]:Sk[n]||Hd},RB=function(e){var r=e.type,n=r===void 0?"linear":r,a=e.points,o=a===void 0?[]:a,c=e.baseLine,u=e.layout,d=e.connectNulls,m=d===void 0?!1:d,p=MB(n,u),h=m?o.filter(function(b){return Nu(b)}):o,y;if(Array.isArray(c)){var v=m?c.filter(function(b){return Nu(b)}):c,j=h.map(function(b,w){return jk(jk({},b),{},{base:v[w]})});return u==="vertical"?y=gu().y(Ko).x1(Vo).x0(function(b){return b.base.x}):y=gu().x(Vo).y1(Ko).y0(function(b){return b.base.y}),y.defined(Nu).curve(p),y(j)}return u==="vertical"&&ue(c)?y=gu().y(Ko).x1(Vo).x0(c):ue(c)?y=gu().x(Vo).y1(Ko).y0(c):y=nP().x(Vo).y(Ko),y.defined(Nu).curve(p),y(h)},_a=function(e){var r=e.className,n=e.points,a=e.path,o=e.pathRef;if((!n||!n.length)&&!a)return null;var c=n&&n.length?RB(e):a;return C.createElement("path",hv({},we(e,!1),Ru(e),{className:Me("recharts-curve",r),d:c,ref:o}))},Gy={exports:{}},Vy,_k;function $B(){if(_k)return Vy;_k=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Vy=t,Vy}var Ky,Nk;function DB(){if(Nk)return Ky;Nk=1;var t=$B();function e(){}function r(){}return r.resetWarningCache=e,Ky=function(){function n(c,u,d,m,p,h){if(h!==t){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}n.isRequired=n;function a(){return n}var o={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:a,element:n,elementType:n,instanceOf:a,node:n,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:r,resetWarningCache:e};return o.PropTypes=o,o},Ky}var kk;function LB(){return kk||(kk=1,Gy.exports=DB()()),Gy.exports}var FB=LB();const Ue=He(FB);var BB=Object.getOwnPropertyNames,zB=Object.getOwnPropertySymbols,qB=Object.prototype.hasOwnProperty;function Ok(t,e){return function(n,a,o){return t(n,a,o)&&e(n,a,o)}}function ku(t){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,a);var o=a.cache,c=o.get(r),u=o.get(n);if(c&&u)return c===n&&u===r;o.set(r,n),o.set(n,r);var d=t(r,n,a);return o.delete(r),o.delete(n),d}}function Ak(t){return BB(t).concat(zB(t))}var UB=Object.hasOwn||(function(t,e){return qB.call(t,e)});function xi(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var WB="__v",HB="__o",GB="_owner",Pk=Object.getOwnPropertyDescriptor,Ek=Object.keys;function VB(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function KB(t,e){return xi(t.getTime(),e.getTime())}function YB(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function XB(t,e){return t===e}function Tk(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var a=new Array(n),o=t.entries(),c,u,d=0;(c=o.next())&&!c.done;){for(var m=e.entries(),p=!1,h=0;(u=m.next())&&!u.done;){if(a[h]){h++;continue}var y=c.value,v=u.value;if(r.equals(y[0],v[0],d,h,t,e,r)&&r.equals(y[1],v[1],y[0],v[0],t,e,r)){p=a[h]=!0;break}h++}if(!p)return!1;d++}return!0}var QB=xi;function ZB(t,e,r){var n=Ek(t),a=n.length;if(Ek(e).length!==a)return!1;for(;a-- >0;)if(!sT(t,e,r,n[a]))return!1;return!0}function Yo(t,e,r){var n=Ak(t),a=n.length;if(Ak(e).length!==a)return!1;for(var o,c,u;a-- >0;)if(o=n[a],!sT(t,e,r,o)||(c=Pk(t,o),u=Pk(e,o),(c||u)&&(!c||!u||c.configurable!==u.configurable||c.enumerable!==u.enumerable||c.writable!==u.writable)))return!1;return!0}function JB(t,e){return xi(t.valueOf(),e.valueOf())}function e7(t,e){return t.source===e.source&&t.flags===e.flags}function Ck(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var a=new Array(n),o=t.values(),c,u;(c=o.next())&&!c.done;){for(var d=e.values(),m=!1,p=0;(u=d.next())&&!u.done;){if(!a[p]&&r.equals(c.value,u.value,c.value,u.value,t,e,r)){m=a[p]=!0;break}p++}if(!m)return!1}return!0}function t7(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function r7(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function sT(t,e,r,n){return(n===GB||n===HB||n===WB)&&(t.$$typeof||e.$$typeof)?!0:UB(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var n7="[object Arguments]",a7="[object Boolean]",i7="[object Date]",s7="[object Error]",o7="[object Map]",l7="[object Number]",c7="[object Object]",u7="[object RegExp]",d7="[object Set]",f7="[object String]",m7="[object URL]",h7=Array.isArray,Ik=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,Mk=Object.assign,p7=Object.prototype.toString.call.bind(Object.prototype.toString);function g7(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,a=t.areFunctionsEqual,o=t.areMapsEqual,c=t.areNumbersEqual,u=t.areObjectsEqual,d=t.arePrimitiveWrappersEqual,m=t.areRegExpsEqual,p=t.areSetsEqual,h=t.areTypedArraysEqual,y=t.areUrlsEqual;return function(j,b,w){if(j===b)return!0;if(j==null||b==null)return!1;var k=typeof j;if(k!==typeof b)return!1;if(k!=="object")return k==="number"?c(j,b,w):k==="function"?a(j,b,w):!1;var S=j.constructor;if(S!==b.constructor)return!1;if(S===Object)return u(j,b,w);if(h7(j))return e(j,b,w);if(Ik!=null&&Ik(j))return h(j,b,w);if(S===Date)return r(j,b,w);if(S===RegExp)return m(j,b,w);if(S===Map)return o(j,b,w);if(S===Set)return p(j,b,w);var O=p7(j);return O===i7?r(j,b,w):O===u7?m(j,b,w):O===o7?o(j,b,w):O===d7?p(j,b,w):O===c7?typeof j.then!="function"&&typeof b.then!="function"&&u(j,b,w):O===m7?y(j,b,w):O===s7?n(j,b,w):O===n7?u(j,b,w):O===a7||O===l7||O===f7?d(j,b,w):!1}}function y7(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,a={areArraysEqual:n?Yo:VB,areDatesEqual:KB,areErrorsEqual:YB,areFunctionsEqual:XB,areMapsEqual:n?Ok(Tk,Yo):Tk,areNumbersEqual:QB,areObjectsEqual:n?Yo:ZB,arePrimitiveWrappersEqual:JB,areRegExpsEqual:e7,areSetsEqual:n?Ok(Ck,Yo):Ck,areTypedArraysEqual:n?Yo:t7,areUrlsEqual:r7};if(r&&(a=Mk({},a,r(a))),e){var o=ku(a.areArraysEqual),c=ku(a.areMapsEqual),u=ku(a.areObjectsEqual),d=ku(a.areSetsEqual);a=Mk({},a,{areArraysEqual:o,areMapsEqual:c,areObjectsEqual:u,areSetsEqual:d})}return a}function v7(t){return function(e,r,n,a,o,c,u){return t(e,r,u)}}function x7(t){var e=t.circular,r=t.comparator,n=t.createState,a=t.equals,o=t.strict;if(n)return function(d,m){var p=n(),h=p.cache,y=h===void 0?e?new WeakMap:void 0:h,v=p.meta;return r(d,m,{cache:y,equals:a,meta:v,strict:o})};if(e)return function(d,m){return r(d,m,{cache:new WeakMap,equals:a,meta:void 0,strict:o})};var c={cache:void 0,equals:a,meta:void 0,strict:o};return function(d,m){return r(d,m,c)}}var b7=Ia();Ia({strict:!0});Ia({circular:!0});Ia({circular:!0,strict:!0});Ia({createInternalComparator:function(){return xi}});Ia({strict:!0,createInternalComparator:function(){return xi}});Ia({circular:!0,createInternalComparator:function(){return xi}});Ia({circular:!0,createInternalComparator:function(){return xi},strict:!0});function Ia(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,a=t.createState,o=t.strict,c=o===void 0?!1:o,u=y7(t),d=g7(u),m=n?n(d):v7(d);return x7({circular:r,comparator:d,createState:a,equals:m,strict:c})}function w7(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function Rk(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(o){r<0&&(r=o),o-r>e?(t(o),r=-1):w7(a)};requestAnimationFrame(n)}function pv(t){"@babel/helpers - typeof";return pv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pv(t)}function j7(t){return k7(t)||N7(t)||_7(t)||S7()}function S7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _7(t,e){if(t){if(typeof t=="string")return $k(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $k(t,e)}}function $k(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function N7(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function k7(t){if(Array.isArray(t))return t}function O7(){var t={},e=function(){return null},r=!1,n=function a(o){if(!r){if(Array.isArray(o)){if(!o.length)return;var c=o,u=j7(c),d=u[0],m=u.slice(1);if(typeof d=="number"){Rk(a.bind(null,m),d);return}a(d),Rk(a.bind(null,m));return}pv(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){r=!0},start:function(o){r=!1,n(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function Rl(t){"@babel/helpers - typeof";return Rl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rl(t)}function Dk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Lk(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Dk(Object(r),!0).forEach(function(n){oT(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Dk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function oT(t,e,r){return e=A7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function A7(t){var e=P7(t,"string");return Rl(e)==="symbol"?e:String(e)}function P7(t,e){if(Rl(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Rl(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var E7=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,a){return n.filter(function(o){return a.includes(o)})})},T7=function(e){return e},C7=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},al=function(e,r){return Object.keys(r).reduce(function(n,a){return Lk(Lk({},n),{},oT({},a,e(a,r[a])))},{})},Fk=function(e,r,n){return e.map(function(a){return"".concat(C7(a)," ").concat(r,"ms ").concat(n)}).join(",")};function I7(t,e){return $7(t)||R7(t,e)||lT(t,e)||M7()}function M7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function R7(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,o,c,u=[],d=!0,m=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(p){m=!0,a=p}finally{try{if(!d&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(m)throw a}}return u}}function $7(t){if(Array.isArray(t))return t}function D7(t){return B7(t)||F7(t)||lT(t)||L7()}function L7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lT(t,e){if(t){if(typeof t=="string")return gv(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gv(t,e)}}function F7(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function B7(t){if(Array.isArray(t))return gv(t)}function gv(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var ld=1e-4,cT=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},uT=function(e,r){return e.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},Bk=function(e,r){return function(n){var a=cT(e,r);return uT(a,n)}},z7=function(e,r){return function(n){var a=cT(e,r),o=[].concat(D7(a.map(function(c,u){return c*u}).slice(1)),[0]);return uT(o,n)}},zk=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var a=r[0],o=r[1],c=r[2],u=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,o=0,c=1,u=1;break;case"ease":a=.25,o=.1,c=.25,u=1;break;case"ease-in":a=.42,o=0,c=1,u=1;break;case"ease-out":a=.42,o=0,c=.58,u=1;break;case"ease-in-out":a=0,o=0,c=.58,u=1;break;default:{var d=r[0].split("(");if(d[0]==="cubic-bezier"&&d[1].split(")")[0].split(",").length===4){var m=d[1].split(")")[0].split(",").map(function(w){return parseFloat(w)}),p=I7(m,4);a=p[0],o=p[1],c=p[2],u=p[3]}}}var h=Bk(a,c),y=Bk(o,u),v=z7(a,c),j=function(k){return k>1?1:k<0?0:k},b=function(k){for(var S=k>1?1:k,O=S,P=0;P<8;++P){var N=h(O)-S,A=v(O);if(Math.abs(N-S)<ld||A<ld)return y(O);O=j(O-N/A)}return y(O)};return b.isStepper=!1,b},q7=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,a=e.damping,o=a===void 0?8:a,c=e.dt,u=c===void 0?17:c,d=function(p,h,y){var v=-(p-h)*n,j=y*o,b=y+(v-j)*u/1e3,w=y*u/1e3+p;return Math.abs(w-h)<ld&&Math.abs(b)<ld?[h,0]:[w,b]};return d.isStepper=!0,d.dt=u,d},U7=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return zk(a);case"spring":return q7();default:if(a.split("(")[0]==="cubic-bezier")return zk(a)}return typeof a=="function"?a:null};function $l(t){"@babel/helpers - typeof";return $l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$l(t)}function qk(t){return G7(t)||H7(t)||dT(t)||W7()}function W7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function H7(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function G7(t){if(Array.isArray(t))return vv(t)}function Uk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function zt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Uk(Object(r),!0).forEach(function(n){yv(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Uk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yv(t,e,r){return e=V7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function V7(t){var e=K7(t,"string");return $l(e)==="symbol"?e:String(e)}function K7(t,e){if($l(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($l(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Y7(t,e){return Z7(t)||Q7(t,e)||dT(t,e)||X7()}function X7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dT(t,e){if(t){if(typeof t=="string")return vv(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vv(t,e)}}function vv(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Q7(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,o,c,u=[],d=!0,m=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(p){m=!0,a=p}finally{try{if(!d&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(m)throw a}}return u}}function Z7(t){if(Array.isArray(t))return t}var cd=function(e,r,n){return e+(r-e)*n},xv=function(e){var r=e.from,n=e.to;return r!==n},J7=function t(e,r,n){var a=al(function(o,c){if(xv(c)){var u=e(c.from,c.to,c.velocity),d=Y7(u,2),m=d[0],p=d[1];return zt(zt({},c),{},{from:m,velocity:p})}return c},r);return n<1?al(function(o,c){return xv(c)?zt(zt({},c),{},{velocity:cd(c.velocity,a[o].velocity,n),from:cd(c.from,a[o].from,n)}):c},r):t(e,a,n-1)};const ez=(function(t,e,r,n,a){var o=E7(t,e),c=o.reduce(function(w,k){return zt(zt({},w),{},yv({},k,[t[k],e[k]]))},{}),u=o.reduce(function(w,k){return zt(zt({},w),{},yv({},k,{from:t[k],velocity:0,to:e[k]}))},{}),d=-1,m,p,h=function(){return null},y=function(){return al(function(k,S){return S.from},u)},v=function(){return!Object.values(u).filter(xv).length},j=function(k){m||(m=k);var S=k-m,O=S/r.dt;u=J7(r,u,O),a(zt(zt(zt({},t),e),y())),m=k,v()||(d=requestAnimationFrame(h))},b=function(k){p||(p=k);var S=(k-p)/n,O=al(function(N,A){return cd.apply(void 0,qk(A).concat([r(S)]))},c);if(a(zt(zt(zt({},t),e),O)),S<1)d=requestAnimationFrame(h);else{var P=al(function(N,A){return cd.apply(void 0,qk(A).concat([r(1)]))},c);a(zt(zt(zt({},t),e),P))}};return h=r.isStepper?j:b,function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(d)}}});function js(t){"@babel/helpers - typeof";return js=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},js(t)}var tz=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function rz(t,e){if(t==null)return{};var r=nz(t,e),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(a=0;a<o.length;a++)n=o[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function nz(t,e){if(t==null)return{};var r={},n=Object.keys(t),a,o;for(o=0;o<n.length;o++)a=n[o],!(e.indexOf(a)>=0)&&(r[a]=t[a]);return r}function Yy(t){return oz(t)||sz(t)||iz(t)||az()}function az(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iz(t,e){if(t){if(typeof t=="string")return bv(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bv(t,e)}}function sz(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function oz(t){if(Array.isArray(t))return bv(t)}function bv(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Wk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function tn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Wk(Object(r),!0).forEach(function(n){Jo(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Wk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Jo(t,e,r){return e=fT(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lz(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cz(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,fT(n.key),n)}}function uz(t,e,r){return e&&cz(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function fT(t){var e=dz(t,"string");return js(e)==="symbol"?e:String(e)}function dz(t,e){if(js(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(js(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fz(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wv(t,e)}function wv(t,e){return wv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},wv(t,e)}function mz(t){var e=hz();return function(){var n=ud(t),a;if(e){var o=ud(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return jv(this,a)}}function jv(t,e){if(e&&(js(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Sv(t)}function Sv(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hz(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ud(t){return ud=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ud(t)}var Gr=(function(t){fz(r,t);var e=mz(r);function r(n,a){var o;lz(this,r),o=e.call(this,n,a);var c=o.props,u=c.isActive,d=c.attributeName,m=c.from,p=c.to,h=c.steps,y=c.children,v=c.duration;if(o.handleStyleChange=o.handleStyleChange.bind(Sv(o)),o.changeStyle=o.changeStyle.bind(Sv(o)),!u||v<=0)return o.state={style:{}},typeof y=="function"&&(o.state={style:p}),jv(o);if(h&&h.length)o.state={style:h[0].style};else if(m){if(typeof y=="function")return o.state={style:m},jv(o);o.state={style:d?Jo({},d,m):m}}else o.state={style:{}};return o}return uz(r,[{key:"componentDidMount",value:function(){var a=this.props,o=a.isActive,c=a.canBegin;this.mounted=!0,!(!o||!c)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var o=this.props,c=o.isActive,u=o.canBegin,d=o.attributeName,m=o.shouldReAnimate,p=o.to,h=o.from,y=this.state.style;if(u){if(!c){var v={style:d?Jo({},d,p):p};this.state&&y&&(d&&y[d]!==p||!d&&y!==p)&&this.setState(v);return}if(!(b7(a.to,p)&&a.canBegin&&a.isActive)){var j=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var b=j||m?h:a.to;if(this.state&&y){var w={style:d?Jo({},d,b):b};(d&&y[d]!==b||!d&&y!==b)&&this.setState(w)}this.runAnimation(tn(tn({},this.props),{},{from:b,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var o=this,c=a.from,u=a.to,d=a.duration,m=a.easing,p=a.begin,h=a.onAnimationEnd,y=a.onAnimationStart,v=ez(c,u,U7(m),d,this.changeStyle),j=function(){o.stopJSAnimation=v()};this.manager.start([y,p,j,d,h])}},{key:"runStepAnimation",value:function(a){var o=this,c=a.steps,u=a.begin,d=a.onAnimationStart,m=c[0],p=m.style,h=m.duration,y=h===void 0?0:h,v=function(b,w,k){if(k===0)return b;var S=w.duration,O=w.easing,P=O===void 0?"ease":O,N=w.style,A=w.properties,T=w.onAnimationEnd,$=k>0?c[k-1]:w,I=A||Object.keys(N);if(typeof P=="function"||P==="spring")return[].concat(Yy(b),[o.runJSAnimation.bind(o,{from:$.style,to:N,duration:S,easing:P}),S]);var B=Fk(I,S,P),M=tn(tn(tn({},$.style),N),{},{transition:B});return[].concat(Yy(b),[M,S,T]).filter(T7)};return this.manager.start([d].concat(Yy(c.reduce(v,[p,Math.max(y,u)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=O7());var o=a.begin,c=a.duration,u=a.attributeName,d=a.to,m=a.easing,p=a.onAnimationStart,h=a.onAnimationEnd,y=a.steps,v=a.children,j=this.manager;if(this.unSubscribe=j.subscribe(this.handleStyleChange),typeof m=="function"||typeof v=="function"||m==="spring"){this.runJSAnimation(a);return}if(y.length>1){this.runStepAnimation(a);return}var b=u?Jo({},u,d):d,w=Fk(Object.keys(b),c,m);j.start([p,o,tn(tn({},b),{},{transition:w}),c,h])}},{key:"render",value:function(){var a=this.props,o=a.children;a.begin;var c=a.duration;a.attributeName,a.easing;var u=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var d=rz(a,tz),m=C.Children.count(o),p=this.state.style;if(typeof o=="function")return o(p);if(!u||m===0||c<=0)return o;var h=function(v){var j=v.props,b=j.style,w=b===void 0?{}:b,k=j.className,S=C.cloneElement(v,tn(tn({},d),{},{style:tn(tn({},w),p),className:k}));return S};return m===1?h(C.Children.only(o)):U.createElement("div",null,C.Children.map(o,function(y){return h(y)}))}}]),r})(C.PureComponent);Gr.displayName="Animate";Gr.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Gr.propTypes={from:Ue.oneOfType([Ue.object,Ue.string]),to:Ue.oneOfType([Ue.object,Ue.string]),attributeName:Ue.string,duration:Ue.number,begin:Ue.number,easing:Ue.oneOfType([Ue.string,Ue.func]),steps:Ue.arrayOf(Ue.shape({duration:Ue.number.isRequired,style:Ue.object.isRequired,easing:Ue.oneOfType([Ue.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Ue.func]),properties:Ue.arrayOf("string"),onAnimationEnd:Ue.func})),children:Ue.oneOfType([Ue.node,Ue.func]),isActive:Ue.bool,canBegin:Ue.bool,onAnimationEnd:Ue.func,shouldReAnimate:Ue.bool,onAnimationStart:Ue.func,onAnimationReStart:Ue.func};function Dl(t){"@babel/helpers - typeof";return Dl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dl(t)}function dd(){return dd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},dd.apply(this,arguments)}function pz(t,e){return xz(t)||vz(t,e)||yz(t,e)||gz()}function gz(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yz(t,e){if(t){if(typeof t=="string")return Hk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Hk(t,e)}}function Hk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function vz(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,o,c,u=[],d=!0,m=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(p){m=!0,a=p}finally{try{if(!d&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(m)throw a}}return u}}function xz(t){if(Array.isArray(t))return t}function Gk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Vk(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Gk(Object(r),!0).forEach(function(n){bz(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Gk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bz(t,e,r){return e=wz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wz(t){var e=jz(t,"string");return Dl(e)=="symbol"?e:e+""}function jz(t,e){if(Dl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Dl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Kk=function(e,r,n,a,o){var c=Math.min(Math.abs(n)/2,Math.abs(a)/2),u=a>=0?1:-1,d=n>=0?1:-1,m=a>=0&&n>=0||a<0&&n<0?1:0,p;if(c>0&&o instanceof Array){for(var h=[0,0,0,0],y=0,v=4;y<v;y++)h[y]=o[y]>c?c:o[y];p="M".concat(e,",").concat(r+u*h[0]),h[0]>0&&(p+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(m,",").concat(e+d*h[0],",").concat(r)),p+="L ".concat(e+n-d*h[1],",").concat(r),h[1]>0&&(p+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(m,`,
        `).concat(e+n,",").concat(r+u*h[1])),p+="L ".concat(e+n,",").concat(r+a-u*h[2]),h[2]>0&&(p+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(m,`,
        `).concat(e+n-d*h[2],",").concat(r+a)),p+="L ".concat(e+d*h[3],",").concat(r+a),h[3]>0&&(p+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(m,`,
        `).concat(e,",").concat(r+a-u*h[3])),p+="Z"}else if(c>0&&o===+o&&o>0){var j=Math.min(c,o);p="M ".concat(e,",").concat(r+u*j,`
            A `).concat(j,",").concat(j,",0,0,").concat(m,",").concat(e+d*j,",").concat(r,`
            L `).concat(e+n-d*j,",").concat(r,`
            A `).concat(j,",").concat(j,",0,0,").concat(m,",").concat(e+n,",").concat(r+u*j,`
            L `).concat(e+n,",").concat(r+a-u*j,`
            A `).concat(j,",").concat(j,",0,0,").concat(m,",").concat(e+n-d*j,",").concat(r+a,`
            L `).concat(e+d*j,",").concat(r+a,`
            A `).concat(j,",").concat(j,",0,0,").concat(m,",").concat(e,",").concat(r+a-u*j," Z")}else p="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return p},Sz=function(e,r){if(!e||!r)return!1;var n=e.x,a=e.y,o=r.x,c=r.y,u=r.width,d=r.height;if(Math.abs(u)>0&&Math.abs(d)>0){var m=Math.min(o,o+u),p=Math.max(o,o+u),h=Math.min(c,c+d),y=Math.max(c,c+d);return n>=m&&n<=p&&a>=h&&a<=y}return!1},_z={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Jx=function(e){var r=Vk(Vk({},_z),e),n=C.useRef(),a=C.useState(-1),o=pz(a,2),c=o[0],u=o[1];C.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var P=n.current.getTotalLength();P&&u(P)}catch{}},[]);var d=r.x,m=r.y,p=r.width,h=r.height,y=r.radius,v=r.className,j=r.animationEasing,b=r.animationDuration,w=r.animationBegin,k=r.isAnimationActive,S=r.isUpdateAnimationActive;if(d!==+d||m!==+m||p!==+p||h!==+h||p===0||h===0)return null;var O=Me("recharts-rectangle",v);return S?U.createElement(Gr,{canBegin:c>0,from:{width:p,height:h,x:d,y:m},to:{width:p,height:h,x:d,y:m},duration:b,animationEasing:j,isActive:S},function(P){var N=P.width,A=P.height,T=P.x,$=P.y;return U.createElement(Gr,{canBegin:c>0,from:"0px ".concat(c===-1?1:c,"px"),to:"".concat(c,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:b,isActive:k,easing:j},U.createElement("path",dd({},we(r,!0),{className:O,d:Kk(T,$,N,A,y),ref:n})))}):U.createElement("path",dd({},we(r,!0),{className:O,d:Kk(d,m,p,h,y)}))},Nz=["points","className","baseLinePoints","connectNulls"];function Ji(){return Ji=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ji.apply(this,arguments)}function kz(t,e){if(t==null)return{};var r=Oz(t,e),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(a=0;a<o.length;a++)n=o[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Oz(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Yk(t){return Tz(t)||Ez(t)||Pz(t)||Az()}function Az(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pz(t,e){if(t){if(typeof t=="string")return _v(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _v(t,e)}}function Ez(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Tz(t){if(Array.isArray(t))return _v(t)}function _v(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Xk=function(e){return e&&e.x===+e.x&&e.y===+e.y},Cz=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){Xk(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),Xk(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},il=function(e,r){var n=Cz(e);r&&(n=[n.reduce(function(o,c){return[].concat(Yk(o),Yk(c))},[])]);var a=n.map(function(o){return o.reduce(function(c,u,d){return"".concat(c).concat(d===0?"M":"L").concat(u.x,",").concat(u.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},Iz=function(e,r,n){var a=il(e,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(il(r.reverse(),n).slice(1))},Mz=function(e){var r=e.points,n=e.className,a=e.baseLinePoints,o=e.connectNulls,c=kz(e,Nz);if(!r||!r.length)return null;var u=Me("recharts-polygon",n);if(a&&a.length){var d=c.stroke&&c.stroke!=="none",m=Iz(r,a,o);return U.createElement("g",{className:u},U.createElement("path",Ji({},we(c,!0),{fill:m.slice(-1)==="Z"?c.fill:"none",stroke:"none",d:m})),d?U.createElement("path",Ji({},we(c,!0),{fill:"none",d:il(r,o)})):null,d?U.createElement("path",Ji({},we(c,!0),{fill:"none",d:il(a,o)})):null)}var p=il(r,o);return U.createElement("path",Ji({},we(c,!0),{fill:p.slice(-1)==="Z"?c.fill:"none",className:u,d:p}))};function Nv(){return Nv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Nv.apply(this,arguments)}var ec=function(e){var r=e.cx,n=e.cy,a=e.r,o=e.className,c=Me("recharts-dot",o);return r===+r&&n===+n&&a===+a?C.createElement("circle",Nv({},we(e,!1),Ru(e),{className:c,cx:r,cy:n,r:a})):null};function Ll(t){"@babel/helpers - typeof";return Ll=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ll(t)}var Rz=["x","y","top","left","width","height","className"];function kv(){return kv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},kv.apply(this,arguments)}function Qk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function $z(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Qk(Object(r),!0).forEach(function(n){Dz(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Qk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Dz(t,e,r){return e=Lz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Lz(t){var e=Fz(t,"string");return Ll(e)=="symbol"?e:e+""}function Fz(t,e){if(Ll(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ll(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Bz(t,e){if(t==null)return{};var r=zz(t,e),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(a=0;a<o.length;a++)n=o[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function zz(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var qz=function(e,r,n,a,o,c){return"M".concat(e,",").concat(o,"v").concat(a,"M").concat(c,",").concat(r,"h").concat(n)},Uz=function(e){var r=e.x,n=r===void 0?0:r,a=e.y,o=a===void 0?0:a,c=e.top,u=c===void 0?0:c,d=e.left,m=d===void 0?0:d,p=e.width,h=p===void 0?0:p,y=e.height,v=y===void 0?0:y,j=e.className,b=Bz(e,Rz),w=$z({x:n,y:o,top:u,left:m,width:h,height:v},b);return!ue(n)||!ue(o)||!ue(h)||!ue(v)||!ue(u)||!ue(m)?null:U.createElement("path",kv({},we(w,!0),{className:Me("recharts-cross",j),d:qz(n,o,h,v,u,m)}))},Xy,Zk;function Wz(){if(Zk)return Xy;Zk=1;var t=nf(),e=OE(),r=_n();function n(a,o){return a&&a.length?t(a,r(o,2),e):void 0}return Xy=n,Xy}var Hz=Wz();const Gz=He(Hz);var Qy,Jk;function Vz(){if(Jk)return Qy;Jk=1;var t=nf(),e=_n(),r=AE();function n(a,o){return a&&a.length?t(a,e(o,2),r):void 0}return Qy=n,Qy}var Kz=Vz();const Yz=He(Kz);var Xz=["cx","cy","angle","ticks","axisLine"],Qz=["ticks","tick","angle","tickFormatter","stroke"];function Ss(t){"@babel/helpers - typeof";return Ss=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ss(t)}function sl(){return sl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},sl.apply(this,arguments)}function eO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Ka(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eO(Object(r),!0).forEach(function(n){lf(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function tO(t,e){if(t==null)return{};var r=Zz(t,e),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(a=0;a<o.length;a++)n=o[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Zz(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Jz(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rO(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,hT(n.key),n)}}function eq(t,e,r){return e&&rO(t.prototype,e),r&&rO(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function tq(t,e,r){return e=fd(e),rq(t,mT()?Reflect.construct(e,r||[],fd(t).constructor):e.apply(t,r))}function rq(t,e){if(e&&(Ss(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nq(t)}function nq(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mT(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mT=function(){return!!t})()}function fd(t){return fd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},fd(t)}function aq(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ov(t,e)}function Ov(t,e){return Ov=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Ov(t,e)}function lf(t,e,r){return e=hT(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hT(t){var e=iq(t,"string");return Ss(e)=="symbol"?e:e+""}function iq(t,e){if(Ss(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ss(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var cf=(function(t){function e(){return Jz(this,e),tq(this,e,arguments)}return aq(e,t),eq(e,[{key:"getTickValueCoord",value:function(n){var a=n.coordinate,o=this.props,c=o.angle,u=o.cx,d=o.cy;return Ze(u,d,a,c)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,a;switch(n){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var n=this.props,a=n.cx,o=n.cy,c=n.angle,u=n.ticks,d=Gz(u,function(p){return p.coordinate||0}),m=Yz(u,function(p){return p.coordinate||0});return{cx:a,cy:o,startAngle:c,endAngle:c,innerRadius:m.coordinate||0,outerRadius:d.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,o=n.cy,c=n.angle,u=n.ticks,d=n.axisLine,m=tO(n,Xz),p=u.reduce(function(j,b){return[Math.min(j[0],b.coordinate),Math.max(j[1],b.coordinate)]},[1/0,-1/0]),h=Ze(a,o,p[0],c),y=Ze(a,o,p[1],c),v=Ka(Ka(Ka({},we(m,!1)),{},{fill:"none"},we(d,!1)),{},{x1:h.x,y1:h.y,x2:y.x,y2:y.y});return U.createElement("line",sl({className:"recharts-polar-radius-axis-line"},v))}},{key:"renderTicks",value:function(){var n=this,a=this.props,o=a.ticks,c=a.tick,u=a.angle,d=a.tickFormatter,m=a.stroke,p=tO(a,Qz),h=this.getTickTextAnchor(),y=we(p,!1),v=we(c,!1),j=o.map(function(b,w){var k=n.getTickValueCoord(b),S=Ka(Ka(Ka(Ka({textAnchor:h,transform:"rotate(".concat(90-u,", ").concat(k.x,", ").concat(k.y,")")},y),{},{stroke:"none",fill:m},v),{},{index:w},k),{},{payload:b});return U.createElement($e,sl({className:Me("recharts-polar-radius-axis-tick",rT(c)),key:"tick-".concat(b.coordinate)},Na(n.props,b,w)),e.renderTickItem(c,S,d?d(b.value,w):b.value))});return U.createElement($e,{className:"recharts-polar-radius-axis-ticks"},j)}},{key:"render",value:function(){var n=this.props,a=n.ticks,o=n.axisLine,c=n.tick;return!a||!a.length?null:U.createElement($e,{className:Me("recharts-polar-radius-axis",this.props.className)},o&&this.renderAxisLine(),c&&this.renderTicks(),Dt.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,a,o){var c;return U.isValidElement(n)?c=U.cloneElement(n,a):Ae(n)?c=n(a):c=U.createElement(ci,sl({},a,{className:"recharts-polar-radius-axis-tick-value"}),o),c}}])})(C.PureComponent);lf(cf,"displayName","PolarRadiusAxis");lf(cf,"axisType","radiusAxis");lf(cf,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function _s(t){"@babel/helpers - typeof";return _s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_s(t)}function Za(){return Za=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Za.apply(this,arguments)}function nO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Ya(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nO(Object(r),!0).forEach(function(n){uf(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function sq(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aO(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,gT(n.key),n)}}function oq(t,e,r){return e&&aO(t.prototype,e),r&&aO(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function lq(t,e,r){return e=md(e),cq(t,pT()?Reflect.construct(e,r||[],md(t).constructor):e.apply(t,r))}function cq(t,e){if(e&&(_s(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uq(t)}function uq(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pT(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pT=function(){return!!t})()}function md(t){return md=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},md(t)}function dq(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Av(t,e)}function Av(t,e){return Av=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Av(t,e)}function uf(t,e,r){return e=gT(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gT(t){var e=fq(t,"string");return _s(e)=="symbol"?e:e+""}function fq(t,e){if(_s(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_s(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var mq=Math.PI/180,iO=1e-5,df=(function(t){function e(){return sq(this,e),lq(this,e,arguments)}return dq(e,t),oq(e,[{key:"getTickLineCoord",value:function(n){var a=this.props,o=a.cx,c=a.cy,u=a.radius,d=a.orientation,m=a.tickSize,p=m||8,h=Ze(o,c,u,n.coordinate),y=Ze(o,c,u+(d==="inner"?-1:1)*p,n.coordinate);return{x1:h.x,y1:h.y,x2:y.x,y2:y.y}}},{key:"getTickTextAnchor",value:function(n){var a=this.props.orientation,o=Math.cos(-n.coordinate*mq),c;return o>iO?c=a==="outer"?"start":"end":o<-iO?c=a==="outer"?"end":"start":c="middle",c}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,o=n.cy,c=n.radius,u=n.axisLine,d=n.axisLineType,m=Ya(Ya({},we(this.props,!1)),{},{fill:"none"},we(u,!1));if(d==="circle")return U.createElement(ec,Za({className:"recharts-polar-angle-axis-line"},m,{cx:a,cy:o,r:c}));var p=this.props.ticks,h=p.map(function(y){return Ze(a,o,c,y.coordinate)});return U.createElement(Mz,Za({className:"recharts-polar-angle-axis-line"},m,{points:h}))}},{key:"renderTicks",value:function(){var n=this,a=this.props,o=a.ticks,c=a.tick,u=a.tickLine,d=a.tickFormatter,m=a.stroke,p=we(this.props,!1),h=we(c,!1),y=Ya(Ya({},p),{},{fill:"none"},we(u,!1)),v=o.map(function(j,b){var w=n.getTickLineCoord(j),k=n.getTickTextAnchor(j),S=Ya(Ya(Ya({textAnchor:k},p),{},{stroke:"none",fill:m},h),{},{index:b,payload:j,x:w.x2,y:w.y2});return U.createElement($e,Za({className:Me("recharts-polar-angle-axis-tick",rT(c)),key:"tick-".concat(j.coordinate)},Na(n.props,j,b)),u&&U.createElement("line",Za({className:"recharts-polar-angle-axis-tick-line"},y,w)),c&&e.renderTickItem(c,S,d?d(j.value,b):j.value))});return U.createElement($e,{className:"recharts-polar-angle-axis-ticks"},v)}},{key:"render",value:function(){var n=this.props,a=n.ticks,o=n.radius,c=n.axisLine;return o<=0||!a||!a.length?null:U.createElement($e,{className:Me("recharts-polar-angle-axis",this.props.className)},c&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,a,o){var c;return U.isValidElement(n)?c=U.cloneElement(n,a):Ae(n)?c=n(a):c=U.createElement(ci,Za({},a,{className:"recharts-polar-angle-axis-tick-value"}),o),c}}])})(C.PureComponent);uf(df,"displayName","PolarAngleAxis");uf(df,"axisType","angleAxis");uf(df,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Zy,sO;function hq(){if(sO)return Zy;sO=1;var t=kP(),e=t(Object.getPrototypeOf,Object);return Zy=e,Zy}var Jy,oO;function pq(){if(oO)return Jy;oO=1;var t=Hn(),e=hq(),r=Gn(),n="[object Object]",a=Function.prototype,o=Object.prototype,c=a.toString,u=o.hasOwnProperty,d=c.call(Object);function m(p){if(!r(p)||t(p)!=n)return!1;var h=e(p);if(h===null)return!0;var y=u.call(h,"constructor")&&h.constructor;return typeof y=="function"&&y instanceof y&&c.call(y)==d}return Jy=m,Jy}var gq=pq();const yq=He(gq);var e0,lO;function vq(){if(lO)return e0;lO=1;var t=Hn(),e=Gn(),r="[object Boolean]";function n(a){return a===!0||a===!1||e(a)&&t(a)==r}return e0=n,e0}var xq=vq();const bq=He(xq);function Fl(t){"@babel/helpers - typeof";return Fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fl(t)}function hd(){return hd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hd.apply(this,arguments)}function wq(t,e){return Nq(t)||_q(t,e)||Sq(t,e)||jq()}function jq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sq(t,e){if(t){if(typeof t=="string")return cO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cO(t,e)}}function cO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function _q(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,o,c,u=[],d=!0,m=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(p){m=!0,a=p}finally{try{if(!d&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(m)throw a}}return u}}function Nq(t){if(Array.isArray(t))return t}function uO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function dO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uO(Object(r),!0).forEach(function(n){kq(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kq(t,e,r){return e=Oq(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Oq(t){var e=Aq(t,"string");return Fl(e)=="symbol"?e:e+""}function Aq(t,e){if(Fl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Fl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fO=function(e,r,n,a,o){var c=n-a,u;return u="M ".concat(e,",").concat(r),u+="L ".concat(e+n,",").concat(r),u+="L ".concat(e+n-c/2,",").concat(r+o),u+="L ".concat(e+n-c/2-a,",").concat(r+o),u+="L ".concat(e,",").concat(r," Z"),u},Pq={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Eq=function(e){var r=dO(dO({},Pq),e),n=C.useRef(),a=C.useState(-1),o=wq(a,2),c=o[0],u=o[1];C.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var O=n.current.getTotalLength();O&&u(O)}catch{}},[]);var d=r.x,m=r.y,p=r.upperWidth,h=r.lowerWidth,y=r.height,v=r.className,j=r.animationEasing,b=r.animationDuration,w=r.animationBegin,k=r.isUpdateAnimationActive;if(d!==+d||m!==+m||p!==+p||h!==+h||y!==+y||p===0&&h===0||y===0)return null;var S=Me("recharts-trapezoid",v);return k?U.createElement(Gr,{canBegin:c>0,from:{upperWidth:0,lowerWidth:0,height:y,x:d,y:m},to:{upperWidth:p,lowerWidth:h,height:y,x:d,y:m},duration:b,animationEasing:j,isActive:k},function(O){var P=O.upperWidth,N=O.lowerWidth,A=O.height,T=O.x,$=O.y;return U.createElement(Gr,{canBegin:c>0,from:"0px ".concat(c===-1?1:c,"px"),to:"".concat(c,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:b,easing:j},U.createElement("path",hd({},we(r,!0),{className:S,d:fO(T,$,P,N,A),ref:n})))}):U.createElement("g",null,U.createElement("path",hd({},we(r,!0),{className:S,d:fO(d,m,p,h,y)})))},Tq=["option","shapeType","propTransformer","activeClassName","isActive"];function Bl(t){"@babel/helpers - typeof";return Bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bl(t)}function Cq(t,e){if(t==null)return{};var r=Iq(t,e),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(a=0;a<o.length;a++)n=o[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Iq(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function mO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function pd(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mO(Object(r),!0).forEach(function(n){Mq(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Mq(t,e,r){return e=Rq(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Rq(t){var e=$q(t,"string");return Bl(e)=="symbol"?e:e+""}function $q(t,e){if(Bl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dq(t,e){return pd(pd({},e),t)}function Lq(t,e){return t==="symbols"}function hO(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return U.createElement(Jx,r);case"trapezoid":return U.createElement(Eq,r);case"sector":return U.createElement(iT,r);case"symbols":if(Lq(e))return U.createElement(Vd,r);break;default:return null}}function Fq(t){return C.isValidElement(t)?t.props:t}function gd(t){var e=t.option,r=t.shapeType,n=t.propTransformer,a=n===void 0?Dq:n,o=t.activeClassName,c=o===void 0?"recharts-active-shape":o,u=t.isActive,d=Cq(t,Tq),m;if(C.isValidElement(e))m=C.cloneElement(e,pd(pd({},d),Fq(e)));else if(Ae(e))m=e(d);else if(yq(e)&&!bq(e)){var p=a(e,d);m=U.createElement(hO,{shapeType:r,elementProps:p})}else{var h=d;m=U.createElement(hO,{shapeType:r,elementProps:h})}return u?U.createElement($e,{className:c},m):m}function ff(t,e){return e!=null&&"trapezoids"in t.props}function mf(t,e){return e!=null&&"sectors"in t.props}function zl(t,e){return e!=null&&"points"in t.props}function Bq(t,e){var r,n,a=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,o=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return a&&o}function zq(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function qq(t,e){var r=t.x===e.x,n=t.y===e.y,a=t.z===e.z;return r&&n&&a}function Uq(t,e){var r;return ff(t,e)?r=Bq:mf(t,e)?r=zq:zl(t,e)&&(r=qq),r}function Wq(t,e){var r;return ff(t,e)?r="trapezoids":mf(t,e)?r="sectors":zl(t,e)&&(r="points"),r}function Hq(t,e){if(ff(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(mf(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return zl(t,e)?e.payload:{}}function Gq(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,a=Wq(r,e),o=Hq(r,e),c=n.filter(function(d,m){var p=ka(o,d),h=r.props[a].filter(function(j){var b=Uq(r,e);return b(j,e)}),y=r.props[a].indexOf(h[h.length-1]),v=m===y;return p&&v}),u=n.indexOf(c[c.length-1]);return u}var Tu;function Ns(t){"@babel/helpers - typeof";return Ns=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ns(t)}function es(){return es=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},es.apply(this,arguments)}function pO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Xe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pO(Object(r),!0).forEach(function(n){qr(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Vq(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gO(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,vT(n.key),n)}}function Kq(t,e,r){return e&&gO(t.prototype,e),r&&gO(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Yq(t,e,r){return e=yd(e),Xq(t,yT()?Reflect.construct(e,r||[],yd(t).constructor):e.apply(t,r))}function Xq(t,e){if(e&&(Ns(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qq(t)}function Qq(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yT(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yT=function(){return!!t})()}function yd(t){return yd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yd(t)}function Zq(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Pv(t,e)}function Pv(t,e){return Pv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Pv(t,e)}function qr(t,e,r){return e=vT(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vT(t){var e=Jq(t,"string");return Ns(e)=="symbol"?e:e+""}function Jq(t,e){if(Ns(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ns(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var cn=(function(t){function e(r){var n;return Vq(this,e),n=Yq(this,e,[r]),qr(n,"pieRef",null),qr(n,"sectorRefs",[]),qr(n,"id",Ea("recharts-pie-")),qr(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Ae(a)&&a()}),qr(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Ae(a)&&a()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return Zq(e,t),Kq(e,[{key:"isActiveIndex",value:function(n){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(n)!==-1:n===a}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var o=this.props,c=o.label,u=o.labelLine,d=o.dataKey,m=o.valueKey,p=we(this.props,!1),h=we(c,!1),y=we(u,!1),v=c&&c.offsetRadius||20,j=n.map(function(b,w){var k=(b.startAngle+b.endAngle)/2,S=Ze(b.cx,b.cy,b.outerRadius+v,k),O=Xe(Xe(Xe(Xe({},p),b),{},{stroke:"none"},h),{},{index:w,textAnchor:e.getTextAnchor(S.x,b.cx)},S),P=Xe(Xe(Xe(Xe({},p),b),{},{fill:"none",stroke:b.fill},y),{},{index:w,points:[Ze(b.cx,b.cy,b.outerRadius,k),S]}),N=d;return Oe(d)&&Oe(m)?N="value":Oe(d)&&(N=m),U.createElement($e,{key:"label-".concat(b.startAngle,"-").concat(b.endAngle,"-").concat(b.midAngle,"-").concat(w)},u&&e.renderLabelLineItem(u,P,"line"),e.renderLabelItem(c,O,nt(b,N)))});return U.createElement($e,{className:"recharts-pie-labels"},j)}},{key:"renderSectorsStatically",value:function(n){var a=this,o=this.props,c=o.activeShape,u=o.blendStroke,d=o.inactiveShape;return n.map(function(m,p){if(m?.startAngle===0&&m?.endAngle===0&&n.length!==1)return null;var h=a.isActiveIndex(p),y=d&&a.hasActiveIndex()?d:null,v=h?c:y,j=Xe(Xe({},m),{},{stroke:u?m.fill:m.stroke,tabIndex:-1});return U.createElement($e,es({ref:function(w){w&&!a.sectorRefs.includes(w)&&a.sectorRefs.push(w)},tabIndex:-1,className:"recharts-pie-sector"},Na(a.props,m,p),{key:"sector-".concat(m?.startAngle,"-").concat(m?.endAngle,"-").concat(m.midAngle,"-").concat(p)}),U.createElement(gd,es({option:v,isActive:h,shapeType:"sector"},j)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,a=this.props,o=a.sectors,c=a.isAnimationActive,u=a.animationBegin,d=a.animationDuration,m=a.animationEasing,p=a.animationId,h=this.state,y=h.prevSectors,v=h.prevIsAnimationActive;return U.createElement(Gr,{begin:u,duration:d,isActive:c,easing:m,from:{t:0},to:{t:1},key:"pie-".concat(p,"-").concat(v),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(j){var b=j.t,w=[],k=o&&o[0],S=k.startAngle;return o.forEach(function(O,P){var N=y&&y[P],A=P>0?Or(O,"paddingAngle",0):0;if(N){var T=ft(N.endAngle-N.startAngle,O.endAngle-O.startAngle),$=Xe(Xe({},O),{},{startAngle:S+A,endAngle:S+T(b)+A});w.push($),S=$.endAngle}else{var I=O.endAngle,B=O.startAngle,M=ft(0,I-B),q=M(b),F=Xe(Xe({},O),{},{startAngle:S+A,endAngle:S+q+A});w.push(F),S=F.endAngle}}),U.createElement($e,null,n.renderSectorsStatically(w))})}},{key:"attachKeyboardHandlers",value:function(n){var a=this;n.onkeydown=function(o){if(!o.altKey)switch(o.key){case"ArrowLeft":{var c=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[c].focus(),a.setState({sectorToFocus:c});break}case"ArrowRight":{var u=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[u].focus(),a.setState({sectorToFocus:u});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,a=n.sectors,o=n.isAnimationActive,c=this.state.prevSectors;return o&&a&&a.length&&(!c||!ka(c,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,a=this.props,o=a.hide,c=a.sectors,u=a.className,d=a.label,m=a.cx,p=a.cy,h=a.innerRadius,y=a.outerRadius,v=a.isAnimationActive,j=this.state.isAnimationFinished;if(o||!c||!c.length||!ue(m)||!ue(p)||!ue(h)||!ue(y))return null;var b=Me("recharts-pie",u);return U.createElement($e,{tabIndex:this.props.rootTabIndex,className:b,ref:function(k){n.pieRef=k}},this.renderSectors(),d&&this.renderLabels(c),Dt.renderCallByParent(this.props,null,!1),(!v||j)&&on.renderCallByParent(this.props,c,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return a.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:n.sectors!==a.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,a){return n>a?"start":n<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,a,o){if(U.isValidElement(n))return U.cloneElement(n,a);if(Ae(n))return n(a);var c=Me("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return U.createElement(_a,es({},a,{key:o,type:"linear",className:c}))}},{key:"renderLabelItem",value:function(n,a,o){if(U.isValidElement(n))return U.cloneElement(n,a);var c=o;if(Ae(n)&&(c=n(a),U.isValidElement(c)))return c;var u=Me("recharts-pie-label-text",typeof n!="boolean"&&!Ae(n)?n.className:"");return U.createElement(ci,es({},a,{alignmentBaseline:"middle",className:u}),c)}}])})(C.PureComponent);Tu=cn;qr(cn,"displayName","Pie");qr(cn,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Vn.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});qr(cn,"parseDeltaAngle",function(t,e){var r=rr(e-t),n=Math.min(Math.abs(e-t),360);return r*n});qr(cn,"getRealPieData",function(t){var e=t.data,r=t.children,n=we(t,!1),a=sr(r,gi);return e&&e.length?e.map(function(o,c){return Xe(Xe(Xe({payload:o},n),o),a&&a[c]&&a[c].props)}):a&&a.length?a.map(function(o){return Xe(Xe({},n),o.props)}):[]});qr(cn,"parseCoordinateOfPie",function(t,e){var r=e.top,n=e.left,a=e.width,o=e.height,c=tT(a,o),u=n+nr(t.cx,a,a/2),d=r+nr(t.cy,o,o/2),m=nr(t.innerRadius,c,0),p=nr(t.outerRadius,c,c*.8),h=t.maxRadius||Math.sqrt(a*a+o*o)/2;return{cx:u,cy:d,innerRadius:m,outerRadius:p,maxRadius:h}});qr(cn,"getComposedData",function(t){var e=t.item,r=t.offset,n=e.type.defaultProps!==void 0?Xe(Xe({},e.type.defaultProps),e.props):e.props,a=Tu.getRealPieData(n);if(!a||!a.length)return null;var o=n.cornerRadius,c=n.startAngle,u=n.endAngle,d=n.paddingAngle,m=n.dataKey,p=n.nameKey,h=n.valueKey,y=n.tooltipType,v=Math.abs(n.minAngle),j=Tu.parseCoordinateOfPie(n,r),b=Tu.parseDeltaAngle(c,u),w=Math.abs(b),k=m;Oe(m)&&Oe(h)?(sn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),k="value"):Oe(m)&&(sn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),k=h);var S=a.filter(function($){return nt($,k,0)!==0}).length,O=(w>=360?S:S-1)*d,P=w-S*v-O,N=a.reduce(function($,I){var B=nt(I,k,0);return $+(ue(B)?B:0)},0),A;if(N>0){var T;A=a.map(function($,I){var B=nt($,k,0),M=nt($,p,I),q=(ue(B)?B:0)/N,F;I?F=T.endAngle+rr(b)*d*(B!==0?1:0):F=c;var V=F+rr(b)*((B!==0?v:0)+q*P),L=(F+V)/2,R=(j.innerRadius+j.outerRadius)/2,G=[{name:M,value:B,payload:$,dataKey:k,type:y}],D=Ze(j.cx,j.cy,R,L);return T=Xe(Xe(Xe({percent:q,cornerRadius:o,name:M,tooltipPayload:G,midAngle:L,middleRadius:R,tooltipPosition:D},$),j),{},{value:nt($,k),startAngle:F,endAngle:V,payload:$,paddingAngle:rr(b)*d}),T})}return Xe(Xe({},j),{},{sectors:A,data:a})});var t0,yO;function eU(){if(yO)return t0;yO=1;var t=Math.ceil,e=Math.max;function r(n,a,o,c){for(var u=-1,d=e(t((a-n)/(o||1)),0),m=Array(d);d--;)m[c?d:++u]=n,n+=o;return m}return t0=r,t0}var r0,vO;function xT(){if(vO)return r0;vO=1;var t=qP(),e=1/0,r=17976931348623157e292;function n(a){if(!a)return a===0?a:0;if(a=t(a),a===e||a===-e){var o=a<0?-1:1;return o*r}return a===a?a:0}return r0=n,r0}var n0,xO;function tU(){if(xO)return n0;xO=1;var t=eU(),e=Xd(),r=xT();function n(a){return function(o,c,u){return u&&typeof u!="number"&&e(o,c,u)&&(c=u=void 0),o=r(o),c===void 0?(c=o,o=0):c=r(c),u=u===void 0?o<c?1:-1:r(u),t(o,c,u,a)}}return n0=n,n0}var a0,bO;function rU(){if(bO)return a0;bO=1;var t=tU(),e=t();return a0=e,a0}var nU=rU();const vd=He(nU);function ql(t){"@babel/helpers - typeof";return ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ql(t)}function wO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function jO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wO(Object(r),!0).forEach(function(n){bT(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bT(t,e,r){return e=aU(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function aU(t){var e=iU(t,"string");return ql(e)=="symbol"?e:e+""}function iU(t,e){if(ql(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ql(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sU=["Webkit","Moz","O","ms"],oU=function(e,r){var n=e.replace(/(\w)/,function(o){return o.toUpperCase()}),a=sU.reduce(function(o,c){return jO(jO({},o),{},bT({},c+n,r))},{});return a[e]=r,a};function ks(t){"@babel/helpers - typeof";return ks=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ks(t)}function xd(){return xd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},xd.apply(this,arguments)}function SO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function i0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?SO(Object(r),!0).forEach(function(n){Sr(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):SO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lU(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _O(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,jT(n.key),n)}}function cU(t,e,r){return e&&_O(t.prototype,e),r&&_O(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function uU(t,e,r){return e=bd(e),dU(t,wT()?Reflect.construct(e,r||[],bd(t).constructor):e.apply(t,r))}function dU(t,e){if(e&&(ks(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fU(t)}function fU(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wT(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wT=function(){return!!t})()}function bd(t){return bd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bd(t)}function mU(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ev(t,e)}function Ev(t,e){return Ev=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Ev(t,e)}function Sr(t,e,r){return e=jT(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jT(t){var e=hU(t,"string");return ks(e)=="symbol"?e:e+""}function hU(t,e){if(ks(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ks(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var pU=function(e){var r=e.data,n=e.startIndex,a=e.endIndex,o=e.x,c=e.width,u=e.travellerWidth;if(!r||!r.length)return{};var d=r.length,m=rl().domain(vd(0,d)).range([o,o+c-u]),p=m.domain().map(function(h){return m(h)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:m(n),endX:m(a),scale:m,scaleValues:p}},NO=function(e){return e.changedTouches&&!!e.changedTouches.length},Os=(function(t){function e(r){var n;return lU(this,e),n=uU(this,e,[r]),Sr(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),Sr(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),Sr(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,o=a.endIndex,c=a.onDragEnd,u=a.startIndex;c?.({endIndex:o,startIndex:u})}),n.detachDragEndListener()}),Sr(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Sr(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Sr(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Sr(n,"handleSlideDragStart",function(a){var o=NO(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return mU(e,t),cU(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,o=n.endX,c=this.state.scaleValues,u=this.props,d=u.gap,m=u.data,p=m.length-1,h=Math.min(a,o),y=Math.max(a,o),v=e.getIndexInRange(c,h),j=e.getIndexInRange(c,y);return{startIndex:v-v%d,endIndex:j===p?p:j-j%d}}},{key:"getTextOfTick",value:function(n){var a=this.props,o=a.data,c=a.tickFormatter,u=a.dataKey,d=nt(o[n],u,n);return Ae(c)?c(d,n):d}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,o=a.slideMoveStartX,c=a.startX,u=a.endX,d=this.props,m=d.x,p=d.width,h=d.travellerWidth,y=d.startIndex,v=d.endIndex,j=d.onChange,b=n.pageX-o;b>0?b=Math.min(b,m+p-h-u,m+p-h-c):b<0&&(b=Math.max(b,m-c,m-u));var w=this.getIndex({startX:c+b,endX:u+b});(w.startIndex!==y||w.endIndex!==v)&&j&&j(w),this.setState({startX:c+b,endX:u+b,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var o=NO(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,o=a.brushMoveStartX,c=a.movingTravellerId,u=a.endX,d=a.startX,m=this.state[c],p=this.props,h=p.x,y=p.width,v=p.travellerWidth,j=p.onChange,b=p.gap,w=p.data,k={startX:this.state.startX,endX:this.state.endX},S=n.pageX-o;S>0?S=Math.min(S,h+y-v-m):S<0&&(S=Math.max(S,h-m)),k[c]=m+S;var O=this.getIndex(k),P=O.startIndex,N=O.endIndex,A=function(){var $=w.length-1;return c==="startX"&&(u>d?P%b===0:N%b===0)||u<d&&N===$||c==="endX"&&(u>d?N%b===0:P%b===0)||u>d&&N===$};this.setState(Sr(Sr({},c,m+S),"brushMoveStartX",n.pageX),function(){j&&A()&&j(O)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var o=this,c=this.state,u=c.scaleValues,d=c.startX,m=c.endX,p=this.state[a],h=u.indexOf(p);if(h!==-1){var y=h+n;if(!(y===-1||y>=u.length)){var v=u[y];a==="startX"&&v>=m||a==="endX"&&v<=d||this.setState(Sr({},a,v),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,o=n.y,c=n.width,u=n.height,d=n.fill,m=n.stroke;return U.createElement("rect",{stroke:m,fill:d,x:a,y:o,width:c,height:u})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,o=n.y,c=n.width,u=n.height,d=n.data,m=n.children,p=n.padding,h=C.Children.only(m);return h?U.cloneElement(h,{x:a,y:o,width:c,height:u,margin:p,compact:!0,data:d}):null}},{key:"renderTravellerLayer",value:function(n,a){var o,c,u=this,d=this.props,m=d.y,p=d.travellerWidth,h=d.height,y=d.traveller,v=d.ariaLabel,j=d.data,b=d.startIndex,w=d.endIndex,k=Math.max(n,this.props.x),S=i0(i0({},we(this.props,!1)),{},{x:k,y:m,width:p,height:h}),O=v||"Min value: ".concat((o=j[b])===null||o===void 0?void 0:o.name,", Max value: ").concat((c=j[w])===null||c===void 0?void 0:c.name);return U.createElement($e,{tabIndex:0,role:"slider","aria-label":O,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(N){["ArrowLeft","ArrowRight"].includes(N.key)&&(N.preventDefault(),N.stopPropagation(),u.handleTravellerMoveKeyboard(N.key==="ArrowRight"?1:-1,a))},onFocus:function(){u.setState({isTravellerFocused:!0})},onBlur:function(){u.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(y,S))}},{key:"renderSlide",value:function(n,a){var o=this.props,c=o.y,u=o.height,d=o.stroke,m=o.travellerWidth,p=Math.min(n,a)+m,h=Math.max(Math.abs(a-n)-m,0);return U.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:d,fillOpacity:.2,x:p,y:c,width:h,height:u})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,o=n.endIndex,c=n.y,u=n.height,d=n.travellerWidth,m=n.stroke,p=this.state,h=p.startX,y=p.endX,v=5,j={pointerEvents:"none",fill:m};return U.createElement($e,{className:"recharts-brush-texts"},U.createElement(ci,xd({textAnchor:"end",verticalAnchor:"middle",x:Math.min(h,y)-v,y:c+u/2},j),this.getTextOfTick(a)),U.createElement(ci,xd({textAnchor:"start",verticalAnchor:"middle",x:Math.max(h,y)+d+v,y:c+u/2},j),this.getTextOfTick(o)))}},{key:"render",value:function(){var n=this.props,a=n.data,o=n.className,c=n.children,u=n.x,d=n.y,m=n.width,p=n.height,h=n.alwaysShowText,y=this.state,v=y.startX,j=y.endX,b=y.isTextActive,w=y.isSlideMoving,k=y.isTravellerMoving,S=y.isTravellerFocused;if(!a||!a.length||!ue(u)||!ue(d)||!ue(m)||!ue(p)||m<=0||p<=0)return null;var O=Me("recharts-brush",o),P=U.Children.count(c)===1,N=oU("userSelect","none");return U.createElement($e,{className:O,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:N},this.renderBackground(),P&&this.renderPanorama(),this.renderSlide(v,j),this.renderTravellerLayer(v,"startX"),this.renderTravellerLayer(j,"endX"),(b||w||k||S||h)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,o=n.y,c=n.width,u=n.height,d=n.stroke,m=Math.floor(o+u/2)-1;return U.createElement(U.Fragment,null,U.createElement("rect",{x:a,y:o,width:c,height:u,fill:d,stroke:"none"}),U.createElement("line",{x1:a+1,y1:m,x2:a+c-1,y2:m,fill:"none",stroke:"#fff"}),U.createElement("line",{x1:a+1,y1:m+2,x2:a+c-1,y2:m+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var o;return U.isValidElement(n)?o=U.cloneElement(n,a):Ae(n)?o=n(a):o=e.renderDefaultTraveller(a),o}},{key:"getDerivedStateFromProps",value:function(n,a){var o=n.data,c=n.width,u=n.x,d=n.travellerWidth,m=n.updateId,p=n.startIndex,h=n.endIndex;if(o!==a.prevData||m!==a.prevUpdateId)return i0({prevData:o,prevTravellerWidth:d,prevUpdateId:m,prevX:u,prevWidth:c},o&&o.length?pU({data:o,width:c,x:u,travellerWidth:d,startIndex:p,endIndex:h}):{scale:null,scaleValues:null});if(a.scale&&(c!==a.prevWidth||u!==a.prevX||d!==a.prevTravellerWidth)){a.scale.range([u,u+c-d]);var y=a.scale.domain().map(function(v){return a.scale(v)});return{prevData:o,prevTravellerWidth:d,prevUpdateId:m,prevX:u,prevWidth:c,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:y}}return null}},{key:"getIndexInRange",value:function(n,a){for(var o=n.length,c=0,u=o-1;u-c>1;){var d=Math.floor((c+u)/2);n[d]>a?u=d:c=d}return a>=n[u]?u:c}}])})(C.PureComponent);Sr(Os,"displayName","Brush");Sr(Os,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var s0,kO;function gU(){if(kO)return s0;kO=1;var t=Nx();function e(r,n){var a;return t(r,function(o,c,u){return a=n(o,c,u),!a}),!!a}return s0=e,s0}var o0,OO;function yU(){if(OO)return o0;OO=1;var t=xP(),e=_n(),r=gU(),n=gr(),a=Xd();function o(c,u,d){var m=n(c)?t:r;return d&&a(c,u,d)&&(u=void 0),m(c,e(u,3))}return o0=o,o0}var vU=yU();const xU=He(vU);var wn=function(e,r){var n=e.alwaysShow,a=e.ifOverflow;return n&&(a="extendDomain"),a===r},l0,AO;function bU(){if(AO)return l0;AO=1;var t=DP();function e(r,n,a){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:a,writable:!0}):r[n]=a}return l0=e,l0}var c0,PO;function wU(){if(PO)return c0;PO=1;var t=bU(),e=RP(),r=_n();function n(a,o){var c={};return o=r(o,3),e(a,function(u,d,m){t(c,d,o(u,d,m))}),c}return c0=n,c0}var jU=wU();const SU=He(jU);var u0,EO;function _U(){if(EO)return u0;EO=1;function t(e,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(!r(e[n],n,e))return!1;return!0}return u0=t,u0}var d0,TO;function NU(){if(TO)return d0;TO=1;var t=Nx();function e(r,n){var a=!0;return t(r,function(o,c,u){return a=!!n(o,c,u),a}),a}return d0=e,d0}var f0,CO;function kU(){if(CO)return f0;CO=1;var t=_U(),e=NU(),r=_n(),n=gr(),a=Xd();function o(c,u,d){var m=n(c)?t:e;return d&&a(c,u,d)&&(u=void 0),m(c,r(u,3))}return f0=o,f0}var OU=kU();const ST=He(OU);var AU=["x","y"];function Ul(t){"@babel/helpers - typeof";return Ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ul(t)}function Tv(){return Tv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Tv.apply(this,arguments)}function IO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Xo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?IO(Object(r),!0).forEach(function(n){PU(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):IO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function PU(t,e,r){return e=EU(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function EU(t){var e=TU(t,"string");return Ul(e)=="symbol"?e:e+""}function TU(t,e){if(Ul(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ul(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function CU(t,e){if(t==null)return{};var r=IU(t,e),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(a=0;a<o.length;a++)n=o[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function IU(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function MU(t,e){var r=t.x,n=t.y,a=CU(t,AU),o="".concat(r),c=parseInt(o,10),u="".concat(n),d=parseInt(u,10),m="".concat(e.height||a.height),p=parseInt(m,10),h="".concat(e.width||a.width),y=parseInt(h,10);return Xo(Xo(Xo(Xo(Xo({},e),a),c?{x:c}:{}),d?{y:d}:{}),{},{height:p,width:y,name:e.name,radius:e.radius})}function MO(t){return U.createElement(gd,Tv({shapeType:"rectangle",propTransformer:MU,activeClassName:"recharts-active-bar"},t))}var RU=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof e=="number")return e;var o=ue(n)||iR(n);return o?e(n,a):(o||di(),r)}},$U=["value","background"],_T;function As(t){"@babel/helpers - typeof";return As=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},As(t)}function DU(t,e){if(t==null)return{};var r=LU(t,e),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(a=0;a<o.length;a++)n=o[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function LU(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function wd(){return wd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},wd.apply(this,arguments)}function RO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function wt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?RO(Object(r),!0).forEach(function(n){ba(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):RO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function FU(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $O(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,kT(n.key),n)}}function BU(t,e,r){return e&&$O(t.prototype,e),r&&$O(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function zU(t,e,r){return e=jd(e),qU(t,NT()?Reflect.construct(e,r||[],jd(t).constructor):e.apply(t,r))}function qU(t,e){if(e&&(As(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UU(t)}function UU(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function NT(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NT=function(){return!!t})()}function jd(t){return jd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jd(t)}function WU(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Cv(t,e)}function Cv(t,e){return Cv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Cv(t,e)}function ba(t,e,r){return e=kT(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kT(t){var e=HU(t,"string");return As(e)=="symbol"?e:e+""}function HU(t,e){if(As(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(As(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Wt=(function(t){function e(){var r;FU(this,e);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=zU(this,e,[].concat(a)),ba(r,"state",{isAnimationFinished:!1}),ba(r,"id",Ea("recharts-bar-")),ba(r,"handleAnimationEnd",function(){var c=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),c&&c()}),ba(r,"handleAnimationStart",function(){var c=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),c&&c()}),r}return WU(e,t),BU(e,[{key:"renderRectanglesStatically",value:function(n){var a=this,o=this.props,c=o.shape,u=o.dataKey,d=o.activeIndex,m=o.activeBar,p=we(this.props,!1);return n&&n.map(function(h,y){var v=y===d,j=v?m:c,b=wt(wt(wt({},p),h),{},{isActive:v,option:j,index:y,dataKey:u,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return U.createElement($e,wd({className:"recharts-bar-rectangle"},Na(a.props,h,y),{key:"rectangle-".concat(h?.x,"-").concat(h?.y,"-").concat(h?.value,"-").concat(y)}),U.createElement(MO,b))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,o=a.data,c=a.layout,u=a.isAnimationActive,d=a.animationBegin,m=a.animationDuration,p=a.animationEasing,h=a.animationId,y=this.state.prevData;return U.createElement(Gr,{begin:d,duration:m,isActive:u,easing:p,from:{t:0},to:{t:1},key:"bar-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(v){var j=v.t,b=o.map(function(w,k){var S=y&&y[k];if(S){var O=ft(S.x,w.x),P=ft(S.y,w.y),N=ft(S.width,w.width),A=ft(S.height,w.height);return wt(wt({},w),{},{x:O(j),y:P(j),width:N(j),height:A(j)})}if(c==="horizontal"){var T=ft(0,w.height),$=T(j);return wt(wt({},w),{},{y:w.y+w.height-$,height:$})}var I=ft(0,w.width),B=I(j);return wt(wt({},w),{},{width:B})});return U.createElement($e,null,n.renderRectanglesStatically(b))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,o=n.isAnimationActive,c=this.state.prevData;return o&&a&&a.length&&(!c||!ka(c,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,o=a.data,c=a.dataKey,u=a.activeIndex,d=we(this.props.background,!1);return o.map(function(m,p){m.value;var h=m.background,y=DU(m,$U);if(!h)return null;var v=wt(wt(wt(wt(wt({},y),{},{fill:"#eee"},h),d),Na(n.props,m,p)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:c,index:p,className:"recharts-bar-background-rectangle"});return U.createElement(MO,wd({key:"background-bar-".concat(p),option:n.props.background,isActive:p===u},v))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,c=o.data,u=o.xAxis,d=o.yAxis,m=o.layout,p=o.children,h=sr(p,Qs);if(!h)return null;var y=m==="vertical"?c[0].height/2:c[0].width/2,v=function(w,k){var S=Array.isArray(w.value)?w.value[1]:w.value;return{x:w.x,y:w.y,value:S,errorVal:nt(w,k)}},j={clipPath:n?"url(#clipPath-".concat(a,")"):null};return U.createElement($e,j,h.map(function(b){return U.cloneElement(b,{key:"error-bar-".concat(a,"-").concat(b.props.dataKey),data:c,xAxis:u,yAxis:d,layout:m,offset:y,dataPointFormatter:v})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,o=n.data,c=n.className,u=n.xAxis,d=n.yAxis,m=n.left,p=n.top,h=n.width,y=n.height,v=n.isAnimationActive,j=n.background,b=n.id;if(a||!o||!o.length)return null;var w=this.state.isAnimationFinished,k=Me("recharts-bar",c),S=u&&u.allowDataOverflow,O=d&&d.allowDataOverflow,P=S||O,N=Oe(b)?this.id:b;return U.createElement($e,{className:k},S||O?U.createElement("defs",null,U.createElement("clipPath",{id:"clipPath-".concat(N)},U.createElement("rect",{x:S?m:m-h/2,y:O?p:p-y/2,width:S?h:h*2,height:O?y:y*2}))):null,U.createElement($e,{className:"recharts-bar-rectangles",clipPath:P?"url(#clipPath-".concat(N,")"):null},j?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(P,N),(!v||w)&&on.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])})(C.PureComponent);_T=Wt;ba(Wt,"displayName","Bar");ba(Wt,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Vn.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});ba(Wt,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,a=t.bandSize,o=t.xAxis,c=t.yAxis,u=t.xAxisTicks,d=t.yAxisTicks,m=t.stackedData,p=t.dataStartIndex,h=t.displayedData,y=t.offset,v=bF(n,r);if(!v)return null;var j=e.layout,b=r.type.defaultProps,w=b!==void 0?wt(wt({},b),r.props):r.props,k=w.dataKey,S=w.children,O=w.minPointSize,P=j==="horizontal"?c:o,N=m?P.scale.domain():null,A=OF({numericAxis:P}),T=sr(S,gi),$=h.map(function(I,B){var M,q,F,V,L,R;m?M=wF(m[p+B],N):(M=nt(I,k),Array.isArray(M)||(M=[A,M]));var G=RU(O,_T.defaultProps.minPointSize)(M[1],B);if(j==="horizontal"){var D,W=[c.scale(M[0]),c.scale(M[1])],Q=W[0],z=W[1];q=ok({axis:o,ticks:u,bandSize:a,offset:v.offset,entry:I,index:B}),F=(D=z??Q)!==null&&D!==void 0?D:void 0,V=v.size;var Y=Q-z;if(L=Number.isNaN(Y)?0:Y,R={x:q,y:c.y,width:V,height:c.height},Math.abs(G)>0&&Math.abs(L)<Math.abs(G)){var ie=rr(L||G)*(Math.abs(G)-Math.abs(L));F-=ie,L+=ie}}else{var fe=[o.scale(M[0]),o.scale(M[1])],Se=fe[0],xe=fe[1];if(q=Se,F=ok({axis:c,ticks:d,bandSize:a,offset:v.offset,entry:I,index:B}),V=xe-Se,L=v.size,R={x:o.x,y:F,width:o.width,height:L},Math.abs(G)>0&&Math.abs(V)<Math.abs(G)){var Le=rr(V||G)*(Math.abs(G)-Math.abs(V));V+=Le}}return wt(wt(wt({},I),{},{x:q,y:F,width:V,height:L,value:m?M:M[1],payload:I,background:R},T&&T[B]&&T[B].props),{},{tooltipPayload:[JE(r,I)],tooltipPosition:{x:q+V/2,y:F+L/2}})});return wt({data:$,layout:j},y)});function Wl(t){"@babel/helpers - typeof";return Wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wl(t)}function GU(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function DO(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,OT(n.key),n)}}function VU(t,e,r){return e&&DO(t.prototype,e),r&&DO(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function LO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function rn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?LO(Object(r),!0).forEach(function(n){hf(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hf(t,e,r){return e=OT(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function OT(t){var e=KU(t,"string");return Wl(e)=="symbol"?e:e+""}function KU(t,e){if(Wl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pf=function(e,r,n,a,o){var c=e.width,u=e.height,d=e.layout,m=e.children,p=Object.keys(r),h={left:n.left,leftMirror:n.left,right:c-n.right,rightMirror:c-n.right,top:n.top,topMirror:n.top,bottom:u-n.bottom,bottomMirror:u-n.bottom},y=!!_r(m,Wt);return p.reduce(function(v,j){var b=r[j],w=b.orientation,k=b.domain,S=b.padding,O=S===void 0?{}:S,P=b.mirror,N=b.reversed,A="".concat(w).concat(P?"Mirror":""),T,$,I,B,M;if(b.type==="number"&&(b.padding==="gap"||b.padding==="no-gap")){var q=k[1]-k[0],F=1/0,V=b.categoricalDomain.sort(cR);if(V.forEach(function(fe,Se){Se>0&&(F=Math.min((fe||0)-(V[Se-1]||0),F))}),Number.isFinite(F)){var L=F/q,R=b.layout==="vertical"?n.height:n.width;if(b.padding==="gap"&&(T=L*R/2),b.padding==="no-gap"){var G=nr(e.barCategoryGap,L*R),D=L*R/2;T=D-G-(D-G)/R*G}}}a==="xAxis"?$=[n.left+(O.left||0)+(T||0),n.left+n.width-(O.right||0)-(T||0)]:a==="yAxis"?$=d==="horizontal"?[n.top+n.height-(O.bottom||0),n.top+(O.top||0)]:[n.top+(O.top||0)+(T||0),n.top+n.height-(O.bottom||0)-(T||0)]:$=b.range,N&&($=[$[1],$[0]]);var W=YE(b,o,y),Q=W.scale,z=W.realScaleType;Q.domain(k).range($),XE(Q);var Y=QE(Q,rn(rn({},b),{},{realScaleType:z}));a==="xAxis"?(M=w==="top"&&!P||w==="bottom"&&P,I=n.left,B=h[A]-M*b.height):a==="yAxis"&&(M=w==="left"&&!P||w==="right"&&P,I=h[A]-M*b.width,B=n.top);var ie=rn(rn(rn({},b),Y),{},{realScaleType:z,x:I,y:B,scale:Q,width:a==="xAxis"?n.width:b.width,height:a==="yAxis"?n.height:b.height});return ie.bandSize=id(ie,Y),!b.hide&&a==="xAxis"?h[A]+=(M?-1:1)*ie.height:b.hide||(h[A]+=(M?-1:1)*ie.width),rn(rn({},v),{},hf({},j,ie))},{})},AT=function(e,r){var n=e.x,a=e.y,o=r.x,c=r.y;return{x:Math.min(n,o),y:Math.min(a,c),width:Math.abs(o-n),height:Math.abs(c-a)}},YU=function(e){var r=e.x1,n=e.y1,a=e.x2,o=e.y2;return AT({x:r,y:n},{x:a,y:o})},PT=(function(){function t(e){GU(this,t),this.scale=e}return VU(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,o=n.position;if(r!==void 0){if(o)switch(o){case"start":return this.scale(r);case"middle":{var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}case"end":{var u=this.bandwidth?this.bandwidth():0;return this.scale(r)+u}default:return this.scale(r)}if(a){var d=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+d}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],o=n[n.length-1];return a<=o?r>=a&&r<=o:r>=o&&r<=a}}],[{key:"create",value:function(r){return new t(r)}}])})();hf(PT,"EPS",1e-4);var eb=function(e){var r=Object.keys(e).reduce(function(n,a){return rn(rn({},n),{},hf({},a,PT.create(e[a])))},{});return rn(rn({},r),{},{apply:function(a){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=o.bandAware,u=o.position;return SU(a,function(d,m){return r[m].apply(d,{bandAware:c,position:u})})},isInRange:function(a){return ST(a,function(o,c){return r[c].isInRange(o)})}})};function XU(t){return(t%180+180)%180}var QU=function(e){var r=e.width,n=e.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=XU(a),c=o*Math.PI/180,u=Math.atan(n/r),d=c>u&&c<Math.PI-u?n/Math.sin(c):r/Math.cos(c);return Math.abs(d)},m0,FO;function ZU(){if(FO)return m0;FO=1;var t=_n(),e=Yl(),r=Kd();function n(a){return function(o,c,u){var d=Object(o);if(!e(o)){var m=t(c,3);o=r(o),c=function(h){return m(d[h],h,d)}}var p=a(o,c,u);return p>-1?d[m?o[p]:p]:void 0}}return m0=n,m0}var h0,BO;function JU(){if(BO)return h0;BO=1;var t=xT();function e(r){var n=t(r),a=n%1;return n===n?a?n-a:n:0}return h0=e,h0}var p0,zO;function e9(){if(zO)return p0;zO=1;var t=EP(),e=_n(),r=JU(),n=Math.max;function a(o,c,u){var d=o==null?0:o.length;if(!d)return-1;var m=u==null?0:r(u);return m<0&&(m=n(d+m,0)),t(o,e(c,3),m)}return p0=a,p0}var g0,qO;function t9(){if(qO)return g0;qO=1;var t=ZU(),e=e9(),r=t(e);return g0=r,g0}var r9=t9();const n9=He(r9);var a9=HA();const i9=He(a9);var s9=i9(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),tb=C.createContext(void 0),rb=C.createContext(void 0),ET=C.createContext(void 0),TT=C.createContext({}),CT=C.createContext(void 0),IT=C.createContext(0),MT=C.createContext(0),UO=function(e){var r=e.state,n=r.xAxisMap,a=r.yAxisMap,o=r.offset,c=e.clipPathId,u=e.children,d=e.width,m=e.height,p=s9(o);return U.createElement(tb.Provider,{value:n},U.createElement(rb.Provider,{value:a},U.createElement(TT.Provider,{value:o},U.createElement(ET.Provider,{value:p},U.createElement(CT.Provider,{value:c},U.createElement(IT.Provider,{value:m},U.createElement(MT.Provider,{value:d},u)))))))},o9=function(){return C.useContext(CT)},RT=function(e){var r=C.useContext(tb);r==null&&di();var n=r[e];return n==null&&di(),n},l9=function(){var e=C.useContext(tb);return ga(e)},c9=function(){var e=C.useContext(rb),r=n9(e,function(n){return ST(n.domain,Number.isFinite)});return r||ga(e)},$T=function(e){var r=C.useContext(rb);r==null&&di();var n=r[e];return n==null&&di(),n},u9=function(){var e=C.useContext(ET);return e},d9=function(){return C.useContext(TT)},nb=function(){return C.useContext(MT)},ab=function(){return C.useContext(IT)};function Ps(t){"@babel/helpers - typeof";return Ps=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ps(t)}function f9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function m9(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,LT(n.key),n)}}function h9(t,e,r){return e&&m9(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function p9(t,e,r){return e=Sd(e),g9(t,DT()?Reflect.construct(e,r||[],Sd(t).constructor):e.apply(t,r))}function g9(t,e){if(e&&(Ps(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return y9(t)}function y9(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function DT(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DT=function(){return!!t})()}function Sd(t){return Sd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Sd(t)}function v9(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Iv(t,e)}function Iv(t,e){return Iv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Iv(t,e)}function WO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function HO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?WO(Object(r),!0).forEach(function(n){ib(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):WO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ib(t,e,r){return e=LT(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function LT(t){var e=x9(t,"string");return Ps(e)=="symbol"?e:e+""}function x9(t,e){if(Ps(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ps(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function b9(t,e){return _9(t)||S9(t,e)||j9(t,e)||w9()}function w9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function j9(t,e){if(t){if(typeof t=="string")return GO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return GO(t,e)}}function GO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function S9(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,o,c,u=[],d=!0,m=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(p){m=!0,a=p}finally{try{if(!d&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(m)throw a}}return u}}function _9(t){if(Array.isArray(t))return t}function Mv(){return Mv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Mv.apply(this,arguments)}var N9=function(e,r){var n;return U.isValidElement(e)?n=U.cloneElement(e,r):Ae(e)?n=e(r):n=U.createElement("line",Mv({},r,{className:"recharts-reference-line-line"})),n},k9=function(e,r,n,a,o,c,u,d,m){var p=o.x,h=o.y,y=o.width,v=o.height;if(n){var j=m.y,b=e.y.apply(j,{position:c});if(wn(m,"discard")&&!e.y.isInRange(b))return null;var w=[{x:p+y,y:b},{x:p,y:b}];return d==="left"?w.reverse():w}if(r){var k=m.x,S=e.x.apply(k,{position:c});if(wn(m,"discard")&&!e.x.isInRange(S))return null;var O=[{x:S,y:h+v},{x:S,y:h}];return u==="top"?O.reverse():O}if(a){var P=m.segment,N=P.map(function(A){return e.apply(A,{position:c})});return wn(m,"discard")&&xU(N,function(A){return!e.isInRange(A)})?null:N}return null};function O9(t){var e=t.x,r=t.y,n=t.segment,a=t.xAxisId,o=t.yAxisId,c=t.shape,u=t.className,d=t.alwaysShow,m=o9(),p=RT(a),h=$T(o),y=u9();if(!m||!y)return null;sn(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var v=eb({x:p.scale,y:h.scale}),j=Et(e),b=Et(r),w=n&&n.length===2,k=k9(v,j,b,w,y,t.position,p.orientation,h.orientation,t);if(!k)return null;var S=b9(k,2),O=S[0],P=O.x,N=O.y,A=S[1],T=A.x,$=A.y,I=wn(t,"hidden")?"url(#".concat(m,")"):void 0,B=HO(HO({clipPath:I},we(t,!0)),{},{x1:P,y1:N,x2:T,y2:$});return U.createElement($e,{className:Me("recharts-reference-line",u)},N9(c,B),Dt.renderCallByParent(t,YU({x1:P,y1:N,x2:T,y2:$})))}var sb=(function(t){function e(){return f9(this,e),p9(this,e,arguments)}return v9(e,t),h9(e,[{key:"render",value:function(){return U.createElement(O9,this.props)}}])})(U.Component);ib(sb,"displayName","ReferenceLine");ib(sb,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Rv(){return Rv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Rv.apply(this,arguments)}function Es(t){"@babel/helpers - typeof";return Es=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Es(t)}function VO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function KO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?VO(Object(r),!0).forEach(function(n){gf(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):VO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function A9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function P9(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,BT(n.key),n)}}function E9(t,e,r){return e&&P9(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function T9(t,e,r){return e=_d(e),C9(t,FT()?Reflect.construct(e,r||[],_d(t).constructor):e.apply(t,r))}function C9(t,e){if(e&&(Es(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return I9(t)}function I9(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function FT(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FT=function(){return!!t})()}function _d(t){return _d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_d(t)}function M9(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$v(t,e)}function $v(t,e){return $v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},$v(t,e)}function gf(t,e,r){return e=BT(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function BT(t){var e=R9(t,"string");return Es(e)=="symbol"?e:e+""}function R9(t,e){if(Es(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Es(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var $9=function(e){var r=e.x,n=e.y,a=e.xAxis,o=e.yAxis,c=eb({x:a.scale,y:o.scale}),u=c.apply({x:r,y:n},{bandAware:!0});return wn(e,"discard")&&!c.isInRange(u)?null:u},yf=(function(t){function e(){return A9(this,e),T9(this,e,arguments)}return M9(e,t),E9(e,[{key:"render",value:function(){var n=this.props,a=n.x,o=n.y,c=n.r,u=n.alwaysShow,d=n.clipPathId,m=Et(a),p=Et(o);if(sn(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!m||!p)return null;var h=$9(this.props);if(!h)return null;var y=h.x,v=h.y,j=this.props,b=j.shape,w=j.className,k=wn(this.props,"hidden")?"url(#".concat(d,")"):void 0,S=KO(KO({clipPath:k},we(this.props,!0)),{},{cx:y,cy:v});return U.createElement($e,{className:Me("recharts-reference-dot",w)},e.renderDot(b,S),Dt.renderCallByParent(this.props,{x:y-c,y:v-c,width:2*c,height:2*c}))}}])})(U.Component);gf(yf,"displayName","ReferenceDot");gf(yf,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});gf(yf,"renderDot",function(t,e){var r;return U.isValidElement(t)?r=U.cloneElement(t,e):Ae(t)?r=t(e):r=U.createElement(ec,Rv({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function Dv(){return Dv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Dv.apply(this,arguments)}function Ts(t){"@babel/helpers - typeof";return Ts=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ts(t)}function YO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function XO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?YO(Object(r),!0).forEach(function(n){vf(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):YO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function D9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function L9(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,qT(n.key),n)}}function F9(t,e,r){return e&&L9(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function B9(t,e,r){return e=Nd(e),z9(t,zT()?Reflect.construct(e,r||[],Nd(t).constructor):e.apply(t,r))}function z9(t,e){if(e&&(Ts(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return q9(t)}function q9(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zT(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zT=function(){return!!t})()}function Nd(t){return Nd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Nd(t)}function U9(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Lv(t,e)}function Lv(t,e){return Lv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Lv(t,e)}function vf(t,e,r){return e=qT(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qT(t){var e=W9(t,"string");return Ts(e)=="symbol"?e:e+""}function W9(t,e){if(Ts(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ts(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var H9=function(e,r,n,a,o){var c=o.x1,u=o.x2,d=o.y1,m=o.y2,p=o.xAxis,h=o.yAxis;if(!p||!h)return null;var y=eb({x:p.scale,y:h.scale}),v={x:e?y.x.apply(c,{position:"start"}):y.x.rangeMin,y:n?y.y.apply(d,{position:"start"}):y.y.rangeMin},j={x:r?y.x.apply(u,{position:"end"}):y.x.rangeMax,y:a?y.y.apply(m,{position:"end"}):y.y.rangeMax};return wn(o,"discard")&&(!y.isInRange(v)||!y.isInRange(j))?null:AT(v,j)},xf=(function(t){function e(){return D9(this,e),B9(this,e,arguments)}return U9(e,t),F9(e,[{key:"render",value:function(){var n=this.props,a=n.x1,o=n.x2,c=n.y1,u=n.y2,d=n.className,m=n.alwaysShow,p=n.clipPathId;sn(m===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=Et(a),y=Et(o),v=Et(c),j=Et(u),b=this.props.shape;if(!h&&!y&&!v&&!j&&!b)return null;var w=H9(h,y,v,j,this.props);if(!w&&!b)return null;var k=wn(this.props,"hidden")?"url(#".concat(p,")"):void 0;return U.createElement($e,{className:Me("recharts-reference-area",d)},e.renderRect(b,XO(XO({clipPath:k},we(this.props,!0)),w)),Dt.renderCallByParent(this.props,w))}}])})(U.Component);vf(xf,"displayName","ReferenceArea");vf(xf,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});vf(xf,"renderRect",function(t,e){var r;return U.isValidElement(t)?r=U.cloneElement(t,e):Ae(t)?r=t(e):r=U.createElement(Jx,Dv({},e,{className:"recharts-reference-area-rect"})),r});function UT(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],a=0;a<t.length;a+=e)n.push(t[a]);return n}function G9(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return QU(n,r)}function V9(t,e,r){var n=r==="width",a=t.x,o=t.y,c=t.width,u=t.height;return e===1?{start:n?a:o,end:n?a+c:o+u}:{start:n?a+c:o+u,end:n?a:o}}function kd(t,e,r,n,a){if(t*e<t*n||t*e>t*a)return!1;var o=r();return t*(e-t*o/2-n)>=0&&t*(e+t*o/2-a)<=0}function K9(t,e){return UT(t,e+1)}function Y9(t,e,r,n,a){for(var o=(n||[]).slice(),c=e.start,u=e.end,d=0,m=1,p=c,h=function(){var j=n?.[d];if(j===void 0)return{v:UT(n,m)};var b=d,w,k=function(){return w===void 0&&(w=r(j,b)),w},S=j.coordinate,O=d===0||kd(t,S,k,p,u);O||(d=0,p=c,m+=1),O&&(p=S+t*(k()/2+a),d+=m)},y;m<=o.length;)if(y=h(),y)return y.v;return[]}function Hl(t){"@babel/helpers - typeof";return Hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hl(t)}function QO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Xt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?QO(Object(r),!0).forEach(function(n){X9(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):QO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function X9(t,e,r){return e=Q9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Q9(t){var e=Z9(t,"string");return Hl(e)=="symbol"?e:e+""}function Z9(t,e){if(Hl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function J9(t,e,r,n,a){for(var o=(n||[]).slice(),c=o.length,u=e.start,d=e.end,m=function(y){var v=o[y],j,b=function(){return j===void 0&&(j=r(v,y)),j};if(y===c-1){var w=t*(v.coordinate+t*b()/2-d);o[y]=v=Xt(Xt({},v),{},{tickCoord:w>0?v.coordinate-w*t:v.coordinate})}else o[y]=v=Xt(Xt({},v),{},{tickCoord:v.coordinate});var k=kd(t,v.tickCoord,b,u,d);k&&(d=v.tickCoord-t*(b()/2+a),o[y]=Xt(Xt({},v),{},{isShow:!0}))},p=c-1;p>=0;p--)m(p);return o}function eW(t,e,r,n,a,o){var c=(n||[]).slice(),u=c.length,d=e.start,m=e.end;if(o){var p=n[u-1],h=r(p,u-1),y=t*(p.coordinate+t*h/2-m);c[u-1]=p=Xt(Xt({},p),{},{tickCoord:y>0?p.coordinate-y*t:p.coordinate});var v=kd(t,p.tickCoord,function(){return h},d,m);v&&(m=p.tickCoord-t*(h/2+a),c[u-1]=Xt(Xt({},p),{},{isShow:!0}))}for(var j=o?u-1:u,b=function(S){var O=c[S],P,N=function(){return P===void 0&&(P=r(O,S)),P};if(S===0){var A=t*(O.coordinate-t*N()/2-d);c[S]=O=Xt(Xt({},O),{},{tickCoord:A<0?O.coordinate-A*t:O.coordinate})}else c[S]=O=Xt(Xt({},O),{},{tickCoord:O.coordinate});var T=kd(t,O.tickCoord,N,d,m);T&&(d=O.tickCoord+t*(N()/2+a),c[S]=Xt(Xt({},O),{},{isShow:!0}))},w=0;w<j;w++)b(w);return c}function ob(t,e,r){var n=t.tick,a=t.ticks,o=t.viewBox,c=t.minTickGap,u=t.orientation,d=t.interval,m=t.tickFormatter,p=t.unit,h=t.angle;if(!a||!a.length||!n)return[];if(ue(d)||Vn.isSsr)return K9(a,typeof d=="number"&&ue(d)?d:0);var y=[],v=u==="top"||u==="bottom"?"width":"height",j=p&&v==="width"?tl(p,{fontSize:e,letterSpacing:r}):{width:0,height:0},b=function(O,P){var N=Ae(m)?m(O.value,P):O.value;return v==="width"?G9(tl(N,{fontSize:e,letterSpacing:r}),j,h):tl(N,{fontSize:e,letterSpacing:r})[v]},w=a.length>=2?rr(a[1].coordinate-a[0].coordinate):1,k=V9(o,w,v);return d==="equidistantPreserveStart"?Y9(w,k,b,a,c):(d==="preserveStart"||d==="preserveStartEnd"?y=eW(w,k,b,a,c,d==="preserveStartEnd"):y=J9(w,k,b,a,c),y.filter(function(S){return S.isShow}))}var tW=["viewBox"],rW=["viewBox"],nW=["ticks"];function Cs(t){"@babel/helpers - typeof";return Cs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cs(t)}function ts(){return ts=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ts.apply(this,arguments)}function ZO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Ot(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ZO(Object(r),!0).forEach(function(n){lb(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ZO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function y0(t,e){if(t==null)return{};var r=aW(t,e),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(a=0;a<o.length;a++)n=o[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function aW(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function iW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function JO(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,HT(n.key),n)}}function sW(t,e,r){return e&&JO(t.prototype,e),r&&JO(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function oW(t,e,r){return e=Od(e),lW(t,WT()?Reflect.construct(e,r||[],Od(t).constructor):e.apply(t,r))}function lW(t,e){if(e&&(Cs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cW(t)}function cW(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function WT(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WT=function(){return!!t})()}function Od(t){return Od=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Od(t)}function uW(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Fv(t,e)}function Fv(t,e){return Fv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Fv(t,e)}function lb(t,e,r){return e=HT(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function HT(t){var e=dW(t,"string");return Cs(e)=="symbol"?e:e+""}function dW(t,e){if(Cs(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Cs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Zs=(function(t){function e(r){var n;return iW(this,e),n=oW(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return uW(e,t),sW(e,[{key:"shouldComponentUpdate",value:function(n,a){var o=n.viewBox,c=y0(n,tW),u=this.props,d=u.viewBox,m=y0(u,rW);return!os(o,d)||!os(c,m)||!os(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,o=a.x,c=a.y,u=a.width,d=a.height,m=a.orientation,p=a.tickSize,h=a.mirror,y=a.tickMargin,v,j,b,w,k,S,O=h?-1:1,P=n.tickSize||p,N=ue(n.tickCoord)?n.tickCoord:n.coordinate;switch(m){case"top":v=j=n.coordinate,w=c+ +!h*d,b=w-O*P,S=b-O*y,k=N;break;case"left":b=w=n.coordinate,j=o+ +!h*u,v=j-O*P,k=v-O*y,S=N;break;case"right":b=w=n.coordinate,j=o+ +h*u,v=j+O*P,k=v+O*y,S=N;break;default:v=j=n.coordinate,w=c+ +h*d,b=w+O*P,S=b+O*y,k=N;break}return{line:{x1:v,y1:b,x2:j,y2:w},tick:{x:k,y:S}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,o=n.mirror,c;switch(a){case"left":c=o?"start":"end";break;case"right":c=o?"end":"start";break;default:c="middle";break}return c}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,o=n.mirror,c="end";switch(a){case"left":case"right":c="middle";break;case"top":c=o?"start":"end";break;default:c=o?"end":"start";break}return c}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,o=n.y,c=n.width,u=n.height,d=n.orientation,m=n.mirror,p=n.axisLine,h=Ot(Ot(Ot({},we(this.props,!1)),we(p,!1)),{},{fill:"none"});if(d==="top"||d==="bottom"){var y=+(d==="top"&&!m||d==="bottom"&&m);h=Ot(Ot({},h),{},{x1:a,y1:o+y*u,x2:a+c,y2:o+y*u})}else{var v=+(d==="left"&&!m||d==="right"&&m);h=Ot(Ot({},h),{},{x1:a+v*c,y1:o,x2:a+v*c,y2:o+u})}return U.createElement("line",ts({},h,{className:Me("recharts-cartesian-axis-line",Or(p,"className"))}))}},{key:"renderTicks",value:function(n,a,o){var c=this,u=this.props,d=u.tickLine,m=u.stroke,p=u.tick,h=u.tickFormatter,y=u.unit,v=ob(Ot(Ot({},this.props),{},{ticks:n}),a,o),j=this.getTickTextAnchor(),b=this.getTickVerticalAnchor(),w=we(this.props,!1),k=we(p,!1),S=Ot(Ot({},w),{},{fill:"none"},we(d,!1)),O=v.map(function(P,N){var A=c.getTickLineCoord(P),T=A.line,$=A.tick,I=Ot(Ot(Ot(Ot({textAnchor:j,verticalAnchor:b},w),{},{stroke:"none",fill:m},k),$),{},{index:N,payload:P,visibleTicksCount:v.length,tickFormatter:h});return U.createElement($e,ts({className:"recharts-cartesian-axis-tick",key:"tick-".concat(P.value,"-").concat(P.coordinate,"-").concat(P.tickCoord)},Na(c.props,P,N)),d&&U.createElement("line",ts({},S,T,{className:Me("recharts-cartesian-axis-tick-line",Or(d,"className"))})),p&&e.renderTickItem(p,I,"".concat(Ae(h)?h(P.value,N):P.value).concat(y||"")))});return U.createElement("g",{className:"recharts-cartesian-axis-ticks"},O)}},{key:"render",value:function(){var n=this,a=this.props,o=a.axisLine,c=a.width,u=a.height,d=a.ticksGenerator,m=a.className,p=a.hide;if(p)return null;var h=this.props,y=h.ticks,v=y0(h,nW),j=y;return Ae(d)&&(j=y&&y.length>0?d(this.props):d(v)),c<=0||u<=0||!j||!j.length?null:U.createElement($e,{className:Me("recharts-cartesian-axis",m),ref:function(w){n.layerReference=w}},o&&this.renderAxisLine(),this.renderTicks(j,this.state.fontSize,this.state.letterSpacing),Dt.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,o){var c,u=Me(a.className,"recharts-cartesian-axis-tick-value");return U.isValidElement(n)?c=U.cloneElement(n,Ot(Ot({},a),{},{className:u})):Ae(n)?c=n(Ot(Ot({},a),{},{className:u})):c=U.createElement(ci,ts({},a,{className:"recharts-cartesian-axis-tick-value"}),o),c}}])})(C.Component);lb(Zs,"displayName","CartesianAxis");lb(Zs,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var fW=["x1","y1","x2","y2","key"],mW=["offset"];function fi(t){"@babel/helpers - typeof";return fi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fi(t)}function eA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Qt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eA(Object(r),!0).forEach(function(n){hW(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hW(t,e,r){return e=pW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pW(t){var e=gW(t,"string");return fi(e)=="symbol"?e:e+""}function gW(t,e){if(fi(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(fi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ri(){return ri=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ri.apply(this,arguments)}function tA(t,e){if(t==null)return{};var r=yW(t,e),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(a=0;a<o.length;a++)n=o[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function yW(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var vW=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,a=e.x,o=e.y,c=e.width,u=e.height,d=e.ry;return U.createElement("rect",{x:a,y:o,ry:d,width:c,height:u,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function GT(t,e){var r;if(U.isValidElement(t))r=U.cloneElement(t,e);else if(Ae(t))r=t(e);else{var n=e.x1,a=e.y1,o=e.x2,c=e.y2,u=e.key,d=tA(e,fW),m=we(d,!1);m.offset;var p=tA(m,mW);r=U.createElement("line",ri({},p,{x1:n,y1:a,x2:o,y2:c,fill:"none",key:u}))}return r}function xW(t){var e=t.x,r=t.width,n=t.horizontal,a=n===void 0?!0:n,o=t.horizontalPoints;if(!a||!o||!o.length)return null;var c=o.map(function(u,d){var m=Qt(Qt({},t),{},{x1:e,y1:u,x2:e+r,y2:u,key:"line-".concat(d),index:d});return GT(a,m)});return U.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function bW(t){var e=t.y,r=t.height,n=t.vertical,a=n===void 0?!0:n,o=t.verticalPoints;if(!a||!o||!o.length)return null;var c=o.map(function(u,d){var m=Qt(Qt({},t),{},{x1:u,y1:e,x2:u,y2:e+r,key:"line-".concat(d),index:d});return GT(a,m)});return U.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function wW(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,a=t.y,o=t.width,c=t.height,u=t.horizontalPoints,d=t.horizontal,m=d===void 0?!0:d;if(!m||!e||!e.length)return null;var p=u.map(function(y){return Math.round(y+a-a)}).sort(function(y,v){return y-v});a!==p[0]&&p.unshift(0);var h=p.map(function(y,v){var j=!p[v+1],b=j?a+c-y:p[v+1]-y;if(b<=0)return null;var w=v%e.length;return U.createElement("rect",{key:"react-".concat(v),y,x:n,height:b,width:o,stroke:"none",fill:e[w],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return U.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function jW(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,a=t.fillOpacity,o=t.x,c=t.y,u=t.width,d=t.height,m=t.verticalPoints;if(!r||!n||!n.length)return null;var p=m.map(function(y){return Math.round(y+o-o)}).sort(function(y,v){return y-v});o!==p[0]&&p.unshift(0);var h=p.map(function(y,v){var j=!p[v+1],b=j?o+u-y:p[v+1]-y;if(b<=0)return null;var w=v%n.length;return U.createElement("rect",{key:"react-".concat(v),x:y,y:c,width:b,height:d,stroke:"none",fill:n[w],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return U.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var SW=function(e,r){var n=e.xAxis,a=e.width,o=e.height,c=e.offset;return KE(ob(Qt(Qt(Qt({},Zs.defaultProps),n),{},{ticks:Ln(n,!0),viewBox:{x:0,y:0,width:a,height:o}})),c.left,c.left+c.width,r)},_W=function(e,r){var n=e.yAxis,a=e.width,o=e.height,c=e.offset;return KE(ob(Qt(Qt(Qt({},Zs.defaultProps),n),{},{ticks:Ln(n,!0),viewBox:{x:0,y:0,width:a,height:o}})),c.top,c.top+c.height,r)},Ki={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Tt(t){var e,r,n,a,o,c,u=nb(),d=ab(),m=d9(),p=Qt(Qt({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Ki.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:Ki.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:Ki.horizontal,horizontalFill:(a=t.horizontalFill)!==null&&a!==void 0?a:Ki.horizontalFill,vertical:(o=t.vertical)!==null&&o!==void 0?o:Ki.vertical,verticalFill:(c=t.verticalFill)!==null&&c!==void 0?c:Ki.verticalFill,x:ue(t.x)?t.x:m.left,y:ue(t.y)?t.y:m.top,width:ue(t.width)?t.width:m.width,height:ue(t.height)?t.height:m.height}),h=p.x,y=p.y,v=p.width,j=p.height,b=p.syncWithTicks,w=p.horizontalValues,k=p.verticalValues,S=l9(),O=c9();if(!ue(v)||v<=0||!ue(j)||j<=0||!ue(h)||h!==+h||!ue(y)||y!==+y)return null;var P=p.verticalCoordinatesGenerator||SW,N=p.horizontalCoordinatesGenerator||_W,A=p.horizontalPoints,T=p.verticalPoints;if((!A||!A.length)&&Ae(N)){var $=w&&w.length,I=N({yAxis:O?Qt(Qt({},O),{},{ticks:$?w:O.ticks}):void 0,width:u,height:d,offset:m},$?!0:b);sn(Array.isArray(I),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(fi(I),"]")),Array.isArray(I)&&(A=I)}if((!T||!T.length)&&Ae(P)){var B=k&&k.length,M=P({xAxis:S?Qt(Qt({},S),{},{ticks:B?k:S.ticks}):void 0,width:u,height:d,offset:m},B?!0:b);sn(Array.isArray(M),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(fi(M),"]")),Array.isArray(M)&&(T=M)}return U.createElement("g",{className:"recharts-cartesian-grid"},U.createElement(vW,{fill:p.fill,fillOpacity:p.fillOpacity,x:p.x,y:p.y,width:p.width,height:p.height,ry:p.ry}),U.createElement(xW,ri({},p,{offset:m,horizontalPoints:A,xAxis:S,yAxis:O})),U.createElement(bW,ri({},p,{offset:m,verticalPoints:T,xAxis:S,yAxis:O})),U.createElement(wW,ri({},p,{horizontalPoints:A})),U.createElement(jW,ri({},p,{verticalPoints:T})))}Tt.displayName="CartesianGrid";var NW=["type","layout","connectNulls","ref"],kW=["key"];function Is(t){"@babel/helpers - typeof";return Is=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Is(t)}function rA(t,e){if(t==null)return{};var r=OW(t,e),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(a=0;a<o.length;a++)n=o[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function OW(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function ol(){return ol=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ol.apply(this,arguments)}function nA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function jr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nA(Object(r),!0).forEach(function(n){nn(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Yi(t){return TW(t)||EW(t)||PW(t)||AW()}function AW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PW(t,e){if(t){if(typeof t=="string")return Bv(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Bv(t,e)}}function EW(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function TW(t){if(Array.isArray(t))return Bv(t)}function Bv(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function CW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,KT(n.key),n)}}function IW(t,e,r){return e&&aA(t.prototype,e),r&&aA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function MW(t,e,r){return e=Ad(e),RW(t,VT()?Reflect.construct(e,r||[],Ad(t).constructor):e.apply(t,r))}function RW(t,e){if(e&&(Is(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $W(t)}function $W(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function VT(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VT=function(){return!!t})()}function Ad(t){return Ad=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ad(t)}function DW(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zv(t,e)}function zv(t,e){return zv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},zv(t,e)}function nn(t,e,r){return e=KT(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function KT(t){var e=LW(t,"string");return Is(e)=="symbol"?e:e+""}function LW(t,e){if(Is(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Is(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ir=(function(t){function e(){var r;CW(this,e);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=MW(this,e,[].concat(a)),nn(r,"state",{isAnimationFinished:!0,totalLength:0}),nn(r,"generateSimpleStrokeDasharray",function(c,u){return"".concat(u,"px ").concat(c-u,"px")}),nn(r,"getStrokeDasharray",function(c,u,d){var m=d.reduce(function(k,S){return k+S});if(!m)return r.generateSimpleStrokeDasharray(u,c);for(var p=Math.floor(c/m),h=c%m,y=u-c,v=[],j=0,b=0;j<d.length;b+=d[j],++j)if(b+d[j]>h){v=[].concat(Yi(d.slice(0,j)),[h-b]);break}var w=v.length%2===0?[0,y]:[y];return[].concat(Yi(e.repeat(d,p)),Yi(v),w).map(function(k){return"".concat(k,"px")}).join(", ")}),nn(r,"id",Ea("recharts-line-")),nn(r,"pathRef",function(c){r.mainCurve=c}),nn(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),nn(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return DW(e,t),IW(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,c=o.points,u=o.xAxis,d=o.yAxis,m=o.layout,p=o.children,h=sr(p,Qs);if(!h)return null;var y=function(b,w){return{x:b.x,y:b.y,value:b.value,errorVal:nt(b.payload,w)}},v={clipPath:n?"url(#clipPath-".concat(a,")"):null};return U.createElement($e,v,h.map(function(j){return U.cloneElement(j,{key:"bar-".concat(j.props.dataKey),data:c,xAxis:u,yAxis:d,layout:m,dataPointFormatter:y})}))}},{key:"renderDots",value:function(n,a,o){var c=this.props.isAnimationActive;if(c&&!this.state.isAnimationFinished)return null;var u=this.props,d=u.dot,m=u.points,p=u.dataKey,h=we(this.props,!1),y=we(d,!0),v=m.map(function(b,w){var k=jr(jr(jr({key:"dot-".concat(w),r:3},h),y),{},{index:w,cx:b.x,cy:b.y,value:b.value,dataKey:p,payload:b.payload,points:m});return e.renderDotItem(d,k)}),j={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(o,")"):null};return U.createElement($e,ol({className:"recharts-line-dots",key:"dots"},j),v)}},{key:"renderCurveStatically",value:function(n,a,o,c){var u=this.props,d=u.type,m=u.layout,p=u.connectNulls;u.ref;var h=rA(u,NW),y=jr(jr(jr({},we(h,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(o,")"):null,points:n},c),{},{type:d,layout:m,connectNulls:p});return U.createElement(_a,ol({},y,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var o=this,c=this.props,u=c.points,d=c.strokeDasharray,m=c.isAnimationActive,p=c.animationBegin,h=c.animationDuration,y=c.animationEasing,v=c.animationId,j=c.animateNewValues,b=c.width,w=c.height,k=this.state,S=k.prevPoints,O=k.totalLength;return U.createElement(Gr,{begin:p,duration:h,isActive:m,easing:y,from:{t:0},to:{t:1},key:"line-".concat(v),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(P){var N=P.t;if(S){var A=S.length/u.length,T=u.map(function(q,F){var V=Math.floor(F*A);if(S[V]){var L=S[V],R=ft(L.x,q.x),G=ft(L.y,q.y);return jr(jr({},q),{},{x:R(N),y:G(N)})}if(j){var D=ft(b*2,q.x),W=ft(w/2,q.y);return jr(jr({},q),{},{x:D(N),y:W(N)})}return jr(jr({},q),{},{x:q.x,y:q.y})});return o.renderCurveStatically(T,n,a)}var $=ft(0,O),I=$(N),B;if(d){var M="".concat(d).split(/[,\s]+/gim).map(function(q){return parseFloat(q)});B=o.getStrokeDasharray(I,O,M)}else B=o.generateSimpleStrokeDasharray(O,I);return o.renderCurveStatically(u,n,a,{strokeDasharray:B})})}},{key:"renderCurve",value:function(n,a){var o=this.props,c=o.points,u=o.isAnimationActive,d=this.state,m=d.prevPoints,p=d.totalLength;return u&&c&&c.length&&(!m&&p>0||!ka(m,c))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(c,n,a)}},{key:"render",value:function(){var n,a=this.props,o=a.hide,c=a.dot,u=a.points,d=a.className,m=a.xAxis,p=a.yAxis,h=a.top,y=a.left,v=a.width,j=a.height,b=a.isAnimationActive,w=a.id;if(o||!u||!u.length)return null;var k=this.state.isAnimationFinished,S=u.length===1,O=Me("recharts-line",d),P=m&&m.allowDataOverflow,N=p&&p.allowDataOverflow,A=P||N,T=Oe(w)?this.id:w,$=(n=we(c,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},I=$.r,B=I===void 0?3:I,M=$.strokeWidth,q=M===void 0?2:M,F=XA(c)?c:{},V=F.clipDot,L=V===void 0?!0:V,R=B*2+q;return U.createElement($e,{className:O},P||N?U.createElement("defs",null,U.createElement("clipPath",{id:"clipPath-".concat(T)},U.createElement("rect",{x:P?y:y-v/2,y:N?h:h-j/2,width:P?v:v*2,height:N?j:j*2})),!L&&U.createElement("clipPath",{id:"clipPath-dots-".concat(T)},U.createElement("rect",{x:y-R/2,y:h-R/2,width:v+R,height:j+R}))):null,!S&&this.renderCurve(A,T),this.renderErrorBar(A,T),(S||c)&&this.renderDots(A,L,T),(!b||k)&&on.renderCallByParent(this.props,u))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var o=n.length%2!==0?[].concat(Yi(n),[0]):n,c=[],u=0;u<a;++u)c=[].concat(Yi(c),Yi(o));return c}},{key:"renderDotItem",value:function(n,a){var o;if(U.isValidElement(n))o=U.cloneElement(n,a);else if(Ae(n))o=n(a);else{var c=a.key,u=rA(a,kW),d=Me("recharts-line-dot",typeof n!="boolean"?n.className:"");o=U.createElement(ec,ol({key:c},u,{className:d}))}return o}}])})(C.PureComponent);nn(ir,"displayName","Line");nn(ir,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Vn.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});nn(ir,"getComposedData",function(t){var e=t.props,r=t.xAxis,n=t.yAxis,a=t.xAxisTicks,o=t.yAxisTicks,c=t.dataKey,u=t.bandSize,d=t.displayedData,m=t.offset,p=e.layout,h=d.map(function(y,v){var j=nt(y,c);return p==="horizontal"?{x:ws({axis:r,ticks:a,bandSize:u,entry:y,index:v}),y:Oe(j)?null:n.scale(j),value:j,payload:y}:{x:Oe(j)?null:r.scale(j),y:ws({axis:n,ticks:o,bandSize:u,entry:y,index:v}),value:j,payload:y}});return jr({points:h,layout:p},m)});var FW=["layout","type","stroke","connectNulls","isRange","ref"],BW=["key"],YT;function Ms(t){"@babel/helpers - typeof";return Ms=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ms(t)}function XT(t,e){if(t==null)return{};var r=zW(t,e),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(a=0;a<o.length;a++)n=o[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function zW(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function ni(){return ni=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ni.apply(this,arguments)}function iA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ha(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?iA(Object(r),!0).forEach(function(n){xn(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function qW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ZT(n.key),n)}}function UW(t,e,r){return e&&sA(t.prototype,e),r&&sA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function WW(t,e,r){return e=Pd(e),HW(t,QT()?Reflect.construct(e,r||[],Pd(t).constructor):e.apply(t,r))}function HW(t,e){if(e&&(Ms(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GW(t)}function GW(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function QT(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QT=function(){return!!t})()}function Pd(t){return Pd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Pd(t)}function VW(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qv(t,e)}function qv(t,e){return qv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},qv(t,e)}function xn(t,e,r){return e=ZT(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ZT(t){var e=KW(t,"string");return Ms(e)=="symbol"?e:e+""}function KW(t,e){if(Ms(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ms(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Wn=(function(t){function e(){var r;qW(this,e);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=WW(this,e,[].concat(a)),xn(r,"state",{isAnimationFinished:!0}),xn(r,"id",Ea("recharts-area-")),xn(r,"handleAnimationEnd",function(){var c=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Ae(c)&&c()}),xn(r,"handleAnimationStart",function(){var c=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Ae(c)&&c()}),r}return VW(e,t),UW(e,[{key:"renderDots",value:function(n,a,o){var c=this.props.isAnimationActive,u=this.state.isAnimationFinished;if(c&&!u)return null;var d=this.props,m=d.dot,p=d.points,h=d.dataKey,y=we(this.props,!1),v=we(m,!0),j=p.map(function(w,k){var S=ha(ha(ha({key:"dot-".concat(k),r:3},y),v),{},{index:k,cx:w.x,cy:w.y,dataKey:h,value:w.value,payload:w.payload,points:p});return e.renderDotItem(m,S)}),b={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(o,")"):null};return U.createElement($e,ni({className:"recharts-area-dots"},b),j)}},{key:"renderHorizontalRect",value:function(n){var a=this.props,o=a.baseLine,c=a.points,u=a.strokeWidth,d=c[0].x,m=c[c.length-1].x,p=n*Math.abs(d-m),h=xa(c.map(function(y){return y.y||0}));return ue(o)&&typeof o=="number"?h=Math.max(o,h):o&&Array.isArray(o)&&o.length&&(h=Math.max(xa(o.map(function(y){return y.y||0})),h)),ue(h)?U.createElement("rect",{x:d<m?d:d-p,y:0,width:p,height:Math.floor(h+(u?parseInt("".concat(u),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var a=this.props,o=a.baseLine,c=a.points,u=a.strokeWidth,d=c[0].y,m=c[c.length-1].y,p=n*Math.abs(d-m),h=xa(c.map(function(y){return y.x||0}));return ue(o)&&typeof o=="number"?h=Math.max(o,h):o&&Array.isArray(o)&&o.length&&(h=Math.max(xa(o.map(function(y){return y.x||0})),h)),ue(h)?U.createElement("rect",{x:0,y:d<m?d:d-p,width:h+(u?parseInt("".concat(u),10):1),height:Math.floor(p)}):null}},{key:"renderClipRect",value:function(n){var a=this.props.layout;return a==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,a,o,c){var u=this.props,d=u.layout,m=u.type,p=u.stroke,h=u.connectNulls,y=u.isRange;u.ref;var v=XT(u,FW);return U.createElement($e,{clipPath:o?"url(#clipPath-".concat(c,")"):null},U.createElement(_a,ni({},we(v,!0),{points:n,connectNulls:h,type:m,baseLine:a,layout:d,stroke:"none",className:"recharts-area-area"})),p!=="none"&&U.createElement(_a,ni({},we(this.props,!1),{className:"recharts-area-curve",layout:d,type:m,connectNulls:h,fill:"none",points:n})),p!=="none"&&y&&U.createElement(_a,ni({},we(this.props,!1),{className:"recharts-area-curve",layout:d,type:m,connectNulls:h,fill:"none",points:a})))}},{key:"renderAreaWithAnimation",value:function(n,a){var o=this,c=this.props,u=c.points,d=c.baseLine,m=c.isAnimationActive,p=c.animationBegin,h=c.animationDuration,y=c.animationEasing,v=c.animationId,j=this.state,b=j.prevPoints,w=j.prevBaseLine;return U.createElement(Gr,{begin:p,duration:h,isActive:m,easing:y,from:{t:0},to:{t:1},key:"area-".concat(v),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(k){var S=k.t;if(b){var O=b.length/u.length,P=u.map(function($,I){var B=Math.floor(I*O);if(b[B]){var M=b[B],q=ft(M.x,$.x),F=ft(M.y,$.y);return ha(ha({},$),{},{x:q(S),y:F(S)})}return $}),N;if(ue(d)&&typeof d=="number"){var A=ft(w,d);N=A(S)}else if(Oe(d)||Gs(d)){var T=ft(w,0);N=T(S)}else N=d.map(function($,I){var B=Math.floor(I*O);if(w[B]){var M=w[B],q=ft(M.x,$.x),F=ft(M.y,$.y);return ha(ha({},$),{},{x:q(S),y:F(S)})}return $});return o.renderAreaStatically(P,N,n,a)}return U.createElement($e,null,U.createElement("defs",null,U.createElement("clipPath",{id:"animationClipPath-".concat(a)},o.renderClipRect(S))),U.createElement($e,{clipPath:"url(#animationClipPath-".concat(a,")")},o.renderAreaStatically(u,d,n,a)))})}},{key:"renderArea",value:function(n,a){var o=this.props,c=o.points,u=o.baseLine,d=o.isAnimationActive,m=this.state,p=m.prevPoints,h=m.prevBaseLine,y=m.totalLength;return d&&c&&c.length&&(!p&&y>0||!ka(p,c)||!ka(h,u))?this.renderAreaWithAnimation(n,a):this.renderAreaStatically(c,u,n,a)}},{key:"render",value:function(){var n,a=this.props,o=a.hide,c=a.dot,u=a.points,d=a.className,m=a.top,p=a.left,h=a.xAxis,y=a.yAxis,v=a.width,j=a.height,b=a.isAnimationActive,w=a.id;if(o||!u||!u.length)return null;var k=this.state.isAnimationFinished,S=u.length===1,O=Me("recharts-area",d),P=h&&h.allowDataOverflow,N=y&&y.allowDataOverflow,A=P||N,T=Oe(w)?this.id:w,$=(n=we(c,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},I=$.r,B=I===void 0?3:I,M=$.strokeWidth,q=M===void 0?2:M,F=XA(c)?c:{},V=F.clipDot,L=V===void 0?!0:V,R=B*2+q;return U.createElement($e,{className:O},P||N?U.createElement("defs",null,U.createElement("clipPath",{id:"clipPath-".concat(T)},U.createElement("rect",{x:P?p:p-v/2,y:N?m:m-j/2,width:P?v:v*2,height:N?j:j*2})),!L&&U.createElement("clipPath",{id:"clipPath-dots-".concat(T)},U.createElement("rect",{x:p-R/2,y:m-R/2,width:v+R,height:j+R}))):null,S?null:this.renderArea(A,T),(c||S)&&this.renderDots(A,L,T),(!b||k)&&on.renderCallByParent(this.props,u))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:a.curPoints,prevBaseLine:a.curBaseLine}:n.points!==a.curPoints||n.baseLine!==a.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])})(C.PureComponent);YT=Wn;xn(Wn,"displayName","Area");xn(Wn,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Vn.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});xn(Wn,"getBaseValue",function(t,e,r,n){var a=t.layout,o=t.baseValue,c=e.props.baseValue,u=c??o;if(ue(u)&&typeof u=="number")return u;var d=a==="horizontal"?n:r,m=d.scale.domain();if(d.type==="number"){var p=Math.max(m[0],m[1]),h=Math.min(m[0],m[1]);return u==="dataMin"?h:u==="dataMax"||p<0?p:Math.max(Math.min(m[0],m[1]),0)}return u==="dataMin"?m[0]:u==="dataMax"?m[1]:m[0]});xn(Wn,"getComposedData",function(t){var e=t.props,r=t.item,n=t.xAxis,a=t.yAxis,o=t.xAxisTicks,c=t.yAxisTicks,u=t.bandSize,d=t.dataKey,m=t.stackedData,p=t.dataStartIndex,h=t.displayedData,y=t.offset,v=e.layout,j=m&&m.length,b=YT.getBaseValue(e,r,n,a),w=v==="horizontal",k=!1,S=h.map(function(P,N){var A;j?A=m[p+N]:(A=nt(P,d),Array.isArray(A)?k=!0:A=[b,A]);var T=A[1]==null||j&&nt(P,d)==null;return w?{x:ws({axis:n,ticks:o,bandSize:u,entry:P,index:N}),y:T?null:a.scale(A[1]),value:A,payload:P}:{x:T?null:n.scale(A[1]),y:ws({axis:a,ticks:c,bandSize:u,entry:P,index:N}),value:A,payload:P}}),O;return j||k?O=S.map(function(P){var N=Array.isArray(P.value)?P.value[0]:null;return w?{x:P.x,y:N!=null&&P.y!=null?a.scale(N):null}:{x:N!=null?n.scale(N):null,y:P.y}}):O=w?a.scale(b):n.scale(b),ha({points:S,baseLine:O,layout:v,isRange:k},y)});xn(Wn,"renderDotItem",function(t,e){var r;if(U.isValidElement(t))r=U.cloneElement(t,e);else if(Ae(t))r=t(e);else{var n=Me("recharts-area-dot",typeof t!="boolean"?t.className:""),a=e.key,o=XT(e,BW);r=U.createElement(ec,ni({},o,{key:a,className:n}))}return r});function Rs(t){"@babel/helpers - typeof";return Rs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rs(t)}function YW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function XW(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,tC(n.key),n)}}function QW(t,e,r){return e&&XW(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ZW(t,e,r){return e=Ed(e),JW(t,JT()?Reflect.construct(e,r||[],Ed(t).constructor):e.apply(t,r))}function JW(t,e){if(e&&(Rs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eH(t)}function eH(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function JT(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JT=function(){return!!t})()}function Ed(t){return Ed=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ed(t)}function tH(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Uv(t,e)}function Uv(t,e){return Uv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Uv(t,e)}function eC(t,e,r){return e=tC(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tC(t){var e=rH(t,"string");return Rs(e)=="symbol"?e:e+""}function rH(t,e){if(Rs(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Rs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var bf=(function(t){function e(){return YW(this,e),ZW(this,e,arguments)}return tH(e,t),QW(e,[{key:"render",value:function(){return null}}])})(C.Component);eC(bf,"displayName","ZAxis");eC(bf,"defaultProps",{zAxisId:0,range:[64,64],scale:"auto",type:"number"});var nH=["option","isActive"];function ll(){return ll=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ll.apply(this,arguments)}function aH(t,e){if(t==null)return{};var r=iH(t,e),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(a=0;a<o.length;a++)n=o[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function iH(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function sH(t){var e=t.option,r=t.isActive,n=aH(t,nH);return typeof e=="string"?C.createElement(gd,ll({option:C.createElement(Vd,ll({type:e},n)),isActive:r,shapeType:"symbols"},n)):C.createElement(gd,ll({option:e,isActive:r,shapeType:"symbols"},n))}function $s(t){"@babel/helpers - typeof";return $s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$s(t)}function cl(){return cl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},cl.apply(this,arguments)}function oA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Fr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oA(Object(r),!0).forEach(function(n){wa(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function oH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,nC(n.key),n)}}function lH(t,e,r){return e&&lA(t.prototype,e),r&&lA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function cH(t,e,r){return e=Td(e),uH(t,rC()?Reflect.construct(e,r||[],Td(t).constructor):e.apply(t,r))}function uH(t,e){if(e&&($s(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dH(t)}function dH(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rC(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rC=function(){return!!t})()}function Td(t){return Td=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Td(t)}function fH(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Wv(t,e)}function Wv(t,e){return Wv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Wv(t,e)}function wa(t,e,r){return e=nC(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nC(t){var e=mH(t,"string");return $s(e)=="symbol"?e:e+""}function mH(t,e){if($s(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($s(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var bi=(function(t){function e(){var r;oH(this,e);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=cH(this,e,[].concat(a)),wa(r,"state",{isAnimationFinished:!1}),wa(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0})}),wa(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1})}),wa(r,"id",Ea("recharts-scatter-")),r}return fH(e,t),lH(e,[{key:"renderSymbolsStatically",value:function(n){var a=this,o=this.props,c=o.shape,u=o.activeShape,d=o.activeIndex,m=we(this.props,!1);return n.map(function(p,h){var y=d===h,v=y?u:c,j=Fr(Fr({},m),p);return U.createElement($e,cl({className:"recharts-scatter-symbol",key:"symbol-".concat(p?.cx,"-").concat(p?.cy,"-").concat(p?.size,"-").concat(h)},Na(a.props,p,h),{role:"img"}),U.createElement(sH,cl({option:v,isActive:y,key:"symbol-".concat(h)},j)))})}},{key:"renderSymbolsWithAnimation",value:function(){var n=this,a=this.props,o=a.points,c=a.isAnimationActive,u=a.animationBegin,d=a.animationDuration,m=a.animationEasing,p=a.animationId,h=this.state.prevPoints;return U.createElement(Gr,{begin:u,duration:d,isActive:c,easing:m,from:{t:0},to:{t:1},key:"pie-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(y){var v=y.t,j=o.map(function(b,w){var k=h&&h[w];if(k){var S=ft(k.cx,b.cx),O=ft(k.cy,b.cy),P=ft(k.size,b.size);return Fr(Fr({},b),{},{cx:S(v),cy:O(v),size:P(v)})}var N=ft(0,b.size);return Fr(Fr({},b),{},{size:N(v)})});return U.createElement($e,null,n.renderSymbolsStatically(j))})}},{key:"renderSymbols",value:function(){var n=this.props,a=n.points,o=n.isAnimationActive,c=this.state.prevPoints;return o&&a&&a.length&&(!c||!ka(c,a))?this.renderSymbolsWithAnimation():this.renderSymbolsStatically(a)}},{key:"renderErrorBar",value:function(){var n=this.props.isAnimationActive;if(n&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.points,c=a.xAxis,u=a.yAxis,d=a.children,m=sr(d,Qs);return m?m.map(function(p,h){var y=p.props,v=y.direction,j=y.dataKey;return U.cloneElement(p,{key:"".concat(v,"-").concat(j,"-").concat(o[h]),data:o,xAxis:c,yAxis:u,layout:v==="x"?"vertical":"horizontal",dataPointFormatter:function(w,k){return{x:w.cx,y:w.cy,value:v==="x"?+w.node.x:+w.node.y,errorVal:nt(w,k)}}})}):null}},{key:"renderLine",value:function(){var n=this.props,a=n.points,o=n.line,c=n.lineType,u=n.lineJointType,d=we(this.props,!1),m=we(o,!1),p,h;if(c==="joint")p=a.map(function(O){return{x:O.cx,y:O.cy}});else if(c==="fitting"){var y=lR(a),v=y.xmin,j=y.xmax,b=y.a,w=y.b,k=function(P){return b*P+w};p=[{x:v,y:k(v)},{x:j,y:k(j)}]}var S=Fr(Fr(Fr({},d),{},{fill:"none",stroke:d&&d.fill},m),{},{points:p});return U.isValidElement(o)?h=U.cloneElement(o,S):Ae(o)?h=o(S):h=U.createElement(_a,cl({},S,{type:u})),U.createElement($e,{className:"recharts-scatter-line",key:"recharts-scatter-line"},h)}},{key:"render",value:function(){var n=this.props,a=n.hide,o=n.points,c=n.line,u=n.className,d=n.xAxis,m=n.yAxis,p=n.left,h=n.top,y=n.width,v=n.height,j=n.id,b=n.isAnimationActive;if(a||!o||!o.length)return null;var w=this.state.isAnimationFinished,k=Me("recharts-scatter",u),S=d&&d.allowDataOverflow,O=m&&m.allowDataOverflow,P=S||O,N=Oe(j)?this.id:j;return U.createElement($e,{className:k,clipPath:P?"url(#clipPath-".concat(N,")"):null},S||O?U.createElement("defs",null,U.createElement("clipPath",{id:"clipPath-".concat(N)},U.createElement("rect",{x:S?p:p-y/2,y:O?h:h-v/2,width:S?y:y*2,height:O?v:v*2}))):null,c&&this.renderLine(),this.renderErrorBar(),U.createElement($e,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!b||w)&&on.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}}])})(C.PureComponent);wa(bi,"displayName","Scatter");wa(bi,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!Vn.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"});wa(bi,"getComposedData",function(t){var e=t.xAxis,r=t.yAxis,n=t.zAxis,a=t.item,o=t.displayedData,c=t.xAxisTicks,u=t.yAxisTicks,d=t.offset,m=a.props.tooltipType,p=sr(a.props.children,gi),h=Oe(e.dataKey)?a.props.dataKey:e.dataKey,y=Oe(r.dataKey)?a.props.dataKey:r.dataKey,v=n&&n.dataKey,j=n?n.range:bf.defaultProps.range,b=j&&j[0],w=e.scale.bandwidth?e.scale.bandwidth():0,k=r.scale.bandwidth?r.scale.bandwidth():0,S=o.map(function(O,P){var N=nt(O,h),A=nt(O,y),T=!Oe(v)&&nt(O,v)||"-",$=[{name:Oe(e.dataKey)?a.props.name:e.name||e.dataKey,unit:e.unit||"",value:N,payload:O,dataKey:h,type:m},{name:Oe(r.dataKey)?a.props.name:r.name||r.dataKey,unit:r.unit||"",value:A,payload:O,dataKey:y,type:m}];T!=="-"&&$.push({name:n.name||n.dataKey,unit:n.unit||"",value:T,payload:O,dataKey:v,type:m});var I=ws({axis:e,ticks:c,bandSize:w,entry:O,index:P,dataKey:h}),B=ws({axis:r,ticks:u,bandSize:k,entry:O,index:P,dataKey:y}),M=T!=="-"?n.scale(T):b,q=Math.sqrt(Math.max(M,0)/Math.PI);return Fr(Fr({},O),{},{cx:I,cy:B,x:I-q,y:B-q,xAxis:e,yAxis:r,zAxis:n,width:2*q,height:2*q,size:M,node:{x:N,y:A,z:T},tooltipPayload:$,tooltipPosition:{x:I,y:B},payload:O},p&&p[P]&&p[P].props)});return Fr({points:S},d)});function Ds(t){"@babel/helpers - typeof";return Ds=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ds(t)}function hH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pH(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,sC(n.key),n)}}function gH(t,e,r){return e&&pH(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function yH(t,e,r){return e=Cd(e),vH(t,aC()?Reflect.construct(e,r||[],Cd(t).constructor):e.apply(t,r))}function vH(t,e){if(e&&(Ds(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xH(t)}function xH(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function aC(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aC=function(){return!!t})()}function Cd(t){return Cd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Cd(t)}function bH(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Hv(t,e)}function Hv(t,e){return Hv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Hv(t,e)}function iC(t,e,r){return e=sC(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sC(t){var e=wH(t,"string");return Ds(e)=="symbol"?e:e+""}function wH(t,e){if(Ds(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ds(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Gv(){return Gv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Gv.apply(this,arguments)}function jH(t){var e=t.xAxisId,r=nb(),n=ab(),a=RT(e);return a==null?null:C.createElement(Zs,Gv({},a,{className:Me("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(c){return Ln(c,!0)}}))}var lt=(function(t){function e(){return hH(this,e),yH(this,e,arguments)}return bH(e,t),gH(e,[{key:"render",value:function(){return C.createElement(jH,this.props)}}])})(C.Component);iC(lt,"displayName","XAxis");iC(lt,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Ls(t){"@babel/helpers - typeof";return Ls=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ls(t)}function SH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _H(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,cC(n.key),n)}}function NH(t,e,r){return e&&_H(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function kH(t,e,r){return e=Id(e),OH(t,oC()?Reflect.construct(e,r||[],Id(t).constructor):e.apply(t,r))}function OH(t,e){if(e&&(Ls(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return AH(t)}function AH(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oC(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oC=function(){return!!t})()}function Id(t){return Id=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Id(t)}function PH(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Vv(t,e)}function Vv(t,e){return Vv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Vv(t,e)}function lC(t,e,r){return e=cC(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cC(t){var e=EH(t,"string");return Ls(e)=="symbol"?e:e+""}function EH(t,e){if(Ls(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ls(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Kv(){return Kv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Kv.apply(this,arguments)}var TH=function(e){var r=e.yAxisId,n=nb(),a=ab(),o=$T(r);return o==null?null:C.createElement(Zs,Kv({},o,{className:Me("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(u){return Ln(u,!0)}}))},at=(function(t){function e(){return SH(this,e),kH(this,e,arguments)}return PH(e,t),NH(e,[{key:"render",value:function(){return C.createElement(TH,this.props)}}])})(C.Component);lC(at,"displayName","YAxis");lC(at,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function cA(t){return RH(t)||MH(t)||IH(t)||CH()}function CH(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IH(t,e){if(t){if(typeof t=="string")return Yv(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Yv(t,e)}}function MH(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function RH(t){if(Array.isArray(t))return Yv(t)}function Yv(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Xv=function(e,r,n,a,o){var c=sr(e,sb),u=sr(e,yf),d=[].concat(cA(c),cA(u)),m=sr(e,xf),p="".concat(a,"Id"),h=a[0],y=r;if(d.length&&(y=d.reduce(function(b,w){if(w.props[p]===n&&wn(w.props,"extendDomain")&&ue(w.props[h])){var k=w.props[h];return[Math.min(b[0],k),Math.max(b[1],k)]}return b},y)),m.length){var v="".concat(h,"1"),j="".concat(h,"2");y=m.reduce(function(b,w){if(w.props[p]===n&&wn(w.props,"extendDomain")&&ue(w.props[v])&&ue(w.props[j])){var k=w.props[v],S=w.props[j];return[Math.min(b[0],k,S),Math.max(b[1],k,S)]}return b},y)}return o&&o.length&&(y=o.reduce(function(b,w){return ue(w)?[Math.min(b[0],w),Math.max(b[1],w)]:b},y)),y},v0={exports:{}},uA;function $H(){return uA||(uA=1,(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(d,m,p){this.fn=d,this.context=m,this.once=p||!1}function o(d,m,p,h,y){if(typeof p!="function")throw new TypeError("The listener must be a function");var v=new a(p,h||d,y),j=r?r+m:m;return d._events[j]?d._events[j].fn?d._events[j]=[d._events[j],v]:d._events[j].push(v):(d._events[j]=v,d._eventsCount++),d}function c(d,m){--d._eventsCount===0?d._events=new n:delete d._events[m]}function u(){this._events=new n,this._eventsCount=0}u.prototype.eventNames=function(){var m=[],p,h;if(this._eventsCount===0)return m;for(h in p=this._events)e.call(p,h)&&m.push(r?h.slice(1):h);return Object.getOwnPropertySymbols?m.concat(Object.getOwnPropertySymbols(p)):m},u.prototype.listeners=function(m){var p=r?r+m:m,h=this._events[p];if(!h)return[];if(h.fn)return[h.fn];for(var y=0,v=h.length,j=new Array(v);y<v;y++)j[y]=h[y].fn;return j},u.prototype.listenerCount=function(m){var p=r?r+m:m,h=this._events[p];return h?h.fn?1:h.length:0},u.prototype.emit=function(m,p,h,y,v,j){var b=r?r+m:m;if(!this._events[b])return!1;var w=this._events[b],k=arguments.length,S,O;if(w.fn){switch(w.once&&this.removeListener(m,w.fn,void 0,!0),k){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,p),!0;case 3:return w.fn.call(w.context,p,h),!0;case 4:return w.fn.call(w.context,p,h,y),!0;case 5:return w.fn.call(w.context,p,h,y,v),!0;case 6:return w.fn.call(w.context,p,h,y,v,j),!0}for(O=1,S=new Array(k-1);O<k;O++)S[O-1]=arguments[O];w.fn.apply(w.context,S)}else{var P=w.length,N;for(O=0;O<P;O++)switch(w[O].once&&this.removeListener(m,w[O].fn,void 0,!0),k){case 1:w[O].fn.call(w[O].context);break;case 2:w[O].fn.call(w[O].context,p);break;case 3:w[O].fn.call(w[O].context,p,h);break;case 4:w[O].fn.call(w[O].context,p,h,y);break;default:if(!S)for(N=1,S=new Array(k-1);N<k;N++)S[N-1]=arguments[N];w[O].fn.apply(w[O].context,S)}}return!0},u.prototype.on=function(m,p,h){return o(this,m,p,h,!1)},u.prototype.once=function(m,p,h){return o(this,m,p,h,!0)},u.prototype.removeListener=function(m,p,h,y){var v=r?r+m:m;if(!this._events[v])return this;if(!p)return c(this,v),this;var j=this._events[v];if(j.fn)j.fn===p&&(!y||j.once)&&(!h||j.context===h)&&c(this,v);else{for(var b=0,w=[],k=j.length;b<k;b++)(j[b].fn!==p||y&&!j[b].once||h&&j[b].context!==h)&&w.push(j[b]);w.length?this._events[v]=w.length===1?w[0]:w:c(this,v)}return this},u.prototype.removeAllListeners=function(m){var p;return m?(p=r?r+m:m,this._events[p]&&c(this,p)):(this._events=new n,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=r,u.EventEmitter=u,t.exports=u})(v0)),v0.exports}var DH=$H();const LH=He(DH);var x0=new LH,b0="recharts.syncMouseEvents";function Gl(t){"@babel/helpers - typeof";return Gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gl(t)}function FH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function BH(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,uC(n.key),n)}}function zH(t,e,r){return e&&BH(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function w0(t,e,r){return e=uC(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uC(t){var e=qH(t,"string");return Gl(e)=="symbol"?e:e+""}function qH(t,e){if(Gl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var UH=(function(){function t(){FH(this,t),w0(this,"activeIndex",0),w0(this,"coordinateList",[]),w0(this,"layout","horizontal")}return zH(t,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,o=a===void 0?null:a,c=r.container,u=c===void 0?null:c,d=r.layout,m=d===void 0?null:d,p=r.offset,h=p===void 0?null:p,y=r.mouseHandlerCallback,v=y===void 0?null:y;this.coordinateList=(n=o??this.coordinateList)!==null&&n!==void 0?n:[],this.container=u??this.container,this.layout=m??this.layout,this.offset=h??this.offset,this.mouseHandlerCallback=v??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),o=a.x,c=a.y,u=a.height,d=this.coordinateList[this.activeIndex].coordinate,m=((r=window)===null||r===void 0?void 0:r.scrollX)||0,p=((n=window)===null||n===void 0?void 0:n.scrollY)||0,h=o+d+m,y=c+this.offset.top+u/2+p;this.mouseHandlerCallback({pageX:h,pageY:y})}}}])})();function WH(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t?.[0],a=t?.[1];if(n&&a&&ue(n)&&ue(a))return!0}return!1}function HH(t,e,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-a:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-a,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function dC(t){var e=t.cx,r=t.cy,n=t.radius,a=t.startAngle,o=t.endAngle,c=Ze(e,r,n,a),u=Ze(e,r,n,o);return{points:[c,u],cx:e,cy:r,radius:n,startAngle:a,endAngle:o}}function GH(t,e,r){var n,a,o,c;if(t==="horizontal")n=e.x,o=n,a=r.top,c=r.top+r.height;else if(t==="vertical")a=e.y,c=a,n=r.left,o=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var u=e.cx,d=e.cy,m=e.innerRadius,p=e.outerRadius,h=e.angle,y=Ze(u,d,m,h),v=Ze(u,d,p,h);n=y.x,a=y.y,o=v.x,c=v.y}else return dC(e);return[{x:n,y:a},{x:o,y:c}]}function Vl(t){"@babel/helpers - typeof";return Vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vl(t)}function dA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Ou(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dA(Object(r),!0).forEach(function(n){VH(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function VH(t,e,r){return e=KH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function KH(t){var e=YH(t,"string");return Vl(e)=="symbol"?e:e+""}function YH(t,e){if(Vl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function XH(t){var e,r,n=t.element,a=t.tooltipEventType,o=t.isActive,c=t.activeCoordinate,u=t.activePayload,d=t.offset,m=t.activeTooltipIndex,p=t.tooltipAxisBandSize,h=t.layout,y=t.chartName,v=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!v||!o||!c||y!=="ScatterChart"&&a!=="axis")return null;var j,b=_a;if(y==="ScatterChart")j=c,b=Uz;else if(y==="BarChart")j=HH(h,c,d,p),b=Jx;else if(h==="radial"){var w=dC(c),k=w.cx,S=w.cy,O=w.radius,P=w.startAngle,N=w.endAngle;j={cx:k,cy:S,startAngle:P,endAngle:N,innerRadius:O,outerRadius:O},b=iT}else j={points:GH(h,c,d)},b=_a;var A=Ou(Ou(Ou(Ou({stroke:"#ccc",pointerEvents:"none"},d),j),we(v,!1)),{},{payload:u,payloadIndex:m,className:Me("recharts-tooltip-cursor",v.className)});return C.isValidElement(v)?C.cloneElement(v,A):C.createElement(b,A)}var QH=["item"],ZH=["children","className","width","height","style","compact","title","desc"];function Fs(t){"@babel/helpers - typeof";return Fs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fs(t)}function rs(){return rs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},rs.apply(this,arguments)}function fA(t,e){return tG(t)||eG(t,e)||mC(t,e)||JH()}function JH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eG(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,o,c,u=[],d=!0,m=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(d=(n=o.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(p){m=!0,a=p}finally{try{if(!d&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(m)throw a}}return u}}function tG(t){if(Array.isArray(t))return t}function mA(t,e){if(t==null)return{};var r=rG(t,e),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(a=0;a<o.length;a++)n=o[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function rG(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function nG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aG(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,hC(n.key),n)}}function iG(t,e,r){return e&&aG(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function sG(t,e,r){return e=Md(e),oG(t,fC()?Reflect.construct(e,r||[],Md(t).constructor):e.apply(t,r))}function oG(t,e){if(e&&(Fs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lG(t)}function lG(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fC(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fC=function(){return!!t})()}function Md(t){return Md=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Md(t)}function cG(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qv(t,e)}function Qv(t,e){return Qv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Qv(t,e)}function Bs(t){return fG(t)||dG(t)||mC(t)||uG()}function uG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mC(t,e){if(t){if(typeof t=="string")return Zv(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Zv(t,e)}}function dG(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function fG(t){if(Array.isArray(t))return Zv(t)}function Zv(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function hA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function re(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hA(Object(r),!0).forEach(function(n){Pe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Pe(t,e,r){return e=hC(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hC(t){var e=mG(t,"string");return Fs(e)=="symbol"?e:e+""}function mG(t,e){if(Fs(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Fs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hG={xAxis:["bottom","top"],yAxis:["left","right"]},pG={width:"100%",height:"100%"},pC={x:0,y:0};function Au(t){return t}var gG=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},yG=function(e,r,n,a){var o=r.find(function(p){return p&&p.index===n});if(o){if(e==="horizontal")return{x:o.coordinate,y:a.y};if(e==="vertical")return{x:a.x,y:o.coordinate};if(e==="centric"){var c=o.coordinate,u=a.radius;return re(re(re({},a),Ze(a.cx,a.cy,u,c)),{},{angle:c,radius:u})}var d=o.coordinate,m=a.angle;return re(re(re({},a),Ze(a.cx,a.cy,d,m)),{},{angle:m,radius:d})}return pC},wf=function(e,r){var n=r.graphicalItems,a=r.dataStartIndex,o=r.dataEndIndex,c=(n??[]).reduce(function(u,d){var m=d.props.data;return m&&m.length?[].concat(Bs(u),Bs(m)):u},[]);return c.length>0?c:e&&e.length&&ue(a)&&ue(o)?e.slice(a,o+1):[]};function gC(t){return t==="number"?[0,"auto"]:void 0}var Jv=function(e,r,n,a){var o=e.graphicalItems,c=e.tooltipAxis,u=wf(r,e);return n<0||!o||!o.length||n>=u.length?null:o.reduce(function(d,m){var p,h=(p=m.props.data)!==null&&p!==void 0?p:r;h&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(h=h.slice(e.dataStartIndex,e.dataEndIndex+1));var y;if(c.dataKey&&!c.allowDuplicatedCategory){var v=h===void 0?u:h;y=Mu(v,c.dataKey,a)}else y=h&&h[n]||u[n];return y?[].concat(Bs(d),[JE(m,y)]):d},[])},pA=function(e,r,n,a){var o=a||{x:e.chartX,y:e.chartY},c=gG(o,n),u=e.orderedTooltipTicks,d=e.tooltipAxis,m=e.tooltipTicks,p=hF(c,u,m,d);if(p>=0&&m){var h=m[p]&&m[p].value,y=Jv(e,r,p,h),v=yG(n,u,p,o);return{activeTooltipIndex:p,activeLabel:h,activePayload:y,activeCoordinate:v}}return null},vG=function(e,r){var n=r.axes,a=r.graphicalItems,o=r.axisType,c=r.axisIdKey,u=r.stackGroups,d=r.dataStartIndex,m=r.dataEndIndex,p=e.layout,h=e.children,y=e.stackOffset,v=VE(p,o);return n.reduce(function(j,b){var w,k=b.type.defaultProps!==void 0?re(re({},b.type.defaultProps),b.props):b.props,S=k.type,O=k.dataKey,P=k.allowDataOverflow,N=k.allowDuplicatedCategory,A=k.scale,T=k.ticks,$=k.includeHidden,I=k[c];if(j[I])return j;var B=wf(e.data,{graphicalItems:a.filter(function(Y){var ie,fe=c in Y.props?Y.props[c]:(ie=Y.type.defaultProps)===null||ie===void 0?void 0:ie[c];return fe===I}),dataStartIndex:d,dataEndIndex:m}),M=B.length,q,F,V;WH(k.domain,P,S)&&(q=uv(k.domain,null,P),v&&(S==="number"||A!=="auto")&&(V=nl(B,O,"category")));var L=gC(S);if(!q||q.length===0){var R,G=(R=k.domain)!==null&&R!==void 0?R:L;if(O){if(q=nl(B,O,S),S==="category"&&v){var D=oR(q);N&&D?(F=q,q=vd(0,M)):N||(q=uk(G,q,b).reduce(function(Y,ie){return Y.indexOf(ie)>=0?Y:[].concat(Bs(Y),[ie])},[]))}else if(S==="category")N?q=q.filter(function(Y){return Y!==""&&!Oe(Y)}):q=uk(G,q,b).reduce(function(Y,ie){return Y.indexOf(ie)>=0||ie===""||Oe(ie)?Y:[].concat(Bs(Y),[ie])},[]);else if(S==="number"){var W=xF(B,a.filter(function(Y){var ie,fe,Se=c in Y.props?Y.props[c]:(ie=Y.type.defaultProps)===null||ie===void 0?void 0:ie[c],xe="hide"in Y.props?Y.props.hide:(fe=Y.type.defaultProps)===null||fe===void 0?void 0:fe.hide;return Se===I&&($||!xe)}),O,o,p);W&&(q=W)}v&&(S==="number"||A!=="auto")&&(V=nl(B,O,"category"))}else v?q=vd(0,M):u&&u[I]&&u[I].hasStack&&S==="number"?q=y==="expand"?[0,1]:ZE(u[I].stackGroups,d,m):q=GE(B,a.filter(function(Y){var ie=c in Y.props?Y.props[c]:Y.type.defaultProps[c],fe="hide"in Y.props?Y.props.hide:Y.type.defaultProps.hide;return ie===I&&($||!fe)}),S,p,!0);if(S==="number")q=Xv(h,q,I,o,T),G&&(q=uv(G,q,P));else if(S==="category"&&G){var Q=G,z=q.every(function(Y){return Q.indexOf(Y)>=0});z&&(q=Q)}}return re(re({},j),{},Pe({},I,re(re({},k),{},{axisType:o,domain:q,categoricalDomain:V,duplicateDomain:F,originalDomain:(w=k.domain)!==null&&w!==void 0?w:L,isCategorical:v,layout:p})))},{})},xG=function(e,r){var n=r.graphicalItems,a=r.Axis,o=r.axisType,c=r.axisIdKey,u=r.stackGroups,d=r.dataStartIndex,m=r.dataEndIndex,p=e.layout,h=e.children,y=wf(e.data,{graphicalItems:n,dataStartIndex:d,dataEndIndex:m}),v=y.length,j=VE(p,o),b=-1;return n.reduce(function(w,k){var S=k.type.defaultProps!==void 0?re(re({},k.type.defaultProps),k.props):k.props,O=S[c],P=gC("number");if(!w[O]){b++;var N;return j?N=vd(0,v):u&&u[O]&&u[O].hasStack?(N=ZE(u[O].stackGroups,d,m),N=Xv(h,N,O,o)):(N=uv(P,GE(y,n.filter(function(A){var T,$,I=c in A.props?A.props[c]:(T=A.type.defaultProps)===null||T===void 0?void 0:T[c],B="hide"in A.props?A.props.hide:($=A.type.defaultProps)===null||$===void 0?void 0:$.hide;return I===O&&!B}),"number",p),a.defaultProps.allowDataOverflow),N=Xv(h,N,O,o)),re(re({},w),{},Pe({},O,re(re({axisType:o},a.defaultProps),{},{hide:!0,orientation:Or(hG,"".concat(o,".").concat(b%2),null),domain:N,originalDomain:P,isCategorical:j,layout:p})))}return w},{})},bG=function(e,r){var n=r.axisType,a=n===void 0?"xAxis":n,o=r.AxisComp,c=r.graphicalItems,u=r.stackGroups,d=r.dataStartIndex,m=r.dataEndIndex,p=e.children,h="".concat(a,"Id"),y=sr(p,o),v={};return y&&y.length?v=vG(e,{axes:y,graphicalItems:c,axisType:a,axisIdKey:h,stackGroups:u,dataStartIndex:d,dataEndIndex:m}):c&&c.length&&(v=xG(e,{Axis:o,graphicalItems:c,axisType:a,axisIdKey:h,stackGroups:u,dataStartIndex:d,dataEndIndex:m})),v},wG=function(e){var r=ga(e),n=Ln(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:kx(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:id(r,n)}},gA=function(e){var r=e.children,n=e.defaultShowTooltip,a=_r(r,Os),o=0,c=0;return e.data&&e.data.length!==0&&(c=e.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(o=a.props.startIndex),a.props.endIndex>=0&&(c=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:c,activeTooltipIndex:-1,isTooltipActive:!!n}},jG=function(e){return!e||!e.length?!1:e.some(function(r){var n=Fn(r&&r.type);return n&&n.indexOf("Bar")>=0})},yA=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},SG=function(e,r){var n=e.props,a=e.graphicalItems,o=e.xAxisMap,c=o===void 0?{}:o,u=e.yAxisMap,d=u===void 0?{}:u,m=n.width,p=n.height,h=n.children,y=n.margin||{},v=_r(h,Os),j=_r(h,or),b=Object.keys(d).reduce(function(N,A){var T=d[A],$=T.orientation;return!T.mirror&&!T.hide?re(re({},N),{},Pe({},$,N[$]+T.width)):N},{left:y.left||0,right:y.right||0}),w=Object.keys(c).reduce(function(N,A){var T=c[A],$=T.orientation;return!T.mirror&&!T.hide?re(re({},N),{},Pe({},$,Or(N,"".concat($))+T.height)):N},{top:y.top||0,bottom:y.bottom||0}),k=re(re({},w),b),S=k.bottom;v&&(k.bottom+=v.props.height||Os.defaultProps.height),j&&r&&(k=yF(k,a,n,r));var O=m-k.left-k.right,P=p-k.top-k.bottom;return re(re({brushBottom:S},k),{},{width:Math.max(O,0),height:Math.max(P,0)})},_G=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},tc=function(e){var r=e.chartName,n=e.GraphicalChild,a=e.defaultTooltipEventType,o=a===void 0?"axis":a,c=e.validateTooltipEventTypes,u=c===void 0?["axis"]:c,d=e.axisComponents,m=e.legendContent,p=e.formatAxisMap,h=e.defaultProps,y=function(k,S){var O=S.graphicalItems,P=S.stackGroups,N=S.offset,A=S.updateId,T=S.dataStartIndex,$=S.dataEndIndex,I=k.barSize,B=k.layout,M=k.barGap,q=k.barCategoryGap,F=k.maxBarSize,V=yA(B),L=V.numericAxisName,R=V.cateAxisName,G=jG(O),D=[];return O.forEach(function(W,Q){var z=wf(k.data,{graphicalItems:[W],dataStartIndex:T,dataEndIndex:$}),Y=W.type.defaultProps!==void 0?re(re({},W.type.defaultProps),W.props):W.props,ie=Y.dataKey,fe=Y.maxBarSize,Se=Y["".concat(L,"Id")],xe=Y["".concat(R,"Id")],Le={},Ie=d.reduce(function(Ht,ct){var wi=S["".concat(ct.axisType,"Map")],Js=Y["".concat(ct.axisType,"Id")];wi&&wi[Js]||ct.axisType==="zAxis"||di();var eo=wi[Js];return re(re({},Ht),{},Pe(Pe({},ct.axisType,eo),"".concat(ct.axisType,"Ticks"),Ln(eo)))},Le),le=Ie[R],te=Ie["".concat(R,"Ticks")],ae=P&&P[Se]&&P[Se].hasStack&&AF(W,P[Se].stackGroups),ne=Fn(W.type).indexOf("Bar")>=0,Re=id(le,te),Ee=[],Je=G&&pF({barSize:I,stackGroups:P,totalSize:_G(Ie,R)});if(ne){var it,xt,yr=Oe(fe)?F:fe,Ar=(it=(xt=id(le,te,!0))!==null&&xt!==void 0?xt:yr)!==null&&it!==void 0?it:0;Ee=gF({barGap:M,barCategoryGap:q,bandSize:Ar!==Re?Ar:Re,sizeList:Je[xe],maxBarSize:yr}),Ar!==Re&&(Ee=Ee.map(function(Ht){return re(re({},Ht),{},{position:re(re({},Ht.position),{},{offset:Ht.position.offset-Ar/2})})}))}var Pr=W&&W.type&&W.type.getComposedData;Pr&&D.push({props:re(re({},Pr(re(re({},Ie),{},{displayedData:z,props:k,dataKey:ie,item:W,bandSize:Re,barPosition:Ee,offset:N,stackedData:ae,layout:B,dataStartIndex:T,dataEndIndex:$}))),{},Pe(Pe(Pe({key:W.key||"item-".concat(Q)},L,Ie[L]),R,Ie[R]),"animationId",A)),childIndex:bR(W,k.children),item:W})}),D},v=function(k,S){var O=k.props,P=k.dataStartIndex,N=k.dataEndIndex,A=k.updateId;if(!NS({props:O}))return null;var T=O.children,$=O.layout,I=O.stackOffset,B=O.data,M=O.reverseStackOrder,q=yA($),F=q.numericAxisName,V=q.cateAxisName,L=sr(T,n),R=kF(B,L,"".concat(F,"Id"),"".concat(V,"Id"),I,M),G=d.reduce(function(Y,ie){var fe="".concat(ie.axisType,"Map");return re(re({},Y),{},Pe({},fe,bG(O,re(re({},ie),{},{graphicalItems:L,stackGroups:ie.axisType===F&&R,dataStartIndex:P,dataEndIndex:N}))))},{}),D=SG(re(re({},G),{},{props:O,graphicalItems:L}),S?.legendBBox);Object.keys(G).forEach(function(Y){G[Y]=p(O,G[Y],D,Y.replace("Map",""),r)});var W=G["".concat(V,"Map")],Q=wG(W),z=y(O,re(re({},G),{},{dataStartIndex:P,dataEndIndex:N,updateId:A,graphicalItems:L,stackGroups:R,offset:D}));return re(re({formattedGraphicalItems:z,graphicalItems:L,offset:D,stackGroups:R},Q),G)},j=(function(w){function k(S){var O,P,N;return nG(this,k),N=sG(this,k,[S]),Pe(N,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Pe(N,"accessibilityManager",new UH),Pe(N,"handleLegendBBoxUpdate",function(A){if(A){var T=N.state,$=T.dataStartIndex,I=T.dataEndIndex,B=T.updateId;N.setState(re({legendBBox:A},v({props:N.props,dataStartIndex:$,dataEndIndex:I,updateId:B},re(re({},N.state),{},{legendBBox:A}))))}}),Pe(N,"handleReceiveSyncEvent",function(A,T,$){if(N.props.syncId===A){if($===N.eventEmitterSymbol&&typeof N.props.syncMethod!="function")return;N.applySyncEvent(T)}}),Pe(N,"handleBrushChange",function(A){var T=A.startIndex,$=A.endIndex;if(T!==N.state.dataStartIndex||$!==N.state.dataEndIndex){var I=N.state.updateId;N.setState(function(){return re({dataStartIndex:T,dataEndIndex:$},v({props:N.props,dataStartIndex:T,dataEndIndex:$,updateId:I},N.state))}),N.triggerSyncEvent({dataStartIndex:T,dataEndIndex:$})}}),Pe(N,"handleMouseEnter",function(A){var T=N.getMouseInfo(A);if(T){var $=re(re({},T),{},{isTooltipActive:!0});N.setState($),N.triggerSyncEvent($);var I=N.props.onMouseEnter;Ae(I)&&I($,A)}}),Pe(N,"triggeredAfterMouseMove",function(A){var T=N.getMouseInfo(A),$=T?re(re({},T),{},{isTooltipActive:!0}):{isTooltipActive:!1};N.setState($),N.triggerSyncEvent($);var I=N.props.onMouseMove;Ae(I)&&I($,A)}),Pe(N,"handleItemMouseEnter",function(A){N.setState(function(){return{isTooltipActive:!0,activeItem:A,activePayload:A.tooltipPayload,activeCoordinate:A.tooltipPosition||{x:A.cx,y:A.cy}}})}),Pe(N,"handleItemMouseLeave",function(){N.setState(function(){return{isTooltipActive:!1}})}),Pe(N,"handleMouseMove",function(A){A.persist(),N.throttleTriggeredAfterMouseMove(A)}),Pe(N,"handleMouseLeave",function(A){N.throttleTriggeredAfterMouseMove.cancel();var T={isTooltipActive:!1};N.setState(T),N.triggerSyncEvent(T);var $=N.props.onMouseLeave;Ae($)&&$(T,A)}),Pe(N,"handleOuterEvent",function(A){var T=xR(A),$=Or(N.props,"".concat(T));if(T&&Ae($)){var I,B;/.*touch.*/i.test(T)?B=N.getMouseInfo(A.changedTouches[0]):B=N.getMouseInfo(A),$((I=B)!==null&&I!==void 0?I:{},A)}}),Pe(N,"handleClick",function(A){var T=N.getMouseInfo(A);if(T){var $=re(re({},T),{},{isTooltipActive:!0});N.setState($),N.triggerSyncEvent($);var I=N.props.onClick;Ae(I)&&I($,A)}}),Pe(N,"handleMouseDown",function(A){var T=N.props.onMouseDown;if(Ae(T)){var $=N.getMouseInfo(A);T($,A)}}),Pe(N,"handleMouseUp",function(A){var T=N.props.onMouseUp;if(Ae(T)){var $=N.getMouseInfo(A);T($,A)}}),Pe(N,"handleTouchMove",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&N.throttleTriggeredAfterMouseMove(A.changedTouches[0])}),Pe(N,"handleTouchStart",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&N.handleMouseDown(A.changedTouches[0])}),Pe(N,"handleTouchEnd",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&N.handleMouseUp(A.changedTouches[0])}),Pe(N,"handleDoubleClick",function(A){var T=N.props.onDoubleClick;if(Ae(T)){var $=N.getMouseInfo(A);T($,A)}}),Pe(N,"handleContextMenu",function(A){var T=N.props.onContextMenu;if(Ae(T)){var $=N.getMouseInfo(A);T($,A)}}),Pe(N,"triggerSyncEvent",function(A){N.props.syncId!==void 0&&x0.emit(b0,N.props.syncId,A,N.eventEmitterSymbol)}),Pe(N,"applySyncEvent",function(A){var T=N.props,$=T.layout,I=T.syncMethod,B=N.state.updateId,M=A.dataStartIndex,q=A.dataEndIndex;if(A.dataStartIndex!==void 0||A.dataEndIndex!==void 0)N.setState(re({dataStartIndex:M,dataEndIndex:q},v({props:N.props,dataStartIndex:M,dataEndIndex:q,updateId:B},N.state)));else if(A.activeTooltipIndex!==void 0){var F=A.chartX,V=A.chartY,L=A.activeTooltipIndex,R=N.state,G=R.offset,D=R.tooltipTicks;if(!G)return;if(typeof I=="function")L=I(D,A);else if(I==="value"){L=-1;for(var W=0;W<D.length;W++)if(D[W].value===A.activeLabel){L=W;break}}var Q=re(re({},G),{},{x:G.left,y:G.top}),z=Math.min(F,Q.x+Q.width),Y=Math.min(V,Q.y+Q.height),ie=D[L]&&D[L].value,fe=Jv(N.state,N.props.data,L),Se=D[L]?{x:$==="horizontal"?D[L].coordinate:z,y:$==="horizontal"?Y:D[L].coordinate}:pC;N.setState(re(re({},A),{},{activeLabel:ie,activeCoordinate:Se,activePayload:fe,activeTooltipIndex:L}))}else N.setState(A)}),Pe(N,"renderCursor",function(A){var T,$=N.state,I=$.isTooltipActive,B=$.activeCoordinate,M=$.activePayload,q=$.offset,F=$.activeTooltipIndex,V=$.tooltipAxisBandSize,L=N.getTooltipEventType(),R=(T=A.props.active)!==null&&T!==void 0?T:I,G=N.props.layout,D=A.key||"_recharts-cursor";return U.createElement(XH,{key:D,activeCoordinate:B,activePayload:M,activeTooltipIndex:F,chartName:r,element:A,isActive:R,layout:G,offset:q,tooltipAxisBandSize:V,tooltipEventType:L})}),Pe(N,"renderPolarAxis",function(A,T,$){var I=Or(A,"type.axisType"),B=Or(N.state,"".concat(I,"Map")),M=A.type.defaultProps,q=M!==void 0?re(re({},M),A.props):A.props,F=B&&B[q["".concat(I,"Id")]];return C.cloneElement(A,re(re({},F),{},{className:Me(I,F.className),key:A.key||"".concat(T,"-").concat($),ticks:Ln(F,!0)}))}),Pe(N,"renderPolarGrid",function(A){var T=A.props,$=T.radialLines,I=T.polarAngles,B=T.polarRadius,M=N.state,q=M.radiusAxisMap,F=M.angleAxisMap,V=ga(q),L=ga(F),R=L.cx,G=L.cy,D=L.innerRadius,W=L.outerRadius;return C.cloneElement(A,{polarAngles:Array.isArray(I)?I:Ln(L,!0).map(function(Q){return Q.coordinate}),polarRadius:Array.isArray(B)?B:Ln(V,!0).map(function(Q){return Q.coordinate}),cx:R,cy:G,innerRadius:D,outerRadius:W,key:A.key||"polar-grid",radialLines:$})}),Pe(N,"renderLegend",function(){var A=N.state.formattedGraphicalItems,T=N.props,$=T.children,I=T.width,B=T.height,M=N.props.margin||{},q=I-(M.left||0)-(M.right||0),F=WE({children:$,formattedGraphicalItems:A,legendWidth:q,legendContent:m});if(!F)return null;var V=F.item,L=mA(F,QH);return C.cloneElement(V,re(re({},L),{},{chartWidth:I,chartHeight:B,margin:M,onBBoxUpdate:N.handleLegendBBoxUpdate}))}),Pe(N,"renderTooltip",function(){var A,T=N.props,$=T.children,I=T.accessibilityLayer,B=_r($,We);if(!B)return null;var M=N.state,q=M.isTooltipActive,F=M.activeCoordinate,V=M.activePayload,L=M.activeLabel,R=M.offset,G=(A=B.props.active)!==null&&A!==void 0?A:q;return C.cloneElement(B,{viewBox:re(re({},R),{},{x:R.left,y:R.top}),active:G,label:L,payload:G?V:[],coordinate:F,accessibilityLayer:I})}),Pe(N,"renderBrush",function(A){var T=N.props,$=T.margin,I=T.data,B=N.state,M=B.offset,q=B.dataStartIndex,F=B.dataEndIndex,V=B.updateId;return C.cloneElement(A,{key:A.key||"_recharts-brush",onChange:Su(N.handleBrushChange,A.props.onChange),data:I,x:ue(A.props.x)?A.props.x:M.left,y:ue(A.props.y)?A.props.y:M.top+M.height+M.brushBottom-($.bottom||0),width:ue(A.props.width)?A.props.width:M.width,startIndex:q,endIndex:F,updateId:"brush-".concat(V)})}),Pe(N,"renderReferenceElement",function(A,T,$){if(!A)return null;var I=N,B=I.clipPathId,M=N.state,q=M.xAxisMap,F=M.yAxisMap,V=M.offset,L=A.type.defaultProps||{},R=A.props,G=R.xAxisId,D=G===void 0?L.xAxisId:G,W=R.yAxisId,Q=W===void 0?L.yAxisId:W;return C.cloneElement(A,{key:A.key||"".concat(T,"-").concat($),xAxis:q[D],yAxis:F[Q],viewBox:{x:V.left,y:V.top,width:V.width,height:V.height},clipPathId:B})}),Pe(N,"renderActivePoints",function(A){var T=A.item,$=A.activePoint,I=A.basePoint,B=A.childIndex,M=A.isRange,q=[],F=T.props.key,V=T.item.type.defaultProps!==void 0?re(re({},T.item.type.defaultProps),T.item.props):T.item.props,L=V.activeDot,R=V.dataKey,G=re(re({index:B,dataKey:R,cx:$.x,cy:$.y,r:4,fill:Zx(T.item),strokeWidth:2,stroke:"#fff",payload:$.payload,value:$.value},we(L,!1)),Ru(L));return q.push(k.renderActiveDot(L,G,"".concat(F,"-activePoint-").concat(B))),I?q.push(k.renderActiveDot(L,re(re({},G),{},{cx:I.x,cy:I.y}),"".concat(F,"-basePoint-").concat(B))):M&&q.push(null),q}),Pe(N,"renderGraphicChild",function(A,T,$){var I=N.filterFormatItem(A,T,$);if(!I)return null;var B=N.getTooltipEventType(),M=N.state,q=M.isTooltipActive,F=M.tooltipAxis,V=M.activeTooltipIndex,L=M.activeLabel,R=N.props.children,G=_r(R,We),D=I.props,W=D.points,Q=D.isRange,z=D.baseLine,Y=I.item.type.defaultProps!==void 0?re(re({},I.item.type.defaultProps),I.item.props):I.item.props,ie=Y.activeDot,fe=Y.hide,Se=Y.activeBar,xe=Y.activeShape,Le=!!(!fe&&q&&G&&(ie||Se||xe)),Ie={};B!=="axis"&&G&&G.props.trigger==="click"?Ie={onClick:Su(N.handleItemMouseEnter,A.props.onClick)}:B!=="axis"&&(Ie={onMouseLeave:Su(N.handleItemMouseLeave,A.props.onMouseLeave),onMouseEnter:Su(N.handleItemMouseEnter,A.props.onMouseEnter)});var le=C.cloneElement(A,re(re({},I.props),Ie));function te(ct){return typeof F.dataKey=="function"?F.dataKey(ct.payload):null}if(Le)if(V>=0){var ae,ne;if(F.dataKey&&!F.allowDuplicatedCategory){var Re=typeof F.dataKey=="function"?te:"payload.".concat(F.dataKey.toString());ae=Mu(W,Re,L),ne=Q&&z&&Mu(z,Re,L)}else ae=W?.[V],ne=Q&&z&&z[V];if(xe||Se){var Ee=A.props.activeIndex!==void 0?A.props.activeIndex:V;return[C.cloneElement(A,re(re(re({},I.props),Ie),{},{activeIndex:Ee})),null,null]}if(!Oe(ae))return[le].concat(Bs(N.renderActivePoints({item:I,activePoint:ae,basePoint:ne,childIndex:V,isRange:Q})))}else{var Je,it=(Je=N.getItemByXY(N.state.activeCoordinate))!==null&&Je!==void 0?Je:{graphicalItem:le},xt=it.graphicalItem,yr=xt.item,Ar=yr===void 0?A:yr,Pr=xt.childIndex,Ht=re(re(re({},I.props),Ie),{},{activeIndex:Pr});return[C.cloneElement(Ar,Ht),null,null]}return Q?[le,null,null]:[le,null]}),Pe(N,"renderCustomized",function(A,T,$){return C.cloneElement(A,re(re({key:"recharts-customized-".concat($)},N.props),N.state))}),Pe(N,"renderMap",{CartesianGrid:{handler:Au,once:!0},ReferenceArea:{handler:N.renderReferenceElement},ReferenceLine:{handler:Au},ReferenceDot:{handler:N.renderReferenceElement},XAxis:{handler:Au},YAxis:{handler:Au},Brush:{handler:N.renderBrush,once:!0},Bar:{handler:N.renderGraphicChild},Line:{handler:N.renderGraphicChild},Area:{handler:N.renderGraphicChild},Radar:{handler:N.renderGraphicChild},RadialBar:{handler:N.renderGraphicChild},Scatter:{handler:N.renderGraphicChild},Pie:{handler:N.renderGraphicChild},Funnel:{handler:N.renderGraphicChild},Tooltip:{handler:N.renderCursor,once:!0},PolarGrid:{handler:N.renderPolarGrid,once:!0},PolarAngleAxis:{handler:N.renderPolarAxis},PolarRadiusAxis:{handler:N.renderPolarAxis},Customized:{handler:N.renderCustomized}}),N.clipPathId="".concat((O=S.id)!==null&&O!==void 0?O:Ea("recharts"),"-clip"),N.throttleTriggeredAfterMouseMove=UP(N.triggeredAfterMouseMove,(P=S.throttleDelay)!==null&&P!==void 0?P:1e3/60),N.state={},N}return cG(k,w),iG(k,[{key:"componentDidMount",value:function(){var O,P;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(O=this.props.margin.left)!==null&&O!==void 0?O:0,top:(P=this.props.margin.top)!==null&&P!==void 0?P:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var O=this.props,P=O.children,N=O.data,A=O.height,T=O.layout,$=_r(P,We);if($){var I=$.props.defaultIndex;if(!(typeof I!="number"||I<0||I>this.state.tooltipTicks.length-1)){var B=this.state.tooltipTicks[I]&&this.state.tooltipTicks[I].value,M=Jv(this.state,N,I,B),q=this.state.tooltipTicks[I].coordinate,F=(this.state.offset.top+A)/2,V=T==="horizontal",L=V?{x:q,y:F}:{y:q,x:F},R=this.state.formattedGraphicalItems.find(function(D){var W=D.item;return W.type.name==="Scatter"});R&&(L=re(re({},L),R.props.points[I].tooltipPosition),M=R.props.points[I].tooltipPayload);var G={activeTooltipIndex:I,isTooltipActive:!0,activeLabel:B,activePayload:M,activeCoordinate:L};this.setState(G),this.renderCursor($),this.accessibilityManager.setIndex(I)}}}},{key:"getSnapshotBeforeUpdate",value:function(O,P){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==P.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==O.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==O.margin){var N,A;this.accessibilityManager.setDetails({offset:{left:(N=this.props.margin.left)!==null&&N!==void 0?N:0,top:(A=this.props.margin.top)!==null&&A!==void 0?A:0}})}return null}},{key:"componentDidUpdate",value:function(O){C0([_r(O.children,We)],[_r(this.props.children,We)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var O=_r(this.props.children,We);if(O&&typeof O.props.shared=="boolean"){var P=O.props.shared?"axis":"item";return u.indexOf(P)>=0?P:o}return o}},{key:"getMouseInfo",value:function(O){if(!this.container)return null;var P=this.container,N=P.getBoundingClientRect(),A=s5(N),T={chartX:Math.round(O.pageX-A.left),chartY:Math.round(O.pageY-A.top)},$=N.width/P.offsetWidth||1,I=this.inRange(T.chartX,T.chartY,$);if(!I)return null;var B=this.state,M=B.xAxisMap,q=B.yAxisMap,F=this.getTooltipEventType(),V=pA(this.state,this.props.data,this.props.layout,I);if(F!=="axis"&&M&&q){var L=ga(M).scale,R=ga(q).scale,G=L&&L.invert?L.invert(T.chartX):null,D=R&&R.invert?R.invert(T.chartY):null;return re(re({},T),{},{xValue:G,yValue:D},V)}return V?re(re({},T),V):null}},{key:"inRange",value:function(O,P){var N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,A=this.props.layout,T=O/N,$=P/N;if(A==="horizontal"||A==="vertical"){var I=this.state.offset,B=T>=I.left&&T<=I.left+I.width&&$>=I.top&&$<=I.top+I.height;return B?{x:T,y:$}:null}var M=this.state,q=M.angleAxisMap,F=M.radiusAxisMap;if(q&&F){var V=ga(q);return mk({x:T,y:$},V)}return null}},{key:"parseEventsOfWrapper",value:function(){var O=this.props.children,P=this.getTooltipEventType(),N=_r(O,We),A={};N&&P==="axis"&&(N.props.trigger==="click"?A={onClick:this.handleClick}:A={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var T=Ru(this.props,this.handleOuterEvent);return re(re({},T),A)}},{key:"addListener",value:function(){x0.on(b0,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){x0.removeListener(b0,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(O,P,N){for(var A=this.state.formattedGraphicalItems,T=0,$=A.length;T<$;T++){var I=A[T];if(I.item===O||I.props.key===O.key||P===Fn(I.item.type)&&N===I.childIndex)return I}return null}},{key:"renderClipPath",value:function(){var O=this.clipPathId,P=this.state.offset,N=P.left,A=P.top,T=P.height,$=P.width;return U.createElement("defs",null,U.createElement("clipPath",{id:O},U.createElement("rect",{x:N,y:A,height:T,width:$})))}},{key:"getXScales",value:function(){var O=this.state.xAxisMap;return O?Object.entries(O).reduce(function(P,N){var A=fA(N,2),T=A[0],$=A[1];return re(re({},P),{},Pe({},T,$.scale))},{}):null}},{key:"getYScales",value:function(){var O=this.state.yAxisMap;return O?Object.entries(O).reduce(function(P,N){var A=fA(N,2),T=A[0],$=A[1];return re(re({},P),{},Pe({},T,$.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(O){var P;return(P=this.state.xAxisMap)===null||P===void 0||(P=P[O])===null||P===void 0?void 0:P.scale}},{key:"getYScaleByAxisId",value:function(O){var P;return(P=this.state.yAxisMap)===null||P===void 0||(P=P[O])===null||P===void 0?void 0:P.scale}},{key:"getItemByXY",value:function(O){var P=this.state,N=P.formattedGraphicalItems,A=P.activeItem;if(N&&N.length)for(var T=0,$=N.length;T<$;T++){var I=N[T],B=I.props,M=I.item,q=M.type.defaultProps!==void 0?re(re({},M.type.defaultProps),M.props):M.props,F=Fn(M.type);if(F==="Bar"){var V=(B.data||[]).find(function(D){return Sz(O,D)});if(V)return{graphicalItem:I,payload:V}}else if(F==="RadialBar"){var L=(B.data||[]).find(function(D){return mk(O,D)});if(L)return{graphicalItem:I,payload:L}}else if(ff(I,A)||mf(I,A)||zl(I,A)){var R=Gq({graphicalItem:I,activeTooltipItem:A,itemData:q.data}),G=q.activeIndex===void 0?R:q.activeIndex;return{graphicalItem:re(re({},I),{},{childIndex:G}),payload:zl(I,A)?q.data[R]:I.props.data[R]}}}return null}},{key:"render",value:function(){var O=this;if(!NS(this))return null;var P=this.props,N=P.children,A=P.className,T=P.width,$=P.height,I=P.style,B=P.compact,M=P.title,q=P.desc,F=mA(P,ZH),V=we(F,!1);if(B)return U.createElement(UO,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},U.createElement(M0,rs({},V,{width:T,height:$,title:M,desc:q}),this.renderClipPath(),OS(N,this.renderMap)));if(this.props.accessibilityLayer){var L,R;V.tabIndex=(L=this.props.tabIndex)!==null&&L!==void 0?L:0,V.role=(R=this.props.role)!==null&&R!==void 0?R:"application",V.onKeyDown=function(D){O.accessibilityManager.keyboardEvent(D)},V.onFocus=function(){O.accessibilityManager.focus()}}var G=this.parseEventsOfWrapper();return U.createElement(UO,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},U.createElement("div",rs({className:Me("recharts-wrapper",A),style:re({position:"relative",cursor:"default",width:T,height:$},I)},G,{ref:function(W){O.container=W}}),U.createElement(M0,rs({},V,{width:T,height:$,title:M,desc:q,style:pG}),this.renderClipPath(),OS(N,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(C.Component);Pe(j,"displayName",r),Pe(j,"defaultProps",re({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),Pe(j,"getDerivedStateFromProps",function(w,k){var S=w.dataKey,O=w.data,P=w.children,N=w.width,A=w.height,T=w.layout,$=w.stackOffset,I=w.margin,B=k.dataStartIndex,M=k.dataEndIndex;if(k.updateId===void 0){var q=gA(w);return re(re(re({},q),{},{updateId:0},v(re(re({props:w},q),{},{updateId:0}),k)),{},{prevDataKey:S,prevData:O,prevWidth:N,prevHeight:A,prevLayout:T,prevStackOffset:$,prevMargin:I,prevChildren:P})}if(S!==k.prevDataKey||O!==k.prevData||N!==k.prevWidth||A!==k.prevHeight||T!==k.prevLayout||$!==k.prevStackOffset||!os(I,k.prevMargin)){var F=gA(w),V={chartX:k.chartX,chartY:k.chartY,isTooltipActive:k.isTooltipActive},L=re(re({},pA(k,O,T)),{},{updateId:k.updateId+1}),R=re(re(re({},F),V),L);return re(re(re({},R),v(re({props:w},R),k)),{},{prevDataKey:S,prevData:O,prevWidth:N,prevHeight:A,prevLayout:T,prevStackOffset:$,prevMargin:I,prevChildren:P})}if(!C0(P,k.prevChildren)){var G,D,W,Q,z=_r(P,Os),Y=z&&(G=(D=z.props)===null||D===void 0?void 0:D.startIndex)!==null&&G!==void 0?G:B,ie=z&&(W=(Q=z.props)===null||Q===void 0?void 0:Q.endIndex)!==null&&W!==void 0?W:M,fe=Y!==B||ie!==M,Se=!Oe(O),xe=Se&&!fe?k.updateId:k.updateId+1;return re(re({updateId:xe},v(re(re({props:w},k),{},{updateId:xe,dataStartIndex:Y,dataEndIndex:ie}),k)),{},{prevChildren:P,dataStartIndex:Y,dataEndIndex:ie})}return null}),Pe(j,"renderActiveDot",function(w,k,S){var O;return C.isValidElement(w)?O=C.cloneElement(w,k):Ae(w)?O=w(k):O=U.createElement(ec,k),U.createElement($e,{className:"recharts-active-dot",key:S},O)});var b=C.forwardRef(function(k,S){return U.createElement(j,rs({},k,{ref:S}))});return b.displayName=j.displayName,b},zs=tc({chartName:"LineChart",GraphicalChild:ir,axisComponents:[{axisType:"xAxis",AxisComp:lt},{axisType:"yAxis",AxisComp:at}],formatAxisMap:pf}),Oa=tc({chartName:"BarChart",GraphicalChild:Wt,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:lt},{axisType:"yAxis",AxisComp:at}],formatAxisMap:pf}),cb=tc({chartName:"PieChart",GraphicalChild:cn,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:df},{axisType:"radiusAxis",AxisComp:cf}],formatAxisMap:LF,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),ub=tc({chartName:"ScatterChart",GraphicalChild:bi,defaultTooltipEventType:"item",validateTooltipEventTypes:["item"],axisComponents:[{axisType:"xAxis",AxisComp:lt},{axisType:"yAxis",AxisComp:at},{axisType:"zAxis",AxisComp:bf}],formatAxisMap:pf}),NG=tc({chartName:"AreaChart",GraphicalChild:Wn,axisComponents:[{axisType:"xAxis",AxisComp:lt},{axisType:"yAxis",AxisComp:at}],formatAxisMap:pf});const Aa={LLM:{ANALYTICS_INSIGHT:"llm/analytics-insight",TRANSITION_REPORT:"llm/transition-report",DATA_QUALITY:"llm/data-quality",TRANSITION_KPIS:"llm/transition-kpis"},LLM_LITE:{ANALYTICS_INSIGHT:"llm-lite/analytics-insight",TRANSITION_REPORT:"llm-lite/transition-report",DATA_QUALITY:"llm-lite/data-quality",TRANSITION_KPIS:"llm-lite/transition-kpis"}},kG="true".toLowerCase()==="true";function jf(t,e){return kG?[e,t]:[t,e]}async function OG(t,e,r={}){const{json:n}=await Rd(jf(Aa.LLM.TRANSITION_REPORT,Aa.LLM_LITE.TRANSITION_REPORT),{datasetPath:t,timeframe:e},r);return n&&typeof n=="object"&&"result"in n?n.result:n}async function AG(t,e,r={}){const{json:n}=await Rd(jf(Aa.LLM.DATA_QUALITY,Aa.LLM_LITE.DATA_QUALITY),{datasetPath:t,timeframe:e},r);return n&&typeof n=="object"&&"result"in n?n.result:n}async function PG(t,e,r={}){const{json:n}=await Rd(jf(Aa.LLM.TRANSITION_KPIS,Aa.LLM_LITE.TRANSITION_KPIS),{datasetPath:t,timeframe:e},r);return n&&typeof n=="object"&&"result"in n?n.result:n}async function EG(t,e,r={}){if(!Ur())return{summary:"Live analytics insights require Supabase Edge access. Offline mode is currently active, so mock datasets are displayed without LLM commentary.",key_findings:["Streaming datasets are running on local fallback samples.","Enable `VITE_ENABLE_EDGE_FETCH` with valid Supabase credentials to retrieve real-time insights."],policy_implications:["Offline review mode only provides static summaries.","Re-connect to Supabase to unlock transition impact insights."],confidence:"offline-mode"};const{json:n}=await Rd(jf(Aa.LLM.ANALYTICS_INSIGHT,Aa.LLM_LITE.ANALYTICS_INSIGHT),{datasetPath:t,timeframe:e,queryType:"overview"},r);return n&&typeof n=="object"&&"result"in n?n.result:n}const TG=({datasetPath:t,timeframe:e})=>{const[r,n]=C.useState(null),[a,o]=C.useState(!1),[c,u]=C.useState(null),d=C.useRef(null);C.useEffect(()=>{d.current?.abort();const v=new AbortController;return d.current=v,(async()=>{o(!0),u(null);try{const b=await OG(t,e,{signal:v.signal});v.signal.aborted||n(b)}catch(b){if(b?.name==="AbortError")return;u(b?.message||"Failed to load transition report")}finally{v.signal.aborted||o(!1)}})(),()=>v.abort()},[t,e]);const m=()=>{if(!r)return;const v=new Blob([JSON.stringify(r,null,2)],{type:"application/json"}),j=URL.createObjectURL(v),b=document.createElement("a");b.href=j,b.download=`transition-report_${t}_${e}.json`,document.body.appendChild(b),b.click(),b.remove(),URL.revokeObjectURL(j)},p=Array.isArray(r?.progress)?r.progress:Array.isArray(r?.key_findings)?r.key_findings:[],h=Array.isArray(r?.risks)?r.risks:[],y=Array.isArray(r?.recommendations)?r.recommendations:Array.isArray(r?.policy_implications)?r.policy_implications:[];return s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200",children:[s.jsxs("div",{className:"p-4 border-b border-slate-200 flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:"Transition Report"}),s.jsxs("button",{onClick:m,disabled:!r,className:"flex items-center space-x-2 text-sm bg-slate-100 hover:bg-slate-200 disabled:opacity-50 px-3 py-2 rounded",children:[s.jsx(IA,{className:"h-4 w-4"}),s.jsx("span",{children:"Download JSON"})]})]}),s.jsxs("div",{className:"p-4",children:[a&&s.jsxs("div",{className:"flex items-center space-x-2 text-slate-600",children:[s.jsx(RA,{className:"h-4 w-4 animate-spin"}),s.jsx("span",{children:"Generating report…"})]}),c&&s.jsx("div",{className:"text-sm text-red-600",children:c}),!a&&!c&&r&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-slate-800 mb-1",children:"Summary"}),s.jsx("p",{className:"text-sm text-slate-700 whitespace-pre-line",children:r.summary})]}),p.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-slate-800 mb-1",children:"Progress"}),s.jsx("ul",{className:"list-disc pl-5 text-sm text-slate-700 space-y-1",children:p.map((v,j)=>s.jsx("li",{children:v},j))})]}),h.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-slate-800 mb-1",children:"Risks"}),s.jsx("ul",{className:"list-disc pl-5 text-sm text-slate-700 space-y-1",children:h.map((v,j)=>s.jsx("li",{children:v},j))})]}),y.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-slate-800 mb-1",children:"Recommendations"}),s.jsx("ul",{className:"list-disc pl-5 text-sm text-slate-700 space-y-1",children:y.map((v,j)=>s.jsx("li",{children:v},j))})]}),r.confidence!==void 0&&r.confidence!==null&&s.jsxs("div",{className:"text-sm text-slate-600",children:[s.jsx("span",{className:"font-medium",children:"Confidence:"})," ",String(r.confidence)]}),Array.isArray(r.sources)&&r.sources.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-slate-800 mb-1",children:"Citations"}),s.jsx("ul",{className:"list-disc pl-5 text-sm text-blue-700 space-y-1",children:r.sources.map((v,j)=>{const b=v?.id||v?.title||"Source",w=v?.last_updated?` (updated: ${v.last_updated})`:"",k=v?.excerpt?String(v.excerpt):"";return s.jsxs("li",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(MA,{className:"h-3 w-3"}),v?.url?s.jsx("a",{href:v.url,target:"_blank",rel:"noreferrer",className:"underline break-all",children:b}):s.jsxs("span",{className:"break-all",children:[b,w]})]}),k&&s.jsx("div",{className:"text-xs text-slate-600 break-words",children:k}),Array.isArray(v?.snippets)&&v.snippets.length>0&&s.jsx("ul",{className:"list-disc pl-5 text-xs text-slate-600 space-y-0.5",children:v.snippets.map((S,O)=>s.jsxs("li",{className:"break-words",children:[S?.text||"",S?.context?s.jsxs("span",{className:"text-slate-500",children:[" (",S.context,")"]}):null]},O))})]},j)})})]})]})]})]})},CG=({datasetPath:t,timeframe:e})=>{const[r,n]=C.useState(null),[a,o]=C.useState(!1),[c,u]=C.useState(null),d=C.useRef(null);C.useEffect(()=>{d.current?.abort();const y=new AbortController;return d.current=y,(async()=>{o(!0),u(null);try{const j=await AG(t,e,{signal:y.signal});y.signal.aborted||n(j)}catch(j){if(j?.name==="AbortError")return;u(j?.message||"Failed to load data quality summary")}finally{y.signal.aborted||o(!1)}})(),()=>y.abort()},[t,e]);const m=()=>{if(!r)return;const y=new Blob([JSON.stringify(r,null,2)],{type:"application/json"}),v=URL.createObjectURL(y),j=document.createElement("a");j.href=v,j.download=`data-quality_${t}_${e}.json`,document.body.appendChild(j),j.click(),j.remove(),URL.revokeObjectURL(v)},p=Array.isArray(r?.issues)?r.issues:[],h=Array.isArray(r?.recommendations)?r.recommendations:[];return s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200",children:[s.jsxs("div",{className:"p-4 border-b border-slate-200 flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:"Data Quality"}),s.jsxs("button",{onClick:m,disabled:!r,className:"flex items-center space-x-2 text-sm bg-slate-100 hover:bg-slate-200 disabled:opacity-50 px-3 py-2 rounded",children:[s.jsx(IA,{className:"h-4 w-4"}),s.jsx("span",{children:"Download JSON"})]})]}),s.jsxs("div",{className:"p-4",children:[a&&s.jsxs("div",{className:"flex items-center space-x-2 text-slate-600",children:[s.jsx(RA,{className:"h-4 w-4 animate-spin"}),s.jsx("span",{children:"Analyzing data quality…"})]}),c&&s.jsx("div",{className:"text-sm text-red-600",children:c}),!a&&!c&&r&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-slate-800 mb-1",children:"Summary"}),s.jsx("p",{className:"text-sm text-slate-700 whitespace-pre-line",children:r.summary})]}),p.length>0&&s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold text-slate-800 mb-2 flex items-center space-x-2",children:[s.jsx(Nr,{className:"h-4 w-4 text-amber-600"}),s.jsx("span",{children:"Issues"})]}),s.jsx("ul",{className:"list-disc pl-5 text-sm text-slate-700 space-y-1",children:p.map((y,v)=>s.jsx("li",{children:typeof y=="string"?y:`${y.description}${y.severity?` (severity: ${y.severity})`:""}`},v))})]}),h.length>0&&s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold text-slate-800 mb-2 flex items-center space-x-2",children:[s.jsx(ZM,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{children:"Recommendations"})]}),s.jsx("ul",{className:"list-disc pl-5 text-sm text-slate-700 space-y-1",children:h.map((y,v)=>s.jsx("li",{children:y},v))})]}),r.confidence!==void 0&&r.confidence!==null&&s.jsxs("div",{className:"text-sm text-slate-600",children:[s.jsx("span",{className:"font-medium",children:"Confidence:"})," ",String(r.confidence)]}),Array.isArray(r.sources)&&r.sources.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-slate-800 mb-1",children:"Citations"}),s.jsx("ul",{className:"list-disc pl-5 text-sm text-blue-700 space-y-1",children:r.sources.map((y,v)=>{const j=y?.id||y?.title||"Source",b=y?.last_updated?` (updated: ${y.last_updated})`:"",w=y?.excerpt?String(y.excerpt):"";return s.jsxs("li",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(MA,{className:"h-3 w-3"}),y?.url?s.jsx("a",{href:y.url,target:"_blank",rel:"noreferrer",className:"underline break-all",children:j}):s.jsxs("span",{className:"break-all",children:[j,b]})]}),w&&s.jsx("div",{className:"text-xs text-slate-600 break-words",children:w}),Array.isArray(y?.snippets)&&y.snippets.length>0&&s.jsx("ul",{className:"list-disc pl-5 text-xs text-slate-600 space-y-0.5",children:y.snippets.map((k,S)=>s.jsxs("li",{className:"break-words",children:[k?.text||"",k?.context?s.jsxs("span",{className:"text-slate-500",children:[" (",k.context,")"]}):null]},S))})]},v)})})]})]})]})]})},IG={sm:"640px",md:"768px",lg:"1024px",xl:"1280px","2xl":"1536px"},MG={1:"0.25rem",2:"0.5rem",3:"0.75rem",4:"1rem",5:"1.25rem",6:"1.5rem",8:"2rem",10:"2.5rem",12:"3rem",16:"4rem",20:"5rem",24:"6rem",32:"8rem"},Te={page:"max-w-screen-2xl mx-auto px-4 sm:px-6 lg:px-8 py-6",pageNarrow:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-6",pageWide:"max-w-screen-2xl mx-auto px-4 sm:px-6 lg:px-8 py-6",section:"space-y-6",sectionCompact:"space-y-4",sectionSpacious:"space-y-8",card:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",cardHeader:"p-6 border-b border-slate-200",cardBody:"p-6",cardFooter:"p-6 border-t border-slate-200 bg-slate-50",grid12:"grid grid-cols-12 gap-6",gridResponsive:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",gridCards:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",gridCharts:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",gridDashboard:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-6",flexCenter:"flex items-center justify-center",flexBetween:"flex items-center justify-between",flexStart:"flex items-center justify-start",flexColumn:"flex flex-col",flexRow:"flex flex-row",flexWrap:"flex flex-wrap",gap4:"gap-4",gap6:"gap-6",gap8:"gap-8",paddingResponsive:"px-4 sm:px-6 lg:px-8",marginResponsive:"mx-4 sm:mx-6 lg:mx-8"},Xi={small:200,medium:300,large:400,dashboard:250,square:"aspect-square",wide:"aspect-[16/9]",tall:"aspect-[4/3]",container:"w-full h-full min-h-[200px]",responsive:"w-full h-full",dashboardGrid:{charts:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6 mb-6",insights:"grid grid-cols-1 lg:grid-cols-3 gap-6",metrics:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6"}},ve={heading1:"text-3xl lg:text-4xl font-bold text-slate-800 mb-4",heading2:"text-2xl lg:text-3xl font-semibold text-slate-800 mb-3",heading3:"text-xl font-semibold text-slate-800 mb-2",heading4:"text-lg font-semibold text-slate-800 mb-2",body:"text-slate-700 leading-relaxed",bodySmall:"text-sm text-slate-600",caption:"text-xs text-slate-500",metric:"text-2xl font-bold text-slate-800",metricLabel:"text-sm text-slate-600 font-medium",status:"text-sm font-medium",link:"text-blue-600 hover:text-blue-800 transition-colors",button:"text-sm font-medium"},he={primary:{bg:"bg-blue-50",border:"border-blue-200",text:"text-blue-800",accent:"text-blue-600"},success:{bg:"bg-green-50",border:"border-green-200",text:"text-green-800",accent:"text-green-600"},warning:{bg:"bg-yellow-50",border:"border-yellow-200",text:"text-yellow-800",accent:"text-yellow-600"},error:{bg:"bg-red-50",border:"border-red-200",text:"text-red-800",accent:"text-red-600"},info:{bg:"bg-indigo-50",border:"border-indigo-200",text:"text-indigo-800",accent:"text-indigo-600"}},RG={hiddenMobile:"hidden md:block",hiddenDesktop:"block md:hidden",showMobile:"block md:hidden",showDesktop:"hidden md:block",flexColMobile:"flex-col md:flex-row",flexRowMobile:"flex-row md:flex-col",gridColsMobile:"grid-cols-1 md:grid-cols-2 lg:grid-cols-3",gridColsTablet:"grid-cols-2 md:grid-cols-3 lg:grid-cols-4",textResponsive:"text-sm md:text-base",headingResponsive:"text-xl md:text-2xl lg:text-3xl"},$G={fadeIn:"animate-fade-in",fadeInDelay:"animate-fade-in-delayed",fadeInSlow:"animate-fade-in-slow",float:"animate-float",pulseSlow:"animate-pulse-slow",gradient:"animate-gradient-xy"},DG=(t,e=!0)=>{if(e){if(t===1)return"grid grid-cols-1";if(t===2)return"grid grid-cols-1 md:grid-cols-2";if(t===3)return"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3";if(t===4)return"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4";if(t===6)return"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6"}return`grid grid-cols-${t}`},LG=(t,e="padding")=>`${e==="margin"?"m":"p"}-${t}`,FG={breakpoints:IG,spacing:MG,containers:Te,charts:Xi,text:ve,colors:he,responsive:RG,animations:$G,generateGridClasses:DG,generateSpacingClasses:LG},BG=({currentDemand:t=0,recentDemand:e=[],historicalPattern:r=[]})=>{const[n,a]=C.useState(!1),[o,c]=C.useState({show:!1,trend:0,peakTime:"",severity:"info"});C.useEffect(()=>{const h=localStorage.getItem("peak_alert_dismissed");if(h){const y=parseInt(h,10);if(Date.now()<y){a(!0);return}else localStorage.removeItem("peak_alert_dismissed")}if(e.length>=3){const y=e.slice(-6).reduce((j,b)=>j+b,0)/Math.min(e.length,6),v=(t-y)/y;if(v>.1){const j=u(r);c({show:!0,trend:v*100,peakTime:j,severity:v>.2?"error":v>.15?"warning":"info"})}else c({show:!1,trend:0,peakTime:"",severity:"info"})}},[t,e,r]);const u=h=>{if(!h||h.length===0){const j=new Date().getHours();return j<18?"6:00 PM":j<20?"8:00 PM":"Tomorrow morning"}const y=new Date().getHours(),v=h.filter(j=>j.hour>y&&j.hour<=y+6).sort((j,b)=>b.avg_demand-j.avg_demand);if(v.length>0){const j=v[0].hour,b=j>=12?"PM":"AM";return`${j>12?j-12:j}:00 ${b}`}return"6:00 PM"},d=()=>{a(!0);const h=Date.now()+3600*1e3;localStorage.setItem("peak_alert_dismissed",h.toString())};if(!o.show||n)return null;const p={error:{bg:"bg-gradient-to-r from-red-50 to-orange-50",border:"border-red-300",text:"text-red-900",icon:"text-red-600",badge:"bg-red-100 text-red-800"},warning:{bg:"bg-gradient-to-r from-yellow-50 to-orange-50",border:"border-yellow-300",text:"text-yellow-900",icon:"text-yellow-600",badge:"bg-yellow-100 text-yellow-800"},info:{bg:"bg-gradient-to-r from-blue-50 to-indigo-50",border:"border-blue-300",text:"text-blue-900",icon:"text-blue-600",badge:"bg-blue-100 text-blue-800"}}[o.severity];return s.jsx("div",{className:`${p.bg} border-l-4 ${p.border} p-4 mb-6 rounded-lg shadow-md animate-slide-down`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[s.jsx(Nr,{className:`${p.icon} animate-pulse`,size:24}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("h3",{className:`font-bold ${p.text}`,children:"High Demand Alert"}),s.jsxs("span",{className:`px-2 py-1 text-xs rounded-full font-medium ${p.badge}`,children:[s.jsx(tr,{size:12,className:"inline mr-1"}),"+",o.trend.toFixed(0),"%"]})]}),s.jsxs("p",{className:`text-sm ${p.text}`,children:["Demand is trending higher than average. Expected peak at"," ",s.jsx("span",{className:"font-bold",children:o.peakTime}),o.severity==="error"&&s.jsx("span",{className:"ml-2 font-semibold",children:"• Critical surge detected"})]}),o.trend>.15&&s.jsxs("div",{className:"flex items-center gap-2 mt-2 text-xs",children:[s.jsx(ds,{size:14,className:p.icon}),s.jsx("span",{className:p.text,children:"Consider reducing non-essential power usage during peak hours"})]})]})]}),s.jsx("button",{onClick:d,className:`${p.icon} hover:opacity-70 transition-opacity ml-4`,"aria-label":"Dismiss alert",children:s.jsx(BA,{size:20})})]})})},vA={coal:820,"natural gas":490,natural_gas:490,gas:490,oil:778,petroleum:778,diesel:778,nuclear:12,hydro:24,hydroelectric:24,wind:11,solar:48,biomass:230,geothermal:38,"battery storage":0,other:400},j0=130,zG=({generationData:t=[],compact:e=!1,showBreakdown:r=!0})=>{const[n,a]=C.useState([]),[o,c]=C.useState(!1),u=C.useMemo(()=>{if(t.length===0)return{total_co2_tonnes_hour:0,total_co2_kg_hour:0,fossil_co2:0,renewable_co2:0,intensity_kg_per_mwh:0,breakdown:[],trend:"stable",comparison_to_avg:0};const h=t.reduce((N,A)=>N+A.capacity_mw,0),y=t.map(N=>{const A=N.source_type.toLowerCase().trim(),T=vA[A]||vA.other,$=N.capacity_mw*T;return{source:N.source_type,mw:N.capacity_mw,co2_kg:$,percentage:N.percentage}}),v=y.reduce((N,A)=>N+A.co2_kg,0),j=v/1e3,b=["coal","natural gas","natural_gas","gas","oil","petroleum","diesel"],w=y.filter(N=>b.includes(N.source.toLowerCase().trim())).reduce((N,A)=>N+A.co2_kg,0),k=v-w,S=h>0?v/h:0,O=(S-j0)/j0*100;let P="stable";if(n.length>0){const N=n.reduce((T,$)=>T+$,0)/n.length,A=(j-N)/N*100;A>5?P="up":A<-5&&(P="down")}return{total_co2_tonnes_hour:j,total_co2_kg_hour:v,fossil_co2:w,renewable_co2:k,intensity_kg_per_mwh:S,breakdown:y.sort((N,A)=>A.co2_kg-N.co2_kg),trend:P,comparison_to_avg:O}},[t,n]);C.useEffect(()=>{u.total_co2_tonnes_hour>0&&a(h=>[...h,u.total_co2_tonnes_hour].slice(-10))},[u.total_co2_tonnes_hour]);const d=h=>h<100?"text-green-600":h<300?"text-yellow-600":h<600?"text-orange-600":"text-red-600",m=h=>h<100?"bg-green-50 border-green-200":h<300?"bg-yellow-50 border-yellow-200":h<600?"bg-orange-50 border-orange-200":"bg-red-50 border-red-200",p=()=>{const h=["Source,Capacity (MW),CO2 (kg/h),Percentage",...u.breakdown.map(b=>`${b.source},${b.mw.toFixed(2)},${b.co2_kg.toFixed(2)},${b.percentage.toFixed(1)}%`),"",`Total CO2,${u.total_co2_kg_hour.toFixed(2)} kg/h,${u.total_co2_tonnes_hour.toFixed(3)} tonnes/h`,`Intensity,${u.intensity_kg_per_mwh.toFixed(1)} kg CO2/MWh`,`Fossil Contribution,${u.fossil_co2.toFixed(2)} kg/h`,`Renewable Contribution,${u.renewable_co2.toFixed(2)} kg/h`].join(`
`),y=new Blob([h],{type:"text/csv"}),v=URL.createObjectURL(y),j=document.createElement("a");j.href=v,j.download=`co2_emissions_${new Date().toISOString()}.csv`,j.click(),URL.revokeObjectURL(v)};return e?s.jsxs("div",{className:`${m(u.intensity_kg_per_mwh)} border-2 rounded-lg p-4`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Qi,{className:d(u.intensity_kg_per_mwh),size:20}),s.jsx("h3",{className:"font-semibold text-slate-900",children:"CO₂ Emissions"})]}),u.trend==="up"&&s.jsx(tr,{className:"text-red-600",size:16}),u.trend==="down"&&s.jsx(fl,{className:"text-green-600",size:16})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:`text-2xl font-bold ${d(u.intensity_kg_per_mwh)}`,children:[u.total_co2_tonnes_hour.toFixed(1),s.jsx("span",{className:"text-sm font-normal ml-1",children:"tonnes/h"})]}),s.jsxs("div",{className:"text-xs text-slate-600",children:["Intensity: ",u.intensity_kg_per_mwh.toFixed(0)," kg/MWh"]})]})]}):s.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[s.jsxs("div",{className:`${m(u.intensity_kg_per_mwh)} border-b-2 p-6`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`${m(u.intensity_kg_per_mwh)} p-3 rounded-xl border-2`,children:s.jsx(Qi,{className:d(u.intensity_kg_per_mwh),size:28})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"Real-Time CO₂ Emissions"}),s.jsx("p",{className:"text-sm text-slate-600",children:"Live carbon footprint from electricity generation"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>c(!o),className:"p-2 hover:bg-white/50 rounded-lg transition-colors","aria-label":"Show info",children:s.jsx(ss,{size:20,className:"text-slate-600"})}),s.jsxs("button",{onClick:p,className:"flex items-center gap-2 px-3 py-2 bg-white text-slate-700 rounded-lg hover:bg-slate-50 transition-colors text-sm",children:[s.jsx(ix,{size:16}),"Export"]})]})]}),o&&s.jsxs("div",{className:"bg-white border-2 border-slate-200 rounded-lg p-4 mb-4",children:[s.jsx("h4",{className:"font-semibold text-slate-900 mb-2",children:"About CO₂ Emission Calculations"}),s.jsxs("ul",{className:"text-xs text-slate-600 space-y-1",children:[s.jsx("li",{children:"• Emission factors from NRCan, EPA, and IPCC lifecycle assessments"}),s.jsx("li",{children:"• Values include construction, operation, and decommissioning"}),s.jsxs("li",{children:["• Canadian grid average: ",j0," kg CO₂/MWh"]}),s.jsx("li",{children:"• Real-time calculations based on current generation mix"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-white rounded-lg p-4 border-2 border-slate-200",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Qi,{className:d(u.intensity_kg_per_mwh),size:20}),s.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Total Emissions"})]}),s.jsx("div",{className:`text-3xl font-bold ${d(u.intensity_kg_per_mwh)}`,children:u.total_co2_tonnes_hour.toFixed(2)}),s.jsx("div",{className:"text-xs text-slate-600 mt-1",children:"tonnes CO₂ per hour"}),u.trend!=="stable"&&s.jsx("div",{className:"flex items-center gap-1 mt-2",children:u.trend==="up"?s.jsxs(s.Fragment,{children:[s.jsx(tr,{size:14,className:"text-red-600"}),s.jsx("span",{className:"text-xs text-red-600 font-medium",children:"Increasing"})]}):s.jsxs(s.Fragment,{children:[s.jsx(fl,{size:14,className:"text-green-600"}),s.jsx("span",{className:"text-xs text-green-600 font-medium",children:"Decreasing"})]})})]}),s.jsxs("div",{className:"bg-white rounded-lg p-4 border-2 border-slate-200",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(si,{className:"text-orange-600",size:20}),s.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Intensity"})]}),s.jsx("div",{className:`text-3xl font-bold ${d(u.intensity_kg_per_mwh)}`,children:u.intensity_kg_per_mwh.toFixed(0)}),s.jsx("div",{className:"text-xs text-slate-600 mt-1",children:"kg CO₂ per MWh"}),s.jsx("div",{className:"mt-2",children:s.jsxs("span",{className:`text-xs font-medium ${u.comparison_to_avg>0?"text-red-600":"text-green-600"}`,children:[u.comparison_to_avg>0?"+":"",u.comparison_to_avg.toFixed(0),"% vs. national avg"]})})]}),s.jsxs("div",{className:"bg-white rounded-lg p-4 border-2 border-slate-200",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Qi,{className:"text-green-600",size:20}),s.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Clean Energy Impact"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-slate-600",children:"Fossil CO₂"}),s.jsxs("div",{className:"text-lg font-bold text-red-600",children:[(u.fossil_co2/1e3).toFixed(2)," t/h"]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-slate-600",children:"Renewable CO₂"}),s.jsxs("div",{className:"text-lg font-bold text-green-600",children:[(u.renewable_co2/1e3).toFixed(2)," t/h"]})]})]})]})]})]}),r&&u.breakdown.length>0&&s.jsxs("div",{className:"p-6",children:[s.jsx("h3",{className:"font-semibold text-slate-900 mb-4",children:"Emissions Breakdown by Source"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b-2 border-slate-200",children:[s.jsx("th",{className:"text-left py-2 px-3 text-slate-700 font-semibold",children:"Source"}),s.jsx("th",{className:"text-right py-2 px-3 text-slate-700 font-semibold",children:"Capacity (MW)"}),s.jsx("th",{className:"text-right py-2 px-3 text-slate-700 font-semibold",children:"CO₂ (kg/h)"}),s.jsx("th",{className:"text-right py-2 px-3 text-slate-700 font-semibold",children:"% of Total"}),s.jsx("th",{className:"text-right py-2 px-3 text-slate-700 font-semibold",children:"Impact"})]})}),s.jsx("tbody",{children:u.breakdown.map((h,y)=>s.jsxs("tr",{className:"border-b border-slate-100 hover:bg-slate-50",children:[s.jsx("td",{className:"py-3 px-3 font-medium text-slate-900 capitalize",children:h.source}),s.jsx("td",{className:"py-3 px-3 text-right text-slate-700",children:h.mw.toFixed(1)}),s.jsx("td",{className:"py-3 px-3 text-right text-slate-700 font-medium",children:h.co2_kg.toFixed(1)}),s.jsxs("td",{className:"py-3 px-3 text-right text-slate-600",children:[h.percentage.toFixed(1),"%"]}),s.jsx("td",{className:"py-3 px-3 text-right",children:s.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2",children:s.jsx("div",{className:`h-2 rounded-full ${h.co2_kg>1e5?"bg-red-500":h.co2_kg>5e4?"bg-orange-500":h.co2_kg>1e4?"bg-yellow-500":"bg-green-500"}`,style:{width:`${Math.min(h.co2_kg/u.total_co2_kg_hour*100,100)}%`}})})})]},y))}),s.jsx("tfoot",{children:s.jsxs("tr",{className:"font-bold border-t-2 border-slate-300",children:[s.jsx("td",{className:"py-3 px-3 text-slate-900",children:"Total"}),s.jsx("td",{className:"py-3 px-3 text-right text-slate-900",children:t.reduce((h,y)=>h+y.capacity_mw,0).toFixed(1)}),s.jsx("td",{className:"py-3 px-3 text-right text-slate-900",children:u.total_co2_kg_hour.toFixed(1)}),s.jsx("td",{className:"py-3 px-3 text-right text-slate-600",children:"100.0%"}),s.jsx("td",{})]})})]})})]})]})},qG=[{code:"ON",name:"Ontario",region:"Central"},{code:"QC",name:"Quebec",region:"Central"},{code:"BC",name:"British Columbia",region:"West"},{code:"AB",name:"Alberta",region:"West"},{code:"SK",name:"Saskatchewan",region:"West"},{code:"MB",name:"Manitoba",region:"Central"},{code:"NS",name:"Nova Scotia",region:"East"},{code:"NB",name:"New Brunswick",region:"East"},{code:"PE",name:"Prince Edward Island",region:"East"},{code:"NL",name:"Newfoundland and Labrador",region:"East"},{code:"YT",name:"Yukon",region:"North"},{code:"NT",name:"Northwest Territories",region:"North"},{code:"NU",name:"Nunavut",region:"North"}],UG=({provincialData:t=[],compact:e=!1})=>{const[r,n]=C.useState(null),[a,o]=C.useState("heatmap"),c=C.useMemo(()=>qG.map(y=>{const v=t.find(j=>j.province.toLowerCase().includes(y.name.toLowerCase())||y.name.toLowerCase().includes(j.province.toLowerCase()));return v?{...y,...v,hasData:!0}:{...y,renewable_mw:0,fossil_mw:0,total_mw:0,renewable_pct:0,sources:{},hasData:!1}}),[t]),u=y=>y>=90?"bg-green-500 text-white":y>=75?"bg-green-400 text-white":y>=60?"bg-lime-500 text-white":y>=45?"bg-yellow-500 text-slate-900":y>=30?"bg-amber-500 text-slate-900":y>=15?"bg-orange-500 text-white":"bg-red-500 text-white",d=y=>y>=90?"Excellent":y>=75?"Very Good":y>=60?"Good":y>=45?"Moderate":y>=30?"Fair":y>=15?"Low":"Very Low",m=C.useMemo(()=>c.filter(y=>y.hasData).sort((y,v)=>v.renewable_pct-y.renewable_pct).slice(0,3),[c]),p=C.useMemo(()=>{const y=c.filter(b=>b.hasData);if(y.length===0)return 0;const v=y.reduce((b,w)=>b+w.renewable_mw,0),j=y.reduce((b,w)=>b+w.total_mw,0);return j>0?v/j*100:0},[c]),h=C.useMemo(()=>c.find(y=>y.name===r),[c,r]);return e?s.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h3",{className:"font-semibold text-slate-900",children:"Renewable Penetration"}),s.jsx(pt,{className:"text-green-600",size:20})]}),s.jsx("div",{className:"grid grid-cols-3 gap-2",children:c.slice(0,9).map(y=>s.jsxs("div",{className:`${u(y.renewable_pct)} rounded p-2 text-center cursor-pointer hover:opacity-80 transition-opacity`,onClick:()=>n(y.name),children:[s.jsx("div",{className:"text-xs font-medium",children:y.code}),s.jsxs("div",{className:"text-sm font-bold",children:[y.renewable_pct.toFixed(0),"%"]})]},y.code))})]}):s.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[s.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border-b-2 border-green-200 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"bg-green-100 p-3 rounded-xl border-2 border-green-200",children:s.jsx(pt,{className:"text-green-600",size:28})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"Renewable Energy Penetration"}),s.jsx("p",{className:"text-sm text-slate-600",children:"Provincial renewable share in electricity generation"})]})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs("button",{onClick:()=>o(a==="heatmap"?"list":"heatmap"),className:`px-3 py-2 rounded-lg transition-colors text-sm font-medium ${a==="heatmap"?"bg-green-600 text-white":"bg-white text-slate-700 hover:bg-green-50"}`,children:[s.jsx(CA,{size:16,className:"inline mr-1"}),a==="heatmap"?"Heatmap":"List"]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-white rounded-lg p-4 border-2 border-green-200",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(va,{className:"text-green-600",size:20}),s.jsx("span",{className:"text-sm font-medium text-slate-700",children:"National Average"})]}),s.jsxs("div",{className:"text-3xl font-bold text-green-600",children:[p.toFixed(1),"%"]}),s.jsx("div",{className:"text-xs text-slate-600 mt-1",children:"Renewable share"})]}),s.jsxs("div",{className:"bg-white rounded-lg p-4 border-2 border-green-200",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(ax,{className:"text-yellow-600",size:20}),s.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Top Performer"})]}),m.length>0?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-lg font-bold text-slate-900",children:m[0].name}),s.jsxs("div",{className:"text-sm text-green-600 font-medium",children:[m[0].renewable_pct.toFixed(1),"% renewable"]})]}):s.jsx("div",{className:"text-sm text-slate-500",children:"No data available"})]}),s.jsxs("div",{className:"bg-white rounded-lg p-4 border-2 border-green-200",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(tr,{className:"text-blue-600",size:20}),s.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Provinces Tracked"})]}),s.jsx("div",{className:"text-3xl font-bold text-blue-600",children:c.filter(y=>y.hasData).length}),s.jsx("div",{className:"text-xs text-slate-600 mt-1",children:"of 13 provinces/territories"})]})]})]}),s.jsxs("div",{className:"p-6",children:[a==="heatmap"?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"mb-6 flex items-center justify-center gap-2 flex-wrap",children:[s.jsx("span",{className:"text-sm text-slate-600 font-medium",children:"Legend:"}),[{min:90,label:"90%+",color:"bg-green-500"},{min:75,label:"75-89%",color:"bg-green-400"},{min:60,label:"60-74%",color:"bg-lime-500"},{min:45,label:"45-59%",color:"bg-yellow-500"},{min:30,label:"30-44%",color:"bg-amber-500"},{min:15,label:"15-29%",color:"bg-orange-500"},{min:0,label:"0-14%",color:"bg-red-500"}].map(({label:y,color:v})=>s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("div",{className:`w-4 h-4 ${v} rounded`}),s.jsx("span",{className:"text-xs text-slate-600",children:y})]},y))]}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:c.map(y=>s.jsxs("div",{onClick:()=>n(y.name),className:`${u(y.renewable_pct)} rounded-lg p-4 cursor-pointer hover:shadow-lg transition-all transform hover:scale-105 ${y.hasData?"":"opacity-50"}`,children:[s.jsx("div",{className:"text-xs font-medium opacity-90 mb-1",children:y.code}),s.jsxs("div",{className:"text-2xl font-bold mb-1",children:[y.renewable_pct.toFixed(1),"%"]}),s.jsx("div",{className:"text-xs opacity-90 truncate",children:y.name}),!y.hasData&&s.jsxs("div",{className:"text-xs mt-1 opacity-75",children:[s.jsx(ss,{size:10,className:"inline mr-1"}),"No data"]})]},y.code))})]}):s.jsx("div",{className:"space-y-2",children:c.filter(y=>y.hasData).sort((y,v)=>v.renewable_pct-y.renewable_pct).map((y,v)=>s.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-lg hover:bg-slate-100 cursor-pointer transition-colors",onClick:()=>n(y.name),children:[s.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[s.jsxs("div",{className:"text-lg font-bold text-slate-400 w-8",children:["#",v+1]}),s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold text-slate-900",children:y.name}),s.jsxs("div",{className:"text-xs text-slate-600",children:[y.region," Canada"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[y.renewable_pct.toFixed(1),"%"]}),s.jsx("div",{className:"text-xs text-slate-600",children:d(y.renewable_pct)})]}),s.jsx("div",{className:`w-12 h-12 ${u(y.renewable_pct)} rounded-lg flex items-center justify-center`,children:s.jsx("span",{className:"font-bold text-lg",children:y.code})})]})]},y.code))}),r&&h&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-2xl w-full max-h-[80vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-xl font-bold text-slate-900",children:h.name}),s.jsx("button",{onClick:()=>n(null),className:"text-slate-400 hover:text-slate-600",children:"×"})]}),h.hasData?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[s.jsxs("div",{className:"bg-green-50 rounded-lg p-4 border-2 border-green-200",children:[s.jsx("div",{className:"text-sm text-green-700 font-medium mb-1",children:"Renewable Share"}),s.jsxs("div",{className:"text-3xl font-bold text-green-600",children:[h.renewable_pct.toFixed(1),"%"]}),s.jsxs("div",{className:"text-xs text-slate-600 mt-1",children:[h.renewable_mw.toFixed(0)," MW"]})]}),s.jsxs("div",{className:"bg-slate-50 rounded-lg p-4 border-2 border-slate-200",children:[s.jsx("div",{className:"text-sm text-slate-700 font-medium mb-1",children:"Total Capacity"}),s.jsx("div",{className:"text-3xl font-bold text-slate-900",children:h.total_mw.toFixed(0)}),s.jsx("div",{className:"text-xs text-slate-600 mt-1",children:"MW installed"})]})]}),Object.keys(h.sources).length>0&&s.jsxs("div",{className:"mb-4",children:[s.jsx("h4",{className:"font-semibold text-slate-900 mb-3",children:"Generation Mix"}),s.jsx("div",{className:"space-y-2",children:Object.entries(h.sources).filter(([y,v])=>v&&v>0).sort(([,y],[,v])=>v-y).map(([y,v])=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-slate-700 capitalize",children:y.replace("_"," ")}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-32 bg-slate-200 rounded-full h-2",children:s.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:`${v/h.total_mw*100}%`}})}),s.jsxs("span",{className:"text-sm font-medium text-slate-900 w-16 text-right",children:[v.toFixed(0)," MW"]})]})]},y))})]}),s.jsx("div",{className:"bg-blue-50 rounded-lg p-3 border border-blue-200",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ss,{size:16,className:"text-blue-600"}),s.jsxs("span",{className:"text-sm text-blue-900",children:["Rating: ",s.jsx("strong",{children:d(h.renewable_pct)}),h.renewable_pct>p&&s.jsxs("span",{className:"ml-2 text-green-600",children:["(",(h.renewable_pct-p).toFixed(1),"% above national average)"]})]})]})})]}):s.jsxs("div",{className:"text-center py-8 text-slate-500",children:[s.jsx(ss,{size:48,className:"mx-auto mb-4 opacity-50"}),s.jsxs("p",{children:["No real-time data available for ",h.name]}),s.jsx("p",{className:"text-sm mt-2",children:"Data will be displayed when generation mix is available"})]})]})})]})]})},WG=()=>{const t="provincial_generation",e="recent",[r,n]=C.useState({ontarioDemand:[],provincialGeneration:[],ontarioPrices:[],weatherData:[]}),[a,o]=C.useState([]),[c,u]=C.useState(!0),[d,m]=C.useState(new Date),[p,h]=C.useState({dataSources:4,coverage:13,updateFreq:"Real-time",architecture:"Resilient"}),[y,v]=C.useState(null),j=C.useRef(null),b=C.useRef(null),[w,k]=C.useState(null),[S,O]=C.useState(!1),[P,N]=C.useState(null),A=C.useRef(null),T=r.nationalOverview,$=r.provinceMetrics,I=r.trends,B=C.useCallback(async()=>{b.current?.abort();const te=new AbortController;b.current=te,u(!0);try{const ae=te.signal,ne=Ur()?Pt(["api-v2-analytics-national-overview","api/analytics/national-overview"],{signal:ae}).then(ct=>ct.json).catch(ct=>(console.warn("National overview fallback triggered",ct),null)):Promise.resolve(null),Re=Ur()?Pt(["api-v2-analytics-provincial-metrics?province=ON&window_days=30","api/analytics/provincial/ON?window_days=30"],{signal:ae}).then(ct=>ct.json).catch(ct=>(console.warn("Provincial metrics fallback triggered",ct),null)):Promise.resolve(null),Ee=Ur()?Pt(["api-v2-analytics-trends?timeframe=30d","api/analytics/trends?timeframe=30d"],{signal:ae}).then(ct=>ct.json).catch(ct=>(console.warn("Trend analytics fallback triggered",ct),null)):Promise.resolve(null),[Je,it,xt,yr,Ar,Pr,Ht]=await Promise.all([yn.loadData("ontario_demand",{maxRows:200,signal:ae}),yn.loadData("provincial_generation",{maxRows:500,signal:ae}),yn.loadData("ontario_prices",{maxRows:200,signal:ae}),yn.loadData("hf_electricity_demand",{maxRows:200,signal:ae}),ne,Re,Ee]);if(ae.aborted)return;n({ontarioDemand:Je,provincialGeneration:it,ontarioPrices:xt,weatherData:yr,nationalOverview:Ar??void 0,provinceMetrics:Pr??void 0,trends:Ht??void 0}),o(yn.getAllConnectionStatuses()),m(new Date)}catch(ae){if(ae?.name==="AbortError")return;console.error("Error loading dashboard data:",ae)}finally{te.signal.aborted||u(!1)}},[]);C.useEffect(()=>{let te=!0;(async()=>{await Promise.all(ya.map(Re=>yn.initializeConnection(Re.key))),te&&await B()})();const ne=setInterval(()=>{te&&B()},3e4);return()=>{te=!1,clearInterval(ne),b.current?.abort()}},[]),C.useEffect(()=>{j.current?.abort();const te=new AbortController;return j.current=te,(async()=>{if(!Ur()){te.signal.aborted||v(null);return}try{const ae=await PG("provincial_generation","recent",{signal:te.signal});te.signal.aborted||v(ae)}catch(ae){if(ae?.name==="AbortError")return;console.warn("KPI load failed",ae)}})(),()=>te.abort()},[]);const M=C.useCallback(async()=>{A.current?.abort();const te=new AbortController;A.current=te,O(!0),N(null);try{const ae=await EG(t,e,{signal:te.signal});te.signal.aborted||k(ae)}catch(ae){if(ae?.name==="AbortError")return;N(ae?.message||"Failed to load insights")}finally{te.signal.aborted||O(!1)}},[]);C.useEffect(()=>(M(),()=>A.current?.abort()),[M]);const q=r.provincialGeneration.reduce((te,ae)=>{const ne=typeof ae.megawatt_hours=="number"?ae.megawatt_hours:typeof ae.generation_gwh=="number"?ae.generation_gwh*1e3:0;return te+ne/1e3},0),F=$?.generation?.total_gwh??T?.generation?.total_generation_gwh??q,V=r.ontarioDemand.length>0?r.ontarioDemand.slice(0,20).map(te=>({time:new Date(te.datetime).toLocaleTimeString("en-CA",{hour:"2-digit",minute:"2-digit",hour12:!1}),demand:Math.round(te.total_demand_mw),temperature:24})):Array.from({length:10},(te,ae)=>{const ne=new Date;return ne.setMinutes(ne.getMinutes()-(9-ae)*5),{time:ne.toLocaleTimeString("en-CA",{hour:"2-digit",minute:"2-digit",hour12:!1}),demand:14500+Math.random()*1e3,temperature:24}}),L=$?.generation?.by_source?.length?$.generation.by_source.map(te=>({type:String(te.source??"unspecified").replace(/_/g," ").toUpperCase(),gwh:Number(te.generation_gwh??0)})):Array.from(r.provincialGeneration.reduce((te,ae)=>{const ne=ae.generation_type||ae.source||ae.province_code||ae.province||"UNKNOWN",Re=typeof ae.megawatt_hours=="number"?ae.megawatt_hours:typeof ae.generation_gwh=="number"?ae.generation_gwh*1e3:0;if(Re<=0)return te;const Ee=te.get(ne)??0;return te.set(ne,Ee+Re/1e3),te},new Map).entries()).map(([te,ae])=>({type:String(te).replace(/_/g," ").toUpperCase(),gwh:Number(ae)})),R=L.length>0?L.filter(te=>te.gwh>0).sort((te,ae)=>ae.gwh-te.gwh).slice(0,6):[{type:"NUCLEAR",gwh:550},{type:"HYDRO",gwh:280},{type:"GAS",gwh:45},{type:"WIND",gwh:28},{type:"SOLAR",gwh:8},{type:"BIOFUEL",gwh:2}],G=r.ontarioPrices.slice(0,20).map(te=>{const Re=te.lmp_price??0,Ee=Math.max(.8,Math.min(1.2,Re/50));return{label:new Date(te.datetime).toLocaleTimeString("en-CA",{hour:"2-digit",minute:"2-digit",hour12:!1}),supply:Math.round(14706*Ee+(Math.random()-.5)*300),demand:Math.round(12842*Ee+(Math.random()-.5)*250),price:Re}}),D=I?.ontario_demand?.map(te=>({label:te.date,demand:te.average_mw??0})),W=D?.length?D:G,Q=!!D?.length,z=r.weatherData.slice(0,30).map(te=>({temperature:te.temperature,correlation:Math.min(1,te.electricity_demand/1e3)})),Y=T?.demand?.ontario_demand_mw??$?.latest_demand?.market_demand_mw??r.ontarioDemand[0]?.total_demand_mw??null;r.weatherData.length>0&&r.weatherData[0]?.temperature;const ie=T?.alberta,fe=ie?.total_gen_mw??G[0]?.supply??null,Se=ie?.total_demand_mw??G[0]?.demand??null,xe=ie?.pool_price_cad??G[0]?.price??null,Le=r.weatherData.length>0&&r.ontarioDemand.length>0?Math.min(1,Math.max(0,.3+Math.random()*.4)):.65,Ie=a.filter(te=>te.status==="connected").length,le=te=>{try{const ae=yn.getConnectionStatus(te);return ae?ae.source==="stream"?"Stream":"Fallback":"Unknown"}catch{return"Unknown"}};return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100",children:[s.jsx("div",{className:"hero-glass relative overflow-hidden",children:s.jsx("div",{className:`${Te.page} py-24 lg:py-32 relative z-10`,children:s.jsxs("div",{className:"text-center",children:[s.jsxs("h1",{className:"hero-title text-5xl lg:text-7xl font-serif font-light mb-6 tracking-tight animate-fade-in",children:["Real-Time Energy",s.jsx("span",{className:"hero-title-accent block font-medium shimmer",children:"Dashboard"})]}),s.jsxs("p",{className:"hero-subtitle text-xl lg:text-2xl font-light max-w-3xl mx-auto leading-relaxed animate-fade-in-delayed",children:["Live monitoring of Canadian energy systems with ",s.jsx("span",{className:"live-indicator text-emerald-300 font-semibold",children:"LIVE"})," insights"]}),s.jsxs("div",{className:"mt-16 grid grid-cols-2 lg:grid-cols-4 gap-6 max-w-5xl mx-auto",children:[s.jsxs("div",{className:"metric-card-glass glass-card-hover float-animation",children:[s.jsx(el,{className:"h-10 w-10 text-cyan-400 mx-auto mb-3 glow-electric-pulse"}),s.jsx("div",{className:"text-3xl font-bold text-white mb-1",children:Ie}),s.jsx("div",{className:"text-sm text-blue-200 font-medium",children:"Active Data Sources"})]}),s.jsxs("div",{className:"metric-card-glass glass-card-hover float-animation-delayed",children:[s.jsx(va,{className:"h-10 w-10 text-emerald-400 mx-auto mb-3 glow-renewable-pulse"}),s.jsx("div",{className:"text-3xl font-bold text-white mb-1",children:p.coverage}),s.jsx("div",{className:"text-sm text-green-200 font-medium",children:"Provinces Covered"})]}),s.jsxs("div",{className:"metric-card-glass glass-card-hover float-animation",children:[s.jsx(hr,{className:"h-10 w-10 text-purple-400 mx-auto mb-3"}),s.jsx("div",{className:"text-3xl font-bold text-white mb-1",children:p.updateFreq}),s.jsx("div",{className:"text-sm text-purple-200 font-medium",children:"Update Frequency"})]}),s.jsxs("div",{className:"metric-card-glass glass-card-hover float-animation-delayed",children:[s.jsx(qt,{className:"h-10 w-10 text-emerald-400 mx-auto mb-3"}),s.jsx("div",{className:"text-3xl font-bold text-white mb-1",children:p.architecture}),s.jsx("div",{className:"text-sm text-emerald-200 font-medium",children:"Architecture"})]})]})]})})}),s.jsxs("div",{className:`${Te.page} space-y-8 animate-fade-in-slow`,children:[s.jsx(BG,{currentDemand:Y||0,recentDemand:r.ontarioDemand.slice(0,10).map(te=>te.total_demand_mw),historicalPattern:[{hour:6,avg_demand:15e3},{hour:9,avg_demand:18e3},{hour:12,avg_demand:19e3},{hour:15,avg_demand:17500},{hour:18,avg_demand:21e3},{hour:21,avg_demand:18500}]}),s.jsx(zG,{generationData:r.provincialGeneration.map(te=>({source_type:te.generation_type||"other",capacity_mw:typeof te.megawatt_hours=="number"?te.megawatt_hours:0,percentage:0})),showBreakdown:!0}),s.jsx(UG,{provincialData:Object.entries(r.provincialGeneration.reduce((te,ae)=>{const ne=ae.province||"Unknown";te[ne]||(te[ne]={province:ne,renewable_mw:0,fossil_mw:0,total_mw:0,renewable_pct:0,sources:{}});const Re=typeof ae.megawatt_hours=="number"?ae.megawatt_hours:0,Ee=(ae.generation_type||"other").toLowerCase();return["hydro","wind","solar","biomass","geothermal"].includes(Ee)?te[ne].renewable_mw+=Re:te[ne].fossil_mw+=Re,te[ne].total_mw+=Re,te[ne].sources[Ee]||(te[ne].sources[Ee]=0),te[ne].sources[Ee]+=Re,te},{})).map(([te,ae])=>({...ae,renewable_pct:ae.total_mw>0?ae.renewable_mw/ae.total_mw*100:0}))}),y?.kpis&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"p-4 bg-indigo-50 rounded-lg",children:[s.jsx("div",{className:"text-sm text-indigo-600",children:"Total Generation (sample)"}),s.jsxs("div",{className:"text-2xl font-bold text-indigo-800",children:[y.kpis.total_mwh!==null?Math.round(y.kpis.total_mwh).toLocaleString():"—"," MWh"]})]}),s.jsxs("div",{className:"p-4 bg-emerald-50 rounded-lg",children:[s.jsx("div",{className:"text-sm text-emerald-600",children:"Top Source"}),s.jsx("div",{className:"text-2xl font-bold text-emerald-800",children:y.kpis.top_source?y.kpis.top_source.type.toUpperCase():"—"})]}),s.jsxs("div",{className:"p-4 bg-amber-50 rounded-lg",children:[s.jsx("div",{className:"text-sm text-amber-600",children:"Renewable Share"}),s.jsx("div",{className:"text-2xl font-bold text-amber-800",children:y.kpis.renewable_share!==null?`${(y.kpis.renewable_share*100).toFixed(1)}%`:"—"})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"glass-card glass-card-electric glass-card-hover",children:[s.jsx("div",{className:Te.cardHeader,children:s.jsxs("div",{className:Te.flexBetween,children:[s.jsxs("div",{className:Te.flexCenter,children:[s.jsx(el,{className:"h-6 w-6 text-cyan-400 mr-3 glow-electric"}),s.jsx("h2",{className:`${ve.heading2} text-white`,children:"Real-Time Energy Dashboard"})]}),s.jsxs("div",{className:`${Te.flexCenter} space-x-4`,children:[s.jsxs("div",{className:`badge-glass ${a.some(te=>te.status==="connected")?"badge-glass-success":"badge-glass-warning"}`,children:[s.jsx("div",{className:`w-2 h-2 rounded-full ${a.some(te=>te.status==="connected")?"bg-emerald-400 glow-renewable":"bg-yellow-400"}`}),s.jsxs("span",{children:[a.filter(te=>te.status==="connected").length,"/",a.length," Connected"]})]}),s.jsx(jt,{id:"dashboard.overview"})]})]})}),s.jsx("div",{className:Te.cardBody,children:s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"glass-card glass-card-electric text-center p-4 glass-card-hover",children:[s.jsx("div",{className:"text-xs text-cyan-300 font-semibold uppercase tracking-wide mb-2",children:"Data Sources"}),s.jsx("div",{className:"text-3xl font-bold text-white",children:p.dataSources})]}),s.jsxs("div",{className:"glass-card glass-card-renewable text-center p-4 glass-card-hover",children:[s.jsx("div",{className:"text-xs text-emerald-300 font-semibold uppercase tracking-wide mb-2",children:"30-Day Generation"}),s.jsx("div",{className:"text-3xl font-bold text-white",children:F!=null?`${Math.round(F).toLocaleString()} GWh`:"—"})]}),s.jsxs("div",{className:"glass-card glass-card-electric text-center p-4 glass-card-hover",children:[s.jsx("div",{className:"text-xs text-cyan-300 font-semibold uppercase tracking-wide mb-2",children:"Ontario Demand"}),s.jsx("div",{className:"text-3xl font-bold text-white",children:typeof Y=="number"?`${Math.round(Y).toLocaleString()} MW`:"—"})]}),s.jsxs("div",{className:"glass-card glass-card-solar text-center p-4 glass-card-hover",children:[s.jsx("div",{className:"text-xs text-orange-300 font-semibold uppercase tracking-wide mb-2",children:"Alberta Price"}),s.jsx("div",{className:"text-3xl font-bold text-white",children:xe!=null?`$${xe.toFixed(2)}`:"—"})]})]})})]}),s.jsxs("div",{className:Xi.dashboardGrid.charts,children:[s.jsxs("div",{className:"glass-card glass-card-hover",children:[s.jsx("div",{className:Te.cardHeader,children:s.jsxs("div",{className:Te.flexBetween,children:[s.jsxs("h3",{className:`${ve.heading3} flex items-center`,children:[s.jsx(hr,{className:"h-5 w-5 mr-2 text-blue-600"}),"Ontario Hourly Demand"]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:`${ve.bodySmall} text-slate-600`,children:"Current Demand"}),s.jsx("div",{className:`${ve.metric} text-blue-600`,children:typeof Y=="number"?`${Math.round(Y).toLocaleString()} MW`:"—"})]})]})}),s.jsxs("div",{className:Te.cardBody,children:[s.jsx("div",{className:"chart-container",children:s.jsx(St,{width:"100%",height:Xi.dashboard,children:s.jsxs(zs,{data:V,children:[s.jsx(Tt,{strokeDasharray:"3 3"}),s.jsx(lt,{dataKey:"time"}),s.jsx(at,{}),s.jsx(We,{}),s.jsx(ir,{type:"monotone",dataKey:"demand",stroke:"#2563eb",strokeWidth:2})]})})}),s.jsx("div",{className:`${ve.caption} text-center mt-2`,children:r.ontarioDemand.length>0?`Data: ${r.ontarioDemand.length} records • Source: ${le("ontario_demand")}`:c?"Loading data...":"Using sample data • Source: Fallback"})]})]}),s.jsxs("div",{className:Te.card,children:[s.jsx("div",{className:Te.cardHeader,children:s.jsxs("div",{className:Te.flexBetween,children:[s.jsxs("h3",{className:`${ve.heading3} flex items-center`,children:[s.jsx(pt,{className:"h-5 w-5 mr-2 text-green-600"}),"Provincial Generation Mix"]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:`${ve.bodySmall} text-slate-600`,children:"30-Day Total Generation"}),s.jsx("div",{className:`${ve.metric} text-green-600`,children:F!=null?`${Math.round(F).toLocaleString()} GWh`:"—"})]})]})}),s.jsxs("div",{className:Te.cardBody,children:[s.jsx("div",{className:"chart-container",children:s.jsx(St,{width:"100%",height:Xi.dashboard,children:s.jsxs(Oa,{data:R,layout:"horizontal",children:[s.jsx(Tt,{strokeDasharray:"3 3"}),s.jsx(lt,{type:"number"}),s.jsx(at,{dataKey:"type",type:"category",width:120}),s.jsx(We,{}),s.jsx(Wt,{dataKey:"gwh",fill:"#10b981",name:"Generation (GWh)"})]})})}),s.jsx("div",{className:`${ve.caption} text-center mt-2`,children:$?.period?.start||T?.metadata?.window?.start?`Data window: ${$?.period?.start??T?.metadata?.window?.start} → ${$?.period?.end??T?.metadata?.window?.end}`:r.provincialGeneration.length>0?`Data: ${r.provincialGeneration.length} records • Source: ${le("provincial_generation")}`:c?"Loading data...":"Using sample data • Source: IESO"})]})]}),s.jsxs("div",{className:Te.card,children:[s.jsxs("div",{className:Te.cardHeader,children:[s.jsxs("div",{className:Te.flexBetween,children:[s.jsxs("h3",{className:`${ve.heading3} flex items-center`,children:[s.jsx(hr,{className:"h-5 w-5 mr-2 text-purple-600"}),Q?"Ontario Demand Trend":"Alberta Supply & Demand"]}),s.jsx("div",{className:"col-span-3 flex justify-end",children:s.jsx(jt,{id:"chart.alberta_supply_demand"})})]}),s.jsxs("div",{className:"mt-2 grid grid-cols-3 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("div",{className:`${ve.bodySmall} text-slate-600`,children:"Supply"}),s.jsx("div",{className:`${ve.metric} text-purple-600`,children:typeof fe=="number"?`${Math.round(fe).toLocaleString()} MW`:"—"})]}),s.jsxs("div",{children:[s.jsx("div",{className:`${ve.bodySmall} text-slate-600`,children:"Demand"}),s.jsx("div",{className:`${ve.metric} text-blue-600`,children:typeof Se=="number"?`${Math.round(Se).toLocaleString()} MW`:Q&&W.length?`${Math.round(W[0]?.demand??0).toLocaleString()} MW`:"—"})]}),s.jsxs("div",{children:[s.jsx("div",{className:`${ve.bodySmall} text-slate-600`,children:"Price"}),s.jsx("div",{className:`${ve.metric} text-orange-600`,children:typeof xe=="number"?`$${xe.toFixed(2)}`:"—"})]})]})]}),s.jsxs("div",{className:Te.cardBody,children:[s.jsx("div",{className:"chart-container",children:s.jsx(St,{width:"100%",height:Xi.dashboard,children:s.jsxs(zs,{data:W,children:[s.jsx(Tt,{strokeDasharray:"3 3"}),s.jsx(lt,{dataKey:"label"}),s.jsx(at,{}),s.jsx(We,{}),s.jsx(or,{}),Q?s.jsx(ir,{type:"monotone",dataKey:"demand",stroke:"#2563eb",strokeWidth:2,name:"Ontario Demand"}):s.jsxs(s.Fragment,{children:[s.jsx(ir,{type:"monotone",dataKey:"supply",stroke:"#7c3aed",strokeWidth:2,name:"Supply"}),s.jsx(ir,{type:"monotone",dataKey:"demand",stroke:"#2563eb",strokeWidth:2,name:"Demand"})]})]})})}),s.jsx("div",{className:`${ve.caption} text-center mt-2`,children:Q?`Trend window: ${I?.window?.start??"—"} → ${I?.window?.end??"—"} • Source: analytics trends API`:`Data: ${r.ontarioPrices.length} records • Source: ${le("ontario_prices")}`})]})]}),s.jsxs("div",{className:Te.card,children:[s.jsx("div",{className:Te.cardHeader,children:s.jsxs("div",{className:Te.flexBetween,children:[s.jsxs("h3",{className:`${ve.heading3} flex items-center`,children:[s.jsx(JM,{className:"h-5 w-5 mr-2 text-orange-600"}),"Weather Correlation"]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:`${ve.bodySmall} text-slate-600`,children:"Average Correlation"}),s.jsx("div",{className:`${ve.metric} text-orange-600`,children:Le.toFixed(2)})]})]})}),s.jsxs("div",{className:Te.cardBody,children:[s.jsx("div",{className:"chart-container",children:s.jsx(St,{width:"100%",height:Xi.dashboard-40,children:s.jsxs(ub,{data:z,children:[s.jsx(Tt,{strokeDasharray:"3 3"}),s.jsx(lt,{dataKey:"temperature",name:"Temperature",unit:"°C"}),s.jsx(at,{dataKey:"correlation",name:"Correlation"}),s.jsx(We,{cursor:{strokeDasharray:"3 3"}}),s.jsx(bi,{fill:"#f59e0b"})]})})}),s.jsx("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-5 gap-2",children:[{city:"Calgary",temp:"20.9°C",correlation:"0.98"},{city:"Montreal",temp:"23.5°C",correlation:"0.95"},{city:"Ottawa",temp:"26.3°C",correlation:"0.96"},{city:"Edmonton",temp:"21.4°C",correlation:"0.95"},{city:"Toronto",temp:"23.3°C",correlation:"0.95"}].map((te,ae)=>s.jsxs("div",{className:"text-center p-2 bg-slate-50 rounded-lg",children:[s.jsx("div",{className:`${ve.bodySmall} font-semibold text-slate-800`,children:te.city}),s.jsx("div",{className:`${ve.caption} text-slate-600`,children:te.temp}),s.jsx("div",{className:`${ve.caption} text-orange-600 font-semibold`,children:te.correlation})]},ae))}),s.jsxs("div",{className:`${ve.caption} text-center mt-2`,children:["Data: ",r.weatherData.length," records • Source: ",le("hf_electricity_demand")]})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsx(TG,{datasetPath:"provincial_generation",timeframe:"recent"}),s.jsx(CG,{datasetPath:"provincial_generation",timeframe:"recent"}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200",children:[s.jsxs("div",{className:"p-4 border-b border-slate-200 flex items-center justify-between",children:[s.jsxs("h3",{className:"text-lg font-semibold text-slate-800 flex items-center",children:[s.jsx(si,{className:"h-5 w-5 mr-2 text-indigo-600"}),"Insights"]}),s.jsx("button",{onClick:M,className:"text-sm text-indigo-600 hover:text-indigo-800",disabled:S,children:S?"Refreshing...":"Refresh"})]}),s.jsxs("div",{className:"p-4 space-y-3",children:[P&&s.jsx("div",{className:"text-sm text-red-600",children:P}),!w&&!P&&s.jsx("div",{className:"text-sm text-slate-500",children:"Loading insights…"}),w&&s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"text-slate-800 text-sm leading-relaxed",children:w.summary}),Array.isArray(w.key_findings)&&w.key_findings.length>0&&s.jsxs("div",{children:[s.jsx("div",{className:"text-xs font-semibold text-slate-600 mb-1",children:"Key findings"}),s.jsx("ul",{className:"list-disc pl-5 text-sm text-slate-700 space-y-1",children:w.key_findings.slice(0,4).map((te,ae)=>s.jsx("li",{children:te},ae))})]}),Array.isArray(w.policy_implications)&&w.policy_implications.length>0&&s.jsxs("div",{children:[s.jsx("div",{className:"text-xs font-semibold text-slate-600 mb-1",children:"Policy implications"}),s.jsx("ul",{className:"list-disc pl-5 text-sm text-slate-700 space-y-1",children:w.policy_implications.slice(0,4).map((te,ae)=>s.jsx("li",{children:te},ae))})]}),s.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-500 pt-2 border-t border-slate-100",children:[s.jsxs("span",{children:["Confidence: ",String(w.confidence??"—")]}),s.jsxs("span",{children:["Citations: ",Array.isArray(w.sources)?w.sources.length:0]})]})]})]})]})]})]}),s.jsx("div",{className:"bg-slate-50 rounded-xl p-4 text-center",children:s.jsx("div",{className:"flex items-center justify-center space-x-4 text-sm",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),s.jsxs("span",{className:"text-slate-600",children:["Last updated: ",d.toLocaleTimeString()," •",c?"Refreshing...":"Live streaming active"]})]})})})]})},HG={decimalPlaces:4,convergenceTolerance:1e-6,maxIterations:1e3,minimumIRR:-.99,maximumIRR:1};class GG{config;constructor(e={}){this.config={...HG,...e}}calculateDCF(e,r,n){return e/Math.pow(1+n,r)}calculateNPV(e,r){if(!e||e.length===0)return 0;let n=0;const a=[];for(const o of e){const c=this.calculateDCF(o.amount,o.period,r);a.push(parseFloat(c.toFixed(this.config.decimalPlaces))),n+=c}return parseFloat(n.toFixed(this.config.decimalPlaces))}calculateROI(e,r){return r===0?0:(e-r)/r*100}calculateProfitabilityIndex(e,r){const n=e.filter(u=>u.period>0&&u.amount>0),a=Math.abs(e.find(u=>u.period===0&&u.amount<0)?.amount||0),o=n.map(u=>this.calculateDCF(u.amount,u.period,r)).reduce((u,d)=>u+d,0);if(a===0)return 0;const c=o/a;return parseFloat(c.toFixed(this.config.decimalPlaces))}calculatePaybackPeriod(e,r=0){if(!e||e.length<2)return null;const n=Math.abs(e.find(d=>d.period===0)?.amount||0),a=e.filter(d=>d.period>0).sort((d,m)=>d.period-m.period),o=r>0?a.map(d=>({...d,discountedAmount:this.calculateDCF(d.amount,d.period,r)})):a.map(d=>({...d,discountedAmount:d.amount}));let c=0,u=0;for(let d=0;d<o.length;d++)if(c+=o[d].discountedAmount,c>=n){const m=n-c,p=o[d].discountedAmount,h=m/p;return u=o[d].period-h,parseFloat(u.toFixed(this.config.decimalPlaces))}return null}calculateNPVDerivative(e,r){let n=0;for(const a of e)if(a.period>0){const o=a.period;n-=o*a.amount/Math.pow(1+r,o+1)}return n}calculateIRR(e,r=.1){if(!e||e.length<2)return null;const n=e.some(u=>u.amount>0),a=e.some(u=>u.amount<0);if(!n||!a)return null;let o=r,c=0;for(;c<this.config.maxIterations;){const u=this.calculateNPV(e,o),d=this.calculateNPVDerivative(e,o),m=o-u/d;if(Math.abs(m-o)<this.config.convergenceTolerance&&Math.abs(u)<this.config.convergenceTolerance)return m>=this.config.minimumIRR&&m<=this.config.maximumIRR?parseFloat(m.toFixed(this.config.decimalPlaces)):null;if(m<this.config.minimumIRR||m>this.config.maximumIRR)return null;o=m,c++}return null}validateCashFlowsForIRR(e){const r=[],n=[],a=[...e].sort((p,h)=>p.period-h.period),o=a.map(p=>p.period);for(let p=0;p<=Math.max(...o);p++)o.includes(p)||(r.push(`Missing cash flow for period ${p}`),n.push("Add cash flows for all periods or specify appropriate assumption"));let c=0,u=0;a.forEach(p=>{const h=p.amount>0?1:p.amount<0?-1:0;h!==0&&(h!==u&&u!==0&&c++,u=h)}),c>1&&(r.push(`Multiple sign changes (${c}) may lead to multiple IRRs or computation issues`),n.push("Consider Modified IRR (MIRR) for projects with multiple sign changes"));const m=a.filter(p=>p.period<=2).filter(p=>p.amount===0).length;return m>0&&(r.push(`Zero cash flows in early periods (${m})`),n.push("Verify that early zero cash flows are intentional")),{isValid:r.length===0,issues:r,recommendations:n}}analyzeInvestment(e,r){const n=this.calculateNPV(e,r),a=this.calculateIRR(e),o=this.calculatePaybackPeriod(e,r),c=this.calculateROI(e.filter(h=>h.amount>0).reduce((h,y)=>h+y.amount,0),Math.abs(e.filter(h=>h.amount<0).reduce((h,y)=>h+y.amount,0))),u=this.calculateProfitabilityIndex(e,r),d=Math.abs(e.filter(h=>h.amount<0&&h.period===0).reduce((h,y)=>h+y.amount,0)),m=e.filter(h=>h.amount>0).reduce((h,y)=>h+y.amount,0),p=e.map(h=>this.calculateDCF(h.amount,h.period,r));return{npv:n,irr:a,paybackPeriod:o,roi:c,profitabilityIndex:u,totalInvestment:d,totalReturns:m,discountedCashFlows:p}}}const xA=new GG;class ns{static instance;connections=new Map;webSocketConnections=new Map;dataCache=new Map;eventListeners=new Map;messageListeners=new Map;config;abortControllers=new Map;heartbeatIntervals=new Map;constructor(){this.config={enableLivestream:!0,enableWebSocket:!1,fallbackToMock:!0,cacheExpiryMinutes:5,rateLimitMs:1e3,maxRetries:3},console.log("📊 Final Configuration:",this.config)}static getInstance(){return ns.instance||(ns.instance=new ns),ns.instance}async connectStream(e,r){return console.log(`Creating fallback connection for ${e} (streaming endpoint not available)`),this.createFallbackConnection(e)}async establishEventSourceConnection(e,r){const n=new AbortController;this.abortControllers.set(e.dataset,n);const a=new EventSource(`https://qnymbecjgeaoxsfphrti.supabase.co${r}`);return e.eventSource=a,a.onopen=()=>{e.status="connected",e.lastUpdate=new Date().toISOString(),e.errorCount=0,this.notifyListeners(e.dataset,{type:"connected",connection:e})},a.onmessage=o=>{try{const c=JSON.parse(o.data);if(e.lastUpdate=new Date().toISOString(),c.error||c.message&&c.message.includes("No data available")){console.warn(`No data available for ${e.dataset}:`,c.message||c.error),a.close(),e.status="disconnected",this.notifyListeners(e.dataset,{type:"no_data",connection:e}),this.config.fallbackToMock&&this.createFallbackConnection(e.dataset);return}this.handleStreamingData(e.dataset,c)}catch(c){console.error(`Failed to process ${e.dataset} data:`,c),e.errorCount++,this.notifyListeners(e.dataset,{type:"data_error",error:c})}},a.onerror=o=>{e.status="error",e.errorCount++,e.retryCount++;try{a.close()}catch{}e.errorCount<=3&&console.warn(`Connection error for ${e.dataset}:`,o),this.config.fallbackToMock&&(e.status="disconnected",this.notifyListeners(e.dataset,{type:"disconnected",connection:e}),this.createFallbackConnection(e.dataset))},new Promise((o,c)=>{const u=Date.now(),d=1e4,m=setInterval(()=>{if(e.status==="connected")clearInterval(m),o();else if(Date.now()-u>d){clearInterval(m);try{a.close()}catch(p){console.warn("Failed to close EventSource after timeout",p)}e.status="disconnected",this.notifyListeners(e.dataset,{type:"timeout",connection:e}),this.config.fallbackToMock&&this.createFallbackConnection(e.dataset),o()}},100)})}handleStreamingData(e,r){const n={timestamp:r.timestamp||new Date().toISOString(),dataset:e,source:r.source,values:r.rows||r,metadata:r.metadata};this.dataCache.has(e)||this.dataCache.set(e,[]),this.dataCache.set(e,[...this.dataCache.get(e)||[],n].slice(-100)),setTimeout(()=>{this.dataCache.delete(e)},this.config.cacheExpiryMinutes*60*1e3),this.notifyListeners(e,{type:"data",data:n})}createFallbackConnection(e){const r={id:`${e}_fallback_${Date.now()}`,dataset:e,status:"connected",lastUpdate:new Date().toISOString(),errorCount:0,retryCount:0};return this.connections.set(e,r),this.notifyListeners(e,{type:"fallback",connection:r}),r}getCachedData(e){return this.dataCache.get(e)||[]}onDataUpdate(e,r){const n=this.eventListeners.get(e)??[];return this.eventListeners.set(e,[...n,r]),()=>{const o=(this.eventListeners.get(e)||[]).filter(c=>c!==r);o.length>0?this.eventListeners.set(e,o):this.eventListeners.delete(e)}}onWebSocketMessage(e,r){const n=this.messageListeners.get(e)??[];return this.messageListeners.set(e,[...n,r]),()=>{const o=(this.messageListeners.get(e)||[]).filter(c=>c!==r);o.length>0?this.messageListeners.set(e,o):this.messageListeners.delete(e)}}sendWebSocketMessage(e,r){const n=this.webSocketConnections.get(e);if(!n||n.status!=="connected"||!n.webSocket){console.warn(`WebSocket connection to ${e} not ready`);return}r.timestamp=r.timestamp||new Date().toISOString();try{n.webSocket.send(JSON.stringify(r))}catch(a){console.error("Failed to send WebSocket message:",a),this.notifyWebSocketListeners(e,{type:"send_error",error:a})}}notifyListeners(e,r){(this.eventListeners.get(e)||[]).forEach(a=>{try{a(r)}catch(o){console.error("Error in listener callback:",o)}})}disconnectStream(e){const r=this.connections.get(e);r?.eventSource&&r.eventSource.close();const n=this.abortControllers.get(e);n&&n.abort(),this.connections.delete(e),this.abortControllers.delete(e)}getConnectionStatus(e){return this.connections.get(e)||null}getWebSocketConnectionStatus(e){return this.webSocketConnections.get(e)||null}disconnectWebSocketChannel(e){const r=this.webSocketConnections.get(e);r?.webSocket&&r.status==="connected"&&(r.webSocket.close(1e3,"Normal closure"),r.status="disconnected"),this.heartbeatIntervals.has(e)&&(clearInterval(this.heartbeatIntervals.get(e)),this.heartbeatIntervals.delete(e)),this.webSocketConnections.delete(e),this.notifyWebSocketListeners(e,{type:"disconnected"})}connectWebSocketEndpoint(e,r){const n={id:`${e}_${Date.now()}`,channel:e,status:"connecting",webSocket:r,reconnectCount:0,lastHeartbeat:new Date().toISOString()};this.webSocketConnections.set(e,n);const a=r.onopen,o=r.onmessage,c=r.onerror,u=r.onclose;return r.onopen=d=>{if(a)try{a.call(r,d)}catch(m){console.error(m)}n.status="connected",this.notifyWebSocketListeners(e,{type:"connected",connectionId:n.id}),this.startHeartbeat(e)},r.onmessage=d=>{if(o)try{o.call(r,d)}catch(m){console.error(m)}try{const m=JSON.parse(d.data);m.timestamp=new Date().toISOString(),this.notifyWebSocketListeners(e,m),n.lastHeartbeat=new Date().toISOString()}catch(m){console.error("WebSocket message parse error:",m)}},r.onerror=d=>{if(c)try{c.call(r,d)}catch(m){console.error(m)}n.status="error",this.notifyWebSocketListeners(e,{type:"error"}),this.handleWebSocketReconnect(e)},r.onclose=d=>{if(u)try{u.call(r,d)}catch(m){console.error(m)}n.status="disconnected",n.reconnectCount=0,this.heartbeatIntervals.has(e)&&(clearInterval(this.heartbeatIntervals.get(e)),this.heartbeatIntervals.delete(e)),this.notifyWebSocketListeners(e,{type:"disconnected"})},n}sendWebSocketPayload(e,r){const n=this.webSocketConnections.get(e);n?.webSocket?.readyState===WebSocket.OPEN&&n.webSocket.send(JSON.stringify(r))}handleWebSocketReconnect(e){const r=this.webSocketConnections.get(e);if(!r||r.reconnectCount>=this.config.maxRetries)return;r.reconnectCount++;const n=Math.min(1e3*Math.pow(2,r.reconnectCount),3e4);setTimeout(()=>{console.log(`WebSocket reconnection attempt ${r.reconnectCount} for ${e}`)},n)}startHeartbeat(e){this.heartbeatIntervals.has(e)&&clearInterval(this.heartbeatIntervals.get(e));const r=setInterval(()=>{const n=this.webSocketConnections.get(e);if(n?.status==="connected"){this.sendWebSocketPayload(e,{type:"ping",payload:{timestamp:Date.now()},timestamp:new Date().toISOString(),senderId:"system"});const a=new Date(n.lastHeartbeat).getTime();Date.now()-a>45e3&&(console.warn(`WebSocket heartbeat failed for ${e}`),n.status="error",this.handleWebSocketReconnect(e))}},15e3);this.heartbeatIntervals.set(e,r)}notifyWebSocketListeners(e,r){(this.messageListeners.get(e)||[]).forEach(a=>{try{a(r)}catch(o){console.error("WebSocket listener error:",o)}})}updateConfig(e){this.config={...this.config,...e}}}const ul=ns.getInstance();function Sf(t){const[e,r]=C.useState([]),[n,a]=C.useState("disconnected"),[o,c]=C.useState(!1),[u,d]=C.useState(null);return C.useEffect(()=>{let m=!0;d(null);const p=ul.onDataUpdate(t,h=>{if(m)if(h.type==="data")r(y=>[...y,h.data].slice(-50)),d(null);else if(h.type==="connected")a("connected"),c(!0),d(null);else if(h.type==="fallback")a("connected"),c(!1),d("Using fallback data");else if(h.type==="disconnected"||h.type==="error"){a("error"),c(!1);const y=typeof h.error=="string"?h.error:h.error?.message;d(y??"Connection lost")}else h.type==="connecting"&&a("connecting")});return ul.connectStream(t,`/functions/v1/stream-${t}`).then(h=>{m&&a(h.status)}).catch(h=>{console.error(`Failed to connect to ${t} stream:`,h),m&&(a("error"),c(!1),d(h.message))}),()=>{m=!1,p()}},[t]),{data:e,connectionStatus:n,isUsingRealData:o,error:u,setData:r}}const VG=()=>{const{data:t,connectionStatus:e,isUsingRealData:r}=Sf("ontario-demand"),[n,a]=C.useState([]),[o,c]=C.useState(!0),[u,d]=C.useState(!1),m=C.useCallback((h,y,v)=>{const b=y*8760*.12;return[{id:1,name:v?`Ontario Solar Investment (${h.toLocaleString()} MW demand)`:"Ontario Solar Farm",description:v?`Real-time solar investment based on current Ontario electricity demand of ${h.toLocaleString()} MW at ${(y*100).toFixed(1)}¢/kWh`:"Large-scale photovoltaic installation",cashFlows:[{amount:-(h*1500*.8),period:0,description:"Capital investment"},{amount:h*b*.15,period:1,description:"Year 1 revenue"},{amount:h*b*.18,period:2,description:"Year 2 revenue"},{amount:h*b*.22,period:3,description:"Year 3 revenue"},{amount:h*b*.25,period:4,description:"Year 4 revenue"},{amount:h*b*.28,period:5,description:"Year 5 revenue"}],discountRate:.08,analysis:void 0},{id:2,name:v?"Battery Storage for Peak Demand":"Battery Storage System",description:v?`Grid stabilization for ${h.toLocaleString()} MW Ontario demand`:"4MW battery storage system",cashFlows:[{amount:-(h*400),period:0,description:"Battery system capital"},{amount:h*80,period:1,description:"Peak shaving revenue"},{amount:h*90,period:2,description:"Grid services revenue"},{amount:h*95,period:3,description:"Frequency regulation"},{amount:h*100,period:4,description:"Ancillary services"}],discountRate:.1,analysis:void 0},{id:3,name:v?`Wind Development (${(h*.6).toLocaleString()} MW capacity)`:"Wind Energy Project",description:v?`Offshore wind farm development for ${h.toLocaleString()} MW peak demand`:"Offshore wind farm with 50 turbines",cashFlows:[{amount:-(h*2e3),period:0,description:"Wind farm development"},{amount:h*b*.18,period:1,description:"Year 1 wind energy revenue"},{amount:h*b*.2,period:2,description:"Year 2 wind energy revenue"},{amount:h*b*.22,period:3,description:"Year 3 wind energy revenue"},{amount:h*b*.24,period:4,description:"Year 4 wind energy revenue"},{amount:h*b*.26,period:5,description:"Year 5 wind energy revenue"}],discountRate:.12,analysis:void 0}]},[]);C.useEffect(()=>{if(t.length>0){const h=t[t.length-1],y=h.values.demand_mw||1e4,v=h.values.price_cents_kwh||8.5,b=m(y,v,r).map(w=>{if(!w.analysis){const k=xA.analyzeInvestment(w.cashFlows,w.discountRate);return{...w,analysis:k}}return w});a(b),c(!1),d(!r)}else if(t.length===0&&(e==="connected"||e==="error")){const y=m(12e3,9.2,!1).map(v=>({...v,analysis:xA.analyzeInvestment(v.cashFlows,v.discountRate)}));a(y),c(!1),d(!0)}},[t,r,e,m]);const p=U.useMemo(()=>{const h=n.filter(j=>j.analysis),y=h.reduce((j,b)=>j+(b.analysis?.npv||0),0),v=h.reduce((j,b)=>j+Math.abs(b.cashFlows[0]?.amount||0),0);return{totalNPV:y,totalInvestment:v,netReturn:y-v}},[n]);return o?s.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(hr,{className:"h-6 w-6 animate-spin text-blue-600"}),s.jsx("span",{className:"text-slate-600",children:"Loading investment analysis..."})]})}):s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100",children:[s.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-r from-emerald-900 via-green-900 to-teal-900",children:[s.jsxs("div",{className:"absolute inset-0",children:[s.jsx("div",{className:"absolute inset-0 bg-black/30"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 via-transparent to-transparent"})]}),s.jsx("div",{className:Te.page,children:s.jsxs("div",{className:"text-center",children:[s.jsxs("h1",{className:"text-4xl lg:text-6xl font-serif font-light text-white mb-6 tracking-tight animate-fade-in",children:["Investment Portfolio",s.jsx("span",{className:"block text-transparent bg-clip-text bg-gradient-to-r from-emerald-400 to-green-400 font-medium",children:"Analysis"})]}),s.jsx("p",{className:`${ve.body} text-xl lg:text-2xl text-green-100 font-light max-w-3xl mx-auto leading-relaxed animate-fade-in-delayed`,children:"AI-powered financial analysis with real-time market data integration"})]})})]}),s.jsxs("div",{className:Te.page,children:[s.jsxs("div",{className:Te.gridDashboard,children:[s.jsx("div",{className:`${he.success.bg} p-6 rounded-xl border ${he.success.border} hover:shadow-lg transition-all duration-300`,children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(tr,{className:`h-8 w-8 ${he.success.accent}`}),s.jsxs("div",{children:[s.jsx("div",{className:`${ve.metricLabel} ${he.success.accent}`,children:"Total NPV"}),s.jsxs("div",{className:`${ve.metric} ${he.success.text}`,children:["$",(p.totalNPV/1e6).toFixed(1),"M"]})]})]})}),s.jsx("div",{className:`${he.primary.bg} p-6 rounded-xl border ${he.primary.border} hover:shadow-lg transition-all duration-300`,children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(hr,{className:`h-8 w-8 ${he.primary.accent}`}),s.jsxs("div",{children:[s.jsx("div",{className:`${ve.metricLabel} ${he.primary.accent}`,children:"Total Investment"}),s.jsxs("div",{className:`${ve.metric} ${he.primary.text}`,children:["$",(p.totalInvestment/1e6).toFixed(1),"M"]})]})]})}),s.jsx("div",{className:`${he.info.bg} p-6 rounded-xl border ${he.info.border} hover:shadow-lg transition-all duration-300`,children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(fj,{className:`h-8 w-8 ${he.info.accent}`}),s.jsxs("div",{children:[s.jsx("div",{className:`${ve.metricLabel} ${he.info.accent}`,children:"Net Return"}),s.jsxs("div",{className:`${ve.metric} ${he.info.text}`,children:["$",(p.netReturn/1e6).toFixed(1),"M"]})]})]})}),s.jsx("div",{className:`${he.warning.bg} p-6 rounded-xl border ${he.warning.border} hover:shadow-lg transition-all duration-300`,children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(tr,{className:`h-8 w-8 ${he.warning.accent}`}),s.jsxs("div",{children:[s.jsx("div",{className:`${ve.metricLabel} ${he.warning.accent}`,children:"Portfolio Health"}),s.jsx("div",{className:`${ve.metric} ${he.warning.text}`,children:p.totalNPV>0?"Strong":"Attention Needed"})]})]})})]}),s.jsxs("div",{className:`${he.info.bg} p-6 rounded-xl border ${he.info.border} mb-8`,children:[s.jsx("h3",{className:`${ve.heading3} ${he.info.text} mb-4`,children:"AI Risk Analysis Summary"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:`${ve.body} font-semibold ${he.info.accent}`,children:"Market Risk"}),s.jsx("div",{className:`${ve.body} ${he.info.text}`,children:"Low - Strong renewable demand"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:`${ve.body} font-semibold ${he.info.accent}`,children:"Regulatory Risk"}),s.jsx("div",{className:`${ve.body} ${he.info.text}`,children:"Medium - Policy changes possible"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:`${ve.body} font-semibold ${he.info.accent}`,children:"Technology Risk"}),s.jsx("div",{className:`${ve.body} ${he.info.text}`,children:"Low - Proven technologies in use"})]})]})]})]}),s.jsx("div",{className:`px-6 py-4 rounded-lg text-sm border mx-6 mb-6 ${r&&e==="connected"?`${he.success.bg} border ${he.success.border} ${he.success.text}`:u?`${he.primary.bg} border ${he.primary.border} ${he.primary.text}`:`${he.warning.bg} border ${he.warning.border} ${he.warning.text}`}`,children:s.jsx("div",{className:Te.flexBetween,children:r&&e==="connected"?s.jsxs(s.Fragment,{children:[s.jsx(sx,{className:`h-5 w-5 ${he.success.accent}`}),s.jsxs("div",{className:"flex-1 ml-4",children:[s.jsx("div",{className:`${ve.body} font-semibold ${he.success.text}`,children:"🎯 LIVE Ontario Market Data"}),s.jsxs("div",{className:`${ve.bodySmall} ${he.success.text} opacity-80`,children:["Investments calculated from real-time IESO demand data",t.length>0&&t[t.length-1]&&` (${t[t.length-1].values.demand_mw?.toLocaleString()||"0"} MW demand)`]})]})]}):u?s.jsxs(s.Fragment,{children:[s.jsx(fj,{className:`h-5 w-5 ${he.primary.accent}`}),s.jsxs("div",{className:"flex-1 ml-4",children:[s.jsx("div",{className:`${ve.body} font-semibold ${he.primary.text}`,children:"💡 Enhanced Analysis Mode"}),s.jsx("div",{className:`${ve.bodySmall} ${he.primary.text} opacity-80`,children:"Using calculated models with Ontario market conditions"})]})]}):s.jsxs(s.Fragment,{children:[s.jsx(FA,{className:`h-5 w-5 ${he.warning.accent}`}),s.jsxs("div",{className:"flex-1 ml-4",children:[s.jsx("div",{className:`${ve.body} font-semibold ${he.warning.text}`,children:e==="connecting"?"🔄 Connecting...":"⚠️ Connection Issue"}),s.jsx("div",{className:`${ve.bodySmall} ${he.warning.text} opacity-80`,children:e==="connecting"?"Establishing connection to live market data":"Using enhanced calculation models"})]})]})})}),s.jsx("div",{className:`${Te.page} pb-8`,children:s.jsx("div",{className:FG.generateGridClasses(3,!0),children:n.map(h=>{const{npv:y,irr:v}=h.analysis||{};return s.jsxs("div",{className:`${Te.card} hover:shadow-xl transition-all duration-500 hover:scale-[1.02] group`,children:[s.jsx("div",{className:`${Te.cardHeader} bg-gradient-to-r from-emerald-600 to-green-600 text-white group-hover:from-emerald-700 group-hover:to-green-700 transition-all duration-300`,children:s.jsx("div",{className:Te.flexBetween,children:s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:`${ve.heading3} mb-2 text-white`,children:h.name}),s.jsx("p",{className:`${ve.body} text-emerald-100 text-sm leading-relaxed`,children:h.description})]})})}),s.jsxs("div",{className:Te.cardBody,children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[s.jsxs("div",{className:`text-center p-4 bg-gradient-to-br ${he.success.bg} rounded-xl border ${he.success.border} group-hover:shadow-md transition-all duration-300`,children:[s.jsx("div",{className:`${ve.bodySmall} ${he.success.accent} mb-2 font-semibold`,children:"NPV"}),s.jsxs("div",{className:`${ve.metric} ${he.success.text}`,children:["$",y?(y/1e6).toFixed(2):"—","M"]})]}),s.jsxs("div",{className:`text-center p-4 bg-gradient-to-br ${he.primary.bg} rounded-xl border ${he.primary.border} group-hover:shadow-md transition-all duration-300`,children:[s.jsx("div",{className:`${ve.bodySmall} ${he.primary.accent} mb-2 font-semibold`,children:"IRR"}),s.jsx("div",{className:`${ve.metric} ${he.primary.text}`,children:v?`${(v*100).toFixed(1)}%`:"—"})]})]}),s.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg border border-slate-200",children:[s.jsx("span",{className:`${ve.body} font-semibold text-slate-700`,children:"Discount Rate:"}),s.jsxs("span",{className:`${ve.body} ml-2 ${he.primary.accent} font-bold`,children:[(h.discountRate*100).toFixed(1),"%"]})]}),r&&e==="connected"&&s.jsxs("div",{className:`${Te.flexBetween} mt-6 pt-4 border-t border-slate-200/50`,children:[s.jsxs("div",{className:`flex items-center space-x-2 ${ve.bodySmall} ${he.success.accent}`,children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),s.jsx("span",{className:"font-semibold",children:"Auto-updating every minute"})]}),s.jsxs("div",{className:`${ve.caption} text-slate-500`,children:["Last updated: ",t.length>0&&new Date(t[t.length-1]?.timestamp||Date.now()).toLocaleTimeString("en-CA",{hour12:!1,timeZone:"America/Toronto"})]})]})]})]},h.id)})})})]})};var Ut=(t=>(t.FLOODING="flooding",t.WILDFIRE="wildfire",t.HURRICANE="hurricane",t.SEA_LEVEL_RISE="sea_level_rise",t.EXTREME_HEAT="extreme_heat",t.DROUGHT="drought",t.LANDSLIDE="landslide",t.EROSION="erosion",t))(Ut||{}),Mn=(t=>(t.POWER_GRID="power_grid",t.WATER_SYSTEMS="water_systems",t.TRANSPORTATION="transportation",t.TELECOMMUNICATIONS="telecommunications",t.HEALTHCARE="healthcare",t.EMERGENCY_SERVICES="emergency_services",t.CRITICAL_MANUFACTURING="critical_manufacturing",t.FINANCIAL_SERVICES="financial_services",t))(Mn||{});class KG{calculateHazardScore(e,r,n,a=7){const o=n/10,c=a/10,d={power_grid:{flooding:.8,wildfire:.6,hurricane:.7,sea_level_rise:.5,extreme_heat:.6,drought:.3,landslide:.4,erosion:.5},healthcare:{flooding:.9,wildfire:.5,hurricane:.8,sea_level_rise:.7,extreme_heat:.6,drought:.4,landslide:.3,erosion:.3},water_systems:{},transportation:{},telecommunications:{},emergency_services:{},critical_manufacturing:{},financial_services:{}}[r]?.[e]||.5,m=o*d*c;return Math.min(m*100,100)}assessOverallResilience(e,r){const n={};for(const[p,h]of Object.entries(r))n[p]=this.calculateHazardScore(p,e.assetType,h,e.currentCondition);const a={flooding:.25,hurricane:.25,sea_level_rise:.2,extreme_heat:.15,wildfire:.15,drought:.1,landslide:.08,erosion:.12};let o=0,c=0;for(const[p,h]of Object.entries(a))p in n&&(o+=n[p]*h,c+=h);c===0?o=0:o=o/c;const u=1+e.criticalDependents/1e5*.3,d=Math.min(o*u,100);let m;return d>=80?m="critical":d>=60?m="high":d>=40?m="medium":m="low",{overallScore:Math.round(d),hazardBreakdown:n,riskLevel:m}}}const YG={formatRiskScore:t=>`${t.toFixed(1)}%`,getRiskLevelInfo:t=>{const e={low:{description:"Minimal Resilience Risk",className:"text-green-700 bg-green-100 border-green-200"},medium:{description:"Moderate Resilience Risk",className:"text-yellow-700 bg-yellow-100 border-yellow-200"},high:{description:"Significant Resilience Risk",className:"text-orange-700 bg-orange-100 border-orange-200"},critical:{description:"Extreme Resilience Risk",className:"text-red-700 bg-red-100 border-red-200"}};return e[t]||e.low}},bA={coastalOntario:{flooding:75,hurricane:45,sea_level_rise:60,extreme_heat:80,wildfire:25,drought:35,landslide:15,erosion:50},interiorBC:{wildfire:85,extreme_heat:70,flooding:35,sea_level_rise:15,drought:60,landslide:40,hurricane:25,erosion:20}},S0=new KG;class XG{STORAGE_PREFIX="ceip_";VERSION="1.0";KEYS={INDIGENOUS_PROJECTS:`${this.STORAGE_PREFIX}indigenous_projects`,INVESTMENT_PROJECTS:`${this.STORAGE_PREFIX}investment_projects`,COMPLIANCE_RECORDS:`${this.STORAGE_PREFIX}compliance_records`,MINERALS_SUPPLY:`${this.STORAGE_PREFIX}minerals_supply`,USER_PREFERENCES:`${this.STORAGE_PREFIX}user_preferences`,DATA_VERSION:`${this.STORAGE_PREFIX}data_version`};constructor(){this.initializeStorage()}initializeStorage(){const e=localStorage.getItem(this.KEYS.DATA_VERSION);(!e||e!==this.VERSION)&&(this.migrateData(e),localStorage.setItem(this.KEYS.DATA_VERSION,this.VERSION))}migrateData(e){e||this.initializeSampleData()}initializeSampleData(){const e=[{id:"indigenous_001",created_at:new Date().toISOString(),updated_at:new Date().toISOString(),data_source:"user_input",governance_status:"approved",name:"Treaty 5 Wind Energy Partnership",territory_id:"treaty5_001",territory_name:"Treaty 5 Territory",community:"Cree, Ojibwe, Dene",traditional_territory:"Treaty 5 Territory - Northern Manitoba",consultation_status:"completed",fpic_status:"obtained",benefit_sharing:{revenue_share_percent:15,employment_commitments:["50% local hiring","Training programs"],capacity_building:["Technical training","Project management"]},impact_assessment:{cultural_impact:"low",environmental_impact:"medium",economic_impact:"high",spiritual_impact:"low"},consultation_log:[{date:"2024-12-15",participants:["Chief Johnson","Council Members","Project Team"],topics:["Environmental impact","Revenue sharing","Employment"],outcomes:["Agreement on 15% revenue share","Local hiring commitment"],next_steps:["Finalize legal agreements","Begin construction planning"]}]}],r=[{id:"investment_001",created_at:new Date().toISOString(),updated_at:new Date().toISOString(),data_source:"user_input",project_name:"Ontario Solar Farm Development",project_type:"renewable",total_investment_cad:25e7,funding_sources:[{source:"Canada Infrastructure Bank",amount_cad:1e8,type:"loan"},{source:"Private Equity",amount_cad:15e7,type:"equity"}],financial_metrics:{npv_cad:45e6,irr_percent:8.5,payback_years:12,lcoe_cad_per_mwh:65},esg_scores:{environmental_score:92,social_score:78,governance_score:85},risk_assessment:{market_risk:"medium",technology_risk:"low",regulatory_risk:"low",overall_risk_score:35},project_status:"approved",expected_ghg_reduction_tonnes_co2e:125e3}];this.saveData(this.KEYS.INDIGENOUS_PROJECTS,e),this.saveData(this.KEYS.INVESTMENT_PROJECTS,r)}formatKey(e){return e.startsWith(this.STORAGE_PREFIX)?e:`${this.STORAGE_PREFIX}${e}`}getDataset(e){return this.loadData(this.formatKey(e))}setDataset(e,r){this.saveData(this.formatKey(e),r)}saveData(e,r){try{localStorage.setItem(e,JSON.stringify(r))}catch(n){throw console.error(`Error saving data to ${e}:`,n),new Error(`Failed to save data: ${n}`)}}loadData(e){try{const r=localStorage.getItem(e);return r?JSON.parse(r):[]}catch(r){return console.error(`Error loading data from ${e}:`,r),[]}}getIndigenousProjects(){return this.loadData(this.KEYS.INDIGENOUS_PROJECTS)}addIndigenousProject(e){const r=this.getIndigenousProjects(),n={...e,id:`indigenous_${Date.now()}`,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};return r.push(n),this.saveData(this.KEYS.INDIGENOUS_PROJECTS,r),n.id}updateIndigenousProject(e,r){const n=this.getIndigenousProjects(),a=n.findIndex(o=>o.id===e);return a===-1?!1:(n[a]={...n[a],...r,updated_at:new Date().toISOString()},this.saveData(this.KEYS.INDIGENOUS_PROJECTS,n),!0)}getInvestmentProjects(){return this.loadData(this.KEYS.INVESTMENT_PROJECTS)}addInvestmentProject(e){const r=this.getInvestmentProjects(),n={...e,id:`investment_${Date.now()}`,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};return r.push(n),this.saveData(this.KEYS.INVESTMENT_PROJECTS,r),n.id}getComplianceRecords(){return this.loadData(this.KEYS.COMPLIANCE_RECORDS)}addComplianceRecord(e){const r=this.getComplianceRecords(),n={...e,id:`compliance_${Date.now()}`,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};return r.push(n),this.saveData(this.KEYS.COMPLIANCE_RECORDS,r),n.id}getMineralsSupply(){return this.loadData(this.KEYS.MINERALS_SUPPLY)}addMineralsSupplyRecord(e){const r=this.getMineralsSupply(),n={...e,id:`minerals_${Date.now()}`,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};return r.push(n),this.saveData(this.KEYS.MINERALS_SUPPLY,r),n.id}exportAllData(){const e={version:this.VERSION,exported_at:new Date().toISOString(),indigenous_projects:this.getIndigenousProjects(),investment_projects:this.getInvestmentProjects(),compliance_records:this.getComplianceRecords(),minerals_supply:this.getMineralsSupply()};return JSON.stringify(e,null,2)}importData(e){try{const r=JSON.parse(e);return r.indigenous_projects&&this.saveData(this.KEYS.INDIGENOUS_PROJECTS,r.indigenous_projects),r.investment_projects&&this.saveData(this.KEYS.INVESTMENT_PROJECTS,r.investment_projects),r.compliance_records&&this.saveData(this.KEYS.COMPLIANCE_RECORDS,r.compliance_records),r.minerals_supply&&this.saveData(this.KEYS.MINERALS_SUPPLY,r.minerals_supply),!0}catch(r){return console.error("Error importing data:",r),!1}}clearAllData(){Object.values(this.KEYS).forEach(e=>{localStorage.removeItem(e)}),this.initializeSampleData()}getStorageStats(){let e=0;Object.values(this.KEYS).forEach(a=>{const o=localStorage.getItem(a);o&&(e+=o.length)});const r=5*1024*1024,n=e/r*100;return{used:e,available:r,percentage:n}}}const Br=new XG;class as{static instance;constructor(){}static getInstance(){return as.instance||(as.instance=new as),as.instance}async getGridStatus(){const e=Br.getDataset("grid_status");if(e&&e.length>0)return e;const n=[{name:"Ontario",baseLoad:15e3,renewablePercent:25},{name:"Quebec",baseLoad:12e3,renewablePercent:95},{name:"Alberta",baseLoad:8500,renewablePercent:15},{name:"British Columbia",baseLoad:7200,renewablePercent:85},{name:"Saskatchewan",baseLoad:2800,renewablePercent:20},{name:"Manitoba",baseLoad:2400,renewablePercent:98}].map((a,o)=>{const c=Math.sin(Date.now()/1e3/3600*2*Math.PI)*.2+1,u=Math.round(a.baseLoad*c*(.9+Math.random()*.2)),d=Math.round(u*(1.05+Math.random()*.1));return{id:`grid_${a.name.toLowerCase().replace(" ","_")}_${Date.now()}`,region:a.name,timestamp:new Date().toISOString(),load_mw:u,generation_mw:d,renewable_percentage:a.renewablePercent+(Math.random()-.5)*5,grid_frequency_hz:60+(Math.random()-.5)*.1,voltage_stability:Math.random()>.9?"warning":"stable",congestion_level:Math.random()>.8?"high":Math.random()>.5?"medium":"low",reserve_margin_percent:15+Math.random()*10,interconnection_flows:[{connection:`${a.name}-US`,flow_mw:Math.round((Math.random()-.5)*1e3),direction:Math.random()>.5?"export":"import"}]}});return Br.setDataset("grid_status",n),n}async getMineralsSupplyData(){const e=Br.getDataset("minerals_supply");if(e&&e.length>0)return e;const r=[{id:"mineral_lithium_001",mineral_type:"lithium",source_country:"Canada",source_mine:"Whabouchi Mine, Quebec",annual_production_tonnes:23e3,reserves_tonnes:12e5,price_usd_per_tonne:75e3,supply_risk_score:3.2,transportation_routes:[{route_id:"route_lithium_001",origin:"Whabouchi, QC",destination:"Port of Montreal",transport_mode:"truck",capacity_tonnes_annual:5e4,risk_factors:["Weather delays","Road conditions"]}],processing_facilities:[{facility_id:"proc_lithium_001",location:"Shawinigan, QC",capacity_tonnes_annual:3e4,processing_stage:"refining"}]},{id:"mineral_nickel_001",mineral_type:"nickel",source_country:"Canada",source_mine:"Sudbury Basin, Ontario",annual_production_tonnes:18e4,reserves_tonnes:35e5,price_usd_per_tonne:18500,supply_risk_score:2.1,transportation_routes:[{route_id:"route_nickel_001",origin:"Sudbury, ON",destination:"Thunder Bay Port",transport_mode:"rail",capacity_tonnes_annual:2e5,risk_factors:["Rail capacity constraints"]}],processing_facilities:[{facility_id:"proc_nickel_001",location:"Sudbury, ON",capacity_tonnes_annual:2e5,processing_stage:"refining"}]},{id:"mineral_copper_001",mineral_type:"copper",source_country:"Canada",source_mine:"Highland Valley Copper, BC",annual_production_tonnes:12e4,reserves_tonnes:28e5,price_usd_per_tonne:8500,supply_risk_score:2.8,transportation_routes:[{route_id:"route_copper_001",origin:"Kamloops, BC",destination:"Port of Vancouver",transport_mode:"rail",capacity_tonnes_annual:15e4,risk_factors:["Port congestion","Weather delays"]}],processing_facilities:[{facility_id:"proc_copper_001",location:"Vancouver, BC",capacity_tonnes_annual:13e4,processing_stage:"refining"}]},{id:"mineral_cobalt_001",mineral_type:"cobalt",source_country:"Canada",source_mine:"Cobalt Hill, Ontario",annual_production_tonnes:4500,reserves_tonnes:85e3,price_usd_per_tonne:35e3,supply_risk_score:4.1,transportation_routes:[{route_id:"route_cobalt_001",origin:"Cobalt, ON",destination:"Port of Montreal",transport_mode:"truck",capacity_tonnes_annual:8e3,risk_factors:["Limited transport capacity","Seasonal access"]}],processing_facilities:[{facility_id:"proc_cobalt_001",location:"Timmins, ON",capacity_tonnes_annual:6e3,processing_stage:"extraction"}]}];return Br.setDataset("minerals_supply",r),r}async getInfrastructureAssets(){const e=Br.getDataset("infrastructure_assets");if(e&&e.length>0)return e;const r=[{id:"asset_transmission_001",asset_type:"transmission_line",name:"Ontario-Quebec Interconnection",location:{latitude:45.4215,longitude:-75.6972,province:"Ontario",municipality:"Ottawa"},capacity_mw:2250,age_years:35,condition_score:7.2,climate_risk_assessment:{flood_risk:"medium",wildfire_risk:"low",extreme_weather_risk:"high",sea_level_rise_risk:"low"},resilience_measures:[{measure_type:"Weather monitoring systems",implementation_status:"completed",cost_cad:25e5,effectiveness_score:8.5},{measure_type:"Underground cable sections",implementation_status:"planned",cost_cad:45e6,effectiveness_score:9.2}]},{id:"asset_generation_001",asset_type:"generation_plant",name:"Robert-Bourassa Generating Station",location:{latitude:53.7886,longitude:-77.4275,province:"Quebec",municipality:"Radisson"},capacity_mw:5616,age_years:45,condition_score:8.8,climate_risk_assessment:{flood_risk:"low",wildfire_risk:"medium",extreme_weather_risk:"medium",sea_level_rise_risk:"low"},resilience_measures:[{measure_type:"Flood protection systems",implementation_status:"completed",cost_cad:12e6,effectiveness_score:9.5},{measure_type:"Backup control systems",implementation_status:"completed",cost_cad:85e5,effectiveness_score:8.8}]},{id:"asset_substation_001",asset_type:"substation",name:"Pickering Transmission Station",location:{latitude:43.8354,longitude:-79.0849,province:"Ontario",municipality:"Pickering"},capacity_mw:1200,age_years:28,condition_score:7.8,climate_risk_assessment:{flood_risk:"high",wildfire_risk:"low",extreme_weather_risk:"high",sea_level_rise_risk:"medium"},resilience_measures:[{measure_type:"Flood barriers",implementation_status:"in_progress",cost_cad:32e5,effectiveness_score:8},{measure_type:"Equipment hardening",implementation_status:"planned",cost_cad:55e5,effectiveness_score:7.5}]},{id:"asset_wind_001",asset_type:"generation_plant",name:"Wolfe Island Wind Farm",location:{latitude:44.1667,longitude:-76.4667,province:"Ontario",municipality:"Frontenac Islands"},capacity_mw:197.8,age_years:15,condition_score:8.5,climate_risk_assessment:{flood_risk:"low",wildfire_risk:"low",extreme_weather_risk:"high",sea_level_rise_risk:"medium"},resilience_measures:[{measure_type:"Wind-resistant turbine design",implementation_status:"completed",cost_cad:18e5,effectiveness_score:9},{measure_type:"Lightning protection systems",implementation_status:"completed",cost_cad:45e4,effectiveness_score:8.2}]},{id:"asset_solar_001",asset_type:"generation_plant",name:"Sarnia Solar Farm",location:{latitude:42.9994,longitude:-82.3089,province:"Ontario",municipality:"Sarnia"},capacity_mw:97,age_years:12,condition_score:8.9,climate_risk_assessment:{flood_risk:"medium",wildfire_risk:"low",extreme_weather_risk:"medium",sea_level_rise_risk:"low"},resilience_measures:[{measure_type:"Hail-resistant panels",implementation_status:"completed",cost_cad:85e4,effectiveness_score:8.7},{measure_type:"Drainage improvements",implementation_status:"completed",cost_cad:32e4,effectiveness_score:7.8}]}];return Br.setDataset("infrastructure_assets",r),r}async updateGridStatus(e,r){const a=(await this.getGridStatus()).map(o=>o.region===e?{...o,...r,timestamp:new Date().toISOString()}:o);Br.setDataset("grid_status",a)}async addMineralSupplySource(e){const r=await this.getMineralsSupplyData();r.push(e),Br.setDataset("minerals_supply",r)}async updateInfrastructureAsset(e,r){const a=(await this.getInfrastructureAssets()).map(o=>o.id===e?{...o,...r}:o);Br.setDataset("infrastructure_assets",a)}async getSupplyChainRiskAnalysis(){const e=await this.getMineralsSupplyData(),r=e.reduce((a,o)=>a+o.supply_risk_score,0)/e.length,n=e.filter(a=>a.supply_risk_score>3.5).map(a=>a.mineral_type);return{overall_risk_score:r,critical_minerals:n,supply_disruption_probability:r*.2,mitigation_recommendations:["Diversify supply sources for critical minerals","Increase strategic reserves for high-risk materials","Develop domestic processing capabilities","Establish alternative transportation routes"]}}async getGridOptimizationRecommendations(){const e=await this.getGridStatus(),r=[{type:"Demand Response Program",description:"Implement smart grid demand response to reduce peak load",impact:"high",implementation_cost:25e6,payback_years:3.2},{type:"Energy Storage Integration",description:"Deploy battery storage to balance renewable intermittency",impact:"high",implementation_cost:45e6,payback_years:5.8},{type:"Grid Modernization",description:"Upgrade transmission infrastructure for better efficiency",impact:"medium",implementation_cost:12e7,payback_years:8.5}],a=e.reduce((o,c)=>o+c.load_mw,0)*.15*8760;return{recommendations:r,potential_savings_mwh:a,reliability_improvement_percent:12.5}}async getClimateResilienceAssessment(){const e=await this.getInfrastructureAssets(),r=e.reduce((o,c)=>o+c.condition_score,0)/e.length,n=e.filter(o=>o.condition_score<7).length,a=e.reduce((o,c)=>o+c.resilience_measures.filter(u=>u.implementation_status!=="completed").reduce((u,d)=>u+d.cost_cad,0),0);return{overall_resilience_score:r,high_risk_assets:n,adaptation_investment_needed:a,priority_actions:["Upgrade flood protection for coastal assets","Implement wildfire prevention measures","Enhance extreme weather monitoring","Develop emergency response protocols"]}}}const yC=as.getInstance(),_0={current_2c:{label:"Current Trajectory (+2°C)",description:"Moderate warming scenario with current policy settings."},high_emissions_4c:{label:"High Emissions (+4°C)",description:"High-risk scenario assuming limited mitigation."},ambitious_1_5c:{label:"Ambitious (+1.5°C)",description:"Aggressive mitigation pathway aligned with Paris targets."}},wA=[10,20,30,50],jA=t=>{switch((t??"").toLowerCase()){case"water_systems":case"water":return Mn.WATER_SYSTEMS;case"transportation":case"transport":return Mn.TRANSPORTATION;case"telecommunications":case"telecom":return Mn.TELECOMMUNICATIONS;case"healthcare":return Mn.HEALTHCARE;case"transmission_line":case"substation":case"generation_plant":case"distribution_center":case"power":case"emergency_services":case"emergency":return Mn.EMERGENCY_SERVICES;case"critical_manufacturing":case"manufacturing":return Mn.CRITICAL_MANUFACTURING;case"financial_services":case"financial":return Mn.FINANCIAL_SERVICES;case"power_grid":case"grid":case"electric":default:return Mn.POWER_GRID}},N0=t=>({[Ut.FLOODING]:Number(t?.flooding??0),[Ut.WILDFIRE]:Number(t?.wildfire??0),[Ut.HURRICANE]:Number(t?.hurricane??0),[Ut.SEA_LEVEL_RISE]:Number(t?.sea_level_rise??0),[Ut.EXTREME_HEAT]:Number(t?.extreme_heat??0),[Ut.DROUGHT]:Number(t?.drought??0),[Ut.LANDSLIDE]:Number(t?.landslide??0),[Ut.EROSION]:Number(t?.erosion??0)}),QG=t=>new Intl.NumberFormat("en-CA",{maximumFractionDigits:0}).format(t),SA=t=>new Intl.NumberFormat("en-CA",{style:"currency",currency:"CAD",maximumFractionDigits:0}).format(t),ZG=()=>{const[t,e]=C.useState([]),[r,n]=C.useState([]),[a,o]=C.useState(""),[c,u]=C.useState("current_2c"),[d,m]=C.useState(20),[p,h]=C.useState(!1),[y,v]=C.useState(null),[j,b]=C.useState(!1),w=C.useCallback(async F=>{const V=await yC.getInfrastructureAssets(),L=(D,W)=>Object.entries(D).reduce((Q,[z,Y])=>(Q[z]=Math.min(100,Math.max(0,Math.round(Y*W))),Q),{}),R=V.map((D,W)=>({asset_uuid:D.id,id:D.id,name:D.name,asset_type:D.asset_type,assetType:jA(D.asset_type),latitude:D.location.latitude,longitude:D.location.longitude,currentValue:D.capacity_mw*1e6,dependents:Math.max(0,Math.round(D.capacity_mw*1200)),currentCondition:D.condition_score,vulnerability_score:null,adaptation_cost:D.resilience_measures?.reduce((Q,z)=>Q+(z.cost_cad??0),0)??null,population_served:null,climate_region:D.location.province})),G=V.flatMap(D=>{const Q=(D.location.province||"").toLowerCase().includes("british columbia")?bA.interiorBC:bA.coastalOntario,z={current_2c:Q,high_emissions_4c:L(Q,1.2),ambitious_1_5c:L(Q,.8)};return Object.entries(z).flatMap(([Y,ie])=>wA.map(fe=>{const Se=1+(fe-20)/40,xe=L(ie,Se);return{asset_id:D.id,scenario:Y,time_horizon_years:fe,flooding:xe[Ut.FLOODING]??0,wildfire:xe[Ut.WILDFIRE]??0,hurricane:xe[Ut.HURRICANE]??0,sea_level_rise:xe[Ut.SEA_LEVEL_RISE]??0,extreme_heat:xe[Ut.EXTREME_HEAT]??0,drought:xe[Ut.DROUGHT]??0,landslide:xe[Ut.LANDSLIDE]??0,erosion:xe[Ut.EROSION]??0,overall_risk:void 0,generated_at:new Date().toISOString()}}))});e(R),n(G),o(D=>D||(R[0]?.asset_uuid??"")),v(F||"Using locally generated resilience dataset while Supabase APIs are unavailable."),b(!0)},[]);C.useEffect(()=>{(async()=>{if(h(!0),v(null),b(!1),!Ur()){await w(),h(!1);return}try{const[V,L]=await Promise.all([Pt(["api-v2-resilience-assets"]),Pt(["api-v2-resilience-hazards"])]),R=(Array.isArray(V.json?.assets)?V.json.assets:Array.isArray(V.json)?V.json:[]).map((D,W)=>{const Q=String(D.asset_uuid??D.id??`asset-${W}`);return{asset_uuid:Q,id:Q,name:D.name??D.asset_name??"Unknown asset",asset_type:D.asset_type??D.type??null,assetType:jA(D.asset_type??D.type),latitude:Number(D.latitude??D.lat??0),longitude:Number(D.longitude??D.lng??0),currentValue:Number(D.current_value??D.valuation??0),dependents:Number(D.dependents??D.population_served??0),currentCondition:Number(D.current_condition??D.condition_score??7),vulnerability_score:D.vulnerability_score??null,adaptation_cost:D.adaptation_cost??null,population_served:D.population_served??null,climate_region:D.climate_region??null}}),G=(Array.isArray(L.json?.hazards)?L.json.hazards:Array.isArray(L.json)?L.json:[]).map(D=>({asset_id:String(D.asset_uuid??D.asset_id??D.asset??""),scenario:String(D.scenario??D.climate_scenario??"current_2c").toLowerCase(),time_horizon_years:Number(D.time_horizon_years??D.time_horizon??20),flooding:D.flooding??0,wildfire:D.wildfire??0,hurricane:D.hurricane??0,sea_level_rise:D.sea_level_rise??0,extreme_heat:D.extreme_heat??0,drought:D.drought??0,landslide:D.landslide??0,erosion:D.erosion??0,overall_risk:D.overall_risk??D.overall_score??0,generated_at:D.generated_at}));e(R),n(G),!a&&R.length>0&&o(R[0].asset_uuid),b(!1)}catch(V){const L=V instanceof Error?V.message:String(V),R=/failed to fetch/i.test(L)||/cors/i.test(L),G=/500/.test(L),D=R?"Supabase Edge denied the resilience request (likely CORS or auth). Using local resilience dataset instead.":G?"API temporarily unavailable. Using local resilience dataset instead.":void 0;R||G?console.warn("ℹ️ Resilience API unavailable, using local data (this is normal in development):",L):console.error("Failed to load resilience datasets",V),await w(D)}finally{h(!1)}})()},[w]);const k=C.useMemo(()=>t.find(F=>F.asset_uuid===a)??null,[t,a]),S=C.useMemo(()=>{if(!k)return null;const F=k.asset_uuid;return r.find(V=>V.asset_id===F&&V.scenario===c&&V.time_horizon_years===d)??null},[r,k,c,d]),O=C.useMemo(()=>N0(S),[S]),P=C.useMemo(()=>{if(!k)return null;const F={id:k.asset_uuid,name:k.name,assetType:k.assetType,currentCondition:k.currentCondition,latitude:k.latitude,longitude:k.longitude,criticalDependents:Math.max(k.dependents??k.population_served??0,0)},V=S0.assessOverallResilience(F,O);return{asset:k,hazardRecord:O,assessment:V}},[k,O]),N=C.useMemo(()=>Object.entries(P?.hazardRecord??{}).map(([F,V])=>({hazard:F.replace(/_/g," ").toUpperCase(),risk:V})),[P]),A=C.useMemo(()=>t.map(F=>{const V=r.find(Q=>Q.asset_id===F.asset_uuid&&Q.scenario===c&&Q.time_horizon_years===d),L=N0(V),R={id:F.asset_uuid,name:F.name,assetType:F.assetType,currentCondition:F.currentCondition,latitude:F.latitude,longitude:F.longitude,criticalDependents:Math.max(F.dependents??F.population_served??0,0)},G=S0.assessOverallResilience(R,L),D=F.asset_type??F.assetType,W=typeof D=="string"?D:F.assetType;return{x:F.longitude,y:F.latitude,risk:G.overallScore,name:F.name,type:W.toString().replace(/_/g," ").toUpperCase()}}).filter(F=>Number.isFinite(F.x)&&Number.isFinite(F.y)),[t,r,c,d]),T=C.useMemo(()=>k?Object.entries(_0).map(([F,V])=>{const L=r.find(W=>W.asset_id===k.asset_uuid&&W.scenario===F&&W.time_horizon_years===d),R=N0(L),G={id:k.asset_uuid,name:k.name,assetType:k.assetType,currentCondition:k.currentCondition,latitude:k.latitude,longitude:k.longitude,criticalDependents:Math.max(k.dependents??k.population_served??0,0)},D=S0.assessOverallResilience(G,R);return{scenario:V.label,risk:D.overallScore}}):[],[k,r,d]);if(p)return s.jsx("div",{className:"flex items-center justify-center min-h-[320px]",children:s.jsx("span",{className:"text-slate-600",children:"Loading resilience insights…"})});if(!P||!k)return s.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[320px] space-y-3",children:[s.jsx(zr,{className:"h-10 w-10 text-slate-400"}),s.jsx("span",{className:"text-slate-600",children:"No resilience data available yet."}),y&&s.jsx("span",{className:"text-sm text-red-600",children:y})]});const $=Math.max(P.asset.dependents??P.asset.population_served??0,0),I=P.asset.currentValue>0?P.asset.currentValue*.1:0,B=P.asset.currentValue>0?P.asset.currentValue*.3:0,M=_0[c],q=YG.getRiskLevelInfo(P.assessment.riskLevel);return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-slate-200",children:[s.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[s.jsx("div",{className:"bg-red-500 p-3 rounded-lg",children:s.jsx(zr,{className:"h-8 w-8 text-white"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Infrastructure Resilience Map"}),s.jsx("p",{className:"text-slate-600",children:"Live risk assessments across climate scenarios for critical energy infrastructure."})]})]}),y&&s.jsx("div",{className:`${j?"bg-amber-50 border border-amber-200 text-amber-700":"bg-red-50 border border-red-200 text-red-700"} rounded-lg p-3 mb-4`,children:y}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Climate Scenario"}),s.jsx("select",{value:c,onChange:F=>u(F.target.value),className:"w-full border border-slate-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500",children:Object.entries(_0).map(([F,V])=>s.jsx("option",{value:F,children:V.label},F))}),M&&s.jsx("p",{className:"text-xs text-slate-500 mt-1",children:M.description})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Time Horizon"}),s.jsx("select",{value:d,onChange:F=>m(Number(F.target.value)),className:"w-full border border-slate-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500",children:wA.map(F=>s.jsxs("option",{value:F,children:[F," Years"]},F))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Critical Asset"}),s.jsx("select",{value:a,onChange:F=>o(F.target.value),className:"w-full border border-slate-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500",children:t.map(F=>s.jsx("option",{value:F.asset_uuid,children:F.name},F.asset_uuid))})]})]}),s.jsx("div",{className:"bg-slate-50 rounded-lg p-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-slate-800",children:P.assessment.overallScore}),s.jsx("div",{className:"text-sm text-slate-600",children:"Risk Score"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:`text-xl font-semibold ${q.className}`,children:q.description}),s.jsx("div",{className:"text-sm text-slate-600",children:"Risk Level"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-slate-800",children:QG($)}),s.jsx("div",{className:"text-sm text-slate-600",children:"People Dependent"})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200",children:[s.jsx("div",{className:"p-4 border-b border-slate-200",children:s.jsxs("h3",{className:"text-lg font-semibold text-slate-800 flex items-center",children:[s.jsx(va,{className:"h-5 w-5 mr-2 text-blue-600"}),"Infrastructure Vulnerability Map"]})}),s.jsx("div",{className:"p-4",children:s.jsxs("div",{className:"bg-slate-100 rounded-lg p-6 space-y-2",children:[A.length===0&&s.jsx("div",{className:"text-center text-slate-500 text-sm",children:"No geographic data available."}),A.map((F,V)=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg",style:{borderLeft:`4px solid ${F.risk>=80?"#ef4444":F.risk>=60?"#f97316":F.risk>=40?"#f59e0b":"#22c55e"}`},children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-slate-800",children:F.name}),s.jsx("div",{className:"text-sm text-slate-600",children:F.type})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"font-semibold text-slate-800",children:F.risk}),s.jsx("div",{className:"text-xs text-slate-500",children:"Risk Score"})]})]},`${F.name}-${V}`))]})})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200",children:[s.jsx("div",{className:"p-4 border-b border-slate-200",children:s.jsxs("h3",{className:"text-lg font-semibold text-slate-800 flex items.CENTER",children:[s.jsx(pt,{className:"h-5 w-5 mr-2 text-purple-600"}),"Scenario Comparison"]})}),s.jsxs("div",{className:"p-4",children:[s.jsx(St,{width:"100%",height:250,children:s.jsxs(zs,{data:T,children:[s.jsx(Tt,{strokeDasharray:"3 3"}),s.jsx(lt,{dataKey:"scenario"}),s.jsx(at,{domain:[0,100]}),s.jsx(We,{}),s.jsx(ir,{type:"monotone",dataKey:"risk",stroke:"#8b5cf6",strokeWidth:3,dot:{r:6}})]})}),s.jsxs("div",{className:"mt-2 text-sm text-slate-600",children:["Risk scores for ",P.asset.name," across climate scenarios at ",d," years."]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200",children:[s.jsx("div",{className:"p-4 border-b border-slate-200",children:s.jsxs("h3",{className:"text-lg font-semibold text-slate-800 flex items-center",children:[s.jsx(CA,{className:"h-5 w-5 mr-2 text-green-600"}),"AI Resilience Insights"]})}),s.jsxs("div",{className:"p-4 space-y-3",children:[s.jsxs("div",{className:"bg-green-50 p-3 rounded-lg",children:[s.jsx("div",{className:"font-medium text-green-800 mb-1",children:"Priority Reconnections"}),s.jsx("div",{className:"text-sm text-green-700",children:P.assessment.riskLevel==="high"||P.assessment.riskLevel==="critical"?`Immediate resilience investment recommended for ${P.asset.name}. Prioritise redundancy, flood-hardening, and rapid response plans.`:"Risk is manageable; maintain monitoring cadence and schedule preventative maintenance."})]}),s.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg",children:[s.jsx("div",{className:"font-medium text-blue-800 mb-1",children:"Adaptation Budget Envelope"}),s.jsxs("div",{className:"text-sm text-blue-700",children:["Estimated adaptation cost range: ",SA(I)," – ",SA(B)," ","over ",d," years."]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 xl:col-span-3",children:[s.jsx("div",{className:"p-4 border-b border-slate-200",children:s.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:"Climate Hazard Breakdown"})}),s.jsx("div",{className:"p-4",children:s.jsx(St,{width:"100%",height:300,children:s.jsxs(Oa,{data:N,children:[s.jsx(Tt,{strokeDasharray:"3 3"}),s.jsx(lt,{dataKey:"hazard",angle:-35,textAnchor:"end",height:80}),s.jsx(at,{domain:[0,100]}),s.jsx(We,{}),s.jsx(or,{}),s.jsx(Wt,{dataKey:"risk",fill:"#ef4444"})]})})})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 xl:col-span-3",children:[s.jsx("div",{className:"p-4 border-b border-slate-200",children:s.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:"Hazard Hotspots"})}),s.jsxs("div",{className:"p-4",children:[s.jsx(St,{width:"100%",height:320,children:s.jsxs(ub,{children:[s.jsx(Tt,{strokeDasharray:"3 3"}),s.jsx(lt,{dataKey:"x",name:"Longitude",unit:"°"}),s.jsx(at,{dataKey:"y",name:"Latitude",unit:"°"}),s.jsx(We,{cursor:{strokeDasharray:"3 3"}}),s.jsx(or,{}),s.jsx(bi,{name:"Assets",data:A,fill:"#f97316"})]})}),s.jsx("div",{className:"mt-2 text-sm text-slate-500",children:"Risk hotspot map derived from Supabase resilience assessments (higher values indicate greater risk)."})]})]})]})]})};var ht=(t=>(t.CLIMATE_TECH="climate_technology",t.ENERGY_STORAGE="energy_storage",t.RENEWABLE_ENERGY="renewable_energy",t.GRID_MANAGEMENT="grid_management",t.CARBON_CAPTURE="carbon_capture",t.MATERIAL_SCIENCE="material_science",t.DIGITAL_TWINS="digital_twins",t.AI_ML="ai_ml",t.HYDROGEN_TECH="hydrogen_technology",t))(ht||{});class JG{assessTechnologyReadiness(e,r){const a={climate_technology:{research:.25,development:.3,validation:.3,commercial:.15},energy_storage:{research:.2,development:.25,validation:.35,commercial:.2},renewable_energy:{research:.15,development:.2,validation:.25,commercial:.4},grid_management:{research:.2,development:.25,validation:.3,commercial:.25},carbon_capture:{research:.3,development:.25,validation:.25,commercial:.2},material_science:{research:.35,development:.3,validation:.25,commercial:.1},digital_twins:{research:.15,development:.3,validation:.3,commercial:.25},ai_ml:{research:.2,development:.3,validation:.25,commercial:.25},hydrogen_technology:{research:.25,development:.3,validation:.25,commercial:.2}}[r],o=this.calculateResearchReadiness(e.publications||0,e.patentsFiled||0,e.yearsOfDevelopment||0),c=this.calculateDevelopmentReadiness(e.prototypesBuilt||0,e.pilotProjects||0,(e.certifications?.length||0)+(e.regulatoryApprovals?.length||0)),u=this.calculateValidationReadiness(e.pilotProjects||0,e.partnerships||0,e.fundingSecured||0),d=this.calculateCommercialReadiness(e.commercialDeployments||0,e.fundingSecured||0,e.partnerships||0),m=o*a.research+c*a.development+u*a.validation+d*a.commercial,p=this.mapScoreToTRL(m),h=this.calculateConfidence(e,m);return{innovationId:this.generateInnovationId(e.name),innovationName:e.name,category:r,trlScore:p,confidence:Math.round(h*10)/10,lastAssessed:new Date().toISOString(),assessor:"TRL Assessment Engine",evidenceDescription:this.generateEvidenceDescription(o,c,u,d)}}calculateResearchReadiness(e,r,n){const a=Math.min(e/10,1)*.3,o=Math.min(r/5,1)*.3,c=Math.min(n/5,1)*.4;return a+o+c}calculateDevelopmentReadiness(e,r,n){const a=Math.min(e/3,1)*.4,o=Math.min(r/2,1)*.4,c=Math.min(n/5,1)*.2;return a+o+c}calculateValidationReadiness(e,r,n){const a=Math.min(e/3,1)*.4,o=Math.min(r/5,1)*.3,c=Math.min(n/1e7,1)*.3;return a+o+c}calculateCommercialReadiness(e,r,n){const a=Math.min(e/10,1)*.5,o=Math.min(r/5e7,1)*.3,c=Math.min(n/10,1)*.2;return a+o+c}mapScoreToTRL(e){return e>=.9?9:e>=.75?8:e>=.6?7:e>=.45?6:e>=.35?5:e>=.25?4:e>=.15?3:e>=.05?2:1}calculateConfidence(e,r){let n=0;e.publications>0&&(n+=.2),e.patentsFiled>0&&(n+=.2),e.prototypesBuilt>0&&(n+=.2),e.pilotProjects>0&&(n+=.15),e.commercialDeployments>0&&(n+=.15),e.fundingSecured>0&&(n+=.1);const a=Math.min(n+.3,1),o=Math.max(.8-Math.abs(.5-r)*1.6,.4);return(a+o)/2}generateInnovationId(e){const r=Date.now().toString(36);return`inn_${e.toLowerCase().replace(/[^a-z0-9]/g,"").substring(0,8)}_${r}`}generateEvidenceDescription(e,r,n,a){const o=[];return e>.3&&o.push("strong research foundation"),r>.3&&o.push("robust development progress"),n>.3&&o.push("comprehensive validation"),a>.2&&o.push("commercial readiness"),o.length>0?`Assessment based on: ${o.join(", ")}`:"Limited evidence available for comprehensive assessment"}analyzeMarketOpportunity(e){const r=this.assessMarketMaturity(e.trlScore,e.category),n=this.estimateMarketSize(e.targetMarket,e.category,e.trlScore),a=this.calculateGrowthRate(e.growthProjections,e.category,r),o=Math.min(e.competitiveFactor+(e.category==="ai_ml"?2:0),10),c=this.determineCommercializationPath(e.trlScore,r,o),u=this.identifyBarriersToEntry(e.trlScore,e.competitorCount,e.category),d=this.assessFundingReadiness(e.trlScore,o,e.fundingRequirements),m=this.estimateTimeframeToMarket(e.trlScore,d);return{innovationId:e.innovationId,marketSize:n,growthRate:a,competitiveAdvantage:o,fundingReadiness:d,commercializationPath:c,barriersToEntry:u,estimatedTimeframe:m}}assessMarketMaturity(e,r){const a={ai_ml:8,digital_twins:7,grid_management:6,energy_storage:6,renewable_energy:7,climate_technology:5,carbon_capture:4,material_science:6,hydrogen_technology:4}[r],o=(e-1)/9*2,c=a+o;return c>=8?"mainstream":c>=6?"established":c>=4?"early_adoption":"emerging"}estimateMarketSize(e,r,n){const o={ai_ml:500,renewable_energy:2e3,energy_storage:200,carbon_capture:50,material_science:150,climate_technology:300,digital_twins:20,grid_management:100,hydrogen_technology:25}[r]||100,c=.1+n/10;return Math.round(o*c*1e9)}calculateGrowthRate(e,r,n){if(Object.keys(e).length>0){const o=Math.max(...Object.keys(e).map(c=>parseInt(c)));return e[o.toString()]||15}return{emerging:25,early_adoption:20,established:15,mainstream:8}[n]}determineCommercializationPath(e,r,n){return e>=8?r==="mainstream"?"Direct market entry, competitive differentiation":"Strategic partnerships, pilot program expansion":e>=6?n>=8?"First-to-market opportunity, premium pricing":"Partnerships with early adopters, proof-of-concept projects":e>=4?"Facilitated development partnerships, government funding":"Research partnerships, mentorship programs"}identifyBarriersToEntry(e,r,n){const a=[];return e<5&&(a.push("Economic viability not proven"),a.push("Technology scalability concerns")),r>10&&a.push("High competition in target market"),["carbon_capture","hydrogen_technology"].includes(n)&&(a.push("High capital intensity"),a.push("Infrastructure dependencies")),n==="ai_ml"&&(a.push("Data availability and quality"),a.push("Regulatory compliance (privacy, bias)")),a}assessFundingReadiness(e,r,n){const a=e/9,o=r/10,c=n>5e7?.8:Math.min(1,5e7/n);return Math.round((a*.4+o*.4+c*.2)*10)}estimateTimeframeToMarket(e,r){const a=(9-e)*3,o=r>=7?-6:0,c=24+a+o;return c<=24?"1-2 years":c<=36?"2-3 years":c<=60?"3-5 years":"5+ years"}}const eV=new JG,k0=[{name:"Hydrogen Blend Technology",description:"Advanced hydrogen blending system for existing natural gas infrastructure",patentsFiled:8,prototypesBuilt:3,pilotProjects:2,commercialDeployments:1,regulatoryApprovals:["CSA Approval","UL Certification"],fundingSecured:45e5,publications:12,certifications:["ISO 9001","CSA Standards"],partnerships:4,yearsOfDevelopment:4},{name:"AI Grid Optimizer",description:"Machine learning system for predictive grid load balancing",patentsFiled:5,prototypesBuilt:2,pilotProjects:3,commercialDeployments:0,regulatoryApprovals:["NERC Compliance"],fundingSecured:32e5,publications:8,certifications:["ISO 27001"],partnerships:2,yearsOfDevelopment:3},{name:"Carbon Capture Membrane",description:"Next-generation membrane technology for industrial CO2 capture",patentsFiled:12,prototypesBuilt:4,pilotProjects:1,commercialDeployments:0,regulatoryApprovals:[],fundingSecured:85e5,publications:15,certifications:["API 661","ASME Standards"],partnerships:6,yearsOfDevelopment:5},{name:"Smart Battery Materials",description:"Nanostructured materials for enhanced battery performance and lifespan",patentsFiled:6,prototypesBuilt:5,pilotProjects:1,commercialDeployments:2,regulatoryApprovals:["UN Transport Test"],fundingSecured:62e5,publications:9,certifications:["IEC 62619"],partnerships:3,yearsOfDevelopment:4},{name:"Digital Twin Framework",description:"Comprehensive digital twin platform for energy infrastructure management",patentsFiled:3,prototypesBuilt:1,pilotProjects:2,commercialDeployments:0,regulatoryApprovals:[],fundingSecured:29e5,publications:5,certifications:["ISO 18435"],partnerships:1,yearsOfDevelopment:2}],tV=[ht.CLIMATE_TECH,ht.ENERGY_STORAGE,ht.RENEWABLE_ENERGY,ht.GRID_MANAGEMENT,ht.CARBON_CAPTURE,ht.MATERIAL_SCIENCE,ht.DIGITAL_TWINS,ht.AI_ML,ht.HYDROGEN_TECH],rV=()=>{const[t,e]=C.useState(""),[r,n]=C.useState("all"),[a,o]=C.useState(null),[c,u]=C.useState(!1),[d,m]=C.useState(new Map),[p,h]=C.useState(!1),[y,v]=C.useState("");C.useEffect(()=>{(async()=>{u(!0);const O=new Map;for(const P of k0)try{const N=P.name.includes("Hydrogen")?ht.HYDROGEN_TECH:P.name.includes("AI")?ht.AI_ML:P.name.includes("Carbon")?ht.CARBON_CAPTURE:P.name.includes("Battery")?ht.ENERGY_STORAGE:P.name.includes("Digital")?ht.DIGITAL_TWINS:ht.CLIMATE_TECH,A=eV.assessTechnologyReadiness(P,N);O.set(P.name,A)}catch(N){console.error(`Error evaluating TRL for ${P.name}:`,N)}m(O),u(!1)})()},[]);const j=S=>S.name.includes("Hydrogen")?ht.HYDROGEN_TECH:S.name.includes("AI")?ht.AI_ML:S.name.includes("Carbon")?ht.CARBON_CAPTURE:S.name.includes("Battery")?ht.ENERGY_STORAGE:S.name.includes("Digital")?ht.DIGITAL_TWINS:ht.CLIMATE_TECH,b=k0.filter(S=>{const O=t===""||S.name.toLowerCase().includes(t.toLowerCase())||S.description.toLowerCase().includes(t.toLowerCase()),P=r==="all"||j(S)===r;return O&&P}),w=S=>S>=7?"bg-green-100 text-green-800":S>=5?"bg-blue-100 text-blue-800":S>=3?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800",k=C.useCallback(async S=>{h(!0),v("Generating pitch document..."),await new Promise(N=>setTimeout(N,2e3));const O=d.get(S.name),P=`
## ${S.name}

**Executive Summary**
${S.description}

**Technology Maturity (TRL ${O?.trlScore||"?"})**
${O?.evidenceDescription||"Technology maturity assessment in progress"}

**Market Opportunity**
- Addressable market: $500M+ opportunity
- Growth potential: 25% CAGR projected
- Competitive advantages: Innovative technology, proven prototypes

**Funding & Deployment**
- Funding secured: $${S.fundingSecured?.toLocaleString()||"0"}
- Pilot projects completed: ${S.pilotProjects||0}
- Commercial deployments: ${S.commercialDeployments||0}

**Team & Partnerships**
- Years of R&D: ${S.yearsOfDevelopment||0} years
- Strategic partnerships: ${S.partnerships||0} organizations
- Patents filed: ${S.patentsFiled||0}

**Next Steps**
1. Scale pilot deployments
2. Secure Series A funding
3. International market entry
4. Technology licensing opportunities

**Contact for Investment Opportunities**
[Investment inquiry details available upon request]
`;v(P)},[d]);return c&&d.size===0?s.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(pt,{className:"h-6 w-6 animate-spin text-blue-600"}),s.jsx("span",{className:"text-slate-600",children:"Evaluating technology readiness..."})]})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-slate-200",children:[s.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[s.jsx("div",{className:"bg-purple-500 p-3 rounded-lg",children:s.jsx(Dd,{className:"h-8 w-8 text-white"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Energy Innovation Hub"}),s.jsx("p",{className:"text-slate-600",children:"TRL assessment and investment readiness evaluation"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx("div",{className:"md:col-span-2",children:s.jsxs("div",{className:"relative",children:[s.jsx(i3,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 h-4 w-4"}),s.jsx("input",{type:"text",placeholder:"Search innovations...",value:t,onChange:S=>e(S.target.value),className:"pl-10 w-full border border-slate-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]})}),s.jsx("div",{children:s.jsxs("select",{value:r,onChange:S=>n(S.target.value),className:"w-full border border-slate-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-purple-500",children:[s.jsx("option",{value:"all",children:"All Categories"}),tV.map(S=>s.jsx("option",{value:S,children:S.replace("_"," ").toUpperCase()},S))]})}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"text-sm text-slate-600",children:"Results:"}),s.jsx("span",{className:"font-semibold text-slate-800",children:b.length})]})]})]}),s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:b.map(S=>{const O=d.get(S.name),P=j(S);return s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:[s.jsxs("div",{className:"p-4 border-b border-slate-200",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-1",children:S.name}),s.jsxs("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${w(O?.trlScore||1)}`,children:["TRL ",O?.trlScore||"?"]})]}),s.jsxs("div",{className:"text-right text-xs text-slate-500",children:[S.yearsOfDevelopment,"y dev"]})]}),s.jsx("p",{className:"text-sm text-slate-600 line-clamp-2 mb-3",children:S.description}),s.jsxs("div",{className:"flex items-center justify-between text-xs",children:[s.jsx("span",{className:"text-slate-500",children:P.replace("_"," ").toUpperCase()}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(ax,{className:"h-3 w-3 text-yellow-500"}),s.jsxs("span",{children:[S.patentsFiled," patents"]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 p-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-lg font-bold text-green-600",children:["$",S.fundingSecured?.toLocaleString()||"0"]}),s.jsx("div",{className:"text-xs text-slate-500",children:"Funding Secured"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-lg font-bold text-blue-600",children:S.partnerships}),s.jsx("div",{className:"text-xs text-slate-500",children:"Partners"})]})]}),s.jsxs("div",{className:"px-4 pb-4 space-y-2",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[s.jsx("span",{children:"Prototypes"}),s.jsxs("span",{children:[S.prototypesBuilt,"/5"]})]}),s.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2",children:s.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${S.prototypesBuilt/5*100}%`}})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[s.jsx("span",{children:"Pilots"}),s.jsxs("span",{children:[S.pilotProjects,"/3"]})]}),s.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2",children:s.jsx("div",{className:"bg-purple-500 h-2 rounded-full",style:{width:`${S.pilotProjects/3*100}%`}})})]})]}),s.jsx("div",{className:"p-4 bg-slate-50 border-t border-slate-200",children:s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>o(S.name),className:"flex-1 text-sm bg-blue-600 text-white rounded px-3 py-2 hover:bg-blue-700 transition-colors",children:"View Details"}),s.jsx("button",{onClick:()=>k(S),className:"flex-1 text-sm bg-green-600 text-white rounded px-3 py-2 hover:bg-green-700 transition-colors",children:"Generate Pitch"})]})})]},S.name)})}),p&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-xl max-w-4xl w-full max-h-[80vh] overflow-hidden",children:[s.jsx("div",{className:"p-6 border-b border-slate-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Investment Pitch Document"}),s.jsx("button",{onClick:()=>h(!1),className:"text-slate-400 hover:text-slate-600",children:s.jsx(pt,{className:"h-6 w-6"})})]})}),s.jsx("div",{className:"p-6 overflow-y-auto max-h-96",children:s.jsx("pre",{className:"whitespace-pre-wrap font-mono text-sm text-slate-800",children:y})}),s.jsx("div",{className:"p-6 bg-slate-50 border-t border-slate-200",children:s.jsxs("div",{className:"flex justify-between",children:[s.jsx("button",{onClick:()=>h(!1),className:"px-4 py-2 text-slate-600 hover:text-slate-800",children:"Close"}),s.jsx("button",{className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700",children:"Download PDF"})]})})]})}),a&&s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-slate-200 overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Technology Details"}),s.jsx("button",{onClick:()=>o(null),className:"text-slate-400 hover:text-slate-600",children:s.jsx(pt,{className:"h-6 w-6"})})]}),(()=>{const S=k0.find(P=>P.name===a),O=d.get(a);return S?s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",children:S.name}),s.jsx("p",{className:"text-slate-600 mb-4",children:S.description}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-slate-600",children:"TRL Score:"}),s.jsx("span",{className:"font-semibold",children:O?.trlScore||"?"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-slate-600",children:"Confidence:"}),s.jsxs("span",{className:"font-semibold",children:[O?.confidence||"0","%"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-slate-600",children:"Funding Secured:"}),s.jsxs("span",{className:"font-semibold",children:["$",S.fundingSecured?.toLocaleString()||"0"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-slate-600",children:"Publications:"}),s.jsx("span",{className:"font-semibold",children:S.publications})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold mb-3",children:"Evidence Description"}),s.jsx("p",{className:"text-sm text-slate-700 bg-blue-50 p-3 rounded-lg",children:O?.evidenceDescription||"Assessment in progress"}),s.jsxs("div",{className:"mt-4",children:[s.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Regulatory & Certifications"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:[...S.regulatoryApprovals||[],...S.certifications||[]].map((P,N)=>s.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full",children:P},N))})]})]})]}):s.jsx("div",{children:"Innovation not found"})})()]})]})};function _f(t){const[e,r]=C.useState([]),[n,a]=C.useState("disconnected"),[o,c]=C.useState(null),[u,d]=C.useState(!1),[m,p]=C.useState(null),[h,y]=C.useState([]),v=C.useMemo(()=>`consultation-${t}`,[t]);C.useEffect(()=>(p(null),console.log("🧪 WebSocket disabled by flag VITE_ENABLE_WEBSOCKET=false, skipping connect for",v),a("disconnected"),d(!1),c(null),()=>{}),[t,v]);const j=C.useCallback((k,S="message")=>{if(!u){console.warn("WebSocket not connected");return}const O={type:"consultation_message",payload:{content:k,messageType:S,consultationId:t},timestamp:new Date().toISOString(),senderId:"user",consultationId:t};ul.sendWebSocketMessage(v,O)},[u,t,v]),b=C.useCallback(k=>{if(!u)return;const S={type:"typing_indicator",payload:{isTyping:k,consultationId:t},timestamp:new Date().toISOString(),senderId:"user",consultationId:t};ul.sendWebSocketMessage(v,S)},[u,t,v]),w=C.useCallback(k=>{if(!u)return;const S={type:"consultation_status_update",payload:{status:k,consultationId:t},timestamp:new Date().toISOString(),senderId:"user",consultationId:t};ul.sendWebSocketMessage(v,S)},[u,t,v]);return{messages:e,connectionStatus:n,isConnected:u,error:m,participants:h,sendMessage:j,sendTypingIndicator:b,updateConsultationStatus:w,connection:o}}const nV=({territories:t=[],mapPoints:e=[],config:r={},onPointClick:n,onTerritoryClick:a,className:o=""})=>{const[c,u]=C.useState(null),[d,m]=C.useState(null),[p,h]=C.useState(null),[y,v]=C.useState({center:[-95,55],zoom:4,bounds:[[40,-140],[85,-50]],showBoundaries:!0,showPoints:!0,showLabels:!0,theme:"light",...r}),j=C.useRef(null),[b,w]=C.useState({width:800,height:600});C.useEffect(()=>{const B=()=>{if(j.current){const M=j.current.getBoundingClientRect();w({width:M.width,height:M.height})}};return B(),window.addEventListener("resize",B),()=>window.removeEventListener("resize",B)},[]);const k=(B,M)=>{const q=y.zoom*10,F=b.width/2+(M-y.center[1])*q,V=b.height/2+(y.center[0]-B)*q;return[F,V]},S=B=>{const M=B[0]??[];return M.length===0?"":M.map((q,F)=>{const[V,L]=k(q[1],q[0]);return F===0?`M ${V} ${L}`:`L ${V} ${L}`}).join("")+"Z"},O=B=>{if(!B)return[];const[M,q]=B,F=1.2;return[[[q-F,M+F],[q+F,M+F],[q+F,M-F],[q-F,M-F],[q-F,M+F]]]},P=B=>B.coordinates&&B.coordinates.length>0?B.coordinates:O(B.centroid),N=(B,M)=>{const q=M[0];if(q&&q.length>0){const F=q.reduce((L,R)=>L+R[1],0)/q.length,V=q.reduce((L,R)=>L+R[0],0)/q.length;return k(F,V)}if(B.centroid){const[F,V]=B.centroid;return k(F,V)}return k(y.center[0],y.center[1])},A=B=>{switch(B){case"completed":return"#10b981";case"ongoing":return"#f59e0b";case"pending":return"#ef4444";case"not_started":return"#6b7280";default:return"#3b82f6"}},T=B=>{switch(B){case"consultation":return"📋";case"land_right":return"🏔️";case"cultural":return"🎭";case"stakeholder":return"👥";default:return"📍"}},$=(B,M)=>{M.stopPropagation(),m(B),u(null),n?.(B)},I=(B,M)=>{M.stopPropagation(),u(B),m(null),a?.(B)};return s.jsxs("div",{className:`territorial-map-container ${o}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-4 p-4 bg-white rounded-lg shadow",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"flex items-center space-x-2",children:s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:y.showBoundaries,onChange:B=>v(M=>({...M,showBoundaries:B.target.checked})),className:"mr-2"}),s.jsx("span",{className:"text-sm",children:"Boundaries"})]})}),s.jsx("div",{className:"flex items-center space-x-2",children:s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:y.showPoints,onChange:B=>v(M=>({...M,showPoints:B.target.checked})),className:"mr-2"}),s.jsx("span",{className:"text-sm",children:"Points"})]})}),s.jsx("div",{className:"flex items-center space-x-2",children:s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:y.showLabels,onChange:B=>v(M=>({...M,showLabels:B.target.checked})),className:"mr-2"}),s.jsx("span",{className:"text-sm",children:"Labels"})]})})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Zoom:"}),s.jsx("input",{type:"range",min:"1",max:"8",value:y.zoom,onChange:B=>v(M=>({...M,zoom:parseInt(B.target.value)})),className:"w-20"})]})]}),s.jsxs("div",{className:"relative bg-slate-100 rounded-lg overflow-hidden shadow-inner border border-slate-200",children:[s.jsxs("svg",{ref:j,width:"100%",height:"500",viewBox:`0 0 ${b.width} ${b.height}`,className:"bg-slate-50",onClick:()=>{u(null),m(null)},children:[y.showBoundaries&&t.map(B=>{const M=P(B);if(!M||M.length===0)return null;const[q,F]=N(B,M);return s.jsxs("g",{children:[s.jsx("path",{d:S(M),fill:A(B.consultationStatus),fillOpacity:"0.3",stroke:A(B.consultationStatus),strokeWidth:"2",className:"cursor-pointer hover:fill-opacity-50 transition-all",onClick:V=>I(B,V),onMouseEnter:()=>h(B),onMouseLeave:()=>h(null)}),y.showLabels&&s.jsx("text",{x:q,y:F,textAnchor:"middle",dominantBaseline:"middle",className:"fill-slate-700 text-sm font-medium pointer-events-none select-none",style:{fontSize:"12px"},children:B.name})]},B.id)}),y.showPoints&&e.map(B=>{const[M,q]=k(B.lat,B.lng);return s.jsxs("g",{className:"cursor-pointer",onClick:F=>$(B,F),children:[s.jsx("circle",{cx:M,cy:q,r:"8",fill:A(B.status||"pending"),stroke:"white",strokeWidth:"2",className:"hover:r-10 transition-all"}),s.jsx("text",{x:M,y:q,textAnchor:"middle",dominantBaseline:"middle",className:"text-lg pointer-events-none select-none",style:{fontSize:"12px",filter:"drop-shadow(1px 1px 2px rgba(0,0,0,0.3))"},children:T(B.type)})]},B.id)})]}),(p||c)&&s.jsxs("div",{className:"absolute top-4 right-4 bg-white p-4 rounded-lg shadow-lg border max-w-xs",children:[s.jsx("h3",{className:"font-bold text-slate-800 mb-2",children:(c||p)?.name}),(c||p)&&s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-slate-600",children:"Status:"}),s.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${(c||p)?.consultationStatus==="completed"?"bg-green-100 text-green-800":(c||p)?.consultationStatus==="ongoing"?"bg-yellow-100 text-yellow-800":(c||p)?.consultationStatus==="pending"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:(c||p)?.consultationStatus?.replace("_"," ").toUpperCase()})]}),(()=>{const M=(c||p)?.metadata;if(!M)return null;const q=M.indigenousGroups??[];return s.jsxs(s.Fragment,{children:[typeof M.area=="number"&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-slate-600",children:"Area:"}),s.jsxs("span",{children:[M.area.toLocaleString()," km²"]})]}),typeof M.population=="number"&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-slate-600",children:"Population:"}),s.jsx("span",{children:M.population.toLocaleString()})]}),q.length>0&&s.jsxs("div",{children:[s.jsx("span",{className:"text-slate-600 text-xs",children:"Indigenous Groups:"}),s.jsxs("div",{className:"mt-1 flex flex-wrap gap-1",children:[q.slice(0,3).map((F,V)=>s.jsx("span",{className:"bg-slate-100 text-slate-700 text-xs px-2 py-1 rounded",children:F},V)),q.length>3&&s.jsxs("span",{className:"text-slate-500 text-xs",children:["+",q.length-3," more"]})]})]})]})})()]})]}),d&&s.jsxs("div",{className:"absolute bottom-4 right-4 bg-white p-4 rounded-lg shadow-lg border max-w-xs",children:[s.jsxs("h4",{className:"font-bold text-slate-800 mb-2 flex items-center",children:[s.jsx("span",{className:"mr-2",children:T(d.type)}),d.title]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-slate-600",children:"Type:"}),s.jsx("span",{className:"capitalize",children:d.type.replace("_"," ")})]}),d.status&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-slate-600",children:"Status:"}),s.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${d.status==="completed"?"bg-green-100 text-green-800":d.status==="active"?"bg-blue-100 text-blue-800":d.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:d.status.toUpperCase()})]}),d.description&&s.jsxs("div",{children:[s.jsx("span",{className:"text-slate-600",children:"Description:"}),s.jsx("p",{className:"mt-1 text-slate-700",children:d.description})]})]})]}),s.jsxs("div",{className:"absolute bottom-4 left-4 bg-white p-3 rounded-lg shadow border",children:[s.jsx("h5",{className:"font-semibold text-slate-800 mb-2",children:"Legend"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-3 h-3 bg-green-500 rounded"}),s.jsx("span",{children:"Completed"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded"}),s.jsx("span",{children:"Ongoing"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-3 h-3 bg-red-500 rounded"}),s.jsx("span",{children:"Pending"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-3 h-3 bg-gray-500 rounded"}),s.jsx("span",{children:"Not Started"})]})]})]})]}),t.length===0&&e.length===0&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-slate-100 bg-opacity-80",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-4xl mb-4",children:"🗺️"}),s.jsx("h3",{className:"text-lg font-semibold text-slate-700 mb-2",children:"No Territory Data"}),s.jsx("p",{className:"text-slate-600",children:"Map data is being loaded..."})]})})]})},rc={iesoStreaming:{id:"ieso_streaming",name:"IESO Real-Time Data",status:"production_ready",rating:4.9,enabled:!0,route:"/dashboard",component:"RealTimeDashboard"},helpSystem:{id:"help_system",name:"Help & Education System",status:"production_ready",rating:4.8,enabled:!0,route:"*",component:"HelpModal"},failoverArchitecture:{id:"failover_architecture",name:"Resilient Data Streaming",status:"production_ready",rating:4.7,enabled:!0,component:"streamingService"},provincialGeneration:{id:"provincial_generation",name:"Provincial Generation Mix",status:"production_ready",rating:4.6,enabled:!0,route:"/dashboard",component:"ProvincialGenerationDataManager"},investmentAnalysis:{id:"investment_analysis",name:"Investment Decision Support",status:"production_ready",rating:4.6,enabled:!0,route:"/investment",component:"InvestmentCards"},llmIntegration:{id:"llm_integration",name:"AI-Powered Insights",status:"production_ready",rating:4.5,enabled:!0,route:"/ai-oracle",component:"AIEnergyOracle"},innovationTracking:{id:"innovation_tracking",name:"Energy Innovation Opportunities",status:"acceptable",rating:4.4,enabled:!0,limitations:["Innovation database needs expansion","Funding opportunity integration incomplete"],route:"/innovation",component:"InnovationSearch"},complianceMonitoring:{id:"compliance_monitoring",name:"Regulatory Compliance",status:"acceptable",rating:4.4,enabled:!0,limitations:["Uses local storage, not connected to provincial regulators","Automated violation detection limited"],route:"/compliance",component:"ComplianceDashboard"},huggingfaceData:{id:"huggingface_data",name:"European Smart Meter Data",status:"acceptable",rating:4.3,enabled:!0,limitations:["Limited to one dataset from HuggingFace"],route:"/dashboard",component:"RealTimeDashboard"},dataQuality:{id:"data_quality",name:"Data Quality Monitoring",status:"acceptable",rating:4.3,enabled:!0,limitations:["Automated alerts need refinement"],route:"/dashboard",component:"DataQuality"},resilienceAnalysis:{id:"resilience_analysis",name:"Infrastructure Resilience",status:"acceptable",rating:4.3,enabled:!0,limitations:["Missing ECCC climate projections integration","Asset location data needs verification"],route:"/resilience",component:"ResilienceMap"},energyAnalytics:{id:"energy_analytics",name:"Energy System Analytics",status:"acceptable",rating:4.2,enabled:!0,limitations:["Detailed emissions tracking per province not available","Historical trend aggregation needs optimization"],route:"/dashboard",component:"EnergyDataDashboard"},stakeholderCoordination:{id:"stakeholder_coordination",name:"Stakeholder Collaboration",status:"acceptable",rating:4.1,enabled:!0,limitations:["WebSocket server not deployed - real-time collaboration simulated","Multi-user testing not completed"],route:"/stakeholder",component:"StakeholderDashboard"},streamingArchitecture:{id:"streaming_architecture",name:"Core Streaming Infrastructure",status:"acceptable",rating:4.1,enabled:!0,limitations:["Cache size could be increased for better offline support"],component:"dataStreamers"},indigenousDashboard:{id:"indigenous_dashboard",name:"Indigenous Energy Sovereignty",status:"acceptable",rating:4,enabled:!0,limitations:["Formal Indigenous governance review pending","Territorial boundary data is placeholder (needs real GeoJSON)","TEK repository integration incomplete"],route:"/indigenous",component:"IndigenousDashboard"},transitionTracker:{id:"transition_tracker",name:"Energy Transition Progress",status:"acceptable",rating:4,enabled:!0,limitations:["Missing real Canadian transition target data","Provincial goal alignment incomplete","International commitment tracking missing"],route:"/dashboard",component:"TransitionKPIs"},databaseSchema:{id:"database_schema",name:"Database Infrastructure",status:"acceptable",rating:4,enabled:!0,limitations:["6 tables deferred to Phase 2 (emissions, market, community)"],component:"migrations"},mineralsSupplyChain:{id:"minerals_supply_chain",name:"Critical Minerals Supply Chain",status:"partial",rating:3.8,enabled:!0,limitations:["⚠️ SIMULATED DATA: Using realistic but not real supply chain data","No real-time market price integration","Disruption alert system not operational","Not connected to Canadian Critical Minerals database"],route:"/minerals",component:"MineralsDashboard"},securityAssessment:{id:"security_assessment",name:"Energy Security Assessment",status:"partial",rating:3.7,enabled:!0,limitations:["⚠️ LIMITED FUNCTIONALITY: 3 of 4 APIs missing","Threat intelligence feeds not connected","Vulnerability scanning not operational","Real-time threat assessment coming in Phase 2"],route:"/security",component:"SecurityDashboard"},gridOptimization:{id:"grid_optimization",name:"Grid Integration Optimization",status:"partial",rating:3.6,enabled:!0,limitations:["⚠️ FORECASTING NOT AVAILABLE: Demand and renewable output forecasts coming in Phase 2","Real-time optimization uses simulated grid data","AI recommendations need calibration"],route:"/grid",component:"GridOptimizationDashboard"},emissionsTracking:{id:"emissions_tracking",name:"Carbon Emissions Tracking & Planning",status:"deferred",rating:3.4,enabled:!1,comingSoon:!0,estimatedRelease:"Phase 2 - Q1 2026",limitations:["Feature under development","All emissions APIs not yet implemented","ECCC data integration in progress"],route:"/emissions",component:"EmissionsPlanner"},marketIntelligence:{id:"market_intelligence",name:"Energy Market Intelligence",status:"deferred",rating:3.3,enabled:!1,comingSoon:!0,estimatedRelease:"Phase 2 - Q1 2026",limitations:["Feature under development","Market data feeds integration in progress","Price forecasting capability coming soon"],route:"/market",component:"MarketIntelligence"},communityPlanning:{id:"community_planning",name:"Community Energy Planning",status:"deferred",rating:3.2,enabled:!1,comingSoon:!0,estimatedRelease:"Phase 2 - Q1 2026",limitations:["Feature under development","Municipal energy data integration in progress","AI-guided plan generation coming soon"],route:"/community",component:"CommunityPlanner"}};function aV(t){const e=rc[t];return e?e.enabled:(console.warn(`Unknown feature: ${t}`),!1)}function db(t){return rc[t]||null}function vC(){const t=Object.values(rc);return{total:t.length,productionReady:t.filter(e=>e.status==="production_ready").length,acceptable:t.filter(e=>e.status==="acceptable").length,partial:t.filter(e=>e.status==="partial").length,deferred:t.filter(e=>e.status==="deferred").length,enabled:t.filter(e=>e.enabled).length,averageRating:(t.reduce((e,r)=>e+r.rating,0)/t.length).toFixed(2)}}function iV(){const t=[];return Object.entries(rc).forEach(([e,r])=>{(!r.id||!r.name||!r.status||r.rating===void 0)&&t.push(`Feature ${e} is missing required fields`),r.status==="production_ready"&&r.rating<4.5&&t.push(`Feature ${e} marked production_ready but rating is ${r.rating}`),r.status==="acceptable"&&(r.rating<4||r.rating>=4.5)&&t.push(`Feature ${e} marked acceptable but rating is ${r.rating}`),r.status==="deferred"&&r.enabled&&t.push(`Feature ${e} is deferred but enabled=true`)}),{valid:t.length===0,errors:t}}const xC=({featureId:t,className:e=""})=>{const r=db(t);return!r||r.status!=="partial"?null:s.jsx("div",{className:`bg-yellow-50 border-l-4 border-yellow-400 p-4 mb-4 ${e}`,children:s.jsxs("div",{className:"flex items-start",children:[s.jsx(Nr,{className:"h-5 w-5 text-yellow-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"ml-3",children:[s.jsx("h3",{className:"text-sm font-medium text-yellow-800",children:"Limited Functionality"}),s.jsxs("div",{className:"mt-2 text-sm text-yellow-700",children:[s.jsx("p",{className:"mb-2",children:"This feature is available with the following limitations:"}),r.limitations&&r.limitations.length>0&&s.jsx("ul",{className:"list-disc list-inside space-y-1",children:r.limitations.map((n,a)=>s.jsx("li",{children:n},a))})]})]})]})})},bC=({featureId:t,className:e=""})=>{const r=db(t);return!r||r.status!=="acceptable"||!r.limitations||r.limitations.length===0?null:s.jsx("div",{className:`bg-blue-50 border-l-4 border-blue-400 p-3 mb-4 ${e}`,children:s.jsxs("div",{className:"flex items-start",children:[s.jsx(si,{className:"h-4 w-4 text-blue-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"ml-3",children:[s.jsx("h3",{className:"text-xs font-medium text-blue-800",children:"Feature Notes"}),s.jsx("div",{className:"mt-1 text-xs text-blue-700",children:s.jsx("ul",{className:"list-disc list-inside space-y-0.5",children:r.limitations.map((n,a)=>s.jsx("li",{children:n},a))})})]})]})})},sV={completed:"#10b981",ongoing:"#f59e0b",pending:"#ef4444",not_started:"#6b7280"},O0=[{id:"treaty-5",name:"Treaty 5 Territory",coordinates:[[55,-95],[55.6,-96.2],[54.4,-96.6]],consultationStatus:"completed",community:"Cree, Ojibwe, Dene",traditionalTerritory:"Treaty 5 Territory",lastActivity:"2024-04-15T00:00:00.000Z"},{id:"treaty-9",name:"Treaty 9 Territory",coordinates:[[50,-80],[50.7,-81.5],[49.6,-82.1]],consultationStatus:"ongoing",community:"Ojibwe, Cree, Oji-Cree",traditionalTerritory:"Treaty 9 Territory",lastActivity:"2024-05-02T00:00:00.000Z"},{id:"dene",name:"Dene Territory",coordinates:[[60,-120],[60.8,-118.6],[59.5,-119.2]],consultationStatus:"pending",community:"Dene, Sahtu, North Slave",traditionalTerritory:"Dene Territory",lastActivity:"2024-03-21T00:00:00.000Z"}],oV=[{id:"treaty-5-point",lat:55,lng:-95,title:"Treaty 5 Consultation",type:"consultation",status:"completed",description:"Community wind partnership review."},{id:"treaty-9-point",lat:50,lng:-80,title:"Treaty 9 Energy Forum",type:"consultation",status:"active",description:"Joint planning meeting with utilities & leadership."},{id:"dene-point",lat:60,lng:-120,title:"Dene FPIC Workshop",type:"consultation",status:"pending",description:"FPIC readiness workshops with advisors."}],lV=t=>{if(t.length<3)return[];const e=t.map(([r,n])=>[n,r]);return e.length>0&&(e[0][0]!==e[e.length-1][0]||e[0][1]!==e[e.length-1][1])&&e.push([...e[0]]),[e]},cV=(t,e)=>{const r=lV(t.coordinates),n=t.coordinates[0]?[t.coordinates[0][0],t.coordinates[0][1]]:void 0;return{id:t.id||`territory-${e}`,name:t.name,consultationStatus:t.consultationStatus,color:sV[t.consultationStatus]??"#3b82f6",metadata:{indigenousGroups:t.community?t.community.split(",").map(a=>a.trim()).filter(Boolean):[],area:r.length>0?12e4:void 0},coordinates:r,centroid:n}},uV=(t,e)=>{const r=t.coordinates[0];if(!r)return null;const[n,a]=r,o=t.consultationStatus==="completed"?"completed":t.consultationStatus==="ongoing"?"active":"pending";return{id:`territory-point-${t.id??e}`,lat:n,lng:a,title:`${t.name} consultation`,type:"consultation",status:o,description:`Community: ${t.community||"TBD"}`}},dV=()=>{const[t,e]=C.useState(O0),[r,n]=C.useState([]),[a,o]=C.useState([]),[c,u]=C.useState(O0[0]??null),[d,m]=C.useState(!0),[p,h]=C.useState(null),[y,v]=C.useState([]),[j,b]=C.useState(!1),[w,k]=C.useState(null),[S,O]=C.useState({name:"",territory_name:"",community:"",consultation_status:"not_started",fpic_status:"required"}),{isConnected:P}=_f("general-consultation");C.useEffect(()=>{N()},[]);const N=async()=>{try{m(!0);const L=Br.getIndigenousProjects();v(L);const R=L.map(Q=>({id:Q.id,name:Q.territory_name,coordinates:[[-95,55]],consultationStatus:Q.consultation_status,community:Q.community,traditionalTerritory:Q.traditional_territory,lastActivity:Q.updated_at}));e(R);const G=[{id:"1",name:"Treaty 5 Territory",coordinates:[[-95,55]],consultationStatus:"completed",community:"Cree, Ojibwe, Dene",traditionalTerritory:"Treaty 5 Territory",lastActivity:new Date().toISOString()},{id:"2",name:"Treaty 9 Territory",coordinates:[[-80,50]],consultationStatus:"ongoing",community:"Ojibwe, Cree, Oji-Cree",traditionalTerritory:"Treaty 9 Territory",lastActivity:new Date().toISOString()},{id:"3",name:"Dene Territory",coordinates:[[-120,60]],consultationStatus:"pending",community:"Dene, Sahtu, North Slave",traditionalTerritory:"Dene Territory",lastActivity:new Date().toISOString()}],D=[{id:"1",territoryId:"1",stage:"agreement",status:"approved",participants:["Community Council","Energy Company","Government"],dateCreated:new Date().toISOString(),lastUpdated:new Date().toISOString()},{id:"2",territoryId:"2",stage:"consultation",status:"pending",participants:["Community Council","Energy Company"],dateCreated:new Date().toISOString(),lastUpdated:new Date().toISOString()}],W=[{id:"1",title:"Traditional Land Use Mapping",category:"cultural",description:"Documenting traditional hunting and fishing territories",community:"Cree Nation",dateRecorded:new Date().toISOString(),custodians:["Elder John","Knowledge Keeper Mary"],relatedTerritories:["Treaty 5 Territory"]},{id:"2",title:"Medicinal Plant Knowledge",category:"environmental",description:"Traditional uses of local medicinal plants",community:"Ojibwe Community",dateRecorded:new Date().toISOString(),custodians:["Traditional Healer"],relatedTerritories:["Treaty 9 Territory"]},{id:"3",title:"Ceremonial Practices",category:"spiritual",description:"Sacred sites and ceremonial locations",community:"Dene First Nation",dateRecorded:new Date().toISOString(),custodians:["Elder Council"],relatedTerritories:["Dene Territory"]}];e([...R,...G]),n(D),o(W),m(!1)}catch(L){console.error("Error loading Indigenous dashboard data:",L),h("Failed to load Indigenous data"),m(!1)}},A=()=>{if(!S.name||!S.territory_name||!S.community){alert("Please fill in all required fields");return}const L={name:S.name,territory_name:S.territory_name,community:S.community,consultation_status:S.consultation_status||"not_started",fpic_status:S.fpic_status||"required",data_source:"user_input",governance_status:"pending",territory_id:`territory_${Date.now()}`,traditional_territory:S.territory_name||"",benefit_sharing:{},consultation_log:[]};Br.addIndigenousProject(L),N(),O({name:"",territory_name:"",community:"",consultation_status:"not_started",fpic_status:"required"}),b(!1)},T=()=>{const L=Br.exportAllData(),R=new Blob([L],{type:"application/json"}),G=URL.createObjectURL(R),D=document.createElement("a");D.href=G,D.download=`ceip_indigenous_data_${new Date().toISOString().split("T")[0]}.json`,D.click(),URL.revokeObjectURL(G)},$=U.useMemo(()=>{const L=t.length,R=t.filter(W=>W.consultationStatus==="ongoing").length,G=t.filter(W=>W.consultationStatus==="completed").length,D=t.filter(W=>W.consultationStatus==="pending").length;return{totalTerritories:L,ongoingConsultations:R,completedConsultations:G,pendingConsultations:D,completionRate:L>0?G/L*100:0}},[t]),I=t.length>0?t:O0,B=C.useMemo(()=>I.map(cV),[I]),M=C.useMemo(()=>{const L=I.map(uV).filter(R=>R!==null);return L.length>0?L:oV},[I]),q=I,F=[{name:"Completed",value:$.completedConsultations,color:"#10b981"},{name:"Ongoing",value:$.ongoingConsultations,color:"#f59e0b"},{name:"Pending",value:$.pendingConsultations,color:"#ef4444"},{name:"Not Started",value:$.totalTerritories-$.completedConsultations-$.ongoingConsultations-$.pendingConsultations,color:"#6b7280"}],V=[{name:"Cultural",value:a.filter(L=>L.category==="cultural").length},{name:"Environmental",value:a.filter(L=>L.category==="environmental").length},{name:"Spiritual",value:a.filter(L=>L.category==="spiritual").length},{name:"Economic",value:a.filter(L=>L.category==="economic").length}];return d?s.jsx("div",{className:"flex items-center justify-center h-96",children:s.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):s.jsxs("div",{className:"min-h-screen bg-slate-50",children:[s.jsxs("div",{className:Te.page,children:[s.jsx(bC,{featureId:"indigenous_dashboard"}),s.jsxs("header",{className:"mb-8",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between gap-3",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Indigenous Energy Sovereignty Dashboard"}),s.jsx(jt,{id:"module.indigenous.overview"})]}),s.jsx("p",{className:"text-slate-600 mt-2",children:"Track consultations, traditional knowledge, and territory management"})]}),s.jsx("div",{className:"self-start",children:s.jsx(jt,{id:"module.indigenous.governance",className:"bg-amber-600 hover:bg-amber-500 border-amber-500"})})]}),s.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 mb-4",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx(Nr,{className:"h-5 w-5 text-amber-600 mt-0.5 mr-3 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-amber-800 mb-2",children:"Governance & Data Sovereignty Notice"}),s.jsx("p",{className:"text-amber-700 text-sm",children:"This dashboard currently uses placeholder data for demonstration purposes. Real Indigenous data integration requires formal governance agreements and Free, Prior, Informed Consent (FPIC) from affected communities. Contact Indigenous governance representatives before implementing real data sources."})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Total Territories"}),s.jsx(jt,{id:"metric.indigenous.total_territories"})]}),s.jsx("p",{className:"text-3xl font-bold text-blue-600 mt-4",children:$.totalTerritories})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Ongoing Consultations"}),s.jsx(jt,{id:"metric.indigenous.ongoing_consultations"})]}),s.jsx("p",{className:"text-3xl font-bold text-yellow-600 mt-4",children:$.ongoingConsultations})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Completed"}),s.jsx(jt,{id:"metric.indigenous.completed_consultations"})]}),s.jsx("p",{className:"text-3xl font-bold text-green-600 mt-4",children:$.completedConsultations})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Completion Rate"}),s.jsx(jt,{id:"metric.indigenous.completion_rate"})]}),s.jsxs("p",{className:"text-3xl font-bold text-purple-600 mt-4",children:[$.completionRate.toFixed(1),"%"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsx("h3",{className:"text-xl font-semibold text-slate-900",children:"Consultation Status"}),s.jsx(jt,{id:"chart.indigenous.consultation_status"})]}),s.jsx(St,{width:"100%",height:300,children:s.jsxs(cb,{children:[s.jsx(cn,{data:F,cx:"50%",cy:"50%",labelLine:!1,label:({name:L,percent:R})=>`${L}: ${(R*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:F.map((L,R)=>s.jsx(gi,{fill:L.color},`cell-${R}`))}),s.jsx(We,{}),s.jsx(or,{})]})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsx("h3",{className:"text-xl font-semibold text-slate-900",children:"Traditional Ecological Knowledge"}),s.jsx(jt,{id:"chart.indigenous.tek_categories"})]}),s.jsx(St,{width:"100%",height:300,children:s.jsxs(Oa,{data:V,children:[s.jsx(Tt,{strokeDasharray:"3 3"}),s.jsx(lt,{dataKey:"name"}),s.jsx(at,{}),s.jsx(We,{}),s.jsx(Wt,{dataKey:"value",fill:"#8b5cf6"})]})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-8 mb-8",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsx("h3",{className:"text-xl font-semibold text-slate-900",children:"Territory Map"}),s.jsx(jt,{id:"module.indigenous.map"})]}),s.jsx("div",{className:"h-96",children:s.jsx(nV,{territories:B,mapPoints:M,config:{center:[-95,55],zoom:4,showBoundaries:!0,showPoints:!0,showLabels:!0},onTerritoryClick:L=>{const R=q.find(G=>G.id===L.id||G.name===L.name);u(R??q[0]??null)},onPointClick:L=>{const R=q.find(G=>{const[D,W]=G.coordinates[0]??[void 0,void 0];return D===L.lat&&W===L.lng});u(R??q[0]??null)}})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-4",children:"Territories"}),s.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:q.length===0?s.jsx("div",{className:"text-center text-slate-500 text-sm",children:"No Indigenous territories available. Confirm Supabase seed ran."}):q.map(L=>s.jsxs("div",{className:`p-4 rounded-lg border cursor-pointer transition-colors ${c?.id===L.id?"border-blue-500 bg-blue-50":"border-slate-200 hover-border-slate-300"}`,onClick:()=>u(L),children:[s.jsx("h4",{className:"font-medium text-slate-900",children:L.name}),s.jsx("p",{className:"text-sm text-slate-600",children:L.community||"Community TBD"}),s.jsxs("div",{className:"flex items-center justify-between mt-2",children:[s.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${L.consultationStatus==="completed"?"bg-green-100 text-green-800":L.consultationStatus==="ongoing"?"bg-yellow-100 text-yellow-800":L.consultationStatus==="pending"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:L.consultationStatus.replace("_"," ").toUpperCase()}),s.jsx("span",{className:"text-xs text-slate-500",children:L.lastActivity?new Date(L.lastActivity).toLocaleDateString("en-CA"):"Date TBD"})]})]},L.id))})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-4",children:c?c.name:"Select a Territory"}),c&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Community"}),s.jsx("p",{className:"text-slate-900",children:c.community})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Consultation Status"}),s.jsx("span",{className:`inline-block px-2 py-1 text-xs rounded-full mt-1 ${c.consultationStatus==="completed"?"bg-green-100 text-green-800":c.consultationStatus==="ongoing"?"bg-yellow-100 text-yellow-800":c.consultationStatus==="pending"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:c.consultationStatus.replace("_"," ").toUpperCase()})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Traditional Territory"}),s.jsx("p",{className:"text-slate-900",children:c.traditionalTerritory})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Last Activity"}),s.jsx("p",{className:"text-slate-900",children:new Date(c.lastActivity).toLocaleDateString("en-CA")})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-4",children:"Recent TEK Entries"}),s.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:a.slice(0,5).map(L=>s.jsxs("div",{className:"border-l-4 border-purple-500 pl-4",children:[s.jsx("h4",{className:"font-medium text-slate-900",children:L.title}),s.jsx("p",{className:"text-sm text-slate-600 line-clamp-2",children:L.description}),s.jsxs("div",{className:"flex items-center justify-between mt-2 text-xs text-slate-500",children:[s.jsx("span",{children:L.community}),s.jsx("span",{children:L.category})]}),s.jsx("p",{className:"text-xs text-slate-400 mt-1",children:new Date(L.dateRecorded).toLocaleDateString()})]},L.id))})]})]}),s.jsxs("div",{className:"mt-8 bg-white rounded-lg shadow p-6",children:[s.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-4",children:"Cultural Protocol & FPIC Status"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-slate-50",children:[s.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-slate-700",children:"Territory"}),s.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-slate-700",children:"Stage"}),s.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-slate-700",children:"Status"}),s.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-slate-700",children:"Participants"}),s.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-slate-700",children:"Last Updated"})]})}),s.jsx("tbody",{className:"divide-y divide-slate-200",children:r.slice(0,10).map(L=>s.jsxs("tr",{className:"hover:bg-slate-50",children:[s.jsx("td",{className:"px-4 py-2 text-sm text-slate-900",children:t.find(R=>R.id===L.territoryId)?.name||"Unknown"}),s.jsx("td",{className:"px-4 py-2 text-sm text-slate-600",children:L.stage.replace("_"," ").toUpperCase()}),s.jsx("td",{className:"px-4 py-2",children:s.jsx("span",{className:`inline-block px-2 py-1 text-xs rounded-full ${L.status==="approved"?"bg-green-100 text-green-800":L.status==="declined"?"bg-red-100 text-red-800":L.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800"}`,children:L.status.toUpperCase()})}),s.jsxs("td",{className:"px-4 py-2 text-sm text-slate-600",children:[L.participants.length," participants"]}),s.jsx("td",{className:"px-4 py-2 text-sm text-slate-500",children:new Date(L.lastUpdated).toLocaleDateString()})]},L.id))})]})})]}),s.jsxs("div",{className:"mt-4 flex items-center justify-end space-x-4",children:[s.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[s.jsx("span",{className:`inline-block w-2 h-2 rounded-full ${P?"bg-green-500":"bg-yellow-500"}`}),s.jsx("span",{className:"text-slate-600",children:P?"WebSocket Connected":"WebSocket Offline"})]}),s.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[s.jsx("span",{className:"inline-block w-2 h-2 rounded-full bg-green-500"}),s.jsx("span",{className:"text-slate-600",children:"Data Stream Active"})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mt-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-xl font-semibold text-slate-900",children:"Indigenous Energy Projects"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:()=>b(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[s.jsx(n3,{size:16}),"Add Project"]}),s.jsxs("button",{onClick:T,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[s.jsx(ix,{size:16}),"Export Data"]})]})]}),s.jsxs("div",{className:"space-y-4",children:[y.map(L=>s.jsxs("div",{className:"border border-slate-200 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-medium text-slate-900",children:L.name}),s.jsx("p",{className:"text-sm text-slate-600 mt-1",children:L.community}),s.jsx("p",{className:"text-sm text-slate-500",children:L.territory_name}),s.jsxs("div",{className:"flex items-center gap-4 mt-3",children:[s.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${L.consultation_status==="completed"?"bg-green-100 text-green-800":L.consultation_status==="ongoing"?"bg-yellow-100 text-yellow-800":L.consultation_status==="pending"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:L.consultation_status.replace("_"," ").toUpperCase()}),s.jsxs("span",{className:`px-2 py-1 text-xs rounded-full ${L.fpic_status==="obtained"?"bg-green-100 text-green-800":L.fpic_status==="in_progress"?"bg-yellow-100 text-yellow-800":L.fpic_status==="declined"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:["FPIC: ",L.fpic_status.replace("_"," ").toUpperCase()]}),L.governance_status&&s.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${L.governance_status==="approved"?"bg-green-100 text-green-800":L.governance_status==="pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:L.governance_status.toUpperCase()})]}),L.benefit_sharing.revenue_share_percent&&s.jsxs("p",{className:"text-sm text-slate-600 mt-2",children:["Revenue Share: ",L.benefit_sharing.revenue_share_percent,"%"]})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsx("button",{onClick:()=>k(L.id),className:"p-2 text-slate-400 hover:text-slate-600 transition-colors",children:s.jsx(c3,{size:16})})})]}),L.consultation_log.length>0&&s.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-100",children:[s.jsx("h5",{className:"font-medium text-slate-700 mb-2",children:"Recent Consultations"}),s.jsx("div",{className:"space-y-2",children:L.consultation_log.slice(-2).map((R,G)=>s.jsxs("div",{className:"text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[s.jsx(QM,{size:14}),new Date(R.date).toLocaleDateString(),s.jsx(LA,{size:14}),R.participants.length," participants"]}),s.jsx("p",{className:"text-slate-500 mt-1",children:R.outcomes.join("; ")})]},G))})]})]},L.id)),y.length===0&&s.jsxs("div",{className:"text-center py-8 text-slate-500",children:[s.jsx(zr,{size:48,className:"mx-auto mb-4 text-slate-300"}),s.jsx("p",{children:"No Indigenous energy projects recorded yet."}),s.jsx("p",{className:"text-sm",children:"Add your first project to start tracking consultation and benefit-sharing."})]})]}),j&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h4",{className:"text-lg font-semibold",children:"Add Indigenous Energy Project"}),s.jsx("button",{onClick:()=>b(!1),className:"text-slate-400 hover:text-slate-600",children:s.jsx(BA,{size:20})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Project Name *"}),s.jsx("input",{type:"text",value:S.name||"",onChange:L=>O({...S,name:L.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., Treaty 5 Wind Energy Partnership"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Territory Name *"}),s.jsx("input",{type:"text",value:S.territory_name||"",onChange:L=>O({...S,territory_name:L.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., Treaty 5 Territory"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Community *"}),s.jsx("input",{type:"text",value:S.community||"",onChange:L=>O({...S,community:L.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., Cree, Ojibwe, Dene"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Consultation Status"}),s.jsxs("select",{value:S.consultation_status||"not_started",onChange:L=>O({...S,consultation_status:L.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"not_started",children:"Not Started"}),s.jsx("option",{value:"ongoing",children:"Ongoing"}),s.jsx("option",{value:"completed",children:"Completed"}),s.jsx("option",{value:"pending",children:"Pending"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"FPIC Status"}),s.jsxs("select",{value:S.fpic_status||"required",onChange:L=>O({...S,fpic_status:L.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"required",children:"Required"}),s.jsx("option",{value:"in_progress",children:"In Progress"}),s.jsx("option",{value:"obtained",children:"Obtained"}),s.jsx("option",{value:"declined",children:"Declined"})]})]})]}),s.jsxs("div",{className:"flex items-center gap-3 mt-6",children:[s.jsxs("button",{onClick:A,className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[s.jsx(a3,{size:16}),"Save Project"]}),s.jsx("button",{onClick:()=>b(!1),className:"px-4 py-2 text-slate-600 border border-slate-300 rounded-lg hover:bg-slate-50 transition-colors",children:"Cancel"})]})]})})]})]})};class is{static instance;config;cache=new Map;constructor(){this.config={enabled:!1,apiEndpoint:void 0,apiKey:void 0,confidenceThreshold:.6,maxEntities:5,fallbackMode:!0}}static getInstance(){return is.instance||(is.instance=new is),is.instance}async analyzeText(e,r){const n=`${e}_${r?.language||"en"}`;if(r?.useCache!==!1&&this.cache.has(n))return this.cache.get(n);const a={text:e,sentiment:this.analyzeSentiment(e),categories:this.categorizeText(e,r?.categories),entities:this.extractEntities(e),language:r?.language||"en",processedAt:new Date().toISOString()};return this.cache.set(n,a),a}async analyzeFeedback(e,r){const n=await this.analyzeText(e,{categories:["environmental_impact","community_concerns","technical_issues","economic_benefits","cultural_impact","scheduling_concerns","communication_issues"]});return{feedback:n,priority:this.determinePriority(n),actionItems:this.extractActionItems(n),concerns:this.extractConcerns(n),suggestions:this.extractSuggestions(n),followUpRequired:this.requiresFollowUp(n)}}async analyzeFeedbackBatch(e,r){const n=e.map(a=>this.analyzeFeedback(a,r));return Promise.all(n)}analyzeSentiment(e){const r=e.toLowerCase(),n=["excellent","great","amazing","fantastic","wonderful","good","positive","support","helpful","beneficial","productive","constructive","promising","successful","effective","efficient","improving","progress","encouraging","appreciate","thank","thanks","appreciated","pleased","satisfied"],a=["bad","terrible","awful","poor","worried","concerned","disappointed","problem","issue","risk","danger","harmful","adverse","negative","detrimental","upsetting","frustrating","unacceptable","inadequate","concerning","alarming","threatening","unacceptable"],o=["very","extremely","highly","completely","absolutely","totally"];let c=0,u=0,d=1;const m=r.split(/\s+/);for(let w=0;w<m.length;w++){const k=m[w];if(o.includes(k)){d=1.5;continue}n.includes(k)?(c+=d,d=1):a.includes(k)&&(u+=d,d=1)}const p=c-u,h=c+u,y=h>0?p/h:0,v=Math.min(Math.abs(y),1),j=Math.min(h/5,1),b=y<-.3?"negative":y>.3?"positive":"neutral";return{score:Math.max(-1,Math.min(1,y)),confidence:j,label:b,magnitude:v}}categorizeText(e,r){const n=e.toLowerCase(),a=[],o={environmental_impact:["environment","environmental","ecosystem","habitat","wildlife","pollution","climate","carbon","emissions","greenhouse","sustainability","impact"],community_concerns:["community","local","residents","families","children","health","noise","traffic","safety","school","housing","employment"],technical_issues:["technical","engineering","design","construction","maintenance","equipment","machinery","technology","power","energy","grid"],economic_benefits:["economic","jobs","employment","revenue","taxes","investment","growth","development","profit","financial","funding","income"],cultural_impact:["cultural","traditional","heritage","ancestral","sacred","spiritual","indigenous","first_nation","aboriginal","cultural","ceremony"],scheduling_concerns:["schedule","timeline","deadline","delay","timeframe","duration","planning","completion","construction","start","end"],communication_issues:["communication","inform","consultation","meeting","discussion","feedback","response","answer","question","documentation"]},c=r||Object.keys(o);for(const u of c){const d=o[u]||[],m=d.filter(p=>n.includes(p));if(m.length>0){const p=Math.min(m.length/d.length,1);a.push({category:u.replace("_"," ").replace(/\b\w/g,h=>h.toUpperCase()),confidence:p,keywords:m,subcategories:[]})}}return a.sort((u,d)=>d.confidence-u.confidence)}extractEntities(e){const r=[],n=[{type:"location",patterns:[/(?:in|near|at|from)\s+([A-Z][a-z]+)/g,/([A-Z][a-z]+(?:\s+[A-Z][a-z]+)*)(?:\s+(territory|province|region|rivers?|mountain))/gi]},{type:"date",patterns:[/\b\d{4}-\d{2}-\d{2}\b/g,/\b\d{1,2}\/\d{1,2}\/\d{4}\b/g,/\b(January|February|March|April|May|June|July|August|September|October|November|December)\s+\d{1,2}/gi]},{type:"organization",patterns:[/\b[A-Z][a-z]+(?:\s+[A-Z][a-z]+)*(?:\s+(Ltd|Inc|Corp|Company|Association|Council))\b/g]}];for(const a of n)for(const o of a.patterns){let c;for(;(c=o.exec(e))!==null;)r.push({type:a.type,text:c[1]||c[0],confidence:.7})}return r.slice(0,this.config.maxEntities)}determinePriority(e){const{sentiment:r,categories:n}=e;if(r.score<-.5||r.label==="negative")return"high";const a=["environmental_impact","cultural_impact","community_concerns"];return n.some(c=>a.includes(c.category.toLowerCase().replace(" ","_"))&&c.confidence>.7)?"high":r.score<-.1||n.some(c=>c.confidence>.8)?"medium":"low"}extractActionItems(e){const{text:r}=e,n=[],a=[/(?:need|require|should)\s+([^.!?]+(?:to|for)[^.!?]+)/gi,/(?:must|have to)\s+([^.!?]+(?:to|for)[^.!?]+)/gi,/(?:recommend|suggest)\s+([^.!?]+)/gi,/(?:please ensure|ensure that)\s+([^.!?]+)/gi];for(const o of a){let c;for(;(c=o.exec(r))!==null;)n.push(c[1].trim())}return n.slice(0,3)}extractConcerns(e){const{text:r,sentiment:n}=e;if(n.label!=="negative")return[];const a=[/(?:concerned|worried) (?:about|with|regarding)\s+([^.!?]+)/gi,/(?:problem|issue|risk) \w+ ([^.!?]+)/gi,/([^.!?]*?)(?:affect|impact|damage)[^.!?]+/gi],o=[];for(const c of a){let u;for(;(u=c.exec(r))!==null;)o.push(u[1].trim())}return o.slice(0,3)}extractSuggestions(e){const{text:r}=e,n=[/(?:suggest|recommend)\s+([^.!?]+(?:to|that)[^.!?]+)/gi,/(?:better to|would prefer|would like to see)\s+([^.!?]+)/gi,/(?:instead should)\s+([^.!?]+)/gi],a=[];for(const o of n){let c;for(;(c=o.exec(r))!==null;)a.push(c[1].trim())}return a.slice(0,3)}requiresFollowUp(e){const{sentiment:r,categories:n}=e;if(r.score<-.3)return!0;const a=["environmental_impact","cultural_impact","community_concerns"];return n.some(o=>a.includes(o.category.toLowerCase().replace(" ","_"))&&o.confidence>.8)}generateSummary(e){const r={total:e.length,positive:e.filter(m=>m.feedback.sentiment.label==="positive").length,neutral:e.filter(m=>m.feedback.sentiment.label==="neutral").length,negative:e.filter(m=>m.feedback.sentiment.label==="negative").length},n=e.reduce((m,p)=>m+p.feedback.sentiment.score,0)/e.length,a=new Map;e.forEach(m=>{m.feedback.categories.forEach(p=>{a.set(p.category,(a.get(p.category)||0)+1)})});const o=Array.from(a.entries()).map(([m,p])=>({category:m,count:p})).sort((m,p)=>p.count-m.count).slice(0,5),c=new Map;e.forEach(m=>{c.set(m.priority,(c.get(m.priority)||0)+1)});const u=Array.from(c.entries()).map(([m,p])=>({priority:m,count:p})).sort((m,p)=>p.count-m.count),d=e.filter(m=>m.followUpRequired).length;return{...r,averageSentiment:n,topCategories:o,priorities:u,followUpRequired:d}}clearCache(){this.cache.clear()}updateConfig(e){this.config={...this.config,...e}}}const wC=is.getInstance();function fV(t,e=!0){const[r,n]=C.useState(new Map),[a,o]=C.useState(!1),[c,u]=C.useState(null),d=C.useRef(null);return C.useEffect(()=>{if(!e||t.length===0){n(new Map);return}const y=JSON.stringify(t.map(j=>[j.id,j.timestamp,j.content,j.senderId]));if(d.current===y)return;d.current=y,(async()=>{o(!0),u(null);try{const j=new Map,b=5;for(let w=0;w<t.length;w+=b){const S=t.slice(w,w+b).map(async P=>{if(P.content.trim()){const N=await wC.analyzeText(P.content,{useCache:!0});return{id:P.id,analysis:N}}return null});(await Promise.all(S)).forEach(P=>{P&&j.set(P.id,P.analysis)})}n(j)}catch(j){u(j instanceof Error?j.message:"Message analysis failed"),n(new Map)}finally{o(!1)}})()},[t,e]),{messageAnalysis:r,getMessageSentiment:y=>r.get(y)?.sentiment,getMessageCategories:y=>r.get(y)?.categories||[],getOverallSentiment:()=>{if(r.size===0)return null;const y=Array.from(r.values()).map(b=>b.sentiment),v=y.reduce((b,w)=>b+w.score,0)/y.length,j=y.reduce((b,w)=>b+w.confidence,0)/y.length;return{score:v,confidence:j,label:v>.3?"positive":v<-.3?"negative":"neutral",magnitude:Math.min(Math.abs(v),1)}},loading:a,error:c}}function mV(){const[t,e]=C.useState(!0),[r,n]=C.useState(null);return C.useEffect(()=>{const a=async()=>{const c=Date.now();try{await wC.analyzeText("Test message for health check"),n(Date.now()-c),e(!0)}catch{e(!1),n(null)}};a();const o=setInterval(a,3e4);return()=>clearInterval(o)},[]),{isHealthy:t,latency:r}}const hV=()=>{const[t,e]=C.useState([]),[r,n]=C.useState([]),[a,o]=C.useState([]),[c,u]=C.useState([]),[d,m]=C.useState(null),[p,h]=C.useState("general"),[y,v]=C.useState(""),[j]=C.useState({id:"user1",name:"Consultation Coordinator"}),b=C.useRef(null),{messages:w,isConnected:k,participants:S,sendMessage:O}=_f(p),{connectionStatus:P}=Sf("stakeholder"),[N,A]=C.useState(!0),[T,$]=C.useState(null);C.useEffect(()=>{I()},[]),C.useEffect(()=>{B()},[c,w]);const I=async()=>{try{A(!0);const Q=await(await fetch("/api/stakeholder/stakeholders")).json();e(Q);const Y=await(await fetch("/api/stakeholder/meetings")).json();n(Y);const fe=await(await fetch("/api/stakeholder/feedback")).json();o(fe);const xe=await(await fetch("/api/stakeholder/messages")).json();u(xe)}catch(W){$(W instanceof Error?W.message:"Failed to load data")}finally{A(!1)}},B=()=>{b.current?.scrollIntoView({behavior:"smooth"})},M=async()=>{if(y.trim())try{if(k)O(y),v("");else{const W={id:Date.now().toString(),senderId:j.id,senderName:j.name,content:y,timestamp:new Date().toISOString(),type:"message"};await fetch("/api/stakeholder/messages",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(W)}),u(Q=>[...Q,W]),v("")}}catch(W){console.error("Failed to send message:",W)}},q=U.useMemo(()=>{const W=t.length,Q=r.filter(Y=>new Date(Y.date)>new Date).length,z=a.length>0?a.reduce((Y,ie)=>Y+ie.sentiment,0)/a.length:0;return{totalStakeholders:W,upcomingMeetings:Q,totalMeetings:r.length,averageSentiment:z,feedbackEntries:a.length}},[t,r,a]),F=U.useMemo(()=>Array.from({length:7},(Q,z)=>{const Y=new Date;return Y.setDate(Y.getDate()-z),Y.toISOString().split("T")[0]}).reverse().map(Q=>{const z=a.filter(ie=>ie.timestamp.startsWith(Q)),Y=z.length>0?z.reduce((ie,fe)=>ie+fe.sentiment,0)/z.length:0;return{date:Q.substring(5),sentiment:Y*100,count:z.length}}),[a]),V=U.useMemo(()=>{const W={};return a.forEach(Q=>{Q.categories.forEach(z=>{W[z]=(W[z]||0)+1})}),Object.entries(W).map(([Q,z])=>({category:Q.charAt(0).toUpperCase()+Q.slice(1),count:z})).sort((Q,z)=>z.count-Q.count)},[a]),L=U.useMemo(()=>{const W=c.map(z=>({...z,id:z.id,senderName:z.senderName||"Unknown User",senderId:z.senderId,content:z.content,timestamp:z.timestamp})),Q=w.map((z,Y)=>({id:`${z.timestamp}_${Y}`,senderId:z.senderId||"system",senderName:z.senderId==="system"?"System":"User",content:z.payload?.content||JSON.stringify(z.payload),timestamp:z.timestamp,type:z.type}));return[...W,...Q].sort((z,Y)=>new Date(z.timestamp).getTime()-new Date(Y.timestamp).getTime()).slice(-100)},[c,w]),R=k,G=U.useMemo(()=>L.map(W=>({id:W.id,content:W.content,senderId:W.senderId,senderName:W.senderName||"Unknown",timestamp:W.timestamp})),[L]),{getOverallSentiment:D}=fV(G,G.length>0);return mV(),D(),N?s.jsx("div",{className:"flex items-center justify-center h-96",children:s.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):s.jsx("div",{className:"min-h-screen bg-slate-50",children:s.jsxs("div",{className:Te.page,children:[s.jsx(bC,{featureId:"stakeholder_coordination"}),s.jsx("header",{className:"mb-8",children:s.jsxs("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between gap-3",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Stakeholder Coordination Dashboard"}),s.jsx(jt,{id:"module.stakeholder.overview"})]}),s.jsx("p",{className:"text-slate-600 mt-2",children:"Manage consultations, track feedback, and collaborate in real-time"})]}),s.jsx("div",{className:"self-start",children:s.jsx(jt,{id:"module.stakeholder.protocols",className:"bg-indigo-600 hover:bg-indigo-500 border-indigo-500"})})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Total Stakeholders"}),s.jsx(jt,{id:"metric.stakeholder.total"})]}),s.jsx("p",{className:"text-3xl font-bold text-blue-600",children:q.totalStakeholders})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Upcoming Meetings"}),s.jsx(jt,{id:"metric.stakeholder.upcoming_meetings"})]}),s.jsx("p",{className:"text-3xl font-bold text-green-600",children:q.upcomingMeetings})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Average Sentiment"}),s.jsx(jt,{id:"metric.stakeholder.average_sentiment"})]}),s.jsxs("p",{className:`text-3xl font-bold ${q.averageSentiment>.3?"text-green-600":q.averageSentiment<-.3?"text-red-600":"text-yellow-600"}`,children:[(q.averageSentiment*100).toFixed(0),"%"]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Feedback Entries"}),s.jsx(jt,{id:"metric.stakeholder.feedback_entries"})]}),s.jsx("p",{className:"text-3xl font-bold text-purple-600",children:q.feedbackEntries})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsx("h3",{className:"text-xl font-semibold text-slate-900",children:"Sentiment Trend (7 Days)"}),s.jsx(jt,{id:"chart.stakeholder.sentiment_trend"})]}),s.jsx(St,{width:"100%",height:300,children:s.jsxs(zs,{data:F,children:[s.jsx(Tt,{strokeDasharray:"3 3"}),s.jsx(lt,{dataKey:"date"}),s.jsx(at,{}),s.jsx(We,{formatter:(W,Q)=>[`${W.toFixed(1)}%`,Q]}),s.jsx(ir,{type:"monotone",dataKey:"sentiment",stroke:"#8b5cf6",strokeWidth:2,dot:{fill:"#8b5cf6",strokeWidth:2,r:4}})]})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsx("h3",{className:"text-xl font-semibold text-slate-900",children:"Feedback Categories"}),s.jsx(jt,{id:"chart.stakeholder.feedback_categories"})]}),s.jsx(St,{width:"100%",height:300,children:s.jsxs(Oa,{data:V,children:[s.jsx(Tt,{strokeDasharray:"3 3"}),s.jsx(lt,{dataKey:"category"}),s.jsx(at,{}),s.jsx(We,{}),s.jsx(Wt,{dataKey:"count",fill:"#6366f1"})]})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-4",children:"Upcoming Meetings"}),s.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:r.filter(W=>new Date(W.date)>new Date&&W.status==="scheduled").slice(0,5).map(W=>s.jsxs("div",{className:"p-4 rounded-lg border cursor-pointer hover:border-slate-300 border-slate-200",onClick:()=>m(W),children:[s.jsx("h4",{className:"font-medium text-slate-900 mb-2",children:W.title}),s.jsxs("div",{className:"flex items-center justify-between text-sm text-slate-600 mb-2",children:[s.jsx("span",{children:new Date(`${W.date}T${W.startTime}`).toLocaleDateString("en-CA",{weekday:"short",month:"short",day:"numeric"})}),s.jsxs("span",{children:[W.startTime," - ",W.endTime]})]}),s.jsxs("p",{className:"text-sm text-slate-500 capitalize",children:[W.type.replace("_"," ")," • ",W.participants.length," participants"]})]},W.id))})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-4",children:"Active Stakeholders"}),s.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:t.slice(0,10).map(W=>s.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border border-slate-200",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-slate-900",children:W.name}),s.jsx("p",{className:"text-sm text-slate-600",children:W.organization})]}),s.jsxs("div",{className:"flex flex-col items-end",children:[s.jsxs("span",{className:`px-2 py-1 text-xs rounded-full mb-1 ${W.sentiment&&W.sentiment>.3?"bg-green-100 text-green-800":W.sentiment&&W.sentiment<-.3?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:["Sentiment: ",W.sentiment?(W.sentiment*100).toFixed(0)+"%":"N/A"]}),s.jsx("span",{className:"text-xs text-slate-500",children:W.role})]})]},W.id))})]})]}),s.jsxs("div",{className:"mt-8 bg-white rounded-lg shadow overflow-hidden",children:[s.jsxs("div",{className:"p-6 border-b border-slate-200",children:[s.jsx("h3",{className:"text-xl font-semibold text-slate-900",children:"Real-time Collaboration"}),s.jsx("p",{className:"text-slate-600",children:"Discuss consultations and share updates"})]}),s.jsx("div",{className:"flex h-96",children:s.jsxs("div",{className:"flex-1 flex flex-col",children:[s.jsx("div",{className:"p-3 border-b border-slate-200 bg-slate-50",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("select",{value:p,onChange:W=>h(W.target.value),className:"px-3 py-1 border border-slate-300 rounded-md text-sm",children:[s.jsx("option",{value:"general",children:"General Consultation"}),s.jsx("option",{value:"environmental",children:"Environmental Impact"}),s.jsx("option",{value:"community",children:"Community Feedback"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("div",{className:`inline-flex items-center px-2 py-1 text-xs rounded-full ${R?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:[s.jsx("span",{className:`inline-block w-2 h-2 rounded-full mr-1 ${R?"bg-green-500":"bg-yellow-500"}`}),R?"Real-time":"Streaming"]}),S.length>0&&s.jsxs("span",{className:"text-xs text-slate-500",children:[S.length," online"]})]})]})}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[L.map(W=>s.jsx("div",{className:`flex ${W.senderId===j.id?"justify-end":"justify-start"}`,children:s.jsxs("div",{className:`max-w-xs lg:max-w-md p-3 rounded-lg ${W.senderId===j.id?"bg-blue-600 text-white rounded-br-none":W.senderId==="system"?"bg-green-100 text-green-800 rounded-l-none":"bg-slate-100 text-slate-900 rounded-bl-none"}`,children:[s.jsxs("div",{className:"text-xs opacity-75 mb-1",children:[W.senderName," • ",new Date(W.timestamp).toLocaleTimeString()]}),s.jsx("div",{className:"break-words",children:W.content})]})},W.id)),s.jsx("div",{ref:b})]}),s.jsx("div",{className:"border-t border-slate-200 p-4",children:s.jsxs("div",{className:"flex space-x-4",children:[s.jsx("input",{type:"text",value:y,onChange:W=>v(W.target.value),onKeyPress:W=>W.key==="Enter"&&M(),placeholder:"Type your message...",className:"flex-1 px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),s.jsx("button",{onClick:M,disabled:!y.trim(),className:"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Send"})]})})]})})]}),s.jsxs("div",{className:"mt-4 flex items-center justify-end space-x-4",children:[s.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[s.jsx("span",{className:`inline-block w-2 h-2 rounded-full ${R?"bg-green-500":"bg-yellow-500"}`}),s.jsx("span",{className:"text-slate-600",children:R?"WebSocket Connected":"HTTP Fallback"})]}),s.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[s.jsx("span",{className:`inline-block w-2 h-2 rounded-full ${P==="connected"?"bg-green-500":"bg-red-500"}`}),s.jsx("span",{className:"text-slate-600",children:P==="connected"?"Data Stream Active":"Data Stream Offline"})]})]})]})})},pV=()=>{const[t,e]=C.useState([]),[r,n]=C.useState([]),[a,o]=C.useState(null),[c,u]=C.useState("Ontario"),[d,m]=C.useState(!0),[p,h]=C.useState(null),[y,v]=C.useState(!1),{data:j,connectionStatus:b,isUsingRealData:w}=Sf("ontario-demand"),{isConnected:k}=_f("grid-optimization"),S=C.useCallback((I,B,M)=>{if(!I)return null;const q=Number(I.demand_mw??I.demand??I.ontario_demand??I.load??NaN),F=Number(I.supply_mw??I.supply??I.generation??NaN),V=Number.isFinite(q),L=Number.isFinite(F);if(!V&&!L)return null;const R=V?q:0,G=L?F:R*1.05,D=Number(I.frequency_hz??I.frequency??60),W=Number(I.voltage_kv??I.voltage??120),Q=Number(I.congestion_index??I.congestion??0),z=I.status||(Q>.25?"warning":"stable");return{id:I.id||`grid_${I.captured_at||M}`,region:I.region||B,demand:R,supply:G,frequency:D,voltage:W,congestion:Q,timestamp:I.captured_at||I.timestamp||I.last_updated||new Date().toISOString(),status:z}},[]),O=C.useCallback(async()=>{try{m(!0);const I=encodeURIComponent(c),[B,M,q]=await Promise.all([Pt([`api-v2-grid-status?region=${I}`,"api/grid/status"]),Pt([`api-v2-grid-stability-metrics?region=${I}`,"api/grid/stability-metrics"]),Pt([`api-v2-grid-optimization-recommendations?region=${I}`,"api/grid/optimization-recommendations"])]),V=(Array.isArray(B.json?.records)?B.json.records:Array.isArray(B.json)?B.json:[]).map((D,W)=>S(D,c,W)).filter(D=>D!==null);e(V);const L=Array.isArray(M.json)?M.json[0]:M.json;o(L?{frequencyStability:Number(L.frequency_stability??L.frequencyStability??0),voltageStability:Number(L.voltage_stability??L.voltageStability??0),congestionIndex:Number(L.congestion_index??L.congestionIndex??0),reserveMargin:Number(L.reserve_margin??L.reserveMargin??0),lastUpdated:L.last_updated||L.lastUpdated||new Date().toISOString()}:null);const G=(Array.isArray(q.json?.recommendations)?q.json.recommendations:Array.isArray(q.json)?q.json:[]).map((D,W)=>({id:D.id||`recommendation_${D.generated_at||W}`,type:D.recommendation_type||D.type||"demand_response",priority:D.priority||"medium",description:D.description||"Optimization recommendation",expectedImpact:Number(D.expected_impact_percent??D.expectedImpact??0),implementationTime:Number(D.implementation_time_minutes??D.implementationTime??0),confidence:typeof D.confidence=="number"?D.confidence:Number(D.confidence??0),timestamp:D.generated_at||D.timestamp||new Date().toISOString()}));n(G),v(!1)}catch(I){const M=(I instanceof Error?I.message:String(I)).includes("VITE_ENABLE_EDGE_FETCH=false");M||console.error("Failed to load grid data",I),h(M?"Supabase Edge fetch disabled via configuration. Using local grid dataset.":"Using locally generated grid dataset while Supabase APIs are unavailable."),v(!0);const q=await yC.getGridStatus();e(q.map((V,L)=>S({id:V.id,region:V.region,demand_mw:V.load_mw,supply_mw:V.generation_mw,frequency_hz:V.grid_frequency_hz,voltage_kv:120,congestion_index:V.congestion_level==="high"?.6:V.congestion_level==="medium"?.35:.15,status:V.voltage_stability,captured_at:V.timestamp},V.region,L)??null).filter(V=>V!==null));const F=q[0]?.reserve_margin_percent??8;o({frequencyStability:.95,voltageStability:.9,congestionIndex:.25,reserveMargin:F,lastUpdated:q[0]?.timestamp??new Date().toISOString()}),n([])}finally{m(!1)}},[S,c]);C.useEffect(()=>{O()},[c,O]);const P=C.useCallback(I=>{if(I.length===0)return;const B=I[I.length-1],M=S(B,c,Date.now());M&&e(q=>[M,...q].slice(0,100))},[S,c]);C.useEffect(()=>{j.length>0&&P(j)},[j,P]);const N=C.useMemo(()=>{if(t.length===0)return null;const I=t[0],B=t.slice(0,24).reduce((q,F)=>q+F.demand,0)/Math.min(24,t.length),M=t.slice(0,24).reduce((q,F)=>q+F.supply,0)/Math.min(24,t.length);return{currentDemand:I.demand,currentSupply:I.supply,reserveMargin:(I.supply-I.demand)/I.demand*100,frequencyDeviation:Math.abs(60-I.frequency),voltageDeviation:Math.abs(120-I.voltage),avgDemand:B,avgSupply:M,criticalAlerts:r.filter(q=>q.priority==="critical").length,highPriorityActions:r.filter(q=>q.priority==="high").length}},[t,r]),A=C.useMemo(()=>t.slice(0,24).reverse().map((I,B)=>({time:`${24-B}h ago`,demand:I.demand,supply:I.supply,reserve:I.supply-I.demand})),[t]),T=C.useMemo(()=>t.slice(0,12).reverse().map((I,B)=>({time:`${12-B}h ago`,frequency:I.frequency,voltage:I.voltage,congestion:I.congestion})),[t]),$=C.useMemo(()=>{const I=r.reduce((B,M)=>(B[M.priority]=(B[M.priority]||0)+1,B),{});return Object.entries(I).map(([B,M])=>({priority:B.charAt(0).toUpperCase()+B.slice(1),count:M,color:B==="critical"?"#ef4444":B==="high"?"#f59e0b":B==="medium"?"#3b82f6":"#10b981"}))},[r]);return d?s.jsx("div",{className:"flex items-center justify-center h-96",children:s.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):s.jsx("div",{className:"min-h-screen bg-slate-50",children:s.jsxs("div",{className:Te.page,children:[s.jsx(xC,{featureId:"grid_optimization"}),s.jsxs("header",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-slate-900 mb-2",children:"Grid Optimization Dashboard"}),s.jsx("p",{className:"text-slate-600",children:"Real-time grid monitoring, stability analysis, and optimization recommendations"}),p&&s.jsx("div",{className:`mt-4 rounded-lg p-4 ${y?"bg-amber-50 border border-amber-200 text-amber-700":"bg-red-50 border border-red-200 text-red-700"}`,children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(Nr,{className:`h-5 w-5 ${y?"text-amber-600":"text-red-600"}`}),s.jsxs("div",{children:[s.jsx("h3",{className:`font-semibold mb-1 ${y?"text-amber-800":"text-red-800"}`,children:y?"Fallback Dataset Active":"Data Load Issue"}),s.jsx("p",{className:`${y?"text-amber-700":"text-red-700"} text-sm`,children:p})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:s.jsx(pt,{className:"h-6 w-6 text-blue-600"})}),s.jsxs("div",{className:`flex items-center space-x-1 px-2 py-1 rounded-full text-xs font-medium ${N?.reserveMargin&&N.reserveMargin>10?"bg-green-100 text-green-700":N?.reserveMargin&&N.reserveMargin>5?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:[N?.reserveMargin&&N.reserveMargin>10?s.jsx(qt,{className:"h-3 w-3"}):N?.reserveMargin&&N.reserveMargin>5?s.jsx(Nr,{className:"h-3 w-3"}):s.jsx(Nr,{className:"h-3 w-3"}),s.jsx("span",{children:N?.reserveMargin&&N.reserveMargin>10?"HEALTHY":N?.reserveMargin&&N.reserveMargin>5?"MONITOR":"CRITICAL"})]})]}),s.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Reserve Margin"}),s.jsxs("p",{className:"text-3xl font-bold text-blue-600",children:[N?.reserveMargin?.toFixed(1),"%"]}),s.jsxs("p",{className:"text-sm text-slate-600 mt-1",children:[N?.currentSupply?.toLocaleString()," MW supply vs ",N?.currentDemand?.toLocaleString()," MW demand"]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:s.jsx(pn,{className:"h-6 w-6 text-green-600"})}),s.jsxs("div",{className:`flex items-center space-x-1 px-2 py-1 rounded-full text-xs font-medium ${N?.frequencyDeviation&&N.frequencyDeviation<.05?"bg-green-100 text-green-700":N?.frequencyDeviation&&N.frequencyDeviation<.1?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:[N?.frequencyDeviation&&N.frequencyDeviation<.05?s.jsx(qt,{className:"h-3 w-3"}):s.jsx(Nr,{className:"h-3 w-3"}),s.jsx("span",{children:N?.frequencyDeviation&&N.frequencyDeviation<.05?"STABLE":"DEVIATION"})]})]}),s.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Frequency"}),s.jsxs("p",{className:"text-3xl font-bold text-green-600",children:[t[0]?.frequency?.toFixed(3)," Hz"]}),s.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Target: 60.000 Hz"})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:s.jsx(oi,{className:"h-6 w-6 text-purple-600"})}),s.jsxs("div",{className:`flex items-center space-x-1 px-2 py-1 rounded-full text-xs font-medium ${N?.criticalAlerts===0?"bg-green-100 text-green-700":N?.criticalAlerts&&N.criticalAlerts<3?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:[s.jsx(Nr,{className:"h-3 w-3"}),s.jsxs("span",{children:[N?.criticalAlerts||0," CRITICAL"]})]})]}),s.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Active Alerts"}),s.jsx("p",{className:"text-3xl font-bold text-purple-600",children:r.length}),s.jsxs("p",{className:"text-sm text-slate-600 mt-1",children:[N?.highPriorityActions||0," high priority actions needed"]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:s.jsx(hr,{className:"h-6 w-6 text-orange-600"})}),s.jsxs("div",{className:`flex items-center space-x-1 px-2 py-1 rounded-full text-xs font-medium ${k?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:[k?s.jsx(sx,{className:"h-3 w-3"}):s.jsx(FA,{className:"h-3 w-3"}),s.jsx("span",{children:k?"LIVE":"OFFLINE"})]})]}),s.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Data Source"}),s.jsx("p",{className:"text-3xl font-bold text-orange-600",children:w?"IESO":"MOCK"}),s.jsx("p",{className:"text-sm text-slate-600 mt-1",children:b==="connected"?"Real-time streaming":"Cached data"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-4",children:"Demand vs Supply (24h)"}),s.jsx(St,{width:"100%",height:300,children:s.jsxs(NG,{data:A,children:[s.jsx(Tt,{strokeDasharray:"3 3"}),s.jsx(lt,{dataKey:"time"}),s.jsx(at,{}),s.jsx(We,{formatter:I=>[`${I.toLocaleString()} MW`,""]}),s.jsx(or,{}),s.jsx(Wn,{type:"monotone",dataKey:"demand",stackId:"1",stroke:"#ef4444",fill:"#fee2e2"}),s.jsx(Wn,{type:"monotone",dataKey:"supply",stackId:"2",stroke:"#10b981",fill:"#d1fae5"})]})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-4",children:"Grid Stability Metrics"}),s.jsx(St,{width:"100%",height:300,children:s.jsxs(zs,{data:T,children:[s.jsx(Tt,{strokeDasharray:"3 3"}),s.jsx(lt,{dataKey:"time"}),s.jsx(at,{yAxisId:"freq",orientation:"left",domain:[59.9,60.1]}),s.jsx(at,{yAxisId:"volt",orientation:"right",domain:[118,122]}),s.jsx(We,{}),s.jsx(or,{}),s.jsx(ir,{yAxisId:"freq",type:"monotone",dataKey:"frequency",stroke:"#3b82f6",strokeWidth:2,name:"Frequency (Hz)"}),s.jsx(ir,{yAxisId:"volt",type:"monotone",dataKey:"voltage",stroke:"#f59e0b",strokeWidth:2,name:"Voltage (V)"})]})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-4",children:"AI Optimization Recommendations"}),s.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:r.length===0?s.jsxs("div",{className:"text-center py-8 text-slate-500",children:[s.jsx(oi,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No optimization recommendations at this time"})]}):r.slice(0,5).map(I=>s.jsxs("div",{className:`p-4 rounded-lg border ${I.priority==="critical"?"border-red-200 bg-red-50":I.priority==="high"?"border-yellow-200 bg-yellow-50":I.priority==="medium"?"border-blue-200 bg-blue-50":"border-green-200 bg-green-50"}`,children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsx("h4",{className:"font-medium text-slate-900",children:I.description}),s.jsx("span",{className:`px-2 py-1 text-xs rounded-full font-medium ${I.priority==="critical"?"bg-red-100 text-red-700":I.priority==="high"?"bg-yellow-100 text-yellow-700":I.priority==="medium"?"bg-blue-100 text-blue-700":"bg-green-100 text-green-700"}`,children:I.priority.toUpperCase()})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm text-slate-600",children:[s.jsxs("span",{children:["Expected Impact: ",I.expectedImpact>0?"+":"",I.expectedImpact,"%"]}),s.jsxs("span",{children:["Time: ",I.implementationTime,"min"]})]}),s.jsxs("div",{className:"mt-2 text-xs text-slate-500",children:["Confidence: ",Math.round(I.confidence*100),"%"]})]},I.id))})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-4",children:"Recommendations by Priority"}),s.jsx(St,{width:"100%",height:300,children:s.jsxs(cb,{children:[s.jsx(cn,{data:$,cx:"50%",cy:"50%",labelLine:!1,label:({priority:I,count:B})=>`${I}: ${B}`,outerRadius:80,fill:"#8884d8",dataKey:"count",children:$.map((I,B)=>s.jsx(gi,{fill:I.color},`cell-${B}`))}),s.jsx(We,{})]})})]})]}),s.jsxs("div",{className:"mt-4 flex items-center justify-end space-x-4",children:[s.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[s.jsx("span",{className:`inline-block w-2 h-2 rounded-full ${k?"bg-green-500":"bg-yellow-500"}`}),s.jsx("span",{className:"text-slate-600",children:k?"Real-time WebSocket Connected":"WebSocket Offline"})]}),s.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[s.jsx("span",{className:`inline-block w-2 h-2 rounded-full ${b==="connected"?"bg-green-500":"bg-red-500"}`}),s.jsx("span",{className:"text-slate-600",children:b==="connected"?"IESO Data Stream Active":"IESO Data Stream Offline"})]})]})]})})},gV=()=>{const[t,e]=C.useState([]),[r,n]=C.useState([]),[a,o]=C.useState(null),[c,u]=C.useState([]),[d,m]=C.useState("24h"),[p,h]=C.useState(!0),[y,v]=C.useState(null),{data:j,connectionStatus:b}=Sf("security-events"),{isConnected:w}=_f("security-monitoring"),k=C.useCallback((R,G)=>{const D=R*G;return D>=.6?"critical":D>=.4?"high":D>=.2?"medium":"low"},[]),S=C.useCallback(R=>R?{id:R.id||`threat_${R.vector||R.category||Date.now()}`,type:R.category||"cyber",severity:R.severity||k(R.impact??0,R.likelihood??0),likelihood:Number(R.likelihood??0),impact:Number(R.impact??0),description:R.description||R.mitigation_summary||"Threat description pending",affectedAssets:Array.isArray(R.affected_assets)?R.affected_assets:[],mitigationStrategies:Array.isArray(R.mitigation_strategies)?R.mitigation_strategies:[],detectionMethods:Array.isArray(R.detection_methods)?R.detection_methods:[],lastAssessed:R.last_reviewed||R.lastAssessed||new Date().toISOString(),riskScore:Number(R.likelihood??0)*Number(R.impact??0)}:null,[k]),O=C.useCallback((R,G)=>R?{id:R.id||`incident_${G}`,type:String(R.incident_type||R.type||"unknown"),severity:R.severity||"medium",status:R.status||"detected",description:R.description||"Security event detected",affectedSystems:Array.isArray(R.affected_systems)?R.affected_systems:[],timestamp:R.detected_at||R.timestamp||new Date().toISOString(),responseTime:Number(R.response_time_minutes??R.responseTime??0),resolutionTime:R.resolution_time_minutes??R.resolutionTime?Number(R.resolution_time_minutes??R.resolutionTime):void 0}:null,[]),P=C.useCallback(R=>R?{id:R.id||`mitigation_${R.strategy_name||Date.now()}`,threatId:R.related_threat||R.threatId||"",strategy:R.strategy_name||R.strategy||"Mitigation strategy",priority:R.priority||"medium",implementationStatus:R.status||"planned",expectedEffectiveness:Number(R.effectiveness??R.expectedEffectiveness??0),cost:Number(R.cost_estimate??R.cost??0),timeline:`${R.time_to_implement_days??R.timeline??0} days`,responsibleParty:R.responsible_party||R.responsibleParty||"Unassigned"}:null,[]),N=C.useCallback(R=>(Array.isArray(R?.threats)?R.threats:Array.isArray(R)?R:[]).map(S).filter(D=>D!==null),[S]),A=C.useCallback(R=>(Array.isArray(R?.incidents)?R.incidents:Array.isArray(R)?R:[]).map((D,W)=>O(D,W)).filter(D=>D!==null),[O]),T=C.useCallback(R=>{const G=Array.isArray(R)?R[0]:R;return G?{overallRiskScore:Number(G.overall_risk_score??G.overallRiskScore??0),activeIncidents:Number(G.active_incidents_count??G.activeIncidents??0),criticalVulnerabilities:Number(G.critical_vulnerabilities??G.criticalVulnerabilities??0),complianceScore:Number(G.compliance_score??G.complianceScore??0),threatDetectionRate:Number(G.detection_rate??G.threatDetectionRate??0),lastUpdated:G.last_updated||G.lastUpdated||new Date().toISOString()}:null},[]),$=C.useCallback(R=>(Array.isArray(R?.strategies)?R.strategies:Array.isArray(R)?R:[]).map(P).filter(D=>D!==null),[P]),I=C.useCallback(async()=>{try{h(!0);const[R,G,D,W]=await Promise.all([Pt(["api-v2-security-threat-models","api/security/threat-models"]),Pt(["api-v2-security-incidents","api/security/incidents"]),Pt(["api-v2-security-metrics","api/security/metrics"]),Pt(["api-v2-security-mitigation-strategies","api/security/mitigation-strategies"])]),Q=N(R.json);e(Q);const z=A(G.json);n(z);const Y=T(D.json);o(Y);const ie=$(W.json);u(ie)}catch(R){const D=(R instanceof Error?R.message:String(R)).includes("VITE_ENABLE_EDGE_FETCH=false");D||console.error("Failed to load security data",R),v(D?"Supabase Edge fetch disabled via configuration. Showing security fallback dataset.":R instanceof Error?R.message:"Failed to load security data")}finally{h(!1)}},[A,T,$,N]),B=C.useCallback(R=>{if(R.length===0)return;const G=R.map((D,W)=>O(D,`stream_${Date.now()}_${W}`)).filter(D=>D!==null);G.length!==0&&n(D=>[...G,...D].slice(0,100))},[O]);C.useEffect(()=>{I()},[d,I]),C.useEffect(()=>{j.length>0&&B(j)},[j,B]);const M=C.useMemo(()=>{if(!a)return null;const R=r.filter(W=>W.status!=="resolved").length,G=r.filter(W=>W.severity==="critical").length,D=r.length>0?r.reduce((W,Q)=>W+Q.responseTime,0)/r.length:0;return{overallRiskScore:a.overallRiskScore,activeIncidents:R,criticalIncidents:G,complianceScore:a.complianceScore,threatDetectionRate:a.threatDetectionRate,avgResponseTime:D}},[a,r]),q=C.useMemo(()=>t.map(R=>({x:R.likelihood*100,y:R.impact*100,name:R.type,severity:R.severity,riskScore:R.riskScore})),[t]),F=C.useMemo(()=>Array.from({length:24},(G,D)=>{const W=new Date;return W.setHours(W.getHours()-D),W.toISOString().substring(0,13)}).reverse().map(G=>{const D=r.filter(W=>W.timestamp.startsWith(G));return{hour:G.substring(11,13)+":00",incidents:D.length,critical:D.filter(W=>W.severity==="critical").length,resolved:D.filter(W=>W.status==="resolved").length}}),[r]),V=C.useMemo(()=>{const R=t.reduce((G,D)=>(G[D.type]=(G[D.type]||0)+1,G),{});return Object.entries(R).map(([G,D])=>({type:G.replace("_"," ").replace(/\b\w/g,W=>W.toUpperCase()),count:D,color:G==="cyber"?"#ef4444":G==="physical"?"#f59e0b":G==="supply_chain"?"#3b82f6":"#10b981"}))},[t]),L=C.useMemo(()=>{const R=c.reduce((G,D)=>(G[D.implementationStatus]=(G[D.implementationStatus]||0)+1,G),{});return Object.entries(R).map(([G,D])=>({status:G.replace("_"," ").replace(/\b\w/g,W=>W.toUpperCase()),count:D,color:G==="implemented"?"#10b981":G==="in_progress"?"#f59e0b":G==="planned"?"#6b7280":"#ef4444"}))},[c]);return p?s.jsx("div",{className:"flex items-center justify-center h-96",children:s.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):s.jsx("div",{className:"min-h-screen bg-slate-50",children:s.jsxs("div",{className:Te.page,children:[s.jsx(xC,{featureId:"security_assessment"}),s.jsxs("header",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-slate-900 mb-2",children:"Security Assessment Dashboard"}),s.jsx("p",{className:"text-slate-600",children:"Threat modeling, incident monitoring, and security mitigation strategies"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"p-3 bg-red-100 rounded-lg",children:s.jsx(zr,{className:"h-6 w-6 text-red-600"})}),s.jsxs("div",{className:`flex items-center space-x-1 px-2 py-1 rounded-full text-xs font-medium ${(M?.overallRiskScore||0)<30?"bg-green-100 text-green-700":(M?.overallRiskScore||0)<70?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:[(M?.overallRiskScore||0)<30?s.jsx(zr,{className:"h-3 w-3"}):(M?.overallRiskScore||0)<70?s.jsx(Nr,{className:"h-3 w-3"}):s.jsx(si,{className:"h-3 w-3"}),s.jsx("span",{children:(M?.overallRiskScore||0)<30?"LOW RISK":(M?.overallRiskScore||0)<70?"MEDIUM RISK":"HIGH RISK"})]})]}),s.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Overall Risk Score"}),s.jsx("p",{className:"text-3xl font-bold text-red-600",children:M?.overallRiskScore?.toFixed(1)||"0.0"}),s.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Out of 100 (lower is better)"})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:s.jsx(Nr,{className:"h-6 w-6 text-orange-600"})}),s.jsxs("div",{className:`flex items-center space-x-1 px-2 py-1 rounded-full text-xs font-medium ${(M?.activeIncidents||0)===0?"bg-green-100 text-green-700":(M?.activeIncidents||0)<5?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:[s.jsx(Nr,{className:"h-3 w-3"}),s.jsx("span",{children:(M?.activeIncidents||0)===0?"CLEAR":"ACTIVE"})]})]}),s.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Active Incidents"}),s.jsx("p",{className:"text-3xl font-bold text-orange-600",children:M?.activeIncidents||0}),s.jsxs("p",{className:"text-sm text-slate-600 mt-1",children:[M?.criticalIncidents||0," critical incidents"]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:s.jsx(oi,{className:"h-6 w-6 text-blue-600"})}),s.jsxs("div",{className:`flex items-center space-x-1 px-2 py-1 rounded-full text-xs font-medium ${(M?.complianceScore||0)>90?"bg-green-100 text-green-700":(M?.complianceScore||0)>70?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:[s.jsx(oi,{className:"h-3 w-3"}),s.jsx("span",{children:(M?.complianceScore||0)>90?"COMPLIANT":"MONITOR"})]})]}),s.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Compliance Score"}),s.jsxs("p",{className:"text-3xl font-bold text-blue-600",children:[M?.complianceScore?.toFixed(1)||"0.0","%"]}),s.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Regulatory compliance rating"})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:s.jsx(hr,{className:"h-6 w-6 text-green-600"})}),s.jsxs("div",{className:`flex items-center space-x-1 px-2 py-1 rounded-full text-xs font-medium ${(M?.threatDetectionRate||0)>95?"bg-green-100 text-green-700":(M?.threatDetectionRate||0)>80?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:[s.jsx(hr,{className:"h-3 w-3"}),s.jsx("span",{children:(M?.threatDetectionRate||0)>95?"EXCELLENT":"GOOD"})]})]}),s.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Detection Rate"}),s.jsxs("p",{className:"text-3xl font-bold text-green-600",children:[M?.threatDetectionRate?.toFixed(1)||"0.0","%"]}),s.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Threat detection effectiveness"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-4",children:"Threat Risk Matrix"}),s.jsx(St,{width:"100%",height:300,children:s.jsxs(ub,{data:q,children:[s.jsx(Tt,{strokeDasharray:"3 3"}),s.jsx(lt,{type:"number",dataKey:"x",domain:[0,100],label:{value:"Likelihood (%)",position:"insideBottom",offset:-5}}),s.jsx(at,{type:"number",dataKey:"y",domain:[0,100],label:{value:"Impact (%)",angle:-90,position:"insideLeft"}}),s.jsx(We,{formatter:(R,G)=>[`${R}%`,G==="x"?"Likelihood":"Impact"],labelFormatter:R=>`Threat: ${q.find(G=>G.x===R)?.name||"Unknown"}`}),s.jsx(bi,{dataKey:"y",fill:"#ef4444",shape:R=>{const{cx:G,cy:D,payload:W}=R,Q=W.severity==="critical"?"#ef4444":W.severity==="high"?"#f59e0b":W.severity==="medium"?"#3b82f6":"#10b981";return s.jsx("circle",{cx:G,cy:D,r:6,fill:Q,stroke:"#fff",strokeWidth:2})}})]})}),s.jsx("div",{className:"mt-4 text-sm text-slate-600",children:"Risk matrix showing threat likelihood vs impact. Circle size indicates risk score."})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-4",children:"Incident Timeline (24h)"}),s.jsx(St,{width:"100%",height:300,children:s.jsxs(Oa,{data:F,children:[s.jsx(Tt,{strokeDasharray:"3 3"}),s.jsx(lt,{dataKey:"hour"}),s.jsx(at,{}),s.jsx(We,{}),s.jsx(or,{}),s.jsx(Wt,{dataKey:"incidents",stackId:"a",fill:"#ef4444",name:"Total Incidents"}),s.jsx(Wt,{dataKey:"critical",stackId:"a",fill:"#dc2626",name:"Critical"}),s.jsx(Wt,{dataKey:"resolved",stackId:"b",fill:"#10b981",name:"Resolved"})]})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-4",children:"Threat Types Distribution"}),s.jsx(St,{width:"100%",height:300,children:s.jsxs(cb,{children:[s.jsx(cn,{data:V,cx:"50%",cy:"50%",labelLine:!1,label:({type:R,count:G})=>`${R}: ${G}`,outerRadius:80,fill:"#8884d8",dataKey:"count",children:V.map((R,G)=>s.jsx(gi,{fill:R.color},`cell-${G}`))}),s.jsx(We,{})]})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-4",children:"Mitigation Strategies Status"}),s.jsx(St,{width:"100%",height:300,children:s.jsxs(Oa,{data:L,children:[s.jsx(Tt,{strokeDasharray:"3 3"}),s.jsx(lt,{dataKey:"status"}),s.jsx(at,{}),s.jsx(We,{}),s.jsx(Wt,{dataKey:"count",fill:"#3b82f6"})]})})]})]}),s.jsxs("div",{className:"mt-8 bg-white rounded-lg shadow p-6",children:[s.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-4",children:"Recent Security Incidents"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-slate-50",children:[s.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-slate-700",children:"Type"}),s.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-slate-700",children:"Severity"}),s.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-slate-700",children:"Status"}),s.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-slate-700",children:"Description"}),s.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-slate-700",children:"Response Time"}),s.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-slate-700",children:"Timestamp"})]})}),s.jsx("tbody",{className:"divide-y divide-slate-200",children:r.slice(0,10).map(R=>s.jsxs("tr",{className:"hover:bg-slate-50",children:[s.jsx("td",{className:"px-4 py-2 text-sm text-slate-900",children:R.type.replace("_"," ").toUpperCase()}),s.jsx("td",{className:"px-4 py-2",children:s.jsx("span",{className:`inline-block px-2 py-1 text-xs rounded-full font-medium ${R.severity==="critical"?"bg-red-100 text-red-700":R.severity==="high"?"bg-orange-100 text-orange-700":R.severity==="medium"?"bg-yellow-100 text-yellow-700":"bg-green-100 text-green-700"}`,children:R.severity.toUpperCase()})}),s.jsx("td",{className:"px-4 py-2",children:s.jsx("span",{className:`inline-block px-2 py-1 text-xs rounded-full font-medium ${R.status==="resolved"?"bg-green-100 text-green-700":R.status==="contained"?"bg-blue-100 text-blue-700":R.status==="investigating"?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:R.status.replace("_"," ").toUpperCase()})}),s.jsx("td",{className:"px-4 py-2 text-sm text-slate-600 max-w-xs truncate",children:R.description}),s.jsxs("td",{className:"px-4 py-2 text-sm text-slate-600",children:[R.responseTime,"min"]}),s.jsx("td",{className:"px-4 py-2 text-sm text-slate-500",children:new Date(R.timestamp).toLocaleString()})]},R.id))})]})})]}),s.jsxs("div",{className:"mt-4 flex items-center justify-end space-x-4",children:[s.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[s.jsx("span",{className:`inline-block w-2 h-2 rounded-full ${w?"bg-green-500":"bg-yellow-500"}`}),s.jsx("span",{className:"text-slate-600",children:w?"Real-time Security Monitoring Active":"Security Monitoring Offline"})]}),s.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[s.jsx("span",{className:`inline-block w-2 h-2 rounded-full ${b==="connected"?"bg-green-500":"bg-red-500"}`}),s.jsx("span",{className:"text-slate-600",children:b==="connected"?"Security Data Stream Active":"Security Data Stream Offline"})]})]})]})})},yV={production_ready:{label:"Production Ready",icon:qt,color:"text-green-600",bgColor:"bg-green-50",borderColor:"border-green-200",badge:"✨"},acceptable:{label:"Available",icon:qt,color:"text-blue-600",bgColor:"bg-blue-50",borderColor:"border-blue-200",badge:"🟡"},partial:{label:"Limited",icon:Nr,color:"text-yellow-600",bgColor:"bg-yellow-50",borderColor:"border-yellow-200",badge:"🟠"},deferred:{label:"Coming Soon",icon:ds,color:"text-gray-600",bgColor:"bg-gray-50",borderColor:"border-gray-200",badge:"🔜"}},Pu=({feature:t})=>{const[e,r]=C.useState(!1),n=yV[t.status],a=n.icon;return s.jsx("div",{className:`border-2 ${n.borderColor} rounded-lg p-4 ${n.bgColor}`,children:s.jsx("div",{className:"flex items-start justify-between gap-3",children:s.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[s.jsx(a,{className:`h-6 w-6 ${n.color} flex-shrink-0 mt-0.5`}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:t.name}),s.jsx("span",{className:"text-xl",children:n.badge})]}),s.jsxs("div",{className:"flex items-center gap-3 text-xs text-gray-600 mb-2",children:[s.jsx("span",{className:`font-medium ${n.color}`,children:n.label}),s.jsxs("span",{children:["Rating: ",t.rating,"/5"]}),t.estimatedRelease&&s.jsxs("span",{className:"text-gray-500",children:["• Est: ",t.estimatedRelease]})]}),t.limitations&&t.limitations.length>0&&s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:()=>r(!e),className:"flex items-center gap-1 text-sm text-gray-700 hover:text-gray-900 transition-colors",children:[e?s.jsx(TA,{className:"h-4 w-4"}):s.jsx(EA,{className:"h-4 w-4"}),e?"Hide":"Show"," limitations (",t.limitations.length,")"]}),e&&s.jsxs("div",{className:"mt-3 pl-4 border-l-2 border-gray-300",children:[s.jsx("p",{className:"text-xs font-medium text-gray-700 mb-2",children:"Known Limitations:"}),s.jsx("ul",{className:"space-y-1.5",children:t.limitations.map((o,c)=>s.jsxs("li",{className:"text-xs text-gray-600 flex items-start gap-2",children:[s.jsx(si,{className:"h-3 w-3 flex-shrink-0 mt-0.5 text-gray-400"}),s.jsx("span",{children:o})]},c))})]})]}),!t.enabled&&t.status==="deferred"&&s.jsx("div",{className:"mt-2 text-xs text-gray-600 italic",children:"This feature is under development for Phase 2 release."})]})]})})})},vV=()=>{const[t,e]=C.useState("all"),r=C.useMemo(()=>vC(),[]),n=C.useMemo(()=>{const o=Object.values(rc);return t==="all"?o:o.filter(c=>c.status===t)},[t]),a=C.useMemo(()=>({production_ready:n.filter(o=>o.status==="production_ready"),acceptable:n.filter(o=>o.status==="acceptable"),partial:n.filter(o=>o.status==="partial"),deferred:n.filter(o=>o.status==="deferred")}),[n]);return s.jsx("div",{className:Te.page,children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-3",children:"Feature Availability - Phase 1 Launch"}),s.jsx("p",{className:"text-gray-600 text-lg mb-4",children:"Transparency about what's working, what has limitations, and what's coming next."}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 mt-6",children:[s.jsxs("div",{className:"bg-white border-2 border-gray-200 rounded-lg p-4 text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-gray-900",children:r.total}),s.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"Total Features"})]}),s.jsxs("div",{className:"bg-green-50 border-2 border-green-200 rounded-lg p-4 text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-green-700",children:r.productionReady}),s.jsx("div",{className:"text-xs text-green-700 mt-1",children:"Production Ready"})]}),s.jsxs("div",{className:"bg-blue-50 border-2 border-blue-200 rounded-lg p-4 text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-blue-700",children:r.acceptable}),s.jsx("div",{className:"text-xs text-blue-700 mt-1",children:"Available"})]}),s.jsxs("div",{className:"bg-yellow-50 border-2 border-yellow-200 rounded-lg p-4 text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-yellow-700",children:r.partial}),s.jsx("div",{className:"text-xs text-yellow-700 mt-1",children:"Limited"})]}),s.jsxs("div",{className:"bg-gray-50 border-2 border-gray-200 rounded-lg p-4 text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-gray-700",children:r.deferred}),s.jsx("div",{className:"text-xs text-gray-700 mt-1",children:"Coming Soon"})]})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-2 mb-6",children:[s.jsxs("button",{onClick:()=>e("all"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${t==="all"?"bg-gray-900 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["All Features (",r.total,")"]}),s.jsxs("button",{onClick:()=>e("production_ready"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${t==="production_ready"?"bg-green-600 text-white":"bg-green-50 text-green-700 hover:bg-green-100 border border-green-200"}`,children:["✨ Production Ready (",r.productionReady,")"]}),s.jsxs("button",{onClick:()=>e("acceptable"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${t==="acceptable"?"bg-blue-600 text-white":"bg-blue-50 text-blue-700 hover:bg-blue-100 border border-blue-200"}`,children:["🟡 Available (",r.acceptable,")"]}),s.jsxs("button",{onClick:()=>e("partial"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${t==="partial"?"bg-yellow-600 text-white":"bg-yellow-50 text-yellow-700 hover:bg-yellow-100 border border-yellow-200"}`,children:["🟠 Limited (",r.partial,")"]}),s.jsxs("button",{onClick:()=>e("deferred"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${t==="deferred"?"bg-gray-600 text-white":"bg-gray-50 text-gray-700 hover:bg-gray-100 border border-gray-200"}`,children:["🔜 Coming Soon (",r.deferred,")"]})]}),s.jsxs("div",{className:"space-y-8",children:[(t==="all"||t==="production_ready")&&a.production_ready.length>0&&s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx("span",{className:"text-3xl",children:"✨"}),"Production Ready - No Limitations"]}),s.jsx("p",{className:"text-gray-600 mb-4",children:"These features are fully functional and tested. Use with confidence for production workloads."}),s.jsx("div",{className:"space-y-3",children:a.production_ready.map(o=>s.jsx(Pu,{feature:o},o.id))})]}),(t==="all"||t==="acceptable")&&a.acceptable.length>0&&s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx("span",{className:"text-3xl",children:"🟡"}),"Available - Known Limitations"]}),s.jsx("p",{className:"text-gray-600 mb-4",children:"These features work well within documented limitations. Review limitations before use."}),s.jsx("div",{className:"space-y-3",children:a.acceptable.map(o=>s.jsx(Pu,{feature:o},o.id))})]}),(t==="all"||t==="partial")&&a.partial.length>0&&s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx("span",{className:"text-3xl",children:"🟠"}),"Limited Functionality - Use with Caution"]}),s.jsx("p",{className:"text-gray-600 mb-4",children:"These features have significant limitations. Suitable for exploration and visualization, not critical decisions."}),s.jsx("div",{className:"space-y-3",children:a.partial.map(o=>s.jsx(Pu,{feature:o},o.id))})]}),(t==="all"||t==="deferred")&&a.deferred.length>0&&s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx("span",{className:"text-3xl",children:"🔜"}),"Coming in Phase 2 - Q1 2026"]}),s.jsx("p",{className:"text-gray-600 mb-4",children:"These features are under active development and will be available in the Phase 2 release."}),s.jsx("div",{className:"space-y-3",children:a.deferred.map(o=>s.jsx(Pu,{feature:o},o.id))})]})]}),s.jsxs("div",{className:"mt-12 p-6 bg-blue-50 border-2 border-blue-200 rounded-lg",children:[s.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-2",children:"Your Feedback Shapes Phase 2"}),s.jsx("p",{className:"text-blue-800 text-sm mb-3",children:"Help us prioritize what matters most. Which deferred features would add the most value for you? What limitations in available features cause the most friction?"}),s.jsx("p",{className:"text-blue-700 text-xs",children:"Use the feedback button (top right) or help system to share your thoughts."})]})]})})},xV=({tabs:t,activeTab:e,onSelect:r,className:n})=>{const a=C.useRef(null),o=c=>{const u=a.current;u&&u.scrollBy({left:c,behavior:"smooth"})};return s.jsxs("div",{className:`ribbon-wrapper ${n??""}`,children:[s.jsx("button",{type:"button","aria-label":"Scroll left",className:"hidden md:block absolute left-0 top-1/2 -translate-y-1/2 bg-white/80 hover:bg-white shadow rounded-full p-2 border border-slate-200",onClick:()=>o(-240),children:s.jsx("svg",{viewBox:"0 0 24 24",width:"18",height:"18",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:s.jsx("polyline",{points:"15 18 9 12 15 6"})})}),s.jsx("div",{ref:a,className:"ribbon",role:"tablist","aria-label":"Main Navigation",children:t.map(c=>{const u=c.icon,d=e===c.id;return s.jsxs("button",{role:"tab","aria-selected":d,onClick:()=>r(c.id),className:`ribbon-item ${d?"ribbon-item-active":""}`,children:[u?s.jsx(u,{className:"h-4 w-4 mr-2"}):null,s.jsx("span",{children:c.label}),c.badge&&s.jsx("span",{className:`ml-2 px-2 py-0.5 text-xs rounded-full font-medium ${c.badge==="Limited"?"bg-yellow-100 text-yellow-700":c.badge==="Soon"?"bg-gray-100 text-gray-600":"bg-blue-100 text-blue-700"}`,children:c.badge})]},c.id)})}),s.jsx("button",{type:"button","aria-label":"Scroll right",className:"hidden md:block absolute right-0 top-1/2 -translate-y-1/2 bg-white/80 hover:bg-white shadow rounded-full p-2 border border-slate-200",onClick:()=>o(240),children:s.jsx("svg",{viewBox:"0 0 24 24",width:"18",height:"18",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:s.jsx("polyline",{points:"9 18 15 12 9 6"})})})]})},er={PROFILE:"household_profile",USAGE_HISTORY:"usage_history",PREFERENCES:"user_preferences",SAVINGS:"savings_tracker",RECOMMENDATIONS:"recommendations",ONBOARDING_COMPLETE:"onboarding_complete"};class bV{saveProfile(e){try{const r={...e,updatedAt:new Date().toISOString()};localStorage.setItem(er.PROFILE,JSON.stringify(r))}catch(r){throw console.error("Failed to save household profile:",r),new Error("Unable to save profile data")}}getProfile(){try{const e=localStorage.getItem(er.PROFILE);return e?JSON.parse(e):null}catch(e){return console.error("Failed to retrieve household profile:",e),null}}updateProfile(e){const r=this.getProfile();if(!r)throw new Error("No profile exists to update");const n={...r,...e,updatedAt:new Date().toISOString()};this.saveProfile(n)}saveUsage(e){try{const r=this.getUsageHistory(),n=r.findIndex(o=>o.month===e.month);n>=0?r[n]=e:r.push(e),r.sort((o,c)=>c.month.localeCompare(o.month));const a=r.slice(0,24);localStorage.setItem(er.USAGE_HISTORY,JSON.stringify(a))}catch(r){throw console.error("Failed to save usage data:",r),new Error("Unable to save usage data")}}getUsageHistory(e=12){try{const r=localStorage.getItem(er.USAGE_HISTORY);return r?JSON.parse(r).slice(0,e):[]}catch(r){return console.error("Failed to retrieve usage history:",r),[]}}calculateBenchmark(e){const r={ON:.85,AB:.95,BC:.75,QC:.8,SK:.9,MB:.85,NS:.82,NB:.83,PE:.81,NL:.88,YT:1.1,NT:1.15,NU:1.2},n={house:1.2,townhouse:.9,condo:.7,apartment:.6},a={electric:1.4,gas:.3,oil:.3,"heat-pump":.8,dual:.9,other:1};let m=e.squareFootage/100*e.occupants*35*r[e.province]*n[e.homeType]*a[e.heatingType];e.hasAC&&(m+=150),e.hasSolar&&(m*=.6),e.hasEV&&(m+=300);const p=this.getUsageHistory(3),h=p.length>0?p.reduce((k,S)=>k+S.consumption_kwh,0)/p.length:m,y=h<=m*.8?20:h<=m?40:h<=m*1.2?60:h<=m*1.5?80:95,v=((h-m)/m*100).toFixed(0),j=h<m?`${Math.abs(Number(v))}% below average`:h>m?`${v}% above average`:"Right at average",w=m*{ON:12.5,AB:18,BC:10,QC:7.5,SK:15,MB:9,NS:16.5,NB:13,PE:14.5,NL:12,YT:13.5,NT:25,NU:28}[e.province]/100;return{expectedUsage:Math.round(m),avgCost:Math.round(w*100)/100,similarHomesAvg:Math.round(m*1.05),percentile:y,comparisonText:j}}savePreferences(e){try{localStorage.setItem(er.PREFERENCES,JSON.stringify(e))}catch(r){console.error("Failed to save preferences:",r)}}getPreferences(){try{const e=localStorage.getItem(er.PREFERENCES);return e?JSON.parse(e):null}catch(e){return console.error("Failed to retrieve preferences:",e),null}}saveRecommendations(e){try{localStorage.setItem(er.RECOMMENDATIONS,JSON.stringify(e))}catch(r){console.error("Failed to save recommendations:",r)}}getRecommendations(){try{const e=localStorage.getItem(er.RECOMMENDATIONS);return e?JSON.parse(e):[]}catch(e){return console.error("Failed to retrieve recommendations:",e),[]}}markRecommendationImplemented(e){const r=this.getRecommendations(),n=r.map(a=>a.id===e?{...a,isCompleted:!0,implementedAt:new Date().toISOString()}:a);this.saveRecommendations(n),this.updateSavingsTracker(r.find(a=>a.id===e))}updateSavingsTracker(e){if(e)try{const r=this.getProfile();if(!r)return;const n=localStorage.getItem(er.SAVINGS),a=n?JSON.parse(n):{userId:r.userId,implementedRecommendations:[],totalSavedKwh:0,totalSavedCAD:0,totalCO2Reduced:0,savingsHistory:[],lastUpdated:new Date().toISOString()};a.implementedRecommendations.find(o=>o.id===e.id)||(a.implementedRecommendations.push(e),a.totalSavedKwh+=e.potentialSavings.kwh,a.totalSavedCAD+=e.potentialSavings.annual,a.totalCO2Reduced+=e.potentialSavings.co2Reduction,a.lastUpdated=new Date().toISOString(),localStorage.setItem(er.SAVINGS,JSON.stringify(a)))}catch(r){console.error("Failed to update savings tracker:",r)}}getSavingsTracker(){try{const e=localStorage.getItem(er.SAVINGS);return e?JSON.parse(e):null}catch(e){return console.error("Failed to retrieve savings tracker:",e),null}}isOnboardingComplete(){try{return localStorage.getItem(er.ONBOARDING_COMPLETE)==="true"}catch{return!1}}setOnboardingComplete(){localStorage.setItem(er.ONBOARDING_COMPLETE,"true")}clearAllData(){Object.values(er).forEach(e=>{localStorage.removeItem(e)})}exportData(){const e={profile:this.getProfile(),usageHistory:this.getUsageHistory(24),preferences:this.getPreferences(),recommendations:this.getRecommendations(),savings:this.getSavingsTracker(),exportedAt:new Date().toISOString()};return JSON.stringify(e,null,2)}importData(e){try{const r=JSON.parse(e);r.profile&&this.saveProfile(r.profile),r.usageHistory&&r.usageHistory.forEach(n=>this.saveUsage(n)),r.preferences&&this.savePreferences(r.preferences),r.recommendations&&this.saveRecommendations(r.recommendations),r.savings&&localStorage.setItem(er.SAVINGS,JSON.stringify(r.savings))}catch(r){throw console.error("Failed to import data:",r),new Error("Invalid data format")}}}const gn=new bV;function wV(t){if(t.length===0)return!1;const e=t[0];return!e.peakUsageHours||e.peakUsageHours.length===0?!1:e.peakUsageHours.filter(n=>n>=11&&n<=16).length/e.peakUsageHours.length>.4}function jV(t,e=3){if(t.length===0)return 0;const r=t.slice(0,Math.min(e,t.length));return r.reduce((a,o)=>a+o.consumption_kwh,0)/r.length}function SV(t){if(t.length<6)return{highUsageMonths:[],isWinterPeak:!1,isSummerPeak:!1};const r=[...t].sort((u,d)=>d.consumption_kwh-u.consumption_kwh).slice(0,3),n=["01","02","03","11","12"],a=["06","07","08"],o=r.filter(u=>n.includes(u.month.split("-")[1])).length>=2,c=r.filter(u=>a.includes(u.month.split("-")[1])).length>=2;return{highUsageMonths:r.map(u=>u.month),isWinterPeak:o,isSummerPeak:c}}function _V(t){let e=300*t.occupants;const r=t.squareFootage/1500;return e*=r,t.heatingType==="electric"?e*=1.4:t.heatingType==="heat-pump"&&(e*=1.2),t.hasAC&&(e*=1.15),t.hasEV&&(e+=300),t.hasSolar&&(e*=.6),Math.round(e)}function _A(t,e,r){const n=[],a=jV(e),o=SV(e),c=e.length>0,u=c?a:_V(t);if(t.heatingType==="electric"){const d=c?a:u,m=Math.round(d*.15*r.currentPrice/100),p=m*12,h=Math.round(d*.15);n.push({id:"heating-optimization",category:"behavioral",priority:"high",title:"Reduce Electric Heating Costs by 15-20%",description:c?"Your electric heating is using significant energy in winter months. Small thermostat adjustments and draft sealing can make a big difference.":`Electric heating can be expensive. Based on your ${t.squareFootage} sq ft home in ${t.province}, we estimate simple changes could save you significantly.`,potentialSavings:{monthly:m,annual:p,kwh:h*12,co2Reduction:h*12*.13},effort:"easy",actionSteps:[{step:"Lower thermostat by 2°C when sleeping (10 PM - 6 AM)",estimatedTime:"2 minutes",difficulty:"easy",cost:0},{step:"Use a programmable or smart thermostat to automate temperature reductions",estimatedTime:"1 hour",difficulty:"moderate",cost:80},{step:"Check for drafts around windows and doors, apply weatherstripping",estimatedTime:"2 hours",difficulty:"easy",cost:30},{step:"Close heating vents in unused rooms",estimatedTime:"15 minutes",difficulty:"easy",cost:0}],relatedRebates:["smart-thermostat-rebate"]})}if(r.hasTOUPricing&&wV(e)){const d=a*.4*(r.touRates.onPeak-r.touRates.offPeak)/100,m=Math.round(d*.7),p=m*12;n.push({id:"tou-shifting",category:"behavioral",priority:"high",title:"Shift Usage to Off-Peak Hours",description:`You're using ${Math.round(a*.4)} kWh during expensive peak hours. Moving usage to evenings and weekends can save significantly.`,potentialSavings:{monthly:m,annual:p,kwh:0,co2Reduction:0},effort:"easy",actionSteps:[{step:`Run dishwasher after 7 PM (off-peak rate: ${r.touRates?.offPeak}¢/kWh)`,estimatedTime:"Daily habit",difficulty:"easy",cost:0},{step:"Do laundry on weekends or after 7 PM on weekdays",estimatedTime:"Adjust schedule",difficulty:"easy",cost:0},t.hasEV&&{step:"Set EV to charge overnight (11 PM - 6 AM)",estimatedTime:"5 minutes setup",difficulty:"easy",cost:0},{step:"Use smart plugs to delay appliances until off-peak",estimatedTime:"30 minutes",difficulty:"moderate",cost:40}].filter(Boolean)})}if(["ON","BC","QC"].includes(t.province)&&t.heatingType==="gas"&&t.homeType==="house"&&a<2e3&&n.push({id:"heat-pump-rebate",category:"rebate",priority:"medium",title:"Get Up to $10,000 for Heat Pump Upgrade",description:"Cold-climate heat pumps are 3x more efficient than electric heating. You qualify for significant federal and provincial rebates.",potentialSavings:{monthly:60,annual:720,kwh:0,co2Reduction:2400},effort:"significant",actionSteps:[{step:"Book a free EnergyGuide home assessment (required for rebates)",estimatedTime:"2 hours",difficulty:"easy",cost:0},{step:"Get 3 quotes from certified heat pump installers",estimatedTime:"1 week",difficulty:"moderate",cost:0},{step:"Apply for Canada Greener Homes Grant (up to $5,000)",estimatedTime:"1 hour",difficulty:"moderate",cost:0},{step:"Apply for provincial heat pump rebate (varies by province)",estimatedTime:"1 hour",difficulty:"moderate",cost:0},{step:"Schedule installation and second EnergyGuide assessment",estimatedTime:"1-2 days",difficulty:"moderate",cost:8e3}],relatedRebates:["canada-greener-homes","provincial-heat-pump"]}),t.hasAC&&o.isSummerPeak&&a>800){const d=Math.round(a*.12*r.currentPrice/100),m=d*4;n.push({id:"cooling-optimization",category:"behavioral",priority:"medium",title:"Reduce Air Conditioning Costs",description:`Your summer electricity usage is ${Math.round((a/600-1)*100)}% higher than winter. Smart cooling strategies can help.`,potentialSavings:{monthly:d,annual:m,kwh:Math.round(a*.12)*4,co2Reduction:Math.round(a*.12)*4*.13},effort:"easy",actionSteps:[{step:"Set AC to 24°C instead of 22°C (saves 10-15%)",estimatedTime:"1 minute",difficulty:"easy",cost:0},{step:"Use ceiling or portable fans to circulate cool air",estimatedTime:"30 minutes",difficulty:"easy",cost:50},{step:"Close blinds during hottest part of day (10 AM - 4 PM)",estimatedTime:"Daily habit",difficulty:"easy",cost:0},{step:"Clean or replace AC filters monthly during summer",estimatedTime:"15 minutes",difficulty:"easy",cost:20}]})}if(!["smart-thermostat","heat-pump"].includes(t.heatingType)&&(a>800||o.isWinterPeak||o.isSummerPeak)){const d=Math.round(a*.1*r.currentPrice/100),m=d*12;n.push({id:"smart-thermostat",category:"upgrade",priority:"medium",title:"Install a Smart Thermostat",description:"Smart thermostats learn your schedule and can reduce heating/cooling by 10-15% automatically.",potentialSavings:{monthly:d,annual:m,kwh:Math.round(a*.1)*12,co2Reduction:Math.round(a*.1)*12*.13},effort:"moderate",actionSteps:[{step:"Research smart thermostats (Nest, Ecobee, Honeywell)",estimatedTime:"1 hour",difficulty:"easy",cost:0},{step:"Check for utility rebates (many utilities offer $50-100 off)",estimatedTime:"15 minutes",difficulty:"easy",cost:0},{step:"Purchase and install (DIY or electrician)",estimatedTime:"1-2 hours",difficulty:"moderate",cost:200},{step:"Set up schedules and temperature preferences in app",estimatedTime:"30 minutes",difficulty:"easy",cost:0}],relatedRebates:["smart-thermostat-utility-rebate"]})}if(a>1500){const d=Math.round(a*.08*r.currentPrice/100),m=d*12;n.push({id:"general-conservation",category:"behavioral",priority:"medium",title:"General Energy Conservation Tips",description:"Your usage is higher than average for similar homes. These simple habits can add up to significant savings.",potentialSavings:{monthly:d,annual:m,kwh:Math.round(a*.08)*12,co2Reduction:Math.round(a*.08)*12*.13},effort:"easy",actionSteps:[{step:"Switch all lights to LED bulbs (saves 75% vs incandescent)",estimatedTime:"1 hour",difficulty:"easy",cost:50},{step:"Unplug devices and chargers when not in use",estimatedTime:"Daily habit",difficulty:"easy",cost:0},{step:"Run full loads in dishwasher and washing machine",estimatedTime:"Change habits",difficulty:"easy",cost:0},{step:"Air-dry clothes instead of using dryer when possible",estimatedTime:"Variable",difficulty:"easy",cost:0},{step:"Turn off lights when leaving a room",estimatedTime:"Daily habit",difficulty:"easy",cost:0}]})}if(t.hasEV){const m=r.hasTOUPricing?Math.round(300*(r.touRates.onPeak-r.touRates.offPeak)/100):15;n.push({id:"ev-charging-optimization",category:"behavioral",priority:r.hasTOUPricing?"high":"medium",title:r.hasTOUPricing?"Optimize EV Charging Times":"EV Charging Best Practices",description:r.hasTOUPricing?"Charging your EV during off-peak hours can save you significantly with time-of-use pricing.":"Optimize your EV charging habits to reduce strain on the grid and potentially save on costs.",potentialSavings:{monthly:m,annual:m*12,kwh:0,co2Reduction:0},effort:"easy",actionSteps:[{step:r.hasTOUPricing?"Set your EV to charge between 11 PM and 6 AM":"Charge overnight when grid demand is lower",estimatedTime:"5 minutes",difficulty:"easy",cost:0},{step:"Use your utility's EV charging app for lowest rates",estimatedTime:"15 minutes setup",difficulty:"easy",cost:0},{step:"Consider a smart Level 2 charger for automated scheduling",estimatedTime:"2 hours install",difficulty:"moderate",cost:600}],relatedRebates:["ev-charger-rebate"]})}if(!c||u>500){const d=c?a:u,m=Math.round(d*.1*r.currentPrice/100);n.push({id:"smart-thermostat",category:"upgrade",priority:"medium",title:"Install a Smart Thermostat",description:"Smart thermostats learn your schedule and can reduce heating/cooling costs by 10-15% automatically.",potentialSavings:{monthly:m,annual:m*12,kwh:Math.round(d*.1*12),co2Reduction:Math.round(d*.1*12*.13)},effort:"moderate",actionSteps:[{step:"Research smart thermostats (Nest, Ecobee, Honeywell)",estimatedTime:"30 minutes",difficulty:"easy",cost:0},{step:"Check if your utility offers rebates (many do!)",estimatedTime:"15 minutes",difficulty:"easy",cost:0},{step:"Purchase and install smart thermostat",estimatedTime:"1 hour",difficulty:"moderate",cost:200},{step:"Configure schedule and temperature preferences",estimatedTime:"30 minutes",difficulty:"easy",cost:0}],relatedRebates:["smart-thermostat-rebate"]})}if(t.heatingType==="gas"&&["ON","BC","QC"].includes(t.province)&&n.push({id:"heat-pump-upgrade",category:"upgrade",priority:"medium",title:"Consider Heat Pump Upgrade",description:`Heat pumps are 2-3x more efficient than gas furnaces and eligible for up to $10,000 in rebates in ${t.province}.`,potentialSavings:{monthly:50,annual:600,kwh:0,co2Reduction:2e3},effort:"significant",actionSteps:[{step:"Get a free home energy audit",estimatedTime:"2 hours",difficulty:"easy",cost:0},{step:"Get quotes from 3 HVAC contractors",estimatedTime:"3 hours",difficulty:"moderate",cost:0},{step:"Apply for rebates (Greener Homes Grant)",estimatedTime:"1 hour",difficulty:"moderate",cost:0},{step:"Schedule installation",estimatedTime:"1 day",difficulty:"hard",cost:8e3}],relatedRebates:["canada-greener-homes","heat-pump-rebate"]}),!c||n.length<3){const d=c?a:u,m=Math.round(d*.08*r.currentPrice/100);n.push({id:"general-conservation",category:"behavioral",priority:"low",title:"Easy Energy-Saving Habits",description:"Small daily changes can add up to significant savings over time.",potentialSavings:{monthly:m,annual:m*12,kwh:Math.round(d*.08*12),co2Reduction:Math.round(d*.08*12*.13)},effort:"easy",actionSteps:[{step:"Replace 5 most-used bulbs with LEDs",estimatedTime:"30 minutes",difficulty:"easy",cost:25},{step:"Unplug devices when not in use (phantom load)",estimatedTime:"10 minutes daily",difficulty:"easy",cost:0},{step:"Use cold water for laundry",estimatedTime:"0 minutes (same effort)",difficulty:"easy",cost:0},{step:"Air-dry dishes instead of heated drying",estimatedTime:"0 minutes",difficulty:"easy",cost:0}]})}return n.sort((d,m)=>m.potentialSavings.annual-d.potentialSavings.annual)}function NV(t){return t.reduce((e,r)=>({monthly:e.monthly+r.potentialSavings.monthly,annual:e.annual+r.potentialSavings.annual,kwh:e.kwh+r.potentialSavings.kwh,co2Reduction:e.co2Reduction+r.potentialSavings.co2Reduction}),{monthly:0,annual:0,kwh:0,co2Reduction:0})}const kV=[{id:"canada-greener-homes",name:"Canada Greener Homes Grant",provider:"federal",province:"ALL",amount:{min:125,max:5e3},type:"home-retrofit",eligibility:{homeOwner:!0,requiresAudit:!0},applicationUrl:"https://natural-resources.canada.ca/energy-efficiency/homes/canada-greener-homes-grant/23441",description:"Get up to $5,000 to make energy-efficient retrofits to your home, plus $600 for pre- and post-retrofit EnergyGuide evaluations.",estimatedProcessingTime:"8-12 weeks",isActive:!0,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"},{id:"canada-oil-to-heat-pump",name:"Oil to Heat Pump Affordability Grant",provider:"federal",province:"ALL",amount:{min:1e4,max:15e3},type:"heat-pump",eligibility:{homeOwner:!0,otherCriteria:["Currently using oil heating","Low to median income household"]},applicationUrl:"https://natural-resources.canada.ca/energy-efficiency/homes/canada-greener-homes-initiative/oil-heat-pump-affordability-program/24775",description:"Up to $15,000 for low-income households switching from oil heating to a heat pump.",estimatedProcessingTime:"10-14 weeks",isActive:!0,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"},{id:"on-home-efficiency-rebate",name:"Ontario Home Efficiency Rebate Plus",provider:"provincial",province:"ON",amount:{min:0,max:1e4},type:"heat-pump",eligibility:{homeOwner:!0,requiresAudit:!0},applicationUrl:"https://www.ontario.ca/page/home-efficiency-rebate-plus",description:"Ontario homeowners can get up to $10,000 in rebates for heat pumps and home insulation upgrades.",estimatedProcessingTime:"6-10 weeks",isActive:!0,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"},{id:"bc-home-renovation-rebate",name:"CleanBC Home Renovation Rebate",provider:"provincial",province:"BC",amount:{min:0,max:6e3},type:"heat-pump",eligibility:{homeOwner:!0},applicationUrl:"https://betterhomesbc.ca/",description:"Get up to $6,000 for installing an air-source or ground-source heat pump in BC.",estimatedProcessingTime:"4-8 weeks",isActive:!0,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"},{id:"qc-logis-vert",name:"Rénoclimat - Logis-Vert",provider:"provincial",province:"QC",amount:{min:0,max:9e3},type:"home-retrofit",eligibility:{homeOwner:!0,requiresAudit:!0},applicationUrl:"https://www.transitionenergetique.gouv.qc.ca/residentiel/programmes/renoclimat",description:"Quebec homeowners can get up to $9,000 for energy efficiency improvements.",estimatedProcessingTime:"8-12 weeks",isActive:!0,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"},{id:"ab-residential-solar-rebate",name:"Alberta Residential Solar Program",provider:"provincial",province:"AB",amount:{min:0,max:5e3},type:"solar",eligibility:{homeOwner:!0,otherCriteria:["Residential property","Grid-connected system"]},applicationUrl:"https://www.alberta.ca/residential-solar-program",description:"Get up to $5,000 for installing residential solar panels in Alberta.",estimatedProcessingTime:"6-10 weeks",isActive:!0,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"},{id:"smart-thermostat-generic",name:"Smart Thermostat Rebate",provider:"utility",province:"ALL",amount:{min:50,max:150},type:"smart-thermostat",eligibility:{},applicationUrl:"https://www.nrcan.gc.ca/energy-efficiency/homes/make-your-home-more-energy-efficient/20546",description:"Many utilities offer $50-150 rebates for smart thermostats. Check with your local utility.",estimatedProcessingTime:"2-4 weeks",isActive:!0,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"},{id:"ev-charger-rebate",name:"Zero-Emission Vehicle Charger Rebate",provider:"federal",province:"ALL",amount:{min:0,max:5e3},type:"EV-charger",eligibility:{homeOwner:!0,otherCriteria:["Level 2 charger installation"]},applicationUrl:"https://natural-resources.canada.ca/energy-efficiency/transportation-alternative-fuels/zero-emission-vehicle-infrastructure-program/21876",description:"Get up to $5,000 for installing a Level 2 EV charger at home.",estimatedProcessingTime:"6-8 weeks",isActive:!0,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"},{id:"on-save-on-energy-appliances",name:"Save on Energy - Appliance Rebates",provider:"utility",province:"ON",amount:{min:25,max:200},type:"appliance",eligibility:{},applicationUrl:"https://saveonenergy.ca/For-Your-Home/Offers-and-Programs",description:"Get rebates on ENERGY STAR certified appliances including refrigerators, washers, and dryers.",estimatedProcessingTime:"4-6 weeks",isActive:!0,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"},{id:"bc-efficient-appliance-rebate",name:"BC Hydro - Power Smart Appliance Rebates",provider:"utility",province:"BC",amount:{min:30,max:300},type:"appliance",eligibility:{},applicationUrl:"https://www.bchydro.com/powersmart/residential/savings-and-rebates.html",description:"Get rebates on energy-efficient heat pump water heaters, washers, and other appliances.",estimatedProcessingTime:"3-5 weeks",isActive:!0,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"}];class OV{rebates;constructor(e=kV){this.rebates=e}async findEligibleRebates(e){const r=[];for(const n of this.rebates)n.isActive&&(n.province!=="ALL"&&n.province!==e.province||n.eligibility.homeOwner&&e.homeType==="apartment"||(n.type==="heat-pump"?e.heatingType!=="heat-pump"&&r.push(n):n.type==="solar"?e.hasSolar||r.push(n):n.type==="EV-charger"?e.hasEV&&r.push(n):r.push(n)));return r}calculateMaxRebates(e){return e.reduce((r,n)=>r+n.amount.max,0)}calculateRealisticRebates(e){return e.reduce((r,n)=>{const a=(n.amount.min+n.amount.max)/2;return r+a},0)}rankByValue(e){return[...e].sort((r,n)=>n.amount.max-r.amount.max)}rankByEase(e){return[...e].sort((r,n)=>{if(r.provider==="utility"&&n.provider!=="utility")return-1;if(n.provider==="utility"&&r.provider!=="utility")return 1;const a=r.eligibility.requiresAudit?0:1,o=n.eligibility.requiresAudit?0:1;return a!==o?o-a:n.amount.max-r.amount.max})}getTopPriority(e,r=3){return this.rankByValue(e).slice(0,r)}filterByType(e,r){return e.filter(n=>n.type===r)}filterByProvider(e,r){return e.filter(n=>n.provider===r)}getExpiringSoon(e){const r=new Date,n=new Date(r.getTime()+2160*60*60*1e3);return e.filter(a=>{if(!a.deadline)return!1;const o=new Date(a.deadline);return o<=n&&o>r})}searchRebates(e){const r=e.toLowerCase();return this.rebates.filter(n=>n.name.toLowerCase().includes(r)||n.description.toLowerCase().includes(r)||n.type.toLowerCase().includes(r))}getRebateById(e){return this.rebates.find(r=>r.id===e)}async getRebateSummary(e){const r=await this.findEligibleRebates(e),n=this.getTopPriority(r,5),a=r.reduce((o,c)=>(o[c.provider]=(o[c.provider]||0)+1,o),{});return{totalEligible:r.length,maxAmount:this.calculateMaxRebates(r),realisticAmount:this.calculateRealisticRebates(r),topRebates:n,byProvider:a}}async getRecommendedRebates(e){const r=await this.findEligibleRebates(e),n=r.filter(c=>c.amount.max>=1e3&&["heat-pump","solar","home-retrofit"].includes(c.type)),a=r.filter(c=>c.amount.max<500&&c.provider==="utility"&&!c.eligibility.requiresAudit),o=r.filter(c=>c.amount.max>=5e3);return{highPriority:this.rankByValue(n).slice(0,3),quickWins:this.rankByEase(a).slice(0,3),longTerm:this.rankByValue(o).slice(0,3)}}}const A0=new OV,NA=[{value:"ON",label:"Ontario"},{value:"AB",label:"Alberta"},{value:"BC",label:"British Columbia"},{value:"QC",label:"Quebec"},{value:"SK",label:"Saskatchewan"},{value:"MB",label:"Manitoba"},{value:"NS",label:"Nova Scotia"},{value:"NB",label:"New Brunswick"},{value:"PE",label:"Prince Edward Island"},{value:"NL",label:"Newfoundland and Labrador"},{value:"YT",label:"Yukon"},{value:"NT",label:"Northwest Territories"},{value:"NU",label:"Nunavut"}],AV=({onComplete:t})=>{const[e,r]=C.useState("welcome"),[n,a]=C.useState({userId:`user_${Date.now()}`,province:"ON",postalCode:"",homeType:"house",squareFootage:1500,occupants:2,heatingType:"gas",hasAC:!1,hasSolar:!1,hasEV:!1,utilityProvider:""}),o=p=>{a(h=>({...h,...p}))},c=()=>{const p={...n,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};gn.saveProfile(p),gn.setOnboardingComplete(),t(p)},u=()=>{const p=["welcome","location","home-details","energy-systems","usage","complete"],h=p.indexOf(e);h<p.length-1&&r(p[h+1])},d=()=>{const p=["welcome","location","home-details","energy-systems","usage","complete"],h=p.indexOf(e);h>0&&r(p[h-1])},m=()=>{const p=["welcome","location","home-details","energy-systems","usage","complete"],y=(p.indexOf(e)+1)/p.length*100;return s.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2 mb-8",children:s.jsx("div",{className:"bg-gradient-to-r from-green-500 to-blue-600 h-2 rounded-full transition-all duration-500",style:{width:`${y}%`}})})};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-blue-50 dark:from-gray-900 dark:to-gray-800 flex items-center justify-center p-4",children:s.jsxs("div",{className:"max-w-2xl w-full bg-white dark:bg-gray-800 rounded-2xl shadow-2xl p-8",children:[m(),e==="welcome"&&s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"mb-6",children:s.jsx(pt,{className:"w-20 h-20 mx-auto text-green-500"})}),s.jsx("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-4",children:"Welcome to My Energy AI"}),s.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400 mb-8",children:"I'm your personal energy advisor. In just 5 minutes, I'll help you:"}),s.jsxs("div",{className:"space-y-4 text-left max-w-md mx-auto mb-8",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(qt,{className:"w-6 h-6 text-green-500 flex-shrink-0 mt-1"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:"Understand your energy usage"}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Compare to similar homes in your area"})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(qt,{className:"w-6 h-6 text-green-500 flex-shrink-0 mt-1"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:"Find ways to save money"}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Get personalized recommendations"})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(qt,{className:"w-6 h-6 text-green-500 flex-shrink-0 mt-1"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:"Discover rebates you qualify for"}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Up to $10,000+ in available programs"})]})]})]}),s.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4 mb-8",children:s.jsxs("p",{className:"text-sm text-blue-900 dark:text-blue-200",children:["🔒 ",s.jsx("strong",{children:"Privacy First:"})," Your data stays on your device. We never share or sell your information."]})}),s.jsxs("button",{onClick:u,className:"bg-gradient-to-r from-green-500 to-blue-600 text-white px-8 py-3 rounded-lg font-medium hover:from-green-600 hover:to-blue-700 transition-all inline-flex items-center gap-2",children:["Let's Get Started",s.jsx(hu,{className:"w-5 h-5"})]})]}),e==="location"&&s.jsxs("div",{children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx(va,{className:"w-16 h-16 mx-auto text-blue-500 mb-4"}),s.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Where do you live?"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"This helps us provide accurate pricing and rebate information"})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Province / Territory"}),s.jsx("select",{value:n.province,onChange:p=>o({province:p.target.value}),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent dark:bg-gray-700 dark:text-white",children:NA.map(p=>s.jsx("option",{value:p.value,children:p.label},p.value))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Postal Code (Optional)"}),s.jsx("input",{type:"text",value:n.postalCode,onChange:p=>o({postalCode:p.target.value.toUpperCase()}),placeholder:"A1A 1A1",className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent dark:bg-gray-700 dark:text-white"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Utility Provider (Optional)"}),s.jsx("input",{type:"text",value:n.utilityProvider,onChange:p=>o({utilityProvider:p.target.value}),placeholder:"e.g., Hydro One, EPCOR, BC Hydro",className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent dark:bg-gray-700 dark:text-white"})]})]}),s.jsxs("div",{className:"flex gap-4 mt-8",children:[s.jsxs("button",{onClick:d,className:"flex-1 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 px-6 py-3 rounded-lg font-medium hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors inline-flex items-center justify-center gap-2",children:[s.jsx(mu,{className:"w-5 h-5"}),"Back"]}),s.jsxs("button",{onClick:u,className:"flex-1 bg-gradient-to-r from-green-500 to-blue-600 text-white px-6 py-3 rounded-lg font-medium hover:from-green-600 hover:to-blue-700 transition-all inline-flex items-center justify-center gap-2",children:["Continue",s.jsx(hu,{className:"w-5 h-5"})]})]})]}),e==="home-details"&&s.jsxs("div",{children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx(Iu,{className:"w-16 h-16 mx-auto text-blue-500 mb-4"}),s.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Tell us about your home"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"This helps us compare you to similar households"})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Home Type"}),s.jsx("div",{className:"grid grid-cols-2 gap-3",children:["house","townhouse","condo","apartment"].map(p=>s.jsx("button",{onClick:()=>o({homeType:p}),className:`px-4 py-3 border-2 rounded-lg font-medium transition-all ${n.homeType===p?"border-green-500 bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-300":"border-gray-300 dark:border-gray-600 hover:border-gray-400 dark:hover:border-gray-500 text-gray-700 dark:text-gray-300"}`,children:p.charAt(0).toUpperCase()+p.slice(1)},p))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Square Footage"}),s.jsx("input",{type:"number",value:n.squareFootage,onChange:p=>o({squareFootage:parseInt(p.target.value)}),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent dark:bg-gray-700 dark:text-white",min:"100",max:"10000"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Number of Occupants"}),s.jsx("input",{type:"number",value:n.occupants,onChange:p=>o({occupants:parseInt(p.target.value)}),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent dark:bg-gray-700 dark:text-white",min:"1",max:"20"})]})]}),s.jsxs("div",{className:"flex gap-4 mt-8",children:[s.jsxs("button",{onClick:d,className:"flex-1 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 px-6 py-3 rounded-lg font-medium hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors inline-flex items-center justify-center gap-2",children:[s.jsx(mu,{className:"w-5 h-5"}),"Back"]}),s.jsxs("button",{onClick:u,className:"flex-1 bg-gradient-to-r from-green-500 to-blue-600 text-white px-6 py-3 rounded-lg font-medium hover:from-green-600 hover:to-blue-700 transition-all inline-flex items-center justify-center gap-2",children:["Continue",s.jsx(hu,{className:"w-5 h-5"})]})]})]}),e==="energy-systems"&&s.jsxs("div",{children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx(DA,{className:"w-16 h-16 mx-auto text-blue-500 mb-4"}),s.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Energy systems"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"What powers your home?"})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Primary Heating System"}),s.jsxs("select",{value:n.heatingType,onChange:p=>o({heatingType:p.target.value}),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent dark:bg-gray-700 dark:text-white",children:[s.jsx("option",{value:"gas",children:"Natural Gas"}),s.jsx("option",{value:"electric",children:"Electric"}),s.jsx("option",{value:"oil",children:"Oil"}),s.jsx("option",{value:"heat-pump",children:"Heat Pump"}),s.jsx("option",{value:"dual",children:"Dual System"}),s.jsx("option",{value:"other",children:"Other"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-300 dark:border-gray-600 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(d3,{className:"w-6 h-6 text-blue-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:"Air Conditioning"}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Central or window AC"})]})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:n.hasAC,onChange:p=>o({hasAC:p.target.checked}),className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-green-300 dark:peer-focus:ring-green-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-green-600"})]})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-300 dark:border-gray-600 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx($A,{className:"w-6 h-6 text-yellow-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:"Solar Panels"}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Rooftop solar system"})]})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:n.hasSolar,onChange:p=>o({hasSolar:p.target.checked}),className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-green-300 dark:peer-focus:ring-green-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-green-600"})]})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-300 dark:border-gray-600 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(PA,{className:"w-6 h-6 text-green-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:"Electric Vehicle"}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Home charging"})]})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:n.hasEV,onChange:p=>o({hasEV:p.target.checked}),className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-green-300 dark:peer-focus:ring-green-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-green-600"})]})]})]})]}),s.jsxs("div",{className:"flex gap-4 mt-8",children:[s.jsxs("button",{onClick:d,className:"flex-1 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 px-6 py-3 rounded-lg font-medium hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors inline-flex items-center justify-center gap-2",children:[s.jsx(mu,{className:"w-5 h-5"}),"Back"]}),s.jsxs("button",{onClick:u,className:"flex-1 bg-gradient-to-r from-green-500 to-blue-600 text-white px-6 py-3 rounded-lg font-medium hover:from-green-600 hover:to-blue-700 transition-all inline-flex items-center justify-center gap-2",children:["Continue",s.jsx(hu,{className:"w-5 h-5"})]})]})]}),e==="usage"&&s.jsxs("div",{children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx(pt,{className:"w-16 h-16 mx-auto text-yellow-500 mb-4"}),s.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Almost done!"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"We'll analyze your profile and find savings opportunities"})]}),s.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-blue-50 dark:from-green-900/10 dark:to-blue-900/10 rounded-lg p-6 mb-6",children:[s.jsx("h3",{className:"font-bold text-gray-900 dark:text-white mb-4",children:"What happens next?"}),s.jsxs("ul",{className:"space-y-3",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx(qt,{className:"w-5 h-5 text-green-500 flex-shrink-0 mt-0.5"}),s.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"We'll generate personalized energy-saving recommendations"})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx(qt,{className:"w-5 h-5 text-green-500 flex-shrink-0 mt-0.5"}),s.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Match you to rebates and incentives worth up to $10,000+"})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx(qt,{className:"w-5 h-5 text-green-500 flex-shrink-0 mt-0.5"}),s.jsxs("span",{className:"text-gray-700 dark:text-gray-300",children:["Compare your usage to similar homes in ",NA.find(p=>p.value===n.province)?.label]})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx(qt,{className:"w-5 h-5 text-green-500 flex-shrink-0 mt-0.5"}),s.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Provide a personal AI advisor you can chat with anytime"})]})]})]}),s.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4 mb-6",children:s.jsxs("p",{className:"text-sm text-blue-900 dark:text-blue-200",children:["💡 ",s.jsx("strong",{children:"Tip:"})," You can add your electricity bills later for more accurate recommendations"]})}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("button",{onClick:d,className:"flex-1 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 px-6 py-3 rounded-lg font-medium hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors inline-flex items-center justify-center gap-2",children:[s.jsx(mu,{className:"w-5 h-5"}),"Back"]}),s.jsxs("button",{onClick:()=>{c(),r("complete")},className:"flex-1 bg-gradient-to-r from-green-500 to-blue-600 text-white px-6 py-3 rounded-lg font-medium hover:from-green-600 hover:to-blue-700 transition-all inline-flex items-center justify-center gap-2",children:["Complete Setup",s.jsx(qt,{className:"w-5 h-5"})]})]})]}),e==="complete"&&s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"mb-6",children:s.jsx("div",{className:"w-20 h-20 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(qt,{className:"w-12 h-12 text-green-500"})})}),s.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-4",children:"You're all set!"}),s.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400 mb-8",children:"Your personalized energy dashboard is ready"}),s.jsx("div",{className:"animate-pulse",children:s.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Analyzing your profile..."})})]})]})})};function PV(t){const e=t.toLowerCase(),n=["emergency","urgent","immediately","asap","can't pay","disconnection"].some(d=>e.includes(d))?"high":e.includes("?")?"medium":"low",a=["high bill","too expensive","can't afford","frustrated","angry","why so"],c=["thank","great","appreciate","helpful","saved"].some(d=>e.includes(d))?"positive":a.some(d=>e.includes(d))?"negative":"neutral";let u="general";return e.includes("bill")||e.includes("cost")||e.includes("price")?u="billing":e.includes("heat")||e.includes("cool")||e.includes("temperature")?u="heating-cooling":e.includes("rebate")||e.includes("grant")||e.includes("incentive")?u="rebates":e.includes("solar")||e.includes("ev")||e.includes("electric vehicle")?u="clean-energy":e.includes("when")&&(e.includes("cheap")||e.includes("time"))?u="time-of-use":(e.includes("save")||e.includes("reduce")||e.includes("lower"))&&(u="savings"),{topic:u,urgency:n,sentiment:c}}function EV(t){const e=["How can I reduce my electricity bill?","When is the cheapest time to use electricity?","What rebates am I eligible for?","Why did my bill increase this month?"];return t.hasEV&&e.push("When should I charge my electric vehicle?"),t.heatingType==="electric"&&e.push("How can I save on heating costs?"),t.hasAC&&e.push("Tips for reducing air conditioning costs?"),!t.hasSolar&&["ON","BC","AB"].includes(t.province)&&e.push("Should I install solar panels?"),e.slice(0,6)}const TV=({profile:t,usage:e,recommendations:r,provincialData:n})=>{const[a,o]=C.useState([{id:"welcome",role:"assistant",content:`👋 Hi! I'm your personal Energy AI advisor. I'm here to help you save money and reduce your energy usage.

I know you live in ${t.province}, have a ${t.homeType} with ${t.occupants} people, and use ${t.heatingType} heating.

What would you like to know about your energy usage?`,timestamp:new Date().toISOString()}]),[c,u]=C.useState(""),[d,m]=C.useState(!1),p=C.useRef(null),[h]=C.useState(`session_${Date.now()}`);C.useEffect(()=>{p.current?.scrollIntoView({behavior:"smooth"})},[a]);const y=async k=>{const S=k.toLowerCase(),O=PV(k);if(O.topic==="billing"||S.includes("bill")||S.includes("cost"))return`Based on your recent usage, your average monthly bill is $${e.length>0?(e.reduce((N,A)=>N+A.cost_cad,0)/e.length).toFixed(2):"N/A"}.

In ${t.province}, you're paying about ${n.currentPrice.toFixed(2)}¢ per kWh. `+(n.hasTOUPricing?`Since you have time-of-use pricing, you can save by shifting usage to off-peak hours (${n.touRates?.offPeakHours}).

`:`

`)+`**Top ways to reduce your bill:**
`+r.slice(0,3).map((N,A)=>`${A+1}. ${N.title} - Save $${N.potentialSavings.monthly}/month`).join(`
`);if(O.topic==="time-of-use"||S.includes("when")&&(S.includes("cheap")||S.includes("time")))return n.hasTOUPricing&&n.touRates?`Great question! In ${t.province}, electricity prices vary throughout the day:

⚡ **Off-Peak (Cheapest)**: ${n.touRates.offPeak}¢/kWh
   ${n.touRates.offPeakHours}

⚡ **On-Peak (Most Expensive)**: ${n.touRates.onPeak}¢/kWh
   ${n.touRates.onPeakHours}

**Best times to use major appliances:**
• Run dishwasher and laundry during off-peak hours
• Charge your EV overnight
• Pre-heat/cool your home before peak hours

Shifting just 30% of your usage to off-peak could save you $20-40/month!`:`In ${t.province}, electricity rates are currently flat at ${n.currentPrice}¢/kWh throughout the day. This means the time of day doesn't affect your costs, but you can still save by reducing overall usage during your highest consumption periods.`;if(O.topic==="rebates"||S.includes("rebate")||S.includes("grant"))return`You have access to some great rebate programs in ${t.province}!

🎁 **Top Rebates for You:**

1. **Canada Greener Homes Grant** - Up to $5,000
   For energy-efficient home upgrades

2. **Provincial Heat Pump Rebate** - Up to $10,000
   Combines federal and ${t.province} programs

3. **Smart Thermostat Rebate** - $50-150
   Quick and easy to claim

Check the Rebates section in your dashboard for full details and application links. These programs can help offset the cost of major upgrades!`;if(O.topic==="heating-cooling"){const P=r.find(N=>N.id.includes("heating")||N.id.includes("cooling"));return`${t.heatingType==="electric"?"Electric heating":"Your heating system"} is typically the biggest energy user in Canadian homes.

`+(P?`I've identified that you could save $${P.potentialSavings.monthly}/month with these changes:

`+P.actionSteps.slice(0,3).map((N,A)=>`${A+1}. ${N.step}`).join(`
`):`**Tips to reduce heating costs:**
1. Lower thermostat by 2°C when sleeping
2. Seal drafts around windows and doors
3. Use a programmable thermostat
4. Close vents in unused rooms`)+`

Want me to explain any of these in more detail?`}if(O.topic==="savings"){const P=r.reduce((N,A)=>N+A.potentialSavings.annual,0);return`Based on your profile, I've identified ${r.length} ways you could save money:

💰 **Total Potential Savings: $${P}/year**

**Top 3 Quick Wins:**
`+r.slice(0,3).map((N,A)=>`${A+1}. ${N.title}
   Savings: $${N.potentialSavings.annual}/year | Effort: ${N.effort}`).join(`

`)+`

Would you like details on how to implement any of these?`}return`That's a great question! Based on your ${t.homeType} in ${t.province} with ${t.occupants} occupants, I can help you with:

• Understanding your electricity bill
• Finding the best times to use electricity
• Discovering rebates you qualify for
• Reducing heating and cooling costs
• Calculating your potential savings

What specific aspect would you like to explore?`},v=async()=>{if(!c.trim()||d)return;const k={id:`msg_${Date.now()}`,role:"user",content:c.trim(),timestamp:new Date().toISOString()};o(S=>[...S,k]),u(""),m(!0);try{const S=await y(c.trim()),O={id:`msg_${Date.now()}_ai`,role:"assistant",content:S,timestamp:new Date().toISOString()};o(P=>[...P,O])}catch(S){console.error("Error generating AI response:",S);const O={id:`msg_${Date.now()}_error`,role:"assistant",content:"Sorry, I encountered an error. Please try asking your question again.",timestamp:new Date().toISOString()};o(P=>[...P,O])}finally{m(!1)}},j=k=>{k.key==="Enter"&&!k.shiftKey&&(k.preventDefault(),v())},b=k=>{u(k)},w=EV(t);return s.jsxs("div",{className:"flex flex-col h-[calc(100vh-300px)] min-h-[500px] bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700",children:[s.jsxs("div",{className:"flex items-center gap-3 p-4 border-b border-gray-200 dark:border-gray-700 bg-gradient-to-r from-green-500 to-blue-600",children:[s.jsx("div",{className:"w-10 h-10 bg-white rounded-full flex items-center justify-center",children:s.jsx(xh,{className:"w-6 h-6 text-green-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-bold text-white",children:"Energy AI Assistant"}),s.jsx("p",{className:"text-xs text-green-100",children:"Always here to help you save"})]}),s.jsx(l3,{className:"w-5 h-5 text-yellow-300"})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[a.map(k=>s.jsxs("div",{className:`flex gap-3 ${k.role==="user"?"flex-row-reverse":"flex-row"}`,children:[s.jsx("div",{className:`flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center ${k.role==="user"?"bg-blue-600":"bg-gradient-to-br from-green-500 to-blue-600"}`,children:k.role==="user"?s.jsx(u3,{className:"w-5 h-5 text-white"}):s.jsx(xh,{className:"w-5 h-5 text-white"})}),s.jsxs("div",{className:`flex-1 max-w-[80%] ${k.role==="user"?"text-right":"text-left"}`,children:[s.jsx("div",{className:`inline-block p-3 rounded-lg ${k.role==="user"?"bg-blue-600 text-white rounded-br-none":"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white rounded-bl-none"}`,children:s.jsx("p",{className:"text-sm whitespace-pre-wrap",children:k.content})}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:new Date(k.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]},k.id)),d&&s.jsxs("div",{className:"flex gap-3",children:[s.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-gradient-to-br from-green-500 to-blue-600 flex items-center justify-center",children:s.jsx(xh,{className:"w-5 h-5 text-white"})}),s.jsx("div",{className:"bg-gray-100 dark:bg-gray-700 p-3 rounded-lg rounded-bl-none",children:s.jsxs("div",{className:"flex gap-1",children:[s.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),s.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),s.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})})]}),s.jsx("div",{ref:p})]}),a.length===1&&s.jsxs("div",{className:"px-4 py-2 border-t border-gray-200 dark:border-gray-700",children:[s.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mb-2",children:"Quick questions:"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:w.map((k,S)=>s.jsx("button",{onClick:()=>b(k),className:"text-xs px-3 py-1.5 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-full transition-colors",children:k},S))})]}),s.jsxs("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",value:c,onChange:k=>u(k.target.value),onKeyPress:j,placeholder:"Ask me anything about your energy usage...",disabled:d,className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent dark:bg-gray-700 dark:text-white disabled:opacity-50"}),s.jsx("button",{onClick:v,disabled:!c.trim()||d,className:"px-4 py-2 bg-gradient-to-r from-green-500 to-blue-600 text-white rounded-lg hover:from-green-600 hover:to-blue-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:d?s.jsx(r3,{className:"w-5 h-5 animate-spin"}):s.jsx(s3,{className:"w-5 h-5"})})]}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:"💡 Tip: I can help with bills, savings, rebates, and more. Just ask!"})]})]})},CV={high:"border-red-200 dark:border-red-800 bg-red-50 dark:bg-red-900/10",medium:"border-yellow-200 dark:border-yellow-800 bg-yellow-50 dark:bg-yellow-900/10",low:"border-blue-200 dark:border-blue-800 bg-blue-50 dark:bg-blue-900/10"},kA={high:"text-red-700 dark:text-red-300",medium:"text-yellow-700 dark:text-yellow-300",low:"text-blue-700 dark:text-blue-300"},IV={behavioral:s.jsx(Dd,{className:"w-5 h-5"}),upgrade:s.jsx(pt,{className:"w-5 h-5"}),rebate:s.jsx(dl,{className:"w-5 h-5"}),emergency:s.jsx(ds,{className:"w-5 h-5"}),education:s.jsx(Qi,{className:"w-5 h-5"})},MV={easy:"🟢 Easy",moderate:"🟡 Moderate",significant:"🔴 Significant"},RV=({recommendation:t,onImplement:e})=>{const[r,n]=C.useState(!1);return s.jsx("div",{className:`border-2 rounded-lg transition-all ${CV[t.priority]}`,children:s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("div",{className:kA[t.priority],children:IV[t.category]}),s.jsx("span",{className:`text-xs font-medium px-2 py-1 rounded ${kA[t.priority]} bg-white dark:bg-gray-800`,children:t.priority.toUpperCase()}),s.jsx("span",{className:"text-xs font-medium px-2 py-1 rounded bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300",children:t.category})]}),s.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-1",children:t.title}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:t.description}),s.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(dl,{className:"w-4 h-4 text-green-600 dark:text-green-400"}),s.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:["$",t.potentialSavings.monthly,"/month"]}),s.jsxs("span",{className:"text-gray-500 dark:text-gray-400",children:["($",t.potentialSavings.annual,"/year)"]})]}),t.potentialSavings.kwh>0&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(pt,{className:"w-4 h-4 text-yellow-600 dark:text-yellow-400"}),s.jsxs("span",{className:"text-gray-700 dark:text-gray-300",children:[t.potentialSavings.kwh," kWh saved"]})]}),t.potentialSavings.co2Reduction>0&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Qi,{className:"w-4 h-4 text-green-600 dark:text-green-400"}),s.jsxs("span",{className:"text-gray-700 dark:text-gray-300",children:[Math.round(t.potentialSavings.co2Reduction)," kg CO₂"]})]})]}),s.jsx("div",{className:"mt-3",children:s.jsxs("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:["Effort: ",MV[t.effort]]})})]}),s.jsxs("div",{className:"flex flex-col gap-2",children:[t.isCompleted?s.jsxs("div",{className:"flex items-center gap-2 text-green-600 dark:text-green-400 text-sm font-medium",children:[s.jsx(qt,{className:"w-5 h-5"}),"Implemented"]}):s.jsx("button",{onClick:e,className:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg font-medium transition-colors text-sm whitespace-nowrap",children:"Mark Done"}),s.jsx("button",{onClick:()=>n(!r),className:"px-4 py-2 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-lg font-medium transition-colors text-sm border border-gray-300 dark:border-gray-600",children:r?s.jsx(s.Fragment,{children:s.jsx(TA,{className:"w-4 h-4"})}):s.jsx(s.Fragment,{children:s.jsx(EA,{className:"w-4 h-4"})})})]})]}),r&&s.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-300 dark:border-gray-600",children:[s.jsx("h4",{className:"font-bold text-gray-900 dark:text-white mb-3",children:"Action Steps:"}),s.jsx("div",{className:"space-y-3",children:t.actionSteps.map((a,o)=>s.jsxs("div",{className:"flex gap-3",children:[s.jsx("div",{className:"flex-shrink-0 w-6 h-6 bg-green-600 text-white rounded-full flex items-center justify-center text-sm font-bold",children:o+1}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-gray-900 dark:text-white font-medium",children:a.step}),s.jsxs("div",{className:"flex flex-wrap gap-3 mt-1 text-sm text-gray-600 dark:text-gray-400",children:[a.estimatedTime&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(ds,{className:"w-3 h-3"}),a.estimatedTime]}),a.difficulty&&s.jsxs("span",{children:["Difficulty: ",a.difficulty]}),a.cost!==void 0&&a.cost>0&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(dl,{className:"w-3 h-3"}),"$",a.cost]}),a.cost===0&&s.jsx("span",{className:"text-green-600 dark:text-green-400 font-medium",children:"FREE"})]})]})]},o))}),t.relatedRebates&&t.relatedRebates.length>0&&s.jsxs("div",{className:"mt-4 p-3 bg-purple-50 dark:bg-purple-900/20 border border-purple-200 dark:border-purple-800 rounded-lg",children:[s.jsx("p",{className:"text-sm font-medium text-purple-900 dark:text-purple-200",children:"💰 Related Rebates Available"}),s.jsx("p",{className:"text-xs text-purple-700 dark:text-purple-300 mt-1",children:"You may qualify for rebates to help with this upgrade. Check the Rebates section for details."})]})]})]})})},$V=({recommendations:t,onImplement:e})=>{const[r,n]=C.useState("all"),[a,o]=C.useState("savings");let c=t;r!=="all"&&(c=t.filter(m=>m.priority===r)),c=[...c].sort((m,p)=>{if(a==="savings")return p.potentialSavings.annual-m.potentialSavings.annual;if(a==="effort"){const h={easy:1,moderate:2,significant:3};return h[m.effort]-h[p.effort]}else{const h={high:3,medium:2,low:1};return h[p.priority]-h[m.priority]}});const u=t.filter(m=>m.isCompleted).length,d=t.filter(m=>!m.isCompleted).reduce((m,p)=>m+p.potentialSavings.annual,0);return t.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Dd,{className:"w-16 h-16 mx-auto text-gray-400 mb-4"}),s.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"No Recommendations Yet"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Add your usage data to get personalized energy-saving recommendations"})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:[s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Total Recommendations"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:t.length})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:[s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Completed"}),s.jsx("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:u})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:[s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Potential Savings"}),s.jsxs("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:["$",d]})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-4 items-center justify-between",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>n("all"),className:`px-3 py-1 rounded-lg text-sm font-medium transition-colors ${r==="all"?"bg-green-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"}`,children:"All"}),s.jsx("button",{onClick:()=>n("high"),className:`px-3 py-1 rounded-lg text-sm font-medium transition-colors ${r==="high"?"bg-red-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"}`,children:"High Priority"}),s.jsx("button",{onClick:()=>n("medium"),className:`px-3 py-1 rounded-lg text-sm font-medium transition-colors ${r==="medium"?"bg-yellow-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"}`,children:"Medium Priority"}),s.jsx("button",{onClick:()=>n("low"),className:`px-3 py-1 rounded-lg text-sm font-medium transition-colors ${r==="low"?"bg-blue-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"}`,children:"Low Priority"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Sort by:"}),s.jsxs("select",{value:a,onChange:m=>o(m.target.value),className:"px-3 py-1 border border-gray-300 dark:border-gray-600 rounded-lg text-sm bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300",children:[s.jsx("option",{value:"savings",children:"Savings (High to Low)"}),s.jsx("option",{value:"effort",children:"Effort (Easy First)"}),s.jsx("option",{value:"priority",children:"Priority (High First)"})]})]})]}),s.jsx("div",{className:"space-y-4",children:c.map(m=>s.jsx(RV,{recommendation:m,onImplement:()=>e(m.id)},m.id))}),c.length===0&&s.jsx("div",{className:"text-center py-8 text-gray-600 dark:text-gray-400",children:"No recommendations match the current filter"})]})},DV=({profile:t,usage:e,benchmark:r})=>{const[n,a]=C.useState("usage"),[o,c]=C.useState("6m"),u=e.slice(0,o==="3m"?3:o==="6m"?6:12).reverse().map(w=>({month:new Date(w.month+"-01").toLocaleDateString("en-US",{month:"short",year:"2-digit"}),usage:w.consumption_kwh,cost:w.cost_cad,avgTemp:w.weather?.avgTemp||null,benchmark:r?.expectedUsage||null})),d=e.reduce((w,k)=>w+k.consumption_kwh,0),m=e.length>0?Math.round(d/e.length):0,p=e.reduce((w,k)=>w+k.cost_cad,0),h=e.length>0?Math.round(p/e.length*100)/100:0,y=e.length>=2?(e[0].consumption_kwh-e[1].consumption_kwh)/e[1].consumption_kwh*100:0,v=r&&m?(m-r.expectedUsage)/r.expectedUsage*100:0,j=e.flatMap(w=>w.peakUsageHours||[]),b=Array.from({length:24},(w,k)=>({hour:`${k}:00`,count:j.filter(S=>S===k).length}));return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md border border-gray-200 dark:border-gray-700 p-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Energy Usage Analytics"}),s.jsxs("div",{className:"flex flex-wrap gap-4 items-center justify-between",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>a("usage"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${n==="usage"?"bg-green-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"}`,children:"Usage (kWh)"}),s.jsx("button",{onClick:()=>a("cost"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${n==="cost"?"bg-green-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"}`,children:"Cost ($)"}),s.jsx("button",{onClick:()=>a("comparison"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${n==="comparison"?"bg-green-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"}`,children:"vs Benchmark"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>c("3m"),className:`px-3 py-1 rounded text-sm font-medium transition-colors ${o==="3m"?"bg-blue-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300"}`,children:"3 Months"}),s.jsx("button",{onClick:()=>c("6m"),className:`px-3 py-1 rounded text-sm font-medium transition-colors ${o==="6m"?"bg-blue-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300"}`,children:"6 Months"}),s.jsx("button",{onClick:()=>c("12m"),className:`px-3 py-1 rounded text-sm font-medium transition-colors ${o==="12m"?"bg-blue-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300"}`,children:"12 Months"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md border border-gray-200 dark:border-gray-700 p-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(pt,{className:"w-5 h-5 text-yellow-600"}),s.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Avg Monthly Usage"})]}),s.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[m," kWh"]}),s.jsxs("div",{className:"flex items-center gap-1 mt-2",children:[y<0?s.jsx(fl,{className:"w-4 h-4 text-green-600"}):s.jsx(tr,{className:"w-4 h-4 text-red-600"}),s.jsxs("span",{className:`text-sm ${y<0?"text-green-600":"text-red-600"}`,children:[Math.abs(y).toFixed(1),"% vs last month"]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md border border-gray-200 dark:border-gray-700 p-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(dl,{className:"w-5 h-5 text-green-600"}),s.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Avg Monthly Cost"})]}),s.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["$",h]}),s.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2",children:["$",(h/m*100).toFixed(2),"/kWh avg rate"]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md border border-gray-200 dark:border-gray-700 p-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(oi,{className:"w-5 h-5 text-blue-600"}),s.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"vs Benchmark"})]}),s.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[r?r.expectedUsage:"N/A",r&&" kWh"]}),r&&s.jsxs("div",{className:"flex items-center gap-1 mt-2",children:[v<0?s.jsx(fl,{className:"w-4 h-4 text-green-600"}):s.jsx(tr,{className:"w-4 h-4 text-red-600"}),s.jsxs("span",{className:`text-sm ${v<0?"text-green-600":"text-red-600"}`,children:[Math.abs(v).toFixed(1),"% ",v<0?"below":"above"]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md border border-gray-200 dark:border-gray-700 p-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(hr,{className:"w-5 h-5 text-purple-600"}),s.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Tracked"})]}),s.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:e.length}),s.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2",children:[e.length," months of data"]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md border border-gray-200 dark:border-gray-700 p-6",children:[s.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4",children:[n==="usage"&&"Monthly Usage Trend",n==="cost"&&"Monthly Cost Trend",n==="comparison"&&"Usage vs Benchmark"]}),e.length>0?s.jsx(St,{width:"100%",height:300,children:n==="comparison"?s.jsxs(Oa,{data:u,children:[s.jsx(Tt,{strokeDasharray:"3 3"}),s.jsx(lt,{dataKey:"month"}),s.jsx(at,{}),s.jsx(We,{}),s.jsx(or,{}),s.jsx(Wt,{dataKey:"usage",fill:"#10b981",name:"Your Usage (kWh)"}),s.jsx(Wt,{dataKey:"benchmark",fill:"#6b7280",name:"Benchmark (kWh)"})]}):s.jsxs(zs,{data:u,children:[s.jsx(Tt,{strokeDasharray:"3 3"}),s.jsx(lt,{dataKey:"month"}),s.jsx(at,{}),s.jsx(We,{}),s.jsx(or,{}),n==="usage"&&s.jsxs(s.Fragment,{children:[s.jsx(ir,{type:"monotone",dataKey:"usage",stroke:"#10b981",strokeWidth:2,name:"Usage (kWh)",dot:{r:4}}),r&&s.jsx(ir,{type:"monotone",dataKey:"benchmark",stroke:"#6b7280",strokeWidth:2,strokeDasharray:"5 5",name:"Benchmark (kWh)",dot:!1})]}),n==="cost"&&s.jsx(ir,{type:"monotone",dataKey:"cost",stroke:"#3b82f6",strokeWidth:2,name:"Cost ($)",dot:{r:4}})]})}):s.jsx("div",{className:"text-center py-12 text-gray-500 dark:text-gray-400",children:"No usage data available. Add your monthly usage to see analytics."})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[j.length>0&&s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md border border-gray-200 dark:border-gray-700 p-6",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4",children:"Peak Usage Hours"}),s.jsx(St,{width:"100%",height:200,children:s.jsxs(Oa,{data:b.filter(w=>w.count>0),children:[s.jsx(Tt,{strokeDasharray:"3 3"}),s.jsx(lt,{dataKey:"hour"}),s.jsx(at,{}),s.jsx(We,{}),s.jsx(Wt,{dataKey:"count",fill:"#f59e0b",name:"Usage Events"})]})}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-4",children:"Shows when you typically use the most electricity. Consider shifting usage to off-peak hours if you have time-of-use pricing."})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md border border-gray-200 dark:border-gray-700 p-6",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4",children:"Your Energy Profile"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Province"}),s.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:t.province})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Home Type"}),s.jsx("span",{className:"font-medium text-gray-900 dark:text-white capitalize",children:t.homeType})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Size"}),s.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[t.squareFootage," sq ft"]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Occupants"}),s.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:t.occupants})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Heating"}),s.jsx("span",{className:"font-medium text-gray-900 dark:text-white capitalize",children:t.heatingType})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Air Conditioning"}),s.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:t.hasAC?"Yes":"No"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Solar Panels"}),s.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:t.hasSolar?"Yes":"No"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Electric Vehicle"}),s.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:t.hasEV?"Yes":"No"})]})]})]})]}),r&&s.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-green-50 dark:from-blue-900/10 dark:to-green-900/10 rounded-lg border border-blue-200 dark:border-blue-800 p-6",children:[s.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-3 flex items-center gap-2",children:[s.jsx(oi,{className:"w-5 h-5 text-blue-600"}),"Insights"]}),s.jsxs("div",{className:"space-y-2 text-sm text-gray-700 dark:text-gray-300",children:[s.jsxs("p",{children:["• Your home uses an average of ",s.jsxs("strong",{children:[m," kWh/month"]}),", which is"," ",s.jsx("strong",{children:r.comparisonText})," for similar homes in ",t.province,"."]}),s.jsxs("p",{children:["• You're in the ",s.jsxs("strong",{children:[r.percentile,"th percentile"]})," compared to similar households."]}),y<-5&&s.jsxs("p",{className:"text-green-700 dark:text-green-300",children:["• Great job! Your usage has decreased by ",Math.abs(y).toFixed(1),"% from last month. Keep it up!"]}),y>10&&s.jsxs("p",{className:"text-orange-700 dark:text-orange-300",children:["• Your usage increased by ",y.toFixed(1),"% from last month. Check your recommendations for ways to reduce consumption."]})]})]})]})},P0={ON:{province:"ON",currentPrice:12.5,hasTOUPricing:!0,touRates:{offPeak:8.7,midPeak:12.2,onPeak:15.1,offPeakHours:"19:00-07:00, weekends",onPeakHours:"11:00-17:00 weekdays"},lastUpdated:new Date().toISOString()},AB:{province:"AB",currentPrice:18,hasTOUPricing:!1,lastUpdated:new Date().toISOString()},BC:{province:"BC",currentPrice:10,hasTOUPricing:!0,touRates:{offPeak:9.1,midPeak:13.7,onPeak:14.2,offPeakHours:"22:00-06:00",onPeakHours:"16:00-20:00 weekdays"},lastUpdated:new Date().toISOString()},QC:{province:"QC",currentPrice:7.5,hasTOUPricing:!1,lastUpdated:new Date().toISOString()},SK:{province:"SK",currentPrice:15,hasTOUPricing:!1,lastUpdated:new Date().toISOString()},MB:{province:"MB",currentPrice:9,hasTOUPricing:!1,lastUpdated:new Date().toISOString()},NS:{province:"NS",currentPrice:16.5,hasTOUPricing:!1,lastUpdated:new Date().toISOString()},NB:{province:"NB",currentPrice:13,hasTOUPricing:!1,lastUpdated:new Date().toISOString()},PE:{province:"PE",currentPrice:14.5,hasTOUPricing:!1,lastUpdated:new Date().toISOString()},NL:{province:"NL",currentPrice:12,hasTOUPricing:!1,lastUpdated:new Date().toISOString()},YT:{province:"YT",currentPrice:13.5,hasTOUPricing:!1,lastUpdated:new Date().toISOString()},NT:{province:"NT",currentPrice:25,hasTOUPricing:!1,lastUpdated:new Date().toISOString()},NU:{province:"NU",currentPrice:28,hasTOUPricing:!1,lastUpdated:new Date().toISOString()}},Eu=({icon:t,title:e,value:r,change:n,positive:a})=>s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 border border-gray-200 dark:border-gray-700",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:t}),s.jsx("span",{className:`text-sm font-medium ${a===void 0?"text-gray-600 dark:text-gray-400":a?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:n})]}),s.jsx("h3",{className:"text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:e}),s.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:r})]}),LV=()=>{const[t,e]=C.useState(null),[r,n]=C.useState([]),[a,o]=C.useState([]),[c,u]=C.useState([]),[d,m]=C.useState(null),[p,h]=C.useState(!1),[y,v]=C.useState("overview"),[j,b]=C.useState(!0);C.useEffect(()=>{(async()=>{b(!0);try{if(!gn.isOnboardingComplete()){h(!0),b(!1);return}const $=gn.getProfile();if(!$){h(!0),b(!1);return}e($);const I=gn.getUsageHistory(12);n(I);const B=gn.calculateBenchmark($);m(B);const M=P0[$.province],q=_A($,I,M);o(q),gn.saveRecommendations(q);const F=await A0.findEligibleRebates($);u(F)}catch(T){console.error("Error loading household data:",T)}finally{b(!1)}})()},[]);const w=async A=>{e(A),h(!1);const T=P0[A.province],$=_A(A,[],T);o($);const I=await A0.findEligibleRebates(A);u(I);const B=gn.calculateBenchmark(A);m(B)};if(p)return s.jsx(AV,{onComplete:w});if(j||!t)return s.jsx("div",{className:"flex items-center justify-center h-screen",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-green-500 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading your energy profile..."})]})});r[0];const k=r.length>0?Math.round(r.reduce((A,T)=>A+T.consumption_kwh,0)/r.length):d?.expectedUsage||0,S=r.length>0?Math.round(r.reduce((A,T)=>A+T.cost_cad,0)/r.length*100)/100:d?.avgCost||0,O=NV(a),P=A0.calculateMaxRebates(c),N=r.length>=2?Math.round((r[0].consumption_kwh-r[1].consumption_kwh)/r[1].consumption_kwh*100):0;return s.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[s.jsx("div",{className:"bg-gradient-to-r from-green-500 to-blue-600 text-white",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-3",children:[s.jsx(pt,{className:"w-8 h-8"}),"My Energy AI"]}),s.jsx("p",{className:"mt-2 text-green-100",children:"Your personal energy advisor for smarter, cheaper, cleaner energy"})]}),s.jsxs("button",{onClick:()=>h(!0),className:"flex items-center gap-2 bg-white/20 hover:bg-white/30 px-4 py-2 rounded-lg transition-colors",children:[s.jsx(o3,{className:"w-5 h-5"}),"Settings"]})]}),s.jsxs("div",{className:"mt-6 flex flex-wrap items-center gap-4 text-sm text-green-100",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Iu,{className:"w-4 h-4"}),t.homeType," • ",t.squareFootage," sq ft"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(LA,{className:"w-4 h-4"}),t.occupants," occupants"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(DA,{className:"w-4 h-4"}),t.heatingType," heating"]}),t.hasEV&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(PA,{className:"w-4 h-4"}),"Electric Vehicle"]}),t.hasSolar&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx($A,{className:"w-4 h-4"}),"Solar Panels"]})]})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("nav",{className:"flex space-x-8",children:[s.jsx("button",{onClick:()=>v("overview"),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${y==="overview"?"border-green-500 text-green-600 dark:text-green-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"}`,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(oi,{className:"w-4 h-4"}),"Overview"]})}),s.jsx("button",{onClick:()=>v("chat"),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${y==="chat"?"border-green-500 text-green-600 dark:text-green-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"}`,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(hj,{className:"w-4 h-4"}),"Chat with AI"]})}),s.jsx("button",{onClick:()=>v("analytics"),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${y==="analytics"?"border-green-500 text-green-600 dark:text-green-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"}`,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(tr,{className:"w-4 h-4"}),"Analytics"]})})]})})}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[y==="overview"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[s.jsx(Eu,{icon:s.jsx(fl,{className:"w-5 h-5"}),title:"Average Monthly Usage",value:`${k} kWh`,change:N!==0?`${N>0?"+":""}${N}% vs last month`:void 0,positive:N<0}),s.jsx(Eu,{icon:s.jsx(dl,{className:"w-5 h-5"}),title:"Average Monthly Bill",value:`$${S}`,change:d?d.comparisonText:void 0,positive:d?d.comparisonText.includes("below"):void 0}),s.jsx(Eu,{icon:s.jsx(mj,{className:"w-5 h-5"}),title:"Available Rebates",value:`$${P.toLocaleString()}`,change:`${c.length} programs matched`}),s.jsx(Eu,{icon:s.jsx(ax,{className:"w-5 h-5"}),title:"Potential Savings",value:`$${O.annual}/year`,change:`From ${a.length} recommendations`})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md border border-gray-200 dark:border-gray-700 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[s.jsx(Dd,{className:"w-5 h-5 text-yellow-500"}),"Top Recommendations"]}),s.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Updated ",new Date().toLocaleDateString()]})]}),s.jsx($V,{recommendations:a.slice(0,3),onImplement:A=>{gn.markRecommendationImplemented(A);const T=a.map($=>$.id===A?{...$,isCompleted:!0}:$);o(T)}})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md border border-gray-200 dark:border-gray-700 p-6",children:[s.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[s.jsx(hj,{className:"w-5 h-5 text-blue-500"}),"Ask Your Energy AI"]}),s.jsx("button",{onClick:()=>v("chat"),className:"w-full bg-gradient-to-r from-green-500 to-blue-600 text-white py-3 rounded-lg font-medium hover:from-green-600 hover:to-blue-700 transition-all",children:"Start Conversation"}),s.jsx("p",{className:"mt-3 text-sm text-gray-600 dark:text-gray-400 text-center",children:"Get personalized advice on reducing your energy costs"})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md border border-gray-200 dark:border-gray-700 p-6",children:[s.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[s.jsx(mj,{className:"w-5 h-5 text-purple-500"}),"Your Rebates"]}),s.jsxs("div",{className:"space-y-3",children:[c.slice(0,3).map(A=>s.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-3",children:[s.jsx("h4",{className:"font-medium text-sm text-gray-900 dark:text-white",children:A.name}),s.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:["Up to $",A.amount.max.toLocaleString()]}),s.jsx("a",{href:A.applicationUrl,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-600 dark:text-blue-400 hover:underline mt-2 inline-block",children:"Learn more →"})]},A.id)),c.length>3&&s.jsxs("button",{className:"text-sm text-blue-600 dark:text-blue-400 hover:underline font-medium",children:["View all ",c.length," rebates →"]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md border border-gray-200 dark:border-gray-700 p-6",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4",children:"Your Data"}),s.jsxs("button",{onClick:()=>{const A=gn.exportData(),T=new Blob([A],{type:"application/json"}),$=URL.createObjectURL(T),I=document.createElement("a");I.href=$,I.download=`my-energy-data-${new Date().toISOString().split("T")[0]}.json`,I.click()},className:"w-full flex items-center justify-center gap-2 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 py-2 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:[s.jsx(ix,{className:"w-4 h-4"}),"Export Data"]}),s.jsx("p",{className:"mt-2 text-xs text-gray-500 dark:text-gray-400",children:"All your data is stored locally on your device"})]})]})]})]}),y==="chat"&&s.jsx(TV,{profile:t,usage:r,recommendations:a,provincialData:P0[t.province]}),y==="analytics"&&s.jsx(DV,{profile:t,usage:r,benchmark:d})]})]})},FV={Home:"tab.home",Dashboard:"dashboard.overview",HouseholdAdvisor:"page.household-advisor",Provinces:"page.provinces",Trends:"page.trends",Investment:"page.investment",Resilience:"page.resilience",Innovation:"page.innovation",Indigenous:"page.indigenous",Stakeholders:"page.stakeholders",GridOptimization:"page.gridops",Security:"page.security",Features:"page.features",Education:"page.education"},BV=!1,OA={Dashboard:"energy_analytics",Investment:"investment_analysis",Resilience:"resilience_analysis",Innovation:"innovation_tracking",Indigenous:"indigenous_dashboard",Stakeholders:"stakeholder_coordination",GridOptimization:"grid_optimization",Security:"security_assessment"},zV=()=>{const[t,e]=C.useState({activeDataset:"provincial_generation",data:[],filteredData:[],loading:!1,error:null,progress:null}),[r,n]=C.useState([]),[a,o]=C.useState({}),[c,u]=C.useState(!1),[d,m]=C.useState(5e3),[p,h]=C.useState("Dashboard"),y=C.useCallback(async(S,O=!1)=>{e(P=>({...P,loading:!0,error:null,progress:null}));try{const P=await yn.loadData(S,{forceStream:O,maxRows:d,onProgress:N=>{e(A=>({...A,progress:N}))},onStatusChange:N=>{}});e(N=>({...N,data:P,loading:!1,progress:{loaded:P.length,total:P.length,percentage:100}}))}catch(P){e(N=>({...N,loading:!1,error:P instanceof Error?P.message:"Failed to load data",progress:null}))}},[d]),v=C.useCallback(()=>{let S=[...t.data];if(a.searchQuery&&a.searchQuery.trim()){const O=a.searchQuery.toLowerCase().trim();S=S.filter(P=>Object.values(P).some(N=>String(N).toLowerCase().includes(O)))}if(a.dateRange){const{start:O,end:P}=a.dateRange;S=S.filter(N=>{const A=N.date||N.datetime||N.market_date;if(!A)return!0;const T=new Date(A).toISOString().split("T")[0];return T>=O&&T<=P})}a.selectedFields&&Object.entries(a.selectedFields).forEach(([O,P])=>{P.length>0&&(S=S.filter(N=>P.includes(String(N[O]))))}),e(O=>({...O,filteredData:S}))},[a,t.data]);C.useEffect(()=>{p==="Education"&&h("Dashboard")},[p]);const j=[{id:"Home",label:"Home",icon:Iu},{id:"Dashboard",label:"Dashboard",icon:dj},{id:"HouseholdAdvisor",label:"My Energy AI",icon:Iu},{id:"Provinces",label:"Provinces",icon:e3},{id:"Trends",label:"Trends",icon:tr},{id:"Investment",label:"Investment",icon:tr},{id:"Resilience",label:"Resilience",icon:zr},{id:"Innovation",label:"Innovation",icon:pt},{id:"Indigenous",label:"Indigenous",icon:zr},{id:"Stakeholders",label:"Stakeholders",icon:pt},{id:"GridOptimization",label:"Grid Ops",icon:hr},{id:"Security",label:"Security",icon:bh},{id:"Features",label:"Features",icon:ss}],b=U.useMemo(()=>j.map(S=>{const O=OA[S.id];if(!O)return{...S,badge:null};const P=db(O);if(!P)return{...S,badge:null};let N=null;return P.status==="partial"?N="Limited":P.status==="deferred"&&(N="Soon"),{...S,badge:N,status:P.status}}).filter(S=>{{const O=OA[S.id];if(O&&!aV(O))return!1}return!0}),[]);C.useEffect(()=>{const S=()=>{n(yn.getAllConnectionStatuses())};(async()=>{ya.map(A=>A.key).forEach(async A=>{try{await yn.initializeConnection(A),console.log(`Initialized connection for ${A}`)}catch(T){console.error(`Error initializing ${A}:`,T)}})})(),S();const P=setInterval(S,1e3);return()=>clearInterval(P)},[]),C.useEffect(()=>{y(t.activeDataset,!1)},[t.activeDataset,y]),C.useEffect(()=>{v()},[v]);const w=()=>{y(t.activeDataset,!0)},k=ya.find(S=>S.key===t.activeDataset);return r.find(S=>S.dataset===k.name),s.jsxs("div",{className:"min-h-screen bg-slate-900",children:[s.jsx("header",{className:"bg-gradient-to-r from-blue-900 to-blue-800 text-white shadow-lg",children:s.jsx("div",{className:Te.page,children:s.jsxs("div",{className:Te.flexBetween,children:[s.jsxs("div",{className:Te.flexCenter,children:[s.jsx("div",{className:"bg-blue-700 p-3 rounded-xl mr-4",children:s.jsx(pt,{className:"h-8 w-8"})}),s.jsxs("div",{children:[s.jsx("h1",{className:`${ve.heading1} text-white mb-1`,children:"Canadian Energy Information Portal"}),s.jsx("p",{className:`${ve.bodySmall} text-blue-100 font-medium`,children:"Real-time • Resilient Architecture"})]})]}),s.jsxs("div",{className:Te.flexCenter,children:[s.jsxs("div",{className:"text-right mr-6",children:[s.jsx("div",{className:`${ve.bodySmall} text-blue-200`,children:"Total Records"}),s.jsx("div",{className:`${ve.metric} text-white`,children:t.filteredData.length.toLocaleString()})]}),s.jsxs("button",{onClick:w,disabled:t.loading,className:"bg-blue-600 hover:bg-blue-700 disabled:opacity-50 px-4 py-2 rounded-lg font-medium transition-colors flex items-center space-x-2",children:[s.jsx(hr,{className:"h-4 w-4"}),s.jsx("span",{children:t.loading?"Loading...":"Refresh"})]}),s.jsx("div",{className:"ml-4",children:s.jsx(jt,{id:FV[p]??"dashboard.overview"})})]})]})})}),s.jsx("nav",{className:"bg-white border-b border-slate-200 shadow-sm sticky-top",children:s.jsx("div",{className:Te.page,children:s.jsx(xV,{tabs:b.map(S=>({id:S.id,label:S.label,icon:S.icon,badge:S.badge})),activeTab:p,onSelect:h})})}),s.jsx("div",{className:Te.page,children:p==="Dashboard"?s.jsx(WG,{}):p==="HouseholdAdvisor"?s.jsx(LV,{}):p==="Home"?s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"relative overflow-hidden rounded-2xl border border-slate-200/50",children:[s.jsx("div",{className:"absolute inset-0 shader-bg-primary animate-gradient-xy"}),s.jsx("div",{className:"absolute inset-0 bg-black/20"}),s.jsx("div",{className:"relative z-10 p-8",children:s.jsxs("div",{className:"text-center max-w-4xl mx-auto",children:[s.jsx("div",{className:"flex items-center justify-center mb-6 animate-float",children:s.jsx("div",{className:"glass-card rounded-full p-6 animate-pulse-slow",children:s.jsx(pt,{className:"h-16 w-16 text-white"})})}),s.jsx("h1",{className:"text-5xl font-bold text-white mb-6 animate-fade-in",children:"Canadian Energy Information Portal"}),s.jsx("p",{className:"text-xl text-white/90 mb-8 animate-fade-in-delayed",children:"Real-time streaming architecture for comprehensive energy data analytics across Canada"}),s.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-4 text-sm animate-fade-in-slow",children:[s.jsxs("div",{className:"glass-card px-6 py-3 rounded-full text-white",children:[s.jsx(pu,{className:"h-4 w-4 inline mr-2"}),"Live Streaming"]}),s.jsxs("div",{className:"glass-card px-6 py-3 rounded-full text-white",children:[s.jsx(el,{className:"h-4 w-4 inline mr-2"}),"4 Datasets"]}),s.jsxs("div",{className:"glass-card px-6 py-3 rounded-full text-white",children:[s.jsx(pn,{className:"h-4 w-4 inline mr-2"}),"Real-time Analytics"]})]})]})})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:ya.map((S,O)=>{const P=r.find(N=>N.dataset===S.name);return s.jsxs("div",{className:`${Te.card} ${he.primary.bg} border ${he.primary.border} hover:shadow-lg transition-all duration-300`,children:[s.jsx("div",{className:Te.cardHeader,children:s.jsxs("div",{className:Te.flexBetween,children:[s.jsx("div",{className:"p-3 rounded-lg",style:{backgroundColor:`${S.color}20`,color:S.color},children:s.jsx(el,{className:"h-6 w-6"})}),s.jsxs("div",{className:`flex items-center space-x-1 px-2 py-1 rounded-full text-xs font-medium ${P?.status==="connected"?`${he.success.bg} ${he.success.text}`:P?.status==="connecting"?`${he.primary.bg} ${he.primary.text}`:`${he.warning.bg} ${he.warning.text}`}`,children:[P?.status==="connected"?s.jsx(qt,{className:"h-3 w-3"}):P?.status==="connecting"?s.jsx(ds,{className:"h-3 w-3"}):s.jsx(si,{className:"h-3 w-3"}),s.jsx("span",{children:P?.status==="connected"?"LIVE":P?.status==="connecting"?"CONNECTING":"OFFLINE"})]})]})}),s.jsxs("div",{className:Te.cardBody,children:[s.jsx("h3",{className:`${ve.heading4} ${he.primary.text} mb-1`,style:{color:S.color},children:S.name}),s.jsx("p",{className:`${ve.bodySmall} text-slate-600 mb-3`,children:S.description}),s.jsxs("div",{className:`${ve.metric} font-bold`,style:{color:S.color},children:[P?.recordCount.toLocaleString()||"0"," records"]})]})]},S.key)})})]}):p==="Provinces"?s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"relative overflow-hidden rounded-2xl border border-slate-200/50",children:[s.jsx("div",{className:"absolute inset-0 shader-bg-energy animate-gradient-xy"}),s.jsx("div",{className:"absolute inset-0 bg-black/30"}),s.jsx("div",{className:"relative z-10 p-8",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"animate-fade-in",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[s.jsx("div",{className:"glass-card p-3 rounded-xl animate-float",children:s.jsx(pj,{className:"h-8 w-8 text-white"})}),s.jsx("h1",{className:"text-3xl font-bold text-white",children:"REAL-TIME STREAMING ARCHITECTURE"})]}),s.jsx("p",{className:"text-lg text-white/90",children:"Live data streams from Canadian energy providers across all provinces"})]}),s.jsxs("div",{className:"glass-card px-6 py-3 rounded-full animate-fade-in-delayed",children:[s.jsx(pu,{className:"h-5 w-5 text-green-400 animate-pulse mr-2"}),s.jsx("span",{className:"text-white font-semibold",children:"LIVE STREAMING"})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200",children:[s.jsx("div",{className:"p-6 border-b border-slate-200",children:s.jsxs("h2",{className:"text-xl font-semibold text-slate-800 flex items-center",children:[s.jsx(sx,{className:"h-6 w-6 mr-3 text-blue-600"}),"Live Connection Status"]})}),s.jsx("div",{className:"p-6 space-y-4",children:r.map((S,O)=>s.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:`p-2 rounded-full ${S.status==="connected"?"bg-green-500":S.status==="connecting"?"bg-blue-500 animate-pulse":"bg-slate-400"}`,children:S.status==="connected"?s.jsx(qt,{className:"h-4 w-4 text-white"}):S.status==="connecting"?s.jsx(ds,{className:"h-4 w-4 text-white"}):s.jsx(si,{className:"h-4 w-4 text-white"})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold text-slate-800",children:S.dataset}),s.jsx("div",{className:`text-sm font-medium ${S.status==="connected"?"text-green-600":S.status==="connecting"?"text-blue-600":"text-slate-600"}`,children:S.status==="connected"?"LIVE STREAM ACTIVE":S.status==="connecting"?"CONNECTING TO STREAM":"STREAM OFFLINE"})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-lg font-bold text-slate-800",children:S.recordCount.toLocaleString()}),s.jsx("div",{className:"text-sm text-slate-600",children:"records streaming"})]})]},O))})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200",children:[s.jsx("div",{className:"p-6 border-b border-slate-200",children:s.jsxs("h2",{className:"text-xl font-semibold text-slate-800 flex items-center",children:[s.jsx(pn,{className:"h-6 w-6 mr-3 text-purple-600"}),"Streaming Metrics"]})}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[s.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[r.filter(S=>S.status==="connected").length,"/",r.length]}),s.jsx("div",{className:"text-sm text-slate-600",children:"Active Streams"})]}),s.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:r.reduce((S,O)=>S+O.recordCount,0).toLocaleString()}),s.jsx("div",{className:"text-sm text-slate-600",children:"Total Records"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium text-slate-600",children:"Stream Health"}),s.jsx("span",{className:"text-sm font-bold text-green-600",children:"98.2% Uptime"})]}),s.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2",children:s.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:"98.2%"}})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium text-slate-600",children:"Data Throughput"}),s.jsx("span",{className:"text-sm font-bold text-purple-600",children:"1.2K records/min"})]}),s.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2",children:s.jsx("div",{className:"bg-purple-500 h-2 rounded-full",style:{width:"85%"}})})]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200",children:[s.jsx("div",{className:"p-6 border-b border-slate-200",children:s.jsxs("h2",{className:"text-xl font-semibold text-slate-800 flex items-center",children:[s.jsx(va,{className:"h-6 w-6 mr-3 text-red-600"}),"Canadian Energy Data Sources"]})}),s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[{province:"Ontario",source:"IESO",status:"connected",datasets:2},{province:"Quebec",source:"Hydro-Québec",status:"connected",datasets:1},{province:"British Columbia",source:"BC Hydro",status:"connecting",datasets:1},{province:"Alberta",source:"AESO",status:"connected",datasets:1},{province:"Manitoba",source:"Manitoba Hydro",status:"connecting",datasets:1},{province:"Saskatchewan",source:"SaskPower",status:"connected",datasets:1}].map((S,O)=>s.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-slate-50 rounded-lg",children:[s.jsx("div",{className:`w-3 h-3 rounded-full ${S.status==="connected"?"bg-green-500":"bg-blue-500 animate-pulse"}`}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-semibold text-slate-800",children:S.province}),s.jsxs("div",{className:"text-sm text-slate-600",children:[S.source," • ",S.datasets," datasets"]})]}),s.jsx("div",{className:`text-xs font-medium px-2 py-1 rounded-full ${S.status==="connected"?"bg-green-100 text-green-700":"bg-blue-100 text-blue-700"}`,children:S.status==="connected"?"LIVE":"CONNECTING"})]},O))})})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200",children:[s.jsx("div",{className:"p-6 border-b border-slate-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h2",{className:"text-xl font-semibold text-slate-800 flex items-center",children:[s.jsx(pu,{className:"h-6 w-6 mr-3 text-blue-600"}),"Live Data Stream"]}),s.jsxs("div",{className:"flex items-center space-x-2 text-sm text-slate-600",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),s.jsx("span",{children:"Updating every 30 seconds"})]})]})}),s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"text-center py-8",children:[s.jsxs("div",{className:"inline-flex items-center space-x-2 bg-blue-50 px-6 py-3 rounded-full",children:[s.jsx(pj,{className:"h-5 w-5 text-blue-600 animate-pulse"}),s.jsxs("span",{className:"font-medium text-blue-800",children:["Real-time data streaming from ",r.filter(S=>S.status==="connected").length," active sources"]})]}),s.jsx("p",{className:"mt-4 text-slate-600",children:"Switch to Dashboard tab to interact with live streaming data visualizations"}),s.jsx("button",{onClick:()=>h("Dashboard"),className:"mt-4 bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-medium transition-colors",children:"View Live Dashboard"})]})})]})]}):p==="Trends"?s.jsx("div",{className:"space-y-8",children:s.jsxs("div",{className:"relative overflow-hidden rounded-2xl border border-slate-200/50",children:[s.jsx("div",{className:"absolute inset-0 shader-bg-secondary animate-gradient-xy"}),s.jsx("div",{className:"absolute inset-0 bg-black/20"}),s.jsx("div",{className:"relative z-10 p-8",children:s.jsxs("div",{className:"text-center animate-fade-in",children:[s.jsx("div",{className:"glass-card p-6 rounded-full w-20 h-20 mx-auto mb-6 animate-float",children:s.jsx(tr,{className:"h-10 w-10 text-white mx-auto"})}),s.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Trend Analysis"}),s.jsx("p",{className:"text-xl text-white/90 mb-8 animate-fade-in-delayed",children:"Advanced analytics and trend identification across Canadian energy data streams"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-8 animate-fade-in-slow",children:[s.jsxs("div",{className:"glass-card p-6 rounded-xl text-white",children:[s.jsx(tr,{className:"h-8 w-8 text-blue-300 mb-3"}),s.jsx("h3",{className:"font-semibold mb-2",children:"Peak Demand Patterns"}),s.jsx("p",{className:"text-sm text-white/80",children:"Historical and predictive analysis of energy demand peaks"})]}),s.jsxs("div",{className:"glass-card p-6 rounded-xl text-white",children:[s.jsx(dj,{className:"h-8 w-8 text-green-300 mb-3"}),s.jsx("h3",{className:"font-semibold mb-2",children:"Generation Trends"}),s.jsx("p",{className:"text-sm text-white/80",children:"Long-term trends in renewable vs traditional energy generation"})]}),s.jsxs("div",{className:"glass-card p-6 rounded-xl text-white",children:[s.jsx(pn,{className:"h-8 w-8 text-purple-300 mb-3"}),s.jsx("h3",{className:"font-semibold mb-2",children:"Price Volatility"}),s.jsx("p",{className:"text-sm text-white/80",children:"Market price analysis and volatility patterns"})]})]}),s.jsx("button",{onClick:()=>h("Dashboard"),className:"mt-8 glass-card text-white px-6 py-3 rounded-lg font-medium transition-all hover:bg-white/20 animate-fade-in-slow",children:"Explore Trends in Dashboard"})]})})]})}):p==="Education"?s.jsx("div",{className:"space-y-8",children:s.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-slate-200",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("div",{className:"bg-orange-50 p-4 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:s.jsx(t3,{className:"h-8 w-8 text-orange-600"})}),s.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-2",children:"Educational Resources"}),s.jsx("p",{className:"text-slate-600",children:"Learn about Canadian energy systems, data sources, and streaming architecture"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-semibold text-slate-800 mb-4",children:"Dataset Information"}),s.jsx("div",{className:"space-y-4",children:ya.map(S=>s.jsxs("div",{className:"p-4 border border-slate-200 rounded-lg",children:[s.jsx("h4",{className:"font-semibold text-slate-800",style:{color:S.color},children:S.name}),s.jsx("p",{className:"text-sm text-slate-600 mt-1",children:S.description}),s.jsxs("div",{className:"text-xs text-slate-500 mt-2",children:["Source: ",S.source.toUpperCase()," • ~",S.estimatedRows.toLocaleString()," records"]})]},S.key))})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-semibold text-slate-800 mb-4",children:"Technical Architecture"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx(pu,{className:"h-5 w-5 text-blue-600"}),s.jsx("h4",{className:"font-semibold text-blue-800",children:"Real-time Streaming"})]}),s.jsx("p",{className:"text-sm text-slate-600",children:"Data streams continuously from multiple Canadian energy providers using resilient Supabase Edge Functions"})]}),s.jsxs("div",{className:"p-4 bg-green-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx(el,{className:"h-5 w-5 text-green-600"}),s.jsx("h4",{className:"font-semibold text-green-800",children:"Data Processing"})]}),s.jsx("p",{className:"text-sm text-slate-600",children:"Advanced filtering, aggregation, and visualization capabilities with export functionality"})]}),s.jsxs("div",{className:"p-4 bg-purple-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx(pn,{className:"h-5 w-5 text-purple-600"}),s.jsx("h4",{className:"font-semibold text-purple-800",children:"Performance"})]}),s.jsx("p",{className:"text-sm text-slate-600",children:"Optimized for high-throughput data processing with fallback mechanisms for reliability"})]})]})]})]}),s.jsx("div",{className:"text-center mt-8",children:s.jsx("button",{onClick:()=>h("Dashboard"),className:"bg-orange-600 hover:bg-orange-700 text-white px-6 py-3 rounded-lg font-medium transition-colors",children:"Start Exploring Data"})})]})})}):s.jsxs(s.Fragment,{children:[p==="Resilience"&&s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"relative overflow-hidden rounded-2xl border border-slate-200/50",children:[s.jsx("div",{className:"absolute inset-0 shader-bg-accent animate-gradient-xy"}),s.jsx("div",{className:"absolute inset-0 bg-black/20"}),s.jsx("div",{className:"relative z-10 p-8",children:s.jsxs("div",{className:"text-center animate-fade-in",children:[s.jsx("div",{className:"glass-card p-6 rounded-full w-20 h-20 mx-auto mb-6 animate-float",children:s.jsx(zr,{className:"h-10 w-10 text-white mx-auto"})}),s.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Infrastructure Resilience"}),s.jsx("p",{className:"text-xl text-white/90 mb-8 animate-fade-in-delayed",children:"Climate scenario modeling and vulnerability assessment for critical infrastructure"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-8 animate-fade-in-slow",children:[s.jsxs("div",{className:"glass-card p-6 rounded-xl text-white",children:[s.jsx(zr,{className:"h-8 w-8 text-red-300 mb-3"}),s.jsx("h3",{className:"font-semibold mb-2",children:"Risk Assessment"}),s.jsx("p",{className:"text-sm text-white/80",children:"Advanced climate vulnerability analysis"})]}),s.jsxs("div",{className:"glass-card p-6 rounded-xl text-white",children:[s.jsx(va,{className:"h-8 w-8 text-blue-300 mb-3"}),s.jsx("h3",{className:"font-semibold mb-2",children:"Asset Mapping"}),s.jsx("p",{className:"text-sm text-white/80",children:"Comprehensive infrastructure inventory"})]}),s.jsxs("div",{className:"glass-card p-6 rounded-xl text-white",children:[s.jsx(pn,{className:"h-8 w-8 text-green-300 mb-3"}),s.jsx("h3",{className:"font-semibold mb-2",children:"Scenario Planning"}),s.jsx("p",{className:"text-sm text-white/80",children:"Future climate impact modeling"})]})]})]})})]}),s.jsx(ZG,{})]}),p==="Investment"&&s.jsx("div",{className:"space-y-8",children:s.jsx(VG,{})}),p==="Innovation"&&s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"relative overflow-hidden rounded-2xl border border-slate-200/50",children:[s.jsx("div",{className:"absolute inset-0 shader-bg-primary animate-gradient-xy"}),s.jsx("div",{className:"absolute inset-0 bg-black/20"}),s.jsx("div",{className:"relative z-10 p-8",children:s.jsxs("div",{className:"text-center animate-fade-in",children:[s.jsx("div",{className:"glass-card p-6 rounded-full w-20 h-20 mx-auto mb-6 animate-float",children:s.jsx(pt,{className:"h-10 w-10 text-white mx-auto"})}),s.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Innovation Hub"}),s.jsx("p",{className:"text-xl text-white/90 mb-8 animate-fade-in-delayed",children:"AI-powered research and technology innovation for sustainable energy solutions"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-8 animate-fade-in-slow",children:[s.jsxs("div",{className:"glass-card p-6 rounded-xl text-white",children:[s.jsx(pt,{className:"h-8 w-8 text-yellow-300 mb-3"}),s.jsx("h3",{className:"font-semibold mb-2",children:"Technology Search"}),s.jsx("p",{className:"text-sm text-white/80",children:"Advanced patent and innovation discovery"})]}),s.jsxs("div",{className:"glass-card p-6 rounded-xl text-white",children:[s.jsx(tr,{className:"h-8 w-8 text-green-300 mb-3"}),s.jsx("h3",{className:"font-semibold mb-2",children:"Market Analysis"}),s.jsx("p",{className:"text-sm text-white/80",children:"Emerging technology market insights"})]}),s.jsxs("div",{className:"glass-card p-6 rounded-xl text-white",children:[s.jsx(pn,{className:"h-8 w-8 text-purple-300 mb-3"}),s.jsx("h3",{className:"font-semibold mb-2",children:"Feasibility Studies"}),s.jsx("p",{className:"text-sm text-white/80",children:"Technical and economic viability assessment"})]})]})]})})]}),s.jsx(rV,{})]}),p==="Indigenous"&&s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"relative overflow-hidden rounded-2xl border border-slate-200/50",children:[s.jsx("div",{className:"absolute inset-0 shader-bg-energy animate-gradient-xy"}),s.jsx("div",{className:"absolute inset-0 bg-black/20"}),s.jsx("div",{className:"relative z-10 p-8",children:s.jsxs("div",{className:"text-center animate-fade-in",children:[s.jsx("div",{className:"glass-card p-6 rounded-full w-20 h-20 mx-auto mb-6 animate-float",children:s.jsx(zr,{className:"h-10 w-10 text-white mx-auto"})}),s.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Indigenous Energy Sovereignty"}),s.jsx("p",{className:"text-xl text-white/90 mb-8 animate-fade-in-delayed",children:"Respectful integration of Indigenous knowledge and governance in energy planning"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-8 animate-fade-in-slow",children:[s.jsxs("div",{className:"glass-card p-6 rounded-xl text-white",children:[s.jsx(zr,{className:"h-8 w-8 text-blue-300 mb-3"}),s.jsx("h3",{className:"font-semibold mb-2",children:"Traditional Knowledge"}),s.jsx("p",{className:"text-sm text-white/80",children:"Integration of Indigenous ecological knowledge"})]}),s.jsxs("div",{className:"glass-card p-6 rounded-xl text-white",children:[s.jsx(va,{className:"h-8 w-8 text-green-300 mb-3"}),s.jsx("h3",{className:"font-semibold mb-2",children:"Territory Mapping"}),s.jsx("p",{className:"text-sm text-white/80",children:"Traditional territory and consultation tracking"})]}),s.jsxs("div",{className:"glass-card p-6 rounded-xl text-white",children:[s.jsx(pn,{className:"h-8 w-8 text-orange-300 mb-3"}),s.jsx("h3",{className:"font-semibold mb-2",children:"FPIC Compliance"}),s.jsx("p",{className:"text-sm text-white/80",children:"Free, Prior, Informed Consent workflows"})]})]})]})})]}),s.jsx(dV,{})]}),p==="Stakeholders"&&s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"relative overflow-hidden rounded-2xl border border-slate-200/50",children:[s.jsx("div",{className:"absolute inset-0 shader-bg-secondary animate-gradient-xy"}),s.jsx("div",{className:"absolute inset-0 bg-black/20"}),s.jsx("div",{className:"relative z-10 p-8",children:s.jsxs("div",{className:"text-center animate-fade-in",children:[s.jsx("div",{className:"glass-card p-6 rounded-full w-20 h-20 mx-auto mb-6 animate-float",children:s.jsx(pt,{className:"h-10 w-10 text-white mx-auto"})}),s.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Stakeholder Coordination"}),s.jsx("p",{className:"text-xl text-white/90 mb-8 animate-fade-in-delayed",children:"Multi-stakeholder engagement and collaboration platform for energy projects"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-8 animate-fade-in-slow",children:[s.jsxs("div",{className:"glass-card p-6 rounded-xl text-white",children:[s.jsx(pt,{className:"h-8 w-8 text-purple-300 mb-3"}),s.jsx("h3",{className:"font-semibold mb-2",children:"Engagement Tracking"}),s.jsx("p",{className:"text-sm text-white/80",children:"Comprehensive stakeholder communication logs"})]}),s.jsxs("div",{className:"glass-card p-6 rounded-xl text-white",children:[s.jsx(va,{className:"h-8 w-8 text-blue-300 mb-3"}),s.jsx("h3",{className:"font-semibold mb-2",children:"Impact Mapping"}),s.jsx("p",{className:"text-sm text-white/80",children:"Geographic stakeholder impact analysis"})]}),s.jsxs("div",{className:"glass-card p-6 rounded-xl text-white",children:[s.jsx(pn,{className:"h-8 w-8 text-green-300 mb-3"}),s.jsx("h3",{className:"font-semibold mb-2",children:"Consensus Building"}),s.jsx("p",{className:"text-sm text-white/80",children:"Collaborative decision-making support"})]})]})]})})]}),s.jsx(hV,{})]}),p==="GridOptimization"&&s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"relative overflow-hidden rounded-2xl border border-slate-200/50",children:[s.jsx("div",{className:"absolute inset-0 shader-bg-primary animate-gradient-xy"}),s.jsx("div",{className:"absolute inset-0 bg-black/20"}),s.jsx("div",{className:"relative z-10 p-8",children:s.jsxs("div",{className:"text-center animate-fade-in",children:[s.jsx("div",{className:"glass-card p-6 rounded-full w-20 h-20 mx-auto mb-6 animate-float",children:s.jsx(hr,{className:"h-10 w-10 text-white mx-auto"})}),s.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Grid Optimization"}),s.jsx("p",{className:"text-xl text-white/90 mb-8 animate-fade-in-delayed",children:"Advanced grid management and optimization for reliable energy distribution"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-8 animate-fade-in-slow",children:[s.jsxs("div",{className:"glass-card p-6 rounded-xl text-white",children:[s.jsx(hr,{className:"h-8 w-8 text-cyan-300 mb-3"}),s.jsx("h3",{className:"font-semibold mb-2",children:"Load Balancing"}),s.jsx("p",{className:"text-sm text-white/80",children:"Real-time grid load optimization"})]}),s.jsxs("div",{className:"glass-card p-6 rounded-xl text-white",children:[s.jsx(pn,{className:"h-8 w-8 text-yellow-300 mb-3"}),s.jsx("h3",{className:"font-semibold mb-2",children:"Predictive Maintenance"}),s.jsx("p",{className:"text-sm text-white/80",children:"AI-driven equipment health monitoring"})]}),s.jsxs("div",{className:"glass-card p-6 rounded-xl text-white",children:[s.jsx(tr,{className:"h-8 w-8 text-green-300 mb-3"}),s.jsx("h3",{className:"font-semibold mb-2",children:"Efficiency Analytics"}),s.jsx("p",{className:"text-sm text-white/80",children:"Performance optimization insights"})]})]})]})})]}),s.jsx(pV,{})]}),p==="Security"&&s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"relative overflow-hidden rounded-2xl border border-slate-200/50",children:[s.jsx("div",{className:"absolute inset-0 shader-bg-accent animate-gradient-xy"}),s.jsx("div",{className:"absolute inset-0 bg-black/20"}),s.jsx("div",{className:"relative z-10 p-8",children:s.jsxs("div",{className:"text-center animate-fade-in",children:[s.jsx("div",{className:"glass-card p-6 rounded-full w-20 h-20 mx-auto mb-6 animate-float",children:s.jsx(bh,{className:"h-10 w-10 text-white mx-auto"})}),s.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Cybersecurity & Monitoring"}),s.jsx("p",{className:"text-xl text-white/90 mb-8 animate-fade-in-delayed",children:"Enterprise-grade security monitoring and threat detection for energy infrastructure"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-8 animate-fade-in-slow",children:[s.jsxs("div",{className:"glass-card p-6 rounded-xl text-white",children:[s.jsx(zr,{className:"h-8 w-8 text-red-300 mb-3"}),s.jsx("h3",{className:"font-semibold mb-2",children:"Threat Detection"}),s.jsx("p",{className:"text-sm text-white/80",children:"Advanced cybersecurity monitoring"})]}),s.jsxs("div",{className:"glass-card p-6 rounded-xl text-white",children:[s.jsx(bh,{className:"h-8 w-8 text-blue-300 mb-3"}),s.jsx("h3",{className:"font-semibold mb-2",children:"Access Control"}),s.jsx("p",{className:"text-sm text-white/80",children:"Multi-factor authentication and authorization"})]}),s.jsxs("div",{className:"glass-card p-6 rounded-xl text-white",children:[s.jsx(hr,{className:"h-8 w-8 text-green-300 mb-3"}),s.jsx("h3",{className:"font-semibold mb-2",children:"Incident Response"}),s.jsx("p",{className:"text-sm text-white/80",children:"Automated security incident management"})]})]})]})})]}),s.jsx(gV,{})]}),p==="Features"&&s.jsx(vV,{}),!["Dashboard","Home","Provinces","Trends","Investment","Resilience","Innovation","Indigenous","Stakeholders","GridOptimization","Security","Features","Education"].includes(p)&&s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-8 text-center",children:s.jsxs("div",{className:"max-w-md mx-auto",children:[s.jsx("div",{className:"bg-blue-50 p-4 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:(()=>{const S=b.find(O=>O.id===p);if(S?.icon){const O=S.icon;return s.jsx(O,{className:"h-8 w-8 text-blue-600"})}return null})()}),s.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-2",children:p}),s.jsx("p",{className:"text-slate-600 mb-6",children:"Content for this section is being developed."}),s.jsx("button",{onClick:()=>h("Dashboard"),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-medium transition-colors",children:"Go to Dashboard"})]})})]})})]})};function qV(){return s.jsx("div",{className:"App",children:s.jsx(y3,{children:s.jsx(zV,{})})})}if(typeof window<"u"){window.ceipDb={provincial_generation:{clear:()=>Promise.resolve(),bulkPut:r=>Promise.resolve(),bulkAdd:r=>Promise.resolve(),toArray:()=>Promise.resolve([])},ontario_demand:{clear:()=>Promise.resolve(),bulkPut:r=>Promise.resolve(),bulkAdd:r=>Promise.resolve(),toArray:()=>Promise.resolve([])},ontario_prices:{clear:()=>Promise.resolve(),bulkPut:r=>Promise.resolve(),bulkAdd:r=>Promise.resolve(),toArray:()=>Promise.resolve([])},hf_electricity_demand:{clear:()=>Promise.resolve(),bulkPut:r=>Promise.resolve(),bulkAdd:r=>Promise.resolve(),toArray:()=>Promise.resolve([])}};const t=()=>{if(!("IntersectionObserver"in window))return;const r={threshold:.1,rootMargin:"0px 0px -50px 0px"},n=new IntersectionObserver(o=>{o.forEach(c=>{c.isIntersecting&&c.target.classList.add("in-view")})},r);document.querySelectorAll(".scroll-animate").forEach(o=>n.observe(o))};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",t,{once:!0}):t(),iV();const e=vC();console.log("🚀 Canada Energy Intelligence Platform - Phase 1 Launch"),console.log(`📊 ${e.enabled} features available`)}OM.createRoot(document.getElementById("root")).render(s.jsx(U.StrictMode,{children:s.jsx(qV,{})}));
