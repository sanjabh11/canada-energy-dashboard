(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}})();var lu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function He(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var dh={exports:{}},Do={},fh={exports:{}},$e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K1;function hM(){if(K1)return $e;K1=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),h=Symbol.iterator;function y(z){return z===null||typeof z!="object"?null:(z=h&&z[h]||z["@@iterator"],typeof z=="function"?z:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,w={};function b(z,Y,ae){this.props=z,this.context=Y,this.refs=w,this.updater=ae||x}b.prototype.isReactComponent={},b.prototype.setState=function(z,Y){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,Y,"setState")},b.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function k(){}k.prototype=b.prototype;function S(z,Y,ae){this.props=z,this.context=Y,this.refs=w,this.updater=ae||x}var O=S.prototype=new k;O.constructor=S,j(O,b.prototype),O.isPureReactComponent=!0;var P=Array.isArray,N=Object.prototype.hasOwnProperty,A={current:null},T={key:!0,ref:!0,__self:!0,__source:!0};function D(z,Y,ae){var fe,Se={},xe=null,Le=null;if(Y!=null)for(fe in Y.ref!==void 0&&(Le=Y.ref),Y.key!==void 0&&(xe=""+Y.key),Y)N.call(Y,fe)&&!T.hasOwnProperty(fe)&&(Se[fe]=Y[fe]);var Ce=arguments.length-2;if(Ce===1)Se.children=ae;else if(1<Ce){for(var oe=Array(Ce),re=0;re<Ce;re++)oe[re]=arguments[re+2];Se.children=oe}if(z&&z.defaultProps)for(fe in Ce=z.defaultProps,Ce)Se[fe]===void 0&&(Se[fe]=Ce[fe]);return{$$typeof:t,type:z,key:xe,ref:Le,props:Se,_owner:A.current}}function C(z,Y){return{$$typeof:t,type:z.type,key:Y,ref:z.ref,props:z.props,_owner:z._owner}}function F(z){return typeof z=="object"&&z!==null&&z.$$typeof===t}function I(z){var Y={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(ae){return Y[ae]})}var q=/\/+/g;function B(z,Y){return typeof z=="object"&&z!==null&&z.key!=null?I(""+z.key):Y.toString(36)}function V(z,Y,ae,fe,Se){var xe=typeof z;(xe==="undefined"||xe==="boolean")&&(z=null);var Le=!1;if(z===null)Le=!0;else switch(xe){case"string":case"number":Le=!0;break;case"object":switch(z.$$typeof){case t:case e:Le=!0}}if(Le)return Le=z,Se=Se(Le),z=fe===""?"."+B(Le,0):fe,P(Se)?(ae="",z!=null&&(ae=z.replace(q,"$&/")+"/"),V(Se,Y,ae,"",function(re){return re})):Se!=null&&(F(Se)&&(Se=C(Se,ae+(!Se.key||Le&&Le.key===Se.key?"":(""+Se.key).replace(q,"$&/")+"/")+z)),Y.push(Se)),1;if(Le=0,fe=fe===""?".":fe+":",P(z))for(var Ce=0;Ce<z.length;Ce++){xe=z[Ce];var oe=fe+B(xe,Ce);Le+=V(xe,Y,ae,oe,Se)}else if(oe=y(z),typeof oe=="function")for(z=oe.call(z),Ce=0;!(xe=z.next()).done;)xe=xe.value,oe=fe+B(xe,Ce++),Le+=V(xe,Y,ae,oe,Se);else if(xe==="object")throw Y=String(z),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.");return Le}function L(z,Y,ae){if(z==null)return z;var fe=[],Se=0;return V(z,fe,"","",function(xe){return Y.call(ae,xe,Se++)}),fe}function M(z){if(z._status===-1){var Y=z._result;Y=Y(),Y.then(function(ae){(z._status===0||z._status===-1)&&(z._status=1,z._result=ae)},function(ae){(z._status===0||z._status===-1)&&(z._status=2,z._result=ae)}),z._status===-1&&(z._status=0,z._result=Y)}if(z._status===1)return z._result.default;throw z._result}var G={current:null},$={transition:null},W={ReactCurrentDispatcher:G,ReactCurrentBatchConfig:$,ReactCurrentOwner:A};function Q(){throw Error("act(...) is not supported in production builds of React.")}return $e.Children={map:L,forEach:function(z,Y,ae){L(z,function(){Y.apply(this,arguments)},ae)},count:function(z){var Y=0;return L(z,function(){Y++}),Y},toArray:function(z){return L(z,function(Y){return Y})||[]},only:function(z){if(!F(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},$e.Component=b,$e.Fragment=r,$e.Profiler=a,$e.PureComponent=S,$e.StrictMode=n,$e.Suspense=d,$e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W,$e.act=Q,$e.cloneElement=function(z,Y,ae){if(z==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+z+".");var fe=j({},z.props),Se=z.key,xe=z.ref,Le=z._owner;if(Y!=null){if(Y.ref!==void 0&&(xe=Y.ref,Le=A.current),Y.key!==void 0&&(Se=""+Y.key),z.type&&z.type.defaultProps)var Ce=z.type.defaultProps;for(oe in Y)N.call(Y,oe)&&!T.hasOwnProperty(oe)&&(fe[oe]=Y[oe]===void 0&&Ce!==void 0?Ce[oe]:Y[oe])}var oe=arguments.length-2;if(oe===1)fe.children=ae;else if(1<oe){Ce=Array(oe);for(var re=0;re<oe;re++)Ce[re]=arguments[re+2];fe.children=Ce}return{$$typeof:t,type:z.type,key:Se,ref:xe,props:fe,_owner:Le}},$e.createContext=function(z){return z={$$typeof:c,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},z.Provider={$$typeof:s,_context:z},z.Consumer=z},$e.createElement=D,$e.createFactory=function(z){var Y=D.bind(null,z);return Y.type=z,Y},$e.createRef=function(){return{current:null}},$e.forwardRef=function(z){return{$$typeof:u,render:z}},$e.isValidElement=F,$e.lazy=function(z){return{$$typeof:p,_payload:{_status:-1,_result:z},_init:M}},$e.memo=function(z,Y){return{$$typeof:m,type:z,compare:Y===void 0?null:Y}},$e.startTransition=function(z){var Y=$.transition;$.transition={};try{z()}finally{$.transition=Y}},$e.unstable_act=Q,$e.useCallback=function(z,Y){return G.current.useCallback(z,Y)},$e.useContext=function(z){return G.current.useContext(z)},$e.useDebugValue=function(){},$e.useDeferredValue=function(z){return G.current.useDeferredValue(z)},$e.useEffect=function(z,Y){return G.current.useEffect(z,Y)},$e.useId=function(){return G.current.useId()},$e.useImperativeHandle=function(z,Y,ae){return G.current.useImperativeHandle(z,Y,ae)},$e.useInsertionEffect=function(z,Y){return G.current.useInsertionEffect(z,Y)},$e.useLayoutEffect=function(z,Y){return G.current.useLayoutEffect(z,Y)},$e.useMemo=function(z,Y){return G.current.useMemo(z,Y)},$e.useReducer=function(z,Y,ae){return G.current.useReducer(z,Y,ae)},$e.useRef=function(z){return G.current.useRef(z)},$e.useState=function(z){return G.current.useState(z)},$e.useSyncExternalStore=function(z,Y,ae){return G.current.useSyncExternalStore(z,Y,ae)},$e.useTransition=function(){return G.current.useTransition()},$e.version="18.3.1",$e}var Y1;function Q0(){return Y1||(Y1=1,fh.exports=hM()),fh.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X1;function pM(){if(X1)return Do;X1=1;var t=Q0(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,a=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(u,d,m){var p,h={},y=null,x=null;m!==void 0&&(y=""+m),d.key!==void 0&&(y=""+d.key),d.ref!==void 0&&(x=d.ref);for(p in d)n.call(d,p)&&!s.hasOwnProperty(p)&&(h[p]=d[p]);if(u&&u.defaultProps)for(p in d=u.defaultProps,d)h[p]===void 0&&(h[p]=d[p]);return{$$typeof:e,type:u,key:y,ref:x,props:h,_owner:a.current}}return Do.Fragment=r,Do.jsx=c,Do.jsxs=c,Do}var Q1;function gM(){return Q1||(Q1=1,dh.exports=pM()),dh.exports}var o=gM(),R=Q0();const U=He(R);var cu={},mh={exports:{}},fr={},hh={exports:{}},ph={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z1;function yM(){return Z1||(Z1=1,(function(t){function e($,W){var Q=$.length;$.push(W);e:for(;0<Q;){var z=Q-1>>>1,Y=$[z];if(0<a(Y,W))$[z]=W,$[Q]=Y,Q=z;else break e}}function r($){return $.length===0?null:$[0]}function n($){if($.length===0)return null;var W=$[0],Q=$.pop();if(Q!==W){$[0]=Q;e:for(var z=0,Y=$.length,ae=Y>>>1;z<ae;){var fe=2*(z+1)-1,Se=$[fe],xe=fe+1,Le=$[xe];if(0>a(Se,Q))xe<Y&&0>a(Le,Se)?($[z]=Le,$[xe]=Q,z=xe):($[z]=Se,$[fe]=Q,z=fe);else if(xe<Y&&0>a(Le,Q))$[z]=Le,$[xe]=Q,z=xe;else break e}}return W}function a($,W){var Q=$.sortIndex-W.sortIndex;return Q!==0?Q:$.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var c=Date,u=c.now();t.unstable_now=function(){return c.now()-u}}var d=[],m=[],p=1,h=null,y=3,x=!1,j=!1,w=!1,b=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function O($){for(var W=r(m);W!==null;){if(W.callback===null)n(m);else if(W.startTime<=$)n(m),W.sortIndex=W.expirationTime,e(d,W);else break;W=r(m)}}function P($){if(w=!1,O($),!j)if(r(d)!==null)j=!0,M(N);else{var W=r(m);W!==null&&G(P,W.startTime-$)}}function N($,W){j=!1,w&&(w=!1,k(D),D=-1),x=!0;var Q=y;try{for(O(W),h=r(d);h!==null&&(!(h.expirationTime>W)||$&&!I());){var z=h.callback;if(typeof z=="function"){h.callback=null,y=h.priorityLevel;var Y=z(h.expirationTime<=W);W=t.unstable_now(),typeof Y=="function"?h.callback=Y:h===r(d)&&n(d),O(W)}else n(d);h=r(d)}if(h!==null)var ae=!0;else{var fe=r(m);fe!==null&&G(P,fe.startTime-W),ae=!1}return ae}finally{h=null,y=Q,x=!1}}var A=!1,T=null,D=-1,C=5,F=-1;function I(){return!(t.unstable_now()-F<C)}function q(){if(T!==null){var $=t.unstable_now();F=$;var W=!0;try{W=T(!0,$)}finally{W?B():(A=!1,T=null)}}else A=!1}var B;if(typeof S=="function")B=function(){S(q)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,L=V.port2;V.port1.onmessage=q,B=function(){L.postMessage(null)}}else B=function(){b(q,0)};function M($){T=$,A||(A=!0,B())}function G($,W){D=b(function(){$(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){j||x||(j=!0,M(N))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return r(d)},t.unstable_next=function($){switch(y){case 1:case 2:case 3:var W=3;break;default:W=y}var Q=y;y=W;try{return $()}finally{y=Q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,W){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var Q=y;y=$;try{return W()}finally{y=Q}},t.unstable_scheduleCallback=function($,W,Q){var z=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?z+Q:z):Q=z,$){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=Q+Y,$={id:p++,callback:W,priorityLevel:$,startTime:Q,expirationTime:Y,sortIndex:-1},Q>z?($.sortIndex=Q,e(m,$),r(d)===null&&$===r(m)&&(w?(k(D),D=-1):w=!0,G(P,Q-z))):($.sortIndex=Y,e(d,$),j||x||(j=!0,M(N))),$},t.unstable_shouldYield=I,t.unstable_wrapCallback=function($){var W=y;return function(){var Q=y;y=W;try{return $.apply(this,arguments)}finally{y=Q}}}})(ph)),ph}var J1;function vM(){return J1||(J1=1,hh.exports=yM()),hh.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ej;function xM(){if(ej)return fr;ej=1;var t=Q0(),e=vM();function r(i){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+i,f=1;f<arguments.length;f++)l+="&args[]="+encodeURIComponent(arguments[f]);return"Minified React error #"+i+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,a={};function s(i,l){c(i,l),c(i+"Capture",l)}function c(i,l){for(a[i]=l,i=0;i<l.length;i++)n.add(l[i])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},h={};function y(i){return d.call(h,i)?!0:d.call(p,i)?!1:m.test(i)?h[i]=!0:(p[i]=!0,!1)}function x(i,l,f,g){if(f!==null&&f.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return g?!1:f!==null?!f.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function j(i,l,f,g){if(l===null||typeof l>"u"||x(i,l,f,g))return!0;if(g)return!1;if(f!==null)switch(f.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function w(i,l,f,g,v,_,E){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=g,this.attributeNamespace=v,this.mustUseProperty=f,this.propertyName=i,this.type=l,this.sanitizeURL=_,this.removeEmptyString=E}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){b[i]=new w(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var l=i[0];b[l]=new w(l,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){b[i]=new w(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){b[i]=new w(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){b[i]=new w(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){b[i]=new w(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){b[i]=new w(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){b[i]=new w(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){b[i]=new w(i,5,!1,i.toLowerCase(),null,!1,!1)});var k=/[\-:]([a-z])/g;function S(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var l=i.replace(k,S);b[l]=new w(l,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var l=i.replace(k,S);b[l]=new w(l,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var l=i.replace(k,S);b[l]=new w(l,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){b[i]=new w(i,1,!1,i.toLowerCase(),null,!1,!1)}),b.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){b[i]=new w(i,1,!1,i.toLowerCase(),null,!0,!0)});function O(i,l,f,g){var v=b.hasOwnProperty(l)?b[l]:null;(v!==null?v.type!==0:g||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(j(l,f,v,g)&&(f=null),g||v===null?y(l)&&(f===null?i.removeAttribute(l):i.setAttribute(l,""+f)):v.mustUseProperty?i[v.propertyName]=f===null?v.type===3?!1:"":f:(l=v.attributeName,g=v.attributeNamespace,f===null?i.removeAttribute(l):(v=v.type,f=v===3||v===4&&f===!0?"":""+f,g?i.setAttributeNS(g,l,f):i.setAttribute(l,f))))}var P=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,N=Symbol.for("react.element"),A=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),I=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),G=Symbol.for("react.offscreen"),$=Symbol.iterator;function W(i){return i===null||typeof i!="object"?null:(i=$&&i[$]||i["@@iterator"],typeof i=="function"?i:null)}var Q=Object.assign,z;function Y(i){if(z===void 0)try{throw Error()}catch(f){var l=f.stack.trim().match(/\n( *(at )?)/);z=l&&l[1]||""}return`
`+z+i}var ae=!1;function fe(i,l){if(!i||ae)return"";ae=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(ee){var g=ee}Reflect.construct(i,[],l)}else{try{l.call()}catch(ee){g=ee}i.call(l.prototype)}else{try{throw Error()}catch(ee){g=ee}i()}}catch(ee){if(ee&&g&&typeof ee.stack=="string"){for(var v=ee.stack.split(`
`),_=g.stack.split(`
`),E=v.length-1,H=_.length-1;1<=E&&0<=H&&v[E]!==_[H];)H--;for(;1<=E&&0<=H;E--,H--)if(v[E]!==_[H]){if(E!==1||H!==1)do if(E--,H--,0>H||v[E]!==_[H]){var K=`
`+v[E].replace(" at new "," at ");return i.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",i.displayName)),K}while(1<=E&&0<=H);break}}}finally{ae=!1,Error.prepareStackTrace=f}return(i=i?i.displayName||i.name:"")?Y(i):""}function Se(i){switch(i.tag){case 5:return Y(i.type);case 16:return Y("Lazy");case 13:return Y("Suspense");case 19:return Y("SuspenseList");case 0:case 2:case 15:return i=fe(i.type,!1),i;case 11:return i=fe(i.type.render,!1),i;case 1:return i=fe(i.type,!0),i;default:return""}}function xe(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case T:return"Fragment";case A:return"Portal";case C:return"Profiler";case D:return"StrictMode";case B:return"Suspense";case V:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case I:return(i.displayName||"Context")+".Consumer";case F:return(i._context.displayName||"Context")+".Provider";case q:var l=i.render;return i=i.displayName,i||(i=l.displayName||l.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case L:return l=i.displayName||null,l!==null?l:xe(i.type)||"Memo";case M:l=i._payload,i=i._init;try{return xe(i(l))}catch{}}return null}function Le(i){var l=i.type;switch(i.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=l.render,i=i.displayName||i.name||"",l.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xe(l);case 8:return l===D?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function Ce(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function oe(i){var l=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function re(i){var l=oe(i)?"checked":"value",f=Object.getOwnPropertyDescriptor(i.constructor.prototype,l),g=""+i[l];if(!i.hasOwnProperty(l)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var v=f.get,_=f.set;return Object.defineProperty(i,l,{configurable:!0,get:function(){return v.call(this)},set:function(E){g=""+E,_.call(this,E)}}),Object.defineProperty(i,l,{enumerable:f.enumerable}),{getValue:function(){return g},setValue:function(E){g=""+E},stopTracking:function(){i._valueTracker=null,delete i[l]}}}}function le(i){i._valueTracker||(i._valueTracker=re(i))}function ne(i){if(!i)return!1;var l=i._valueTracker;if(!l)return!0;var f=l.getValue(),g="";return i&&(g=oe(i)?i.checked?"true":"false":i.value),i=g,i!==f?(l.setValue(i),!0):!1}function De(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Ie(i,l){var f=l.checked;return Q({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:f??i._wrapperState.initialChecked})}function at(i,l){var f=l.defaultValue==null?"":l.defaultValue,g=l.checked!=null?l.checked:l.defaultChecked;f=Ce(l.value!=null?l.value:f),i._wrapperState={initialChecked:g,initialValue:f,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function it(i,l){l=l.checked,l!=null&&O(i,"checked",l,!1)}function vt(i,l){it(i,l);var f=Ce(l.value),g=l.type;if(f!=null)g==="number"?(f===0&&i.value===""||i.value!=f)&&(i.value=""+f):i.value!==""+f&&(i.value=""+f);else if(g==="submit"||g==="reset"){i.removeAttribute("value");return}l.hasOwnProperty("value")?kr(i,l.type,f):l.hasOwnProperty("defaultValue")&&kr(i,l.type,Ce(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(i.defaultChecked=!!l.defaultChecked)}function gr(i,l,f){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var g=l.type;if(!(g!=="submit"&&g!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+i._wrapperState.initialValue,f||l===i.value||(i.value=l),i.defaultValue=l}f=i.name,f!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,f!==""&&(i.name=f)}function kr(i,l,f){(l!=="number"||De(i.ownerDocument)!==i)&&(f==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+f&&(i.defaultValue=""+f))}var Or=Array.isArray;function Ht(i,l,f,g){if(i=i.options,l){l={};for(var v=0;v<f.length;v++)l["$"+f[v]]=!0;for(f=0;f<i.length;f++)v=l.hasOwnProperty("$"+i[f].value),i[f].selected!==v&&(i[f].selected=v),v&&g&&(i[f].defaultSelected=!0)}else{for(f=""+Ce(f),l=null,v=0;v<i.length;v++){if(i[v].value===f){i[v].selected=!0,g&&(i[v].defaultSelected=!0);return}l!==null||i[v].disabled||(l=i[v])}l!==null&&(l.selected=!0)}}function ct(i,l){if(l.dangerouslySetInnerHTML!=null)throw Error(r(91));return Q({},l,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function bi(i,l){var f=l.value;if(f==null){if(f=l.children,l=l.defaultValue,f!=null){if(l!=null)throw Error(r(92));if(Or(f)){if(1<f.length)throw Error(r(93));f=f[0]}l=f}l==null&&(l=""),f=l}i._wrapperState={initialValue:Ce(f)}}function Xs(i,l){var f=Ce(l.value),g=Ce(l.defaultValue);f!=null&&(f=""+f,f!==i.value&&(i.value=f),l.defaultValue==null&&i.defaultValue!==f&&(i.defaultValue=f)),g!=null&&(i.defaultValue=""+g)}function Qs(i){var l=i.textContent;l===i._wrapperState.initialValue&&l!==""&&l!==null&&(i.value=l)}function ob(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function jf(i,l){return i==null||i==="http://www.w3.org/1999/xhtml"?ob(l):i==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var ec,lb=(function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,f,g,v){MSApp.execUnsafeLocalFunction(function(){return i(l,f,g,v)})}:i})(function(i,l){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=l;else{for(ec=ec||document.createElement("div"),ec.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=ec.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;l.firstChild;)i.appendChild(l.firstChild)}});function Zs(i,l){if(l){var f=i.firstChild;if(f&&f===i.lastChild&&f.nodeType===3){f.nodeValue=l;return}}i.textContent=l}var Js={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},vC=["Webkit","ms","Moz","O"];Object.keys(Js).forEach(function(i){vC.forEach(function(l){l=l+i.charAt(0).toUpperCase()+i.substring(1),Js[l]=Js[i]})});function cb(i,l,f){return l==null||typeof l=="boolean"||l===""?"":f||typeof l!="number"||l===0||Js.hasOwnProperty(i)&&Js[i]?(""+l).trim():l+"px"}function ub(i,l){i=i.style;for(var f in l)if(l.hasOwnProperty(f)){var g=f.indexOf("--")===0,v=cb(f,l[f],g);f==="float"&&(f="cssFloat"),g?i.setProperty(f,v):i[f]=v}}var xC=Q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Sf(i,l){if(l){if(xC[i]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(r(137,i));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(r(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(r(61))}if(l.style!=null&&typeof l.style!="object")throw Error(r(62))}}function _f(i,l){if(i.indexOf("-")===-1)return typeof l.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nf=null;function kf(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Of=null,wi=null,ji=null;function db(i){if(i=jo(i)){if(typeof Of!="function")throw Error(r(280));var l=i.stateNode;l&&(l=Sc(l),Of(i.stateNode,i.type,l))}}function fb(i){wi?ji?ji.push(i):ji=[i]:wi=i}function mb(){if(wi){var i=wi,l=ji;if(ji=wi=null,db(i),l)for(i=0;i<l.length;i++)db(l[i])}}function hb(i,l){return i(l)}function pb(){}var Af=!1;function gb(i,l,f){if(Af)return i(l,f);Af=!0;try{return hb(i,l,f)}finally{Af=!1,(wi!==null||ji!==null)&&(pb(),mb())}}function eo(i,l){var f=i.stateNode;if(f===null)return null;var g=Sc(f);if(g===null)return null;f=g[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(i=i.type,g=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!g;break e;default:i=!1}if(i)return null;if(f&&typeof f!="function")throw Error(r(231,l,typeof f));return f}var Pf=!1;if(u)try{var to={};Object.defineProperty(to,"passive",{get:function(){Pf=!0}}),window.addEventListener("test",to,to),window.removeEventListener("test",to,to)}catch{Pf=!1}function bC(i,l,f,g,v,_,E,H,K){var ee=Array.prototype.slice.call(arguments,3);try{l.apply(f,ee)}catch(se){this.onError(se)}}var ro=!1,tc=null,rc=!1,Ef=null,wC={onError:function(i){ro=!0,tc=i}};function jC(i,l,f,g,v,_,E,H,K){ro=!1,tc=null,bC.apply(wC,arguments)}function SC(i,l,f,g,v,_,E,H,K){if(jC.apply(this,arguments),ro){if(ro){var ee=tc;ro=!1,tc=null}else throw Error(r(198));rc||(rc=!0,Ef=ee)}}function Ia(i){var l=i,f=i;if(i.alternate)for(;l.return;)l=l.return;else{i=l;do l=i,(l.flags&4098)!==0&&(f=l.return),i=l.return;while(i)}return l.tag===3?f:null}function yb(i){if(i.tag===13){var l=i.memoizedState;if(l===null&&(i=i.alternate,i!==null&&(l=i.memoizedState)),l!==null)return l.dehydrated}return null}function vb(i){if(Ia(i)!==i)throw Error(r(188))}function _C(i){var l=i.alternate;if(!l){if(l=Ia(i),l===null)throw Error(r(188));return l!==i?null:i}for(var f=i,g=l;;){var v=f.return;if(v===null)break;var _=v.alternate;if(_===null){if(g=v.return,g!==null){f=g;continue}break}if(v.child===_.child){for(_=v.child;_;){if(_===f)return vb(v),i;if(_===g)return vb(v),l;_=_.sibling}throw Error(r(188))}if(f.return!==g.return)f=v,g=_;else{for(var E=!1,H=v.child;H;){if(H===f){E=!0,f=v,g=_;break}if(H===g){E=!0,g=v,f=_;break}H=H.sibling}if(!E){for(H=_.child;H;){if(H===f){E=!0,f=_,g=v;break}if(H===g){E=!0,g=_,f=v;break}H=H.sibling}if(!E)throw Error(r(189))}}if(f.alternate!==g)throw Error(r(190))}if(f.tag!==3)throw Error(r(188));return f.stateNode.current===f?i:l}function xb(i){return i=_C(i),i!==null?bb(i):null}function bb(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var l=bb(i);if(l!==null)return l;i=i.sibling}return null}var wb=e.unstable_scheduleCallback,jb=e.unstable_cancelCallback,NC=e.unstable_shouldYield,kC=e.unstable_requestPaint,gt=e.unstable_now,OC=e.unstable_getCurrentPriorityLevel,Tf=e.unstable_ImmediatePriority,Sb=e.unstable_UserBlockingPriority,nc=e.unstable_NormalPriority,AC=e.unstable_LowPriority,_b=e.unstable_IdlePriority,ac=null,un=null;function PC(i){if(un&&typeof un.onCommitFiberRoot=="function")try{un.onCommitFiberRoot(ac,i,void 0,(i.current.flags&128)===128)}catch{}}var Vr=Math.clz32?Math.clz32:CC,EC=Math.log,TC=Math.LN2;function CC(i){return i>>>=0,i===0?32:31-(EC(i)/TC|0)|0}var ic=64,sc=4194304;function no(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function oc(i,l){var f=i.pendingLanes;if(f===0)return 0;var g=0,v=i.suspendedLanes,_=i.pingedLanes,E=f&268435455;if(E!==0){var H=E&~v;H!==0?g=no(H):(_&=E,_!==0&&(g=no(_)))}else E=f&~v,E!==0?g=no(E):_!==0&&(g=no(_));if(g===0)return 0;if(l!==0&&l!==g&&(l&v)===0&&(v=g&-g,_=l&-l,v>=_||v===16&&(_&4194240)!==0))return l;if((g&4)!==0&&(g|=f&16),l=i.entangledLanes,l!==0)for(i=i.entanglements,l&=g;0<l;)f=31-Vr(l),v=1<<f,g|=i[f],l&=~v;return g}function IC(i,l){switch(i){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function MC(i,l){for(var f=i.suspendedLanes,g=i.pingedLanes,v=i.expirationTimes,_=i.pendingLanes;0<_;){var E=31-Vr(_),H=1<<E,K=v[E];K===-1?((H&f)===0||(H&g)!==0)&&(v[E]=IC(H,l)):K<=l&&(i.expiredLanes|=H),_&=~H}}function Cf(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Nb(){var i=ic;return ic<<=1,(ic&4194240)===0&&(ic=64),i}function If(i){for(var l=[],f=0;31>f;f++)l.push(i);return l}function ao(i,l,f){i.pendingLanes|=l,l!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,l=31-Vr(l),i[l]=f}function RC(i,l){var f=i.pendingLanes&~l;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=l,i.mutableReadLanes&=l,i.entangledLanes&=l,l=i.entanglements;var g=i.eventTimes;for(i=i.expirationTimes;0<f;){var v=31-Vr(f),_=1<<v;l[v]=0,g[v]=-1,i[v]=-1,f&=~_}}function Mf(i,l){var f=i.entangledLanes|=l;for(i=i.entanglements;f;){var g=31-Vr(f),v=1<<g;v&l|i[g]&l&&(i[g]|=l),f&=~v}}var Ge=0;function kb(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var Ob,Rf,Ab,Pb,Eb,$f=!1,lc=[],Yn=null,Xn=null,Qn=null,io=new Map,so=new Map,Zn=[],$C="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Tb(i,l){switch(i){case"focusin":case"focusout":Yn=null;break;case"dragenter":case"dragleave":Xn=null;break;case"mouseover":case"mouseout":Qn=null;break;case"pointerover":case"pointerout":io.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":so.delete(l.pointerId)}}function oo(i,l,f,g,v,_){return i===null||i.nativeEvent!==_?(i={blockedOn:l,domEventName:f,eventSystemFlags:g,nativeEvent:_,targetContainers:[v]},l!==null&&(l=jo(l),l!==null&&Rf(l)),i):(i.eventSystemFlags|=g,l=i.targetContainers,v!==null&&l.indexOf(v)===-1&&l.push(v),i)}function DC(i,l,f,g,v){switch(l){case"focusin":return Yn=oo(Yn,i,l,f,g,v),!0;case"dragenter":return Xn=oo(Xn,i,l,f,g,v),!0;case"mouseover":return Qn=oo(Qn,i,l,f,g,v),!0;case"pointerover":var _=v.pointerId;return io.set(_,oo(io.get(_)||null,i,l,f,g,v)),!0;case"gotpointercapture":return _=v.pointerId,so.set(_,oo(so.get(_)||null,i,l,f,g,v)),!0}return!1}function Cb(i){var l=Ma(i.target);if(l!==null){var f=Ia(l);if(f!==null){if(l=f.tag,l===13){if(l=yb(f),l!==null){i.blockedOn=l,Eb(i.priority,function(){Ab(f)});return}}else if(l===3&&f.stateNode.current.memoizedState.isDehydrated){i.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}i.blockedOn=null}function cc(i){if(i.blockedOn!==null)return!1;for(var l=i.targetContainers;0<l.length;){var f=Lf(i.domEventName,i.eventSystemFlags,l[0],i.nativeEvent);if(f===null){f=i.nativeEvent;var g=new f.constructor(f.type,f);Nf=g,f.target.dispatchEvent(g),Nf=null}else return l=jo(f),l!==null&&Rf(l),i.blockedOn=f,!1;l.shift()}return!0}function Ib(i,l,f){cc(i)&&f.delete(l)}function LC(){$f=!1,Yn!==null&&cc(Yn)&&(Yn=null),Xn!==null&&cc(Xn)&&(Xn=null),Qn!==null&&cc(Qn)&&(Qn=null),io.forEach(Ib),so.forEach(Ib)}function lo(i,l){i.blockedOn===l&&(i.blockedOn=null,$f||($f=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,LC)))}function co(i){function l(v){return lo(v,i)}if(0<lc.length){lo(lc[0],i);for(var f=1;f<lc.length;f++){var g=lc[f];g.blockedOn===i&&(g.blockedOn=null)}}for(Yn!==null&&lo(Yn,i),Xn!==null&&lo(Xn,i),Qn!==null&&lo(Qn,i),io.forEach(l),so.forEach(l),f=0;f<Zn.length;f++)g=Zn[f],g.blockedOn===i&&(g.blockedOn=null);for(;0<Zn.length&&(f=Zn[0],f.blockedOn===null);)Cb(f),f.blockedOn===null&&Zn.shift()}var Si=P.ReactCurrentBatchConfig,uc=!0;function BC(i,l,f,g){var v=Ge,_=Si.transition;Si.transition=null;try{Ge=1,Df(i,l,f,g)}finally{Ge=v,Si.transition=_}}function FC(i,l,f,g){var v=Ge,_=Si.transition;Si.transition=null;try{Ge=4,Df(i,l,f,g)}finally{Ge=v,Si.transition=_}}function Df(i,l,f,g){if(uc){var v=Lf(i,l,f,g);if(v===null)tm(i,l,g,dc,f),Tb(i,g);else if(DC(v,i,l,f,g))g.stopPropagation();else if(Tb(i,g),l&4&&-1<$C.indexOf(i)){for(;v!==null;){var _=jo(v);if(_!==null&&Ob(_),_=Lf(i,l,f,g),_===null&&tm(i,l,g,dc,f),_===v)break;v=_}v!==null&&g.stopPropagation()}else tm(i,l,g,null,f)}}var dc=null;function Lf(i,l,f,g){if(dc=null,i=kf(g),i=Ma(i),i!==null)if(l=Ia(i),l===null)i=null;else if(f=l.tag,f===13){if(i=yb(l),i!==null)return i;i=null}else if(f===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;i=null}else l!==i&&(i=null);return dc=i,null}function Mb(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(OC()){case Tf:return 1;case Sb:return 4;case nc:case AC:return 16;case _b:return 536870912;default:return 16}default:return 16}}var Jn=null,Bf=null,fc=null;function Rb(){if(fc)return fc;var i,l=Bf,f=l.length,g,v="value"in Jn?Jn.value:Jn.textContent,_=v.length;for(i=0;i<f&&l[i]===v[i];i++);var E=f-i;for(g=1;g<=E&&l[f-g]===v[_-g];g++);return fc=v.slice(i,1<g?1-g:void 0)}function mc(i){var l=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&l===13&&(i=13)):i=l,i===10&&(i=13),32<=i||i===13?i:0}function hc(){return!0}function $b(){return!1}function yr(i){function l(f,g,v,_,E){this._reactName=f,this._targetInst=v,this.type=g,this.nativeEvent=_,this.target=E,this.currentTarget=null;for(var H in i)i.hasOwnProperty(H)&&(f=i[H],this[H]=f?f(_):_[H]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?hc:$b,this.isPropagationStopped=$b,this}return Q(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=hc)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=hc)},persist:function(){},isPersistent:hc}),l}var _i={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ff=yr(_i),uo=Q({},_i,{view:0,detail:0}),zC=yr(uo),zf,qf,fo,pc=Q({},uo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wf,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==fo&&(fo&&i.type==="mousemove"?(zf=i.screenX-fo.screenX,qf=i.screenY-fo.screenY):qf=zf=0,fo=i),zf)},movementY:function(i){return"movementY"in i?i.movementY:qf}}),Db=yr(pc),qC=Q({},pc,{dataTransfer:0}),UC=yr(qC),WC=Q({},uo,{relatedTarget:0}),Uf=yr(WC),HC=Q({},_i,{animationName:0,elapsedTime:0,pseudoElement:0}),GC=yr(HC),VC=Q({},_i,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),KC=yr(VC),YC=Q({},_i,{data:0}),Lb=yr(YC),XC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},QC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ZC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function JC(i){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(i):(i=ZC[i])?!!l[i]:!1}function Wf(){return JC}var eI=Q({},uo,{key:function(i){if(i.key){var l=XC[i.key]||i.key;if(l!=="Unidentified")return l}return i.type==="keypress"?(i=mc(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?QC[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wf,charCode:function(i){return i.type==="keypress"?mc(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?mc(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),tI=yr(eI),rI=Q({},pc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bb=yr(rI),nI=Q({},uo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wf}),aI=yr(nI),iI=Q({},_i,{propertyName:0,elapsedTime:0,pseudoElement:0}),sI=yr(iI),oI=Q({},pc,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),lI=yr(oI),cI=[9,13,27,32],Hf=u&&"CompositionEvent"in window,mo=null;u&&"documentMode"in document&&(mo=document.documentMode);var uI=u&&"TextEvent"in window&&!mo,Fb=u&&(!Hf||mo&&8<mo&&11>=mo),zb=" ",qb=!1;function Ub(i,l){switch(i){case"keyup":return cI.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wb(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Ni=!1;function dI(i,l){switch(i){case"compositionend":return Wb(l);case"keypress":return l.which!==32?null:(qb=!0,zb);case"textInput":return i=l.data,i===zb&&qb?null:i;default:return null}}function fI(i,l){if(Ni)return i==="compositionend"||!Hf&&Ub(i,l)?(i=Rb(),fc=Bf=Jn=null,Ni=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Fb&&l.locale!=="ko"?null:l.data;default:return null}}var mI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hb(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l==="input"?!!mI[i.type]:l==="textarea"}function Gb(i,l,f,g){fb(g),l=bc(l,"onChange"),0<l.length&&(f=new Ff("onChange","change",null,f,g),i.push({event:f,listeners:l}))}var ho=null,po=null;function hI(i){uw(i,0)}function gc(i){var l=Ei(i);if(ne(l))return i}function pI(i,l){if(i==="change")return l}var Vb=!1;if(u){var Gf;if(u){var Vf="oninput"in document;if(!Vf){var Kb=document.createElement("div");Kb.setAttribute("oninput","return;"),Vf=typeof Kb.oninput=="function"}Gf=Vf}else Gf=!1;Vb=Gf&&(!document.documentMode||9<document.documentMode)}function Yb(){ho&&(ho.detachEvent("onpropertychange",Xb),po=ho=null)}function Xb(i){if(i.propertyName==="value"&&gc(po)){var l=[];Gb(l,po,i,kf(i)),gb(hI,l)}}function gI(i,l,f){i==="focusin"?(Yb(),ho=l,po=f,ho.attachEvent("onpropertychange",Xb)):i==="focusout"&&Yb()}function yI(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return gc(po)}function vI(i,l){if(i==="click")return gc(l)}function xI(i,l){if(i==="input"||i==="change")return gc(l)}function bI(i,l){return i===l&&(i!==0||1/i===1/l)||i!==i&&l!==l}var Kr=typeof Object.is=="function"?Object.is:bI;function go(i,l){if(Kr(i,l))return!0;if(typeof i!="object"||i===null||typeof l!="object"||l===null)return!1;var f=Object.keys(i),g=Object.keys(l);if(f.length!==g.length)return!1;for(g=0;g<f.length;g++){var v=f[g];if(!d.call(l,v)||!Kr(i[v],l[v]))return!1}return!0}function Qb(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Zb(i,l){var f=Qb(i);i=0;for(var g;f;){if(f.nodeType===3){if(g=i+f.textContent.length,i<=l&&g>=l)return{node:f,offset:l-i};i=g}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=Qb(f)}}function Jb(i,l){return i&&l?i===l?!0:i&&i.nodeType===3?!1:l&&l.nodeType===3?Jb(i,l.parentNode):"contains"in i?i.contains(l):i.compareDocumentPosition?!!(i.compareDocumentPosition(l)&16):!1:!1}function ew(){for(var i=window,l=De();l instanceof i.HTMLIFrameElement;){try{var f=typeof l.contentWindow.location.href=="string"}catch{f=!1}if(f)i=l.contentWindow;else break;l=De(i.document)}return l}function Kf(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l&&(l==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||l==="textarea"||i.contentEditable==="true")}function wI(i){var l=ew(),f=i.focusedElem,g=i.selectionRange;if(l!==f&&f&&f.ownerDocument&&Jb(f.ownerDocument.documentElement,f)){if(g!==null&&Kf(f)){if(l=g.start,i=g.end,i===void 0&&(i=l),"selectionStart"in f)f.selectionStart=l,f.selectionEnd=Math.min(i,f.value.length);else if(i=(l=f.ownerDocument||document)&&l.defaultView||window,i.getSelection){i=i.getSelection();var v=f.textContent.length,_=Math.min(g.start,v);g=g.end===void 0?_:Math.min(g.end,v),!i.extend&&_>g&&(v=g,g=_,_=v),v=Zb(f,_);var E=Zb(f,g);v&&E&&(i.rangeCount!==1||i.anchorNode!==v.node||i.anchorOffset!==v.offset||i.focusNode!==E.node||i.focusOffset!==E.offset)&&(l=l.createRange(),l.setStart(v.node,v.offset),i.removeAllRanges(),_>g?(i.addRange(l),i.extend(E.node,E.offset)):(l.setEnd(E.node,E.offset),i.addRange(l)))}}for(l=[],i=f;i=i.parentNode;)i.nodeType===1&&l.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<l.length;f++)i=l[f],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var jI=u&&"documentMode"in document&&11>=document.documentMode,ki=null,Yf=null,yo=null,Xf=!1;function tw(i,l,f){var g=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;Xf||ki==null||ki!==De(g)||(g=ki,"selectionStart"in g&&Kf(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),yo&&go(yo,g)||(yo=g,g=bc(Yf,"onSelect"),0<g.length&&(l=new Ff("onSelect","select",null,l,f),i.push({event:l,listeners:g}),l.target=ki)))}function yc(i,l){var f={};return f[i.toLowerCase()]=l.toLowerCase(),f["Webkit"+i]="webkit"+l,f["Moz"+i]="moz"+l,f}var Oi={animationend:yc("Animation","AnimationEnd"),animationiteration:yc("Animation","AnimationIteration"),animationstart:yc("Animation","AnimationStart"),transitionend:yc("Transition","TransitionEnd")},Qf={},rw={};u&&(rw=document.createElement("div").style,"AnimationEvent"in window||(delete Oi.animationend.animation,delete Oi.animationiteration.animation,delete Oi.animationstart.animation),"TransitionEvent"in window||delete Oi.transitionend.transition);function vc(i){if(Qf[i])return Qf[i];if(!Oi[i])return i;var l=Oi[i],f;for(f in l)if(l.hasOwnProperty(f)&&f in rw)return Qf[i]=l[f];return i}var nw=vc("animationend"),aw=vc("animationiteration"),iw=vc("animationstart"),sw=vc("transitionend"),ow=new Map,lw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ea(i,l){ow.set(i,l),s(l,[i])}for(var Zf=0;Zf<lw.length;Zf++){var Jf=lw[Zf],SI=Jf.toLowerCase(),_I=Jf[0].toUpperCase()+Jf.slice(1);ea(SI,"on"+_I)}ea(nw,"onAnimationEnd"),ea(aw,"onAnimationIteration"),ea(iw,"onAnimationStart"),ea("dblclick","onDoubleClick"),ea("focusin","onFocus"),ea("focusout","onBlur"),ea(sw,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),NI=new Set("cancel close invalid load scroll toggle".split(" ").concat(vo));function cw(i,l,f){var g=i.type||"unknown-event";i.currentTarget=f,SC(g,l,void 0,i),i.currentTarget=null}function uw(i,l){l=(l&4)!==0;for(var f=0;f<i.length;f++){var g=i[f],v=g.event;g=g.listeners;e:{var _=void 0;if(l)for(var E=g.length-1;0<=E;E--){var H=g[E],K=H.instance,ee=H.currentTarget;if(H=H.listener,K!==_&&v.isPropagationStopped())break e;cw(v,H,ee),_=K}else for(E=0;E<g.length;E++){if(H=g[E],K=H.instance,ee=H.currentTarget,H=H.listener,K!==_&&v.isPropagationStopped())break e;cw(v,H,ee),_=K}}}if(rc)throw i=Ef,rc=!1,Ef=null,i}function Je(i,l){var f=l[om];f===void 0&&(f=l[om]=new Set);var g=i+"__bubble";f.has(g)||(dw(l,i,2,!1),f.add(g))}function em(i,l,f){var g=0;l&&(g|=4),dw(f,i,g,l)}var xc="_reactListening"+Math.random().toString(36).slice(2);function xo(i){if(!i[xc]){i[xc]=!0,n.forEach(function(f){f!=="selectionchange"&&(NI.has(f)||em(f,!1,i),em(f,!0,i))});var l=i.nodeType===9?i:i.ownerDocument;l===null||l[xc]||(l[xc]=!0,em("selectionchange",!1,l))}}function dw(i,l,f,g){switch(Mb(l)){case 1:var v=BC;break;case 4:v=FC;break;default:v=Df}f=v.bind(null,l,f,i),v=void 0,!Pf||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(v=!0),g?v!==void 0?i.addEventListener(l,f,{capture:!0,passive:v}):i.addEventListener(l,f,!0):v!==void 0?i.addEventListener(l,f,{passive:v}):i.addEventListener(l,f,!1)}function tm(i,l,f,g,v){var _=g;if((l&1)===0&&(l&2)===0&&g!==null)e:for(;;){if(g===null)return;var E=g.tag;if(E===3||E===4){var H=g.stateNode.containerInfo;if(H===v||H.nodeType===8&&H.parentNode===v)break;if(E===4)for(E=g.return;E!==null;){var K=E.tag;if((K===3||K===4)&&(K=E.stateNode.containerInfo,K===v||K.nodeType===8&&K.parentNode===v))return;E=E.return}for(;H!==null;){if(E=Ma(H),E===null)return;if(K=E.tag,K===5||K===6){g=_=E;continue e}H=H.parentNode}}g=g.return}gb(function(){var ee=_,se=kf(f),ce=[];e:{var ie=ow.get(i);if(ie!==void 0){var me=Ff,ye=i;switch(i){case"keypress":if(mc(f)===0)break e;case"keydown":case"keyup":me=tI;break;case"focusin":ye="focus",me=Uf;break;case"focusout":ye="blur",me=Uf;break;case"beforeblur":case"afterblur":me=Uf;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":me=Db;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":me=UC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":me=aI;break;case nw:case aw:case iw:me=GC;break;case sw:me=sI;break;case"scroll":me=zC;break;case"wheel":me=lI;break;case"copy":case"cut":case"paste":me=KC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":me=Bb}var be=(l&4)!==0,yt=!be&&i==="scroll",Z=be?ie!==null?ie+"Capture":null:ie;be=[];for(var X=ee,J;X!==null;){J=X;var de=J.stateNode;if(J.tag===5&&de!==null&&(J=de,Z!==null&&(de=eo(X,Z),de!=null&&be.push(bo(X,de,J)))),yt)break;X=X.return}0<be.length&&(ie=new me(ie,ye,null,f,se),ce.push({event:ie,listeners:be}))}}if((l&7)===0){e:{if(ie=i==="mouseover"||i==="pointerover",me=i==="mouseout"||i==="pointerout",ie&&f!==Nf&&(ye=f.relatedTarget||f.fromElement)&&(Ma(ye)||ye[Nn]))break e;if((me||ie)&&(ie=se.window===se?se:(ie=se.ownerDocument)?ie.defaultView||ie.parentWindow:window,me?(ye=f.relatedTarget||f.toElement,me=ee,ye=ye?Ma(ye):null,ye!==null&&(yt=Ia(ye),ye!==yt||ye.tag!==5&&ye.tag!==6)&&(ye=null)):(me=null,ye=ee),me!==ye)){if(be=Db,de="onMouseLeave",Z="onMouseEnter",X="mouse",(i==="pointerout"||i==="pointerover")&&(be=Bb,de="onPointerLeave",Z="onPointerEnter",X="pointer"),yt=me==null?ie:Ei(me),J=ye==null?ie:Ei(ye),ie=new be(de,X+"leave",me,f,se),ie.target=yt,ie.relatedTarget=J,de=null,Ma(se)===ee&&(be=new be(Z,X+"enter",ye,f,se),be.target=J,be.relatedTarget=yt,de=be),yt=de,me&&ye)t:{for(be=me,Z=ye,X=0,J=be;J;J=Ai(J))X++;for(J=0,de=Z;de;de=Ai(de))J++;for(;0<X-J;)be=Ai(be),X--;for(;0<J-X;)Z=Ai(Z),J--;for(;X--;){if(be===Z||Z!==null&&be===Z.alternate)break t;be=Ai(be),Z=Ai(Z)}be=null}else be=null;me!==null&&fw(ce,ie,me,be,!1),ye!==null&&yt!==null&&fw(ce,yt,ye,be,!0)}}e:{if(ie=ee?Ei(ee):window,me=ie.nodeName&&ie.nodeName.toLowerCase(),me==="select"||me==="input"&&ie.type==="file")var je=pI;else if(Hb(ie))if(Vb)je=xI;else{je=yI;var Ne=gI}else(me=ie.nodeName)&&me.toLowerCase()==="input"&&(ie.type==="checkbox"||ie.type==="radio")&&(je=vI);if(je&&(je=je(i,ee))){Gb(ce,je,f,se);break e}Ne&&Ne(i,ie,ee),i==="focusout"&&(Ne=ie._wrapperState)&&Ne.controlled&&ie.type==="number"&&kr(ie,"number",ie.value)}switch(Ne=ee?Ei(ee):window,i){case"focusin":(Hb(Ne)||Ne.contentEditable==="true")&&(ki=Ne,Yf=ee,yo=null);break;case"focusout":yo=Yf=ki=null;break;case"mousedown":Xf=!0;break;case"contextmenu":case"mouseup":case"dragend":Xf=!1,tw(ce,f,se);break;case"selectionchange":if(jI)break;case"keydown":case"keyup":tw(ce,f,se)}var ke;if(Hf)e:{switch(i){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else Ni?Ub(i,f)&&(Te="onCompositionEnd"):i==="keydown"&&f.keyCode===229&&(Te="onCompositionStart");Te&&(Fb&&f.locale!=="ko"&&(Ni||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&Ni&&(ke=Rb()):(Jn=se,Bf="value"in Jn?Jn.value:Jn.textContent,Ni=!0)),Ne=bc(ee,Te),0<Ne.length&&(Te=new Lb(Te,i,null,f,se),ce.push({event:Te,listeners:Ne}),ke?Te.data=ke:(ke=Wb(f),ke!==null&&(Te.data=ke)))),(ke=uI?dI(i,f):fI(i,f))&&(ee=bc(ee,"onBeforeInput"),0<ee.length&&(se=new Lb("onBeforeInput","beforeinput",null,f,se),ce.push({event:se,listeners:ee}),se.data=ke))}uw(ce,l)})}function bo(i,l,f){return{instance:i,listener:l,currentTarget:f}}function bc(i,l){for(var f=l+"Capture",g=[];i!==null;){var v=i,_=v.stateNode;v.tag===5&&_!==null&&(v=_,_=eo(i,f),_!=null&&g.unshift(bo(i,_,v)),_=eo(i,l),_!=null&&g.push(bo(i,_,v))),i=i.return}return g}function Ai(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function fw(i,l,f,g,v){for(var _=l._reactName,E=[];f!==null&&f!==g;){var H=f,K=H.alternate,ee=H.stateNode;if(K!==null&&K===g)break;H.tag===5&&ee!==null&&(H=ee,v?(K=eo(f,_),K!=null&&E.unshift(bo(f,K,H))):v||(K=eo(f,_),K!=null&&E.push(bo(f,K,H)))),f=f.return}E.length!==0&&i.push({event:l,listeners:E})}var kI=/\r\n?/g,OI=/\u0000|\uFFFD/g;function mw(i){return(typeof i=="string"?i:""+i).replace(kI,`
`).replace(OI,"")}function wc(i,l,f){if(l=mw(l),mw(i)!==l&&f)throw Error(r(425))}function jc(){}var rm=null,nm=null;function am(i,l){return i==="textarea"||i==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var im=typeof setTimeout=="function"?setTimeout:void 0,AI=typeof clearTimeout=="function"?clearTimeout:void 0,hw=typeof Promise=="function"?Promise:void 0,PI=typeof queueMicrotask=="function"?queueMicrotask:typeof hw<"u"?function(i){return hw.resolve(null).then(i).catch(EI)}:im;function EI(i){setTimeout(function(){throw i})}function sm(i,l){var f=l,g=0;do{var v=f.nextSibling;if(i.removeChild(f),v&&v.nodeType===8)if(f=v.data,f==="/$"){if(g===0){i.removeChild(v),co(l);return}g--}else f!=="$"&&f!=="$?"&&f!=="$!"||g++;f=v}while(f);co(l)}function ta(i){for(;i!=null;i=i.nextSibling){var l=i.nodeType;if(l===1||l===3)break;if(l===8){if(l=i.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return i}function pw(i){i=i.previousSibling;for(var l=0;i;){if(i.nodeType===8){var f=i.data;if(f==="$"||f==="$!"||f==="$?"){if(l===0)return i;l--}else f==="/$"&&l++}i=i.previousSibling}return null}var Pi=Math.random().toString(36).slice(2),dn="__reactFiber$"+Pi,wo="__reactProps$"+Pi,Nn="__reactContainer$"+Pi,om="__reactEvents$"+Pi,TI="__reactListeners$"+Pi,CI="__reactHandles$"+Pi;function Ma(i){var l=i[dn];if(l)return l;for(var f=i.parentNode;f;){if(l=f[Nn]||f[dn]){if(f=l.alternate,l.child!==null||f!==null&&f.child!==null)for(i=pw(i);i!==null;){if(f=i[dn])return f;i=pw(i)}return l}i=f,f=i.parentNode}return null}function jo(i){return i=i[dn]||i[Nn],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Ei(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(r(33))}function Sc(i){return i[wo]||null}var lm=[],Ti=-1;function ra(i){return{current:i}}function et(i){0>Ti||(i.current=lm[Ti],lm[Ti]=null,Ti--)}function Ye(i,l){Ti++,lm[Ti]=i.current,i.current=l}var na={},Gt=ra(na),or=ra(!1),Ra=na;function Ci(i,l){var f=i.type.contextTypes;if(!f)return na;var g=i.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===l)return g.__reactInternalMemoizedMaskedChildContext;var v={},_;for(_ in f)v[_]=l[_];return g&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=l,i.__reactInternalMemoizedMaskedChildContext=v),v}function lr(i){return i=i.childContextTypes,i!=null}function _c(){et(or),et(Gt)}function gw(i,l,f){if(Gt.current!==na)throw Error(r(168));Ye(Gt,l),Ye(or,f)}function yw(i,l,f){var g=i.stateNode;if(l=l.childContextTypes,typeof g.getChildContext!="function")return f;g=g.getChildContext();for(var v in g)if(!(v in l))throw Error(r(108,Le(i)||"Unknown",v));return Q({},f,g)}function Nc(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||na,Ra=Gt.current,Ye(Gt,i),Ye(or,or.current),!0}function vw(i,l,f){var g=i.stateNode;if(!g)throw Error(r(169));f?(i=yw(i,l,Ra),g.__reactInternalMemoizedMergedChildContext=i,et(or),et(Gt),Ye(Gt,i)):et(or),Ye(or,f)}var kn=null,kc=!1,cm=!1;function xw(i){kn===null?kn=[i]:kn.push(i)}function II(i){kc=!0,xw(i)}function aa(){if(!cm&&kn!==null){cm=!0;var i=0,l=Ge;try{var f=kn;for(Ge=1;i<f.length;i++){var g=f[i];do g=g(!0);while(g!==null)}kn=null,kc=!1}catch(v){throw kn!==null&&(kn=kn.slice(i+1)),wb(Tf,aa),v}finally{Ge=l,cm=!1}}return null}var Ii=[],Mi=0,Oc=null,Ac=0,Ar=[],Pr=0,$a=null,On=1,An="";function Da(i,l){Ii[Mi++]=Ac,Ii[Mi++]=Oc,Oc=i,Ac=l}function bw(i,l,f){Ar[Pr++]=On,Ar[Pr++]=An,Ar[Pr++]=$a,$a=i;var g=On;i=An;var v=32-Vr(g)-1;g&=~(1<<v),f+=1;var _=32-Vr(l)+v;if(30<_){var E=v-v%5;_=(g&(1<<E)-1).toString(32),g>>=E,v-=E,On=1<<32-Vr(l)+v|f<<v|g,An=_+i}else On=1<<_|f<<v|g,An=i}function um(i){i.return!==null&&(Da(i,1),bw(i,1,0))}function dm(i){for(;i===Oc;)Oc=Ii[--Mi],Ii[Mi]=null,Ac=Ii[--Mi],Ii[Mi]=null;for(;i===$a;)$a=Ar[--Pr],Ar[Pr]=null,An=Ar[--Pr],Ar[Pr]=null,On=Ar[--Pr],Ar[Pr]=null}var vr=null,xr=null,st=!1,Yr=null;function ww(i,l){var f=Ir(5,null,null,0);f.elementType="DELETED",f.stateNode=l,f.return=i,l=i.deletions,l===null?(i.deletions=[f],i.flags|=16):l.push(f)}function jw(i,l){switch(i.tag){case 5:var f=i.type;return l=l.nodeType!==1||f.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(i.stateNode=l,vr=i,xr=ta(l.firstChild),!0):!1;case 6:return l=i.pendingProps===""||l.nodeType!==3?null:l,l!==null?(i.stateNode=l,vr=i,xr=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(f=$a!==null?{id:On,overflow:An}:null,i.memoizedState={dehydrated:l,treeContext:f,retryLane:1073741824},f=Ir(18,null,null,0),f.stateNode=l,f.return=i,i.child=f,vr=i,xr=null,!0):!1;default:return!1}}function fm(i){return(i.mode&1)!==0&&(i.flags&128)===0}function mm(i){if(st){var l=xr;if(l){var f=l;if(!jw(i,l)){if(fm(i))throw Error(r(418));l=ta(f.nextSibling);var g=vr;l&&jw(i,l)?ww(g,f):(i.flags=i.flags&-4097|2,st=!1,vr=i)}}else{if(fm(i))throw Error(r(418));i.flags=i.flags&-4097|2,st=!1,vr=i}}}function Sw(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;vr=i}function Pc(i){if(i!==vr)return!1;if(!st)return Sw(i),st=!0,!1;var l;if((l=i.tag!==3)&&!(l=i.tag!==5)&&(l=i.type,l=l!=="head"&&l!=="body"&&!am(i.type,i.memoizedProps)),l&&(l=xr)){if(fm(i))throw _w(),Error(r(418));for(;l;)ww(i,l),l=ta(l.nextSibling)}if(Sw(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,l=0;i;){if(i.nodeType===8){var f=i.data;if(f==="/$"){if(l===0){xr=ta(i.nextSibling);break e}l--}else f!=="$"&&f!=="$!"&&f!=="$?"||l++}i=i.nextSibling}xr=null}}else xr=vr?ta(i.stateNode.nextSibling):null;return!0}function _w(){for(var i=xr;i;)i=ta(i.nextSibling)}function Ri(){xr=vr=null,st=!1}function hm(i){Yr===null?Yr=[i]:Yr.push(i)}var MI=P.ReactCurrentBatchConfig;function So(i,l,f){if(i=f.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(f._owner){if(f=f._owner,f){if(f.tag!==1)throw Error(r(309));var g=f.stateNode}if(!g)throw Error(r(147,i));var v=g,_=""+i;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===_?l.ref:(l=function(E){var H=v.refs;E===null?delete H[_]:H[_]=E},l._stringRef=_,l)}if(typeof i!="string")throw Error(r(284));if(!f._owner)throw Error(r(290,i))}return i}function Ec(i,l){throw i=Object.prototype.toString.call(l),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":i))}function Nw(i){var l=i._init;return l(i._payload)}function kw(i){function l(Z,X){if(i){var J=Z.deletions;J===null?(Z.deletions=[X],Z.flags|=16):J.push(X)}}function f(Z,X){if(!i)return null;for(;X!==null;)l(Z,X),X=X.sibling;return null}function g(Z,X){for(Z=new Map;X!==null;)X.key!==null?Z.set(X.key,X):Z.set(X.index,X),X=X.sibling;return Z}function v(Z,X){return Z=fa(Z,X),Z.index=0,Z.sibling=null,Z}function _(Z,X,J){return Z.index=J,i?(J=Z.alternate,J!==null?(J=J.index,J<X?(Z.flags|=2,X):J):(Z.flags|=2,X)):(Z.flags|=1048576,X)}function E(Z){return i&&Z.alternate===null&&(Z.flags|=2),Z}function H(Z,X,J,de){return X===null||X.tag!==6?(X=ih(J,Z.mode,de),X.return=Z,X):(X=v(X,J),X.return=Z,X)}function K(Z,X,J,de){var je=J.type;return je===T?se(Z,X,J.props.children,de,J.key):X!==null&&(X.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===M&&Nw(je)===X.type)?(de=v(X,J.props),de.ref=So(Z,X,J),de.return=Z,de):(de=eu(J.type,J.key,J.props,null,Z.mode,de),de.ref=So(Z,X,J),de.return=Z,de)}function ee(Z,X,J,de){return X===null||X.tag!==4||X.stateNode.containerInfo!==J.containerInfo||X.stateNode.implementation!==J.implementation?(X=sh(J,Z.mode,de),X.return=Z,X):(X=v(X,J.children||[]),X.return=Z,X)}function se(Z,X,J,de,je){return X===null||X.tag!==7?(X=Ha(J,Z.mode,de,je),X.return=Z,X):(X=v(X,J),X.return=Z,X)}function ce(Z,X,J){if(typeof X=="string"&&X!==""||typeof X=="number")return X=ih(""+X,Z.mode,J),X.return=Z,X;if(typeof X=="object"&&X!==null){switch(X.$$typeof){case N:return J=eu(X.type,X.key,X.props,null,Z.mode,J),J.ref=So(Z,null,X),J.return=Z,J;case A:return X=sh(X,Z.mode,J),X.return=Z,X;case M:var de=X._init;return ce(Z,de(X._payload),J)}if(Or(X)||W(X))return X=Ha(X,Z.mode,J,null),X.return=Z,X;Ec(Z,X)}return null}function ie(Z,X,J,de){var je=X!==null?X.key:null;if(typeof J=="string"&&J!==""||typeof J=="number")return je!==null?null:H(Z,X,""+J,de);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case N:return J.key===je?K(Z,X,J,de):null;case A:return J.key===je?ee(Z,X,J,de):null;case M:return je=J._init,ie(Z,X,je(J._payload),de)}if(Or(J)||W(J))return je!==null?null:se(Z,X,J,de,null);Ec(Z,J)}return null}function me(Z,X,J,de,je){if(typeof de=="string"&&de!==""||typeof de=="number")return Z=Z.get(J)||null,H(X,Z,""+de,je);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case N:return Z=Z.get(de.key===null?J:de.key)||null,K(X,Z,de,je);case A:return Z=Z.get(de.key===null?J:de.key)||null,ee(X,Z,de,je);case M:var Ne=de._init;return me(Z,X,J,Ne(de._payload),je)}if(Or(de)||W(de))return Z=Z.get(J)||null,se(X,Z,de,je,null);Ec(X,de)}return null}function ye(Z,X,J,de){for(var je=null,Ne=null,ke=X,Te=X=0,Rt=null;ke!==null&&Te<J.length;Te++){ke.index>Te?(Rt=ke,ke=null):Rt=ke.sibling;var Fe=ie(Z,ke,J[Te],de);if(Fe===null){ke===null&&(ke=Rt);break}i&&ke&&Fe.alternate===null&&l(Z,ke),X=_(Fe,X,Te),Ne===null?je=Fe:Ne.sibling=Fe,Ne=Fe,ke=Rt}if(Te===J.length)return f(Z,ke),st&&Da(Z,Te),je;if(ke===null){for(;Te<J.length;Te++)ke=ce(Z,J[Te],de),ke!==null&&(X=_(ke,X,Te),Ne===null?je=ke:Ne.sibling=ke,Ne=ke);return st&&Da(Z,Te),je}for(ke=g(Z,ke);Te<J.length;Te++)Rt=me(ke,Z,Te,J[Te],de),Rt!==null&&(i&&Rt.alternate!==null&&ke.delete(Rt.key===null?Te:Rt.key),X=_(Rt,X,Te),Ne===null?je=Rt:Ne.sibling=Rt,Ne=Rt);return i&&ke.forEach(function(ma){return l(Z,ma)}),st&&Da(Z,Te),je}function be(Z,X,J,de){var je=W(J);if(typeof je!="function")throw Error(r(150));if(J=je.call(J),J==null)throw Error(r(151));for(var Ne=je=null,ke=X,Te=X=0,Rt=null,Fe=J.next();ke!==null&&!Fe.done;Te++,Fe=J.next()){ke.index>Te?(Rt=ke,ke=null):Rt=ke.sibling;var ma=ie(Z,ke,Fe.value,de);if(ma===null){ke===null&&(ke=Rt);break}i&&ke&&ma.alternate===null&&l(Z,ke),X=_(ma,X,Te),Ne===null?je=ma:Ne.sibling=ma,Ne=ma,ke=Rt}if(Fe.done)return f(Z,ke),st&&Da(Z,Te),je;if(ke===null){for(;!Fe.done;Te++,Fe=J.next())Fe=ce(Z,Fe.value,de),Fe!==null&&(X=_(Fe,X,Te),Ne===null?je=Fe:Ne.sibling=Fe,Ne=Fe);return st&&Da(Z,Te),je}for(ke=g(Z,ke);!Fe.done;Te++,Fe=J.next())Fe=me(ke,Z,Te,Fe.value,de),Fe!==null&&(i&&Fe.alternate!==null&&ke.delete(Fe.key===null?Te:Fe.key),X=_(Fe,X,Te),Ne===null?je=Fe:Ne.sibling=Fe,Ne=Fe);return i&&ke.forEach(function(mM){return l(Z,mM)}),st&&Da(Z,Te),je}function yt(Z,X,J,de){if(typeof J=="object"&&J!==null&&J.type===T&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case N:e:{for(var je=J.key,Ne=X;Ne!==null;){if(Ne.key===je){if(je=J.type,je===T){if(Ne.tag===7){f(Z,Ne.sibling),X=v(Ne,J.props.children),X.return=Z,Z=X;break e}}else if(Ne.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===M&&Nw(je)===Ne.type){f(Z,Ne.sibling),X=v(Ne,J.props),X.ref=So(Z,Ne,J),X.return=Z,Z=X;break e}f(Z,Ne);break}else l(Z,Ne);Ne=Ne.sibling}J.type===T?(X=Ha(J.props.children,Z.mode,de,J.key),X.return=Z,Z=X):(de=eu(J.type,J.key,J.props,null,Z.mode,de),de.ref=So(Z,X,J),de.return=Z,Z=de)}return E(Z);case A:e:{for(Ne=J.key;X!==null;){if(X.key===Ne)if(X.tag===4&&X.stateNode.containerInfo===J.containerInfo&&X.stateNode.implementation===J.implementation){f(Z,X.sibling),X=v(X,J.children||[]),X.return=Z,Z=X;break e}else{f(Z,X);break}else l(Z,X);X=X.sibling}X=sh(J,Z.mode,de),X.return=Z,Z=X}return E(Z);case M:return Ne=J._init,yt(Z,X,Ne(J._payload),de)}if(Or(J))return ye(Z,X,J,de);if(W(J))return be(Z,X,J,de);Ec(Z,J)}return typeof J=="string"&&J!==""||typeof J=="number"?(J=""+J,X!==null&&X.tag===6?(f(Z,X.sibling),X=v(X,J),X.return=Z,Z=X):(f(Z,X),X=ih(J,Z.mode,de),X.return=Z,Z=X),E(Z)):f(Z,X)}return yt}var $i=kw(!0),Ow=kw(!1),Tc=ra(null),Cc=null,Di=null,pm=null;function gm(){pm=Di=Cc=null}function ym(i){var l=Tc.current;et(Tc),i._currentValue=l}function vm(i,l,f){for(;i!==null;){var g=i.alternate;if((i.childLanes&l)!==l?(i.childLanes|=l,g!==null&&(g.childLanes|=l)):g!==null&&(g.childLanes&l)!==l&&(g.childLanes|=l),i===f)break;i=i.return}}function Li(i,l){Cc=i,pm=Di=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&l)!==0&&(cr=!0),i.firstContext=null)}function Er(i){var l=i._currentValue;if(pm!==i)if(i={context:i,memoizedValue:l,next:null},Di===null){if(Cc===null)throw Error(r(308));Di=i,Cc.dependencies={lanes:0,firstContext:i}}else Di=Di.next=i;return l}var La=null;function xm(i){La===null?La=[i]:La.push(i)}function Aw(i,l,f,g){var v=l.interleaved;return v===null?(f.next=f,xm(l)):(f.next=v.next,v.next=f),l.interleaved=f,Pn(i,g)}function Pn(i,l){i.lanes|=l;var f=i.alternate;for(f!==null&&(f.lanes|=l),f=i,i=i.return;i!==null;)i.childLanes|=l,f=i.alternate,f!==null&&(f.childLanes|=l),f=i,i=i.return;return f.tag===3?f.stateNode:null}var ia=!1;function bm(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Pw(i,l){i=i.updateQueue,l.updateQueue===i&&(l.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function En(i,l){return{eventTime:i,lane:l,tag:0,payload:null,callback:null,next:null}}function sa(i,l,f){var g=i.updateQueue;if(g===null)return null;if(g=g.shared,(Be&2)!==0){var v=g.pending;return v===null?l.next=l:(l.next=v.next,v.next=l),g.pending=l,Pn(i,f)}return v=g.interleaved,v===null?(l.next=l,xm(g)):(l.next=v.next,v.next=l),g.interleaved=l,Pn(i,f)}function Ic(i,l,f){if(l=l.updateQueue,l!==null&&(l=l.shared,(f&4194240)!==0)){var g=l.lanes;g&=i.pendingLanes,f|=g,l.lanes=f,Mf(i,f)}}function Ew(i,l){var f=i.updateQueue,g=i.alternate;if(g!==null&&(g=g.updateQueue,f===g)){var v=null,_=null;if(f=f.firstBaseUpdate,f!==null){do{var E={eventTime:f.eventTime,lane:f.lane,tag:f.tag,payload:f.payload,callback:f.callback,next:null};_===null?v=_=E:_=_.next=E,f=f.next}while(f!==null);_===null?v=_=l:_=_.next=l}else v=_=l;f={baseState:g.baseState,firstBaseUpdate:v,lastBaseUpdate:_,shared:g.shared,effects:g.effects},i.updateQueue=f;return}i=f.lastBaseUpdate,i===null?f.firstBaseUpdate=l:i.next=l,f.lastBaseUpdate=l}function Mc(i,l,f,g){var v=i.updateQueue;ia=!1;var _=v.firstBaseUpdate,E=v.lastBaseUpdate,H=v.shared.pending;if(H!==null){v.shared.pending=null;var K=H,ee=K.next;K.next=null,E===null?_=ee:E.next=ee,E=K;var se=i.alternate;se!==null&&(se=se.updateQueue,H=se.lastBaseUpdate,H!==E&&(H===null?se.firstBaseUpdate=ee:H.next=ee,se.lastBaseUpdate=K))}if(_!==null){var ce=v.baseState;E=0,se=ee=K=null,H=_;do{var ie=H.lane,me=H.eventTime;if((g&ie)===ie){se!==null&&(se=se.next={eventTime:me,lane:0,tag:H.tag,payload:H.payload,callback:H.callback,next:null});e:{var ye=i,be=H;switch(ie=l,me=f,be.tag){case 1:if(ye=be.payload,typeof ye=="function"){ce=ye.call(me,ce,ie);break e}ce=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=be.payload,ie=typeof ye=="function"?ye.call(me,ce,ie):ye,ie==null)break e;ce=Q({},ce,ie);break e;case 2:ia=!0}}H.callback!==null&&H.lane!==0&&(i.flags|=64,ie=v.effects,ie===null?v.effects=[H]:ie.push(H))}else me={eventTime:me,lane:ie,tag:H.tag,payload:H.payload,callback:H.callback,next:null},se===null?(ee=se=me,K=ce):se=se.next=me,E|=ie;if(H=H.next,H===null){if(H=v.shared.pending,H===null)break;ie=H,H=ie.next,ie.next=null,v.lastBaseUpdate=ie,v.shared.pending=null}}while(!0);if(se===null&&(K=ce),v.baseState=K,v.firstBaseUpdate=ee,v.lastBaseUpdate=se,l=v.shared.interleaved,l!==null){v=l;do E|=v.lane,v=v.next;while(v!==l)}else _===null&&(v.shared.lanes=0);za|=E,i.lanes=E,i.memoizedState=ce}}function Tw(i,l,f){if(i=l.effects,l.effects=null,i!==null)for(l=0;l<i.length;l++){var g=i[l],v=g.callback;if(v!==null){if(g.callback=null,g=f,typeof v!="function")throw Error(r(191,v));v.call(g)}}}var _o={},fn=ra(_o),No=ra(_o),ko=ra(_o);function Ba(i){if(i===_o)throw Error(r(174));return i}function wm(i,l){switch(Ye(ko,l),Ye(No,i),Ye(fn,_o),i=l.nodeType,i){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:jf(null,"");break;default:i=i===8?l.parentNode:l,l=i.namespaceURI||null,i=i.tagName,l=jf(l,i)}et(fn),Ye(fn,l)}function Bi(){et(fn),et(No),et(ko)}function Cw(i){Ba(ko.current);var l=Ba(fn.current),f=jf(l,i.type);l!==f&&(Ye(No,i),Ye(fn,f))}function jm(i){No.current===i&&(et(fn),et(No))}var ut=ra(0);function Rc(i){for(var l=i;l!==null;){if(l.tag===13){var f=l.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||f.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Sm=[];function _m(){for(var i=0;i<Sm.length;i++)Sm[i]._workInProgressVersionPrimary=null;Sm.length=0}var $c=P.ReactCurrentDispatcher,Nm=P.ReactCurrentBatchConfig,Fa=0,dt=null,Nt=null,It=null,Dc=!1,Oo=!1,Ao=0,RI=0;function Vt(){throw Error(r(321))}function km(i,l){if(l===null)return!1;for(var f=0;f<l.length&&f<i.length;f++)if(!Kr(i[f],l[f]))return!1;return!0}function Om(i,l,f,g,v,_){if(Fa=_,dt=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,$c.current=i===null||i.memoizedState===null?BI:FI,i=f(g,v),Oo){_=0;do{if(Oo=!1,Ao=0,25<=_)throw Error(r(301));_+=1,It=Nt=null,l.updateQueue=null,$c.current=zI,i=f(g,v)}while(Oo)}if($c.current=Fc,l=Nt!==null&&Nt.next!==null,Fa=0,It=Nt=dt=null,Dc=!1,l)throw Error(r(300));return i}function Am(){var i=Ao!==0;return Ao=0,i}function mn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return It===null?dt.memoizedState=It=i:It=It.next=i,It}function Tr(){if(Nt===null){var i=dt.alternate;i=i!==null?i.memoizedState:null}else i=Nt.next;var l=It===null?dt.memoizedState:It.next;if(l!==null)It=l,Nt=i;else{if(i===null)throw Error(r(310));Nt=i,i={memoizedState:Nt.memoizedState,baseState:Nt.baseState,baseQueue:Nt.baseQueue,queue:Nt.queue,next:null},It===null?dt.memoizedState=It=i:It=It.next=i}return It}function Po(i,l){return typeof l=="function"?l(i):l}function Pm(i){var l=Tr(),f=l.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=i;var g=Nt,v=g.baseQueue,_=f.pending;if(_!==null){if(v!==null){var E=v.next;v.next=_.next,_.next=E}g.baseQueue=v=_,f.pending=null}if(v!==null){_=v.next,g=g.baseState;var H=E=null,K=null,ee=_;do{var se=ee.lane;if((Fa&se)===se)K!==null&&(K=K.next={lane:0,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),g=ee.hasEagerState?ee.eagerState:i(g,ee.action);else{var ce={lane:se,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null};K===null?(H=K=ce,E=g):K=K.next=ce,dt.lanes|=se,za|=se}ee=ee.next}while(ee!==null&&ee!==_);K===null?E=g:K.next=H,Kr(g,l.memoizedState)||(cr=!0),l.memoizedState=g,l.baseState=E,l.baseQueue=K,f.lastRenderedState=g}if(i=f.interleaved,i!==null){v=i;do _=v.lane,dt.lanes|=_,za|=_,v=v.next;while(v!==i)}else v===null&&(f.lanes=0);return[l.memoizedState,f.dispatch]}function Em(i){var l=Tr(),f=l.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=i;var g=f.dispatch,v=f.pending,_=l.memoizedState;if(v!==null){f.pending=null;var E=v=v.next;do _=i(_,E.action),E=E.next;while(E!==v);Kr(_,l.memoizedState)||(cr=!0),l.memoizedState=_,l.baseQueue===null&&(l.baseState=_),f.lastRenderedState=_}return[_,g]}function Iw(){}function Mw(i,l){var f=dt,g=Tr(),v=l(),_=!Kr(g.memoizedState,v);if(_&&(g.memoizedState=v,cr=!0),g=g.queue,Tm(Dw.bind(null,f,g,i),[i]),g.getSnapshot!==l||_||It!==null&&It.memoizedState.tag&1){if(f.flags|=2048,Eo(9,$w.bind(null,f,g,v,l),void 0,null),Mt===null)throw Error(r(349));(Fa&30)!==0||Rw(f,l,v)}return v}function Rw(i,l,f){i.flags|=16384,i={getSnapshot:l,value:f},l=dt.updateQueue,l===null?(l={lastEffect:null,stores:null},dt.updateQueue=l,l.stores=[i]):(f=l.stores,f===null?l.stores=[i]:f.push(i))}function $w(i,l,f,g){l.value=f,l.getSnapshot=g,Lw(l)&&Bw(i)}function Dw(i,l,f){return f(function(){Lw(l)&&Bw(i)})}function Lw(i){var l=i.getSnapshot;i=i.value;try{var f=l();return!Kr(i,f)}catch{return!0}}function Bw(i){var l=Pn(i,1);l!==null&&Jr(l,i,1,-1)}function Fw(i){var l=mn();return typeof i=="function"&&(i=i()),l.memoizedState=l.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Po,lastRenderedState:i},l.queue=i,i=i.dispatch=LI.bind(null,dt,i),[l.memoizedState,i]}function Eo(i,l,f,g){return i={tag:i,create:l,destroy:f,deps:g,next:null},l=dt.updateQueue,l===null?(l={lastEffect:null,stores:null},dt.updateQueue=l,l.lastEffect=i.next=i):(f=l.lastEffect,f===null?l.lastEffect=i.next=i:(g=f.next,f.next=i,i.next=g,l.lastEffect=i)),i}function zw(){return Tr().memoizedState}function Lc(i,l,f,g){var v=mn();dt.flags|=i,v.memoizedState=Eo(1|l,f,void 0,g===void 0?null:g)}function Bc(i,l,f,g){var v=Tr();g=g===void 0?null:g;var _=void 0;if(Nt!==null){var E=Nt.memoizedState;if(_=E.destroy,g!==null&&km(g,E.deps)){v.memoizedState=Eo(l,f,_,g);return}}dt.flags|=i,v.memoizedState=Eo(1|l,f,_,g)}function qw(i,l){return Lc(8390656,8,i,l)}function Tm(i,l){return Bc(2048,8,i,l)}function Uw(i,l){return Bc(4,2,i,l)}function Ww(i,l){return Bc(4,4,i,l)}function Hw(i,l){if(typeof l=="function")return i=i(),l(i),function(){l(null)};if(l!=null)return i=i(),l.current=i,function(){l.current=null}}function Gw(i,l,f){return f=f!=null?f.concat([i]):null,Bc(4,4,Hw.bind(null,l,i),f)}function Cm(){}function Vw(i,l){var f=Tr();l=l===void 0?null:l;var g=f.memoizedState;return g!==null&&l!==null&&km(l,g[1])?g[0]:(f.memoizedState=[i,l],i)}function Kw(i,l){var f=Tr();l=l===void 0?null:l;var g=f.memoizedState;return g!==null&&l!==null&&km(l,g[1])?g[0]:(i=i(),f.memoizedState=[i,l],i)}function Yw(i,l,f){return(Fa&21)===0?(i.baseState&&(i.baseState=!1,cr=!0),i.memoizedState=f):(Kr(f,l)||(f=Nb(),dt.lanes|=f,za|=f,i.baseState=!0),l)}function $I(i,l){var f=Ge;Ge=f!==0&&4>f?f:4,i(!0);var g=Nm.transition;Nm.transition={};try{i(!1),l()}finally{Ge=f,Nm.transition=g}}function Xw(){return Tr().memoizedState}function DI(i,l,f){var g=ua(i);if(f={lane:g,action:f,hasEagerState:!1,eagerState:null,next:null},Qw(i))Zw(l,f);else if(f=Aw(i,l,f,g),f!==null){var v=Jt();Jr(f,i,g,v),Jw(f,l,g)}}function LI(i,l,f){var g=ua(i),v={lane:g,action:f,hasEagerState:!1,eagerState:null,next:null};if(Qw(i))Zw(l,v);else{var _=i.alternate;if(i.lanes===0&&(_===null||_.lanes===0)&&(_=l.lastRenderedReducer,_!==null))try{var E=l.lastRenderedState,H=_(E,f);if(v.hasEagerState=!0,v.eagerState=H,Kr(H,E)){var K=l.interleaved;K===null?(v.next=v,xm(l)):(v.next=K.next,K.next=v),l.interleaved=v;return}}catch{}finally{}f=Aw(i,l,v,g),f!==null&&(v=Jt(),Jr(f,i,g,v),Jw(f,l,g))}}function Qw(i){var l=i.alternate;return i===dt||l!==null&&l===dt}function Zw(i,l){Oo=Dc=!0;var f=i.pending;f===null?l.next=l:(l.next=f.next,f.next=l),i.pending=l}function Jw(i,l,f){if((f&4194240)!==0){var g=l.lanes;g&=i.pendingLanes,f|=g,l.lanes=f,Mf(i,f)}}var Fc={readContext:Er,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useInsertionEffect:Vt,useLayoutEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useMutableSource:Vt,useSyncExternalStore:Vt,useId:Vt,unstable_isNewReconciler:!1},BI={readContext:Er,useCallback:function(i,l){return mn().memoizedState=[i,l===void 0?null:l],i},useContext:Er,useEffect:qw,useImperativeHandle:function(i,l,f){return f=f!=null?f.concat([i]):null,Lc(4194308,4,Hw.bind(null,l,i),f)},useLayoutEffect:function(i,l){return Lc(4194308,4,i,l)},useInsertionEffect:function(i,l){return Lc(4,2,i,l)},useMemo:function(i,l){var f=mn();return l=l===void 0?null:l,i=i(),f.memoizedState=[i,l],i},useReducer:function(i,l,f){var g=mn();return l=f!==void 0?f(l):l,g.memoizedState=g.baseState=l,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:l},g.queue=i,i=i.dispatch=DI.bind(null,dt,i),[g.memoizedState,i]},useRef:function(i){var l=mn();return i={current:i},l.memoizedState=i},useState:Fw,useDebugValue:Cm,useDeferredValue:function(i){return mn().memoizedState=i},useTransition:function(){var i=Fw(!1),l=i[0];return i=$I.bind(null,i[1]),mn().memoizedState=i,[l,i]},useMutableSource:function(){},useSyncExternalStore:function(i,l,f){var g=dt,v=mn();if(st){if(f===void 0)throw Error(r(407));f=f()}else{if(f=l(),Mt===null)throw Error(r(349));(Fa&30)!==0||Rw(g,l,f)}v.memoizedState=f;var _={value:f,getSnapshot:l};return v.queue=_,qw(Dw.bind(null,g,_,i),[i]),g.flags|=2048,Eo(9,$w.bind(null,g,_,f,l),void 0,null),f},useId:function(){var i=mn(),l=Mt.identifierPrefix;if(st){var f=An,g=On;f=(g&~(1<<32-Vr(g)-1)).toString(32)+f,l=":"+l+"R"+f,f=Ao++,0<f&&(l+="H"+f.toString(32)),l+=":"}else f=RI++,l=":"+l+"r"+f.toString(32)+":";return i.memoizedState=l},unstable_isNewReconciler:!1},FI={readContext:Er,useCallback:Vw,useContext:Er,useEffect:Tm,useImperativeHandle:Gw,useInsertionEffect:Uw,useLayoutEffect:Ww,useMemo:Kw,useReducer:Pm,useRef:zw,useState:function(){return Pm(Po)},useDebugValue:Cm,useDeferredValue:function(i){var l=Tr();return Yw(l,Nt.memoizedState,i)},useTransition:function(){var i=Pm(Po)[0],l=Tr().memoizedState;return[i,l]},useMutableSource:Iw,useSyncExternalStore:Mw,useId:Xw,unstable_isNewReconciler:!1},zI={readContext:Er,useCallback:Vw,useContext:Er,useEffect:Tm,useImperativeHandle:Gw,useInsertionEffect:Uw,useLayoutEffect:Ww,useMemo:Kw,useReducer:Em,useRef:zw,useState:function(){return Em(Po)},useDebugValue:Cm,useDeferredValue:function(i){var l=Tr();return Nt===null?l.memoizedState=i:Yw(l,Nt.memoizedState,i)},useTransition:function(){var i=Em(Po)[0],l=Tr().memoizedState;return[i,l]},useMutableSource:Iw,useSyncExternalStore:Mw,useId:Xw,unstable_isNewReconciler:!1};function Xr(i,l){if(i&&i.defaultProps){l=Q({},l),i=i.defaultProps;for(var f in i)l[f]===void 0&&(l[f]=i[f]);return l}return l}function Im(i,l,f,g){l=i.memoizedState,f=f(g,l),f=f==null?l:Q({},l,f),i.memoizedState=f,i.lanes===0&&(i.updateQueue.baseState=f)}var zc={isMounted:function(i){return(i=i._reactInternals)?Ia(i)===i:!1},enqueueSetState:function(i,l,f){i=i._reactInternals;var g=Jt(),v=ua(i),_=En(g,v);_.payload=l,f!=null&&(_.callback=f),l=sa(i,_,v),l!==null&&(Jr(l,i,v,g),Ic(l,i,v))},enqueueReplaceState:function(i,l,f){i=i._reactInternals;var g=Jt(),v=ua(i),_=En(g,v);_.tag=1,_.payload=l,f!=null&&(_.callback=f),l=sa(i,_,v),l!==null&&(Jr(l,i,v,g),Ic(l,i,v))},enqueueForceUpdate:function(i,l){i=i._reactInternals;var f=Jt(),g=ua(i),v=En(f,g);v.tag=2,l!=null&&(v.callback=l),l=sa(i,v,g),l!==null&&(Jr(l,i,g,f),Ic(l,i,g))}};function e1(i,l,f,g,v,_,E){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(g,_,E):l.prototype&&l.prototype.isPureReactComponent?!go(f,g)||!go(v,_):!0}function t1(i,l,f){var g=!1,v=na,_=l.contextType;return typeof _=="object"&&_!==null?_=Er(_):(v=lr(l)?Ra:Gt.current,g=l.contextTypes,_=(g=g!=null)?Ci(i,v):na),l=new l(f,_),i.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=zc,i.stateNode=l,l._reactInternals=i,g&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=v,i.__reactInternalMemoizedMaskedChildContext=_),l}function r1(i,l,f,g){i=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(f,g),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(f,g),l.state!==i&&zc.enqueueReplaceState(l,l.state,null)}function Mm(i,l,f,g){var v=i.stateNode;v.props=f,v.state=i.memoizedState,v.refs={},bm(i);var _=l.contextType;typeof _=="object"&&_!==null?v.context=Er(_):(_=lr(l)?Ra:Gt.current,v.context=Ci(i,_)),v.state=i.memoizedState,_=l.getDerivedStateFromProps,typeof _=="function"&&(Im(i,l,_,f),v.state=i.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(l=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),l!==v.state&&zc.enqueueReplaceState(v,v.state,null),Mc(i,f,v,g),v.state=i.memoizedState),typeof v.componentDidMount=="function"&&(i.flags|=4194308)}function Fi(i,l){try{var f="",g=l;do f+=Se(g),g=g.return;while(g);var v=f}catch(_){v=`
Error generating stack: `+_.message+`
`+_.stack}return{value:i,source:l,stack:v,digest:null}}function Rm(i,l,f){return{value:i,source:null,stack:f??null,digest:l??null}}function $m(i,l){try{console.error(l.value)}catch(f){setTimeout(function(){throw f})}}var qI=typeof WeakMap=="function"?WeakMap:Map;function n1(i,l,f){f=En(-1,f),f.tag=3,f.payload={element:null};var g=l.value;return f.callback=function(){Kc||(Kc=!0,Qm=g),$m(i,l)},f}function a1(i,l,f){f=En(-1,f),f.tag=3;var g=i.type.getDerivedStateFromError;if(typeof g=="function"){var v=l.value;f.payload=function(){return g(v)},f.callback=function(){$m(i,l)}}var _=i.stateNode;return _!==null&&typeof _.componentDidCatch=="function"&&(f.callback=function(){$m(i,l),typeof g!="function"&&(la===null?la=new Set([this]):la.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})}),f}function i1(i,l,f){var g=i.pingCache;if(g===null){g=i.pingCache=new qI;var v=new Set;g.set(l,v)}else v=g.get(l),v===void 0&&(v=new Set,g.set(l,v));v.has(f)||(v.add(f),i=rM.bind(null,i,l,f),l.then(i,i))}function s1(i){do{var l;if((l=i.tag===13)&&(l=i.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return i;i=i.return}while(i!==null);return null}function o1(i,l,f,g,v){return(i.mode&1)===0?(i===l?i.flags|=65536:(i.flags|=128,f.flags|=131072,f.flags&=-52805,f.tag===1&&(f.alternate===null?f.tag=17:(l=En(-1,1),l.tag=2,sa(f,l,1))),f.lanes|=1),i):(i.flags|=65536,i.lanes=v,i)}var UI=P.ReactCurrentOwner,cr=!1;function Zt(i,l,f,g){l.child=i===null?Ow(l,null,f,g):$i(l,i.child,f,g)}function l1(i,l,f,g,v){f=f.render;var _=l.ref;return Li(l,v),g=Om(i,l,f,g,_,v),f=Am(),i!==null&&!cr?(l.updateQueue=i.updateQueue,l.flags&=-2053,i.lanes&=~v,Tn(i,l,v)):(st&&f&&um(l),l.flags|=1,Zt(i,l,g,v),l.child)}function c1(i,l,f,g,v){if(i===null){var _=f.type;return typeof _=="function"&&!ah(_)&&_.defaultProps===void 0&&f.compare===null&&f.defaultProps===void 0?(l.tag=15,l.type=_,u1(i,l,_,g,v)):(i=eu(f.type,null,g,l,l.mode,v),i.ref=l.ref,i.return=l,l.child=i)}if(_=i.child,(i.lanes&v)===0){var E=_.memoizedProps;if(f=f.compare,f=f!==null?f:go,f(E,g)&&i.ref===l.ref)return Tn(i,l,v)}return l.flags|=1,i=fa(_,g),i.ref=l.ref,i.return=l,l.child=i}function u1(i,l,f,g,v){if(i!==null){var _=i.memoizedProps;if(go(_,g)&&i.ref===l.ref)if(cr=!1,l.pendingProps=g=_,(i.lanes&v)!==0)(i.flags&131072)!==0&&(cr=!0);else return l.lanes=i.lanes,Tn(i,l,v)}return Dm(i,l,f,g,v)}function d1(i,l,f){var g=l.pendingProps,v=g.children,_=i!==null?i.memoizedState:null;if(g.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ye(qi,br),br|=f;else{if((f&1073741824)===0)return i=_!==null?_.baseLanes|f:f,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:i,cachePool:null,transitions:null},l.updateQueue=null,Ye(qi,br),br|=i,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=_!==null?_.baseLanes:f,Ye(qi,br),br|=g}else _!==null?(g=_.baseLanes|f,l.memoizedState=null):g=f,Ye(qi,br),br|=g;return Zt(i,l,v,f),l.child}function f1(i,l){var f=l.ref;(i===null&&f!==null||i!==null&&i.ref!==f)&&(l.flags|=512,l.flags|=2097152)}function Dm(i,l,f,g,v){var _=lr(f)?Ra:Gt.current;return _=Ci(l,_),Li(l,v),f=Om(i,l,f,g,_,v),g=Am(),i!==null&&!cr?(l.updateQueue=i.updateQueue,l.flags&=-2053,i.lanes&=~v,Tn(i,l,v)):(st&&g&&um(l),l.flags|=1,Zt(i,l,f,v),l.child)}function m1(i,l,f,g,v){if(lr(f)){var _=!0;Nc(l)}else _=!1;if(Li(l,v),l.stateNode===null)Uc(i,l),t1(l,f,g),Mm(l,f,g,v),g=!0;else if(i===null){var E=l.stateNode,H=l.memoizedProps;E.props=H;var K=E.context,ee=f.contextType;typeof ee=="object"&&ee!==null?ee=Er(ee):(ee=lr(f)?Ra:Gt.current,ee=Ci(l,ee));var se=f.getDerivedStateFromProps,ce=typeof se=="function"||typeof E.getSnapshotBeforeUpdate=="function";ce||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(H!==g||K!==ee)&&r1(l,E,g,ee),ia=!1;var ie=l.memoizedState;E.state=ie,Mc(l,g,E,v),K=l.memoizedState,H!==g||ie!==K||or.current||ia?(typeof se=="function"&&(Im(l,f,se,g),K=l.memoizedState),(H=ia||e1(l,f,H,g,ie,K,ee))?(ce||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(l.flags|=4194308)):(typeof E.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=g,l.memoizedState=K),E.props=g,E.state=K,E.context=ee,g=H):(typeof E.componentDidMount=="function"&&(l.flags|=4194308),g=!1)}else{E=l.stateNode,Pw(i,l),H=l.memoizedProps,ee=l.type===l.elementType?H:Xr(l.type,H),E.props=ee,ce=l.pendingProps,ie=E.context,K=f.contextType,typeof K=="object"&&K!==null?K=Er(K):(K=lr(f)?Ra:Gt.current,K=Ci(l,K));var me=f.getDerivedStateFromProps;(se=typeof me=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(H!==ce||ie!==K)&&r1(l,E,g,K),ia=!1,ie=l.memoizedState,E.state=ie,Mc(l,g,E,v);var ye=l.memoizedState;H!==ce||ie!==ye||or.current||ia?(typeof me=="function"&&(Im(l,f,me,g),ye=l.memoizedState),(ee=ia||e1(l,f,ee,g,ie,ye,K)||!1)?(se||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(g,ye,K),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(g,ye,K)),typeof E.componentDidUpdate=="function"&&(l.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof E.componentDidUpdate!="function"||H===i.memoizedProps&&ie===i.memoizedState||(l.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||H===i.memoizedProps&&ie===i.memoizedState||(l.flags|=1024),l.memoizedProps=g,l.memoizedState=ye),E.props=g,E.state=ye,E.context=K,g=ee):(typeof E.componentDidUpdate!="function"||H===i.memoizedProps&&ie===i.memoizedState||(l.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||H===i.memoizedProps&&ie===i.memoizedState||(l.flags|=1024),g=!1)}return Lm(i,l,f,g,_,v)}function Lm(i,l,f,g,v,_){f1(i,l);var E=(l.flags&128)!==0;if(!g&&!E)return v&&vw(l,f,!1),Tn(i,l,_);g=l.stateNode,UI.current=l;var H=E&&typeof f.getDerivedStateFromError!="function"?null:g.render();return l.flags|=1,i!==null&&E?(l.child=$i(l,i.child,null,_),l.child=$i(l,null,H,_)):Zt(i,l,H,_),l.memoizedState=g.state,v&&vw(l,f,!0),l.child}function h1(i){var l=i.stateNode;l.pendingContext?gw(i,l.pendingContext,l.pendingContext!==l.context):l.context&&gw(i,l.context,!1),wm(i,l.containerInfo)}function p1(i,l,f,g,v){return Ri(),hm(v),l.flags|=256,Zt(i,l,f,g),l.child}var Bm={dehydrated:null,treeContext:null,retryLane:0};function Fm(i){return{baseLanes:i,cachePool:null,transitions:null}}function g1(i,l,f){var g=l.pendingProps,v=ut.current,_=!1,E=(l.flags&128)!==0,H;if((H=E)||(H=i!==null&&i.memoizedState===null?!1:(v&2)!==0),H?(_=!0,l.flags&=-129):(i===null||i.memoizedState!==null)&&(v|=1),Ye(ut,v&1),i===null)return mm(l),i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((l.mode&1)===0?l.lanes=1:i.data==="$!"?l.lanes=8:l.lanes=1073741824,null):(E=g.children,i=g.fallback,_?(g=l.mode,_=l.child,E={mode:"hidden",children:E},(g&1)===0&&_!==null?(_.childLanes=0,_.pendingProps=E):_=tu(E,g,0,null),i=Ha(i,g,f,null),_.return=l,i.return=l,_.sibling=i,l.child=_,l.child.memoizedState=Fm(f),l.memoizedState=Bm,i):zm(l,E));if(v=i.memoizedState,v!==null&&(H=v.dehydrated,H!==null))return WI(i,l,E,g,H,v,f);if(_){_=g.fallback,E=l.mode,v=i.child,H=v.sibling;var K={mode:"hidden",children:g.children};return(E&1)===0&&l.child!==v?(g=l.child,g.childLanes=0,g.pendingProps=K,l.deletions=null):(g=fa(v,K),g.subtreeFlags=v.subtreeFlags&14680064),H!==null?_=fa(H,_):(_=Ha(_,E,f,null),_.flags|=2),_.return=l,g.return=l,g.sibling=_,l.child=g,g=_,_=l.child,E=i.child.memoizedState,E=E===null?Fm(f):{baseLanes:E.baseLanes|f,cachePool:null,transitions:E.transitions},_.memoizedState=E,_.childLanes=i.childLanes&~f,l.memoizedState=Bm,g}return _=i.child,i=_.sibling,g=fa(_,{mode:"visible",children:g.children}),(l.mode&1)===0&&(g.lanes=f),g.return=l,g.sibling=null,i!==null&&(f=l.deletions,f===null?(l.deletions=[i],l.flags|=16):f.push(i)),l.child=g,l.memoizedState=null,g}function zm(i,l){return l=tu({mode:"visible",children:l},i.mode,0,null),l.return=i,i.child=l}function qc(i,l,f,g){return g!==null&&hm(g),$i(l,i.child,null,f),i=zm(l,l.pendingProps.children),i.flags|=2,l.memoizedState=null,i}function WI(i,l,f,g,v,_,E){if(f)return l.flags&256?(l.flags&=-257,g=Rm(Error(r(422))),qc(i,l,E,g)):l.memoizedState!==null?(l.child=i.child,l.flags|=128,null):(_=g.fallback,v=l.mode,g=tu({mode:"visible",children:g.children},v,0,null),_=Ha(_,v,E,null),_.flags|=2,g.return=l,_.return=l,g.sibling=_,l.child=g,(l.mode&1)!==0&&$i(l,i.child,null,E),l.child.memoizedState=Fm(E),l.memoizedState=Bm,_);if((l.mode&1)===0)return qc(i,l,E,null);if(v.data==="$!"){if(g=v.nextSibling&&v.nextSibling.dataset,g)var H=g.dgst;return g=H,_=Error(r(419)),g=Rm(_,g,void 0),qc(i,l,E,g)}if(H=(E&i.childLanes)!==0,cr||H){if(g=Mt,g!==null){switch(E&-E){case 4:v=2;break;case 16:v=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:v=32;break;case 536870912:v=268435456;break;default:v=0}v=(v&(g.suspendedLanes|E))!==0?0:v,v!==0&&v!==_.retryLane&&(_.retryLane=v,Pn(i,v),Jr(g,i,v,-1))}return nh(),g=Rm(Error(r(421))),qc(i,l,E,g)}return v.data==="$?"?(l.flags|=128,l.child=i.child,l=nM.bind(null,i),v._reactRetry=l,null):(i=_.treeContext,xr=ta(v.nextSibling),vr=l,st=!0,Yr=null,i!==null&&(Ar[Pr++]=On,Ar[Pr++]=An,Ar[Pr++]=$a,On=i.id,An=i.overflow,$a=l),l=zm(l,g.children),l.flags|=4096,l)}function y1(i,l,f){i.lanes|=l;var g=i.alternate;g!==null&&(g.lanes|=l),vm(i.return,l,f)}function qm(i,l,f,g,v){var _=i.memoizedState;_===null?i.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:g,tail:f,tailMode:v}:(_.isBackwards=l,_.rendering=null,_.renderingStartTime=0,_.last=g,_.tail=f,_.tailMode=v)}function v1(i,l,f){var g=l.pendingProps,v=g.revealOrder,_=g.tail;if(Zt(i,l,g.children,f),g=ut.current,(g&2)!==0)g=g&1|2,l.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=l.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&y1(i,f,l);else if(i.tag===19)y1(i,f,l);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===l)break e;for(;i.sibling===null;){if(i.return===null||i.return===l)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}g&=1}if(Ye(ut,g),(l.mode&1)===0)l.memoizedState=null;else switch(v){case"forwards":for(f=l.child,v=null;f!==null;)i=f.alternate,i!==null&&Rc(i)===null&&(v=f),f=f.sibling;f=v,f===null?(v=l.child,l.child=null):(v=f.sibling,f.sibling=null),qm(l,!1,v,f,_);break;case"backwards":for(f=null,v=l.child,l.child=null;v!==null;){if(i=v.alternate,i!==null&&Rc(i)===null){l.child=v;break}i=v.sibling,v.sibling=f,f=v,v=i}qm(l,!0,f,null,_);break;case"together":qm(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Uc(i,l){(l.mode&1)===0&&i!==null&&(i.alternate=null,l.alternate=null,l.flags|=2)}function Tn(i,l,f){if(i!==null&&(l.dependencies=i.dependencies),za|=l.lanes,(f&l.childLanes)===0)return null;if(i!==null&&l.child!==i.child)throw Error(r(153));if(l.child!==null){for(i=l.child,f=fa(i,i.pendingProps),l.child=f,f.return=l;i.sibling!==null;)i=i.sibling,f=f.sibling=fa(i,i.pendingProps),f.return=l;f.sibling=null}return l.child}function HI(i,l,f){switch(l.tag){case 3:h1(l),Ri();break;case 5:Cw(l);break;case 1:lr(l.type)&&Nc(l);break;case 4:wm(l,l.stateNode.containerInfo);break;case 10:var g=l.type._context,v=l.memoizedProps.value;Ye(Tc,g._currentValue),g._currentValue=v;break;case 13:if(g=l.memoizedState,g!==null)return g.dehydrated!==null?(Ye(ut,ut.current&1),l.flags|=128,null):(f&l.child.childLanes)!==0?g1(i,l,f):(Ye(ut,ut.current&1),i=Tn(i,l,f),i!==null?i.sibling:null);Ye(ut,ut.current&1);break;case 19:if(g=(f&l.childLanes)!==0,(i.flags&128)!==0){if(g)return v1(i,l,f);l.flags|=128}if(v=l.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),Ye(ut,ut.current),g)break;return null;case 22:case 23:return l.lanes=0,d1(i,l,f)}return Tn(i,l,f)}var x1,Um,b1,w1;x1=function(i,l){for(var f=l.child;f!==null;){if(f.tag===5||f.tag===6)i.appendChild(f.stateNode);else if(f.tag!==4&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===l)break;for(;f.sibling===null;){if(f.return===null||f.return===l)return;f=f.return}f.sibling.return=f.return,f=f.sibling}},Um=function(){},b1=function(i,l,f,g){var v=i.memoizedProps;if(v!==g){i=l.stateNode,Ba(fn.current);var _=null;switch(f){case"input":v=Ie(i,v),g=Ie(i,g),_=[];break;case"select":v=Q({},v,{value:void 0}),g=Q({},g,{value:void 0}),_=[];break;case"textarea":v=ct(i,v),g=ct(i,g),_=[];break;default:typeof v.onClick!="function"&&typeof g.onClick=="function"&&(i.onclick=jc)}Sf(f,g);var E;f=null;for(ee in v)if(!g.hasOwnProperty(ee)&&v.hasOwnProperty(ee)&&v[ee]!=null)if(ee==="style"){var H=v[ee];for(E in H)H.hasOwnProperty(E)&&(f||(f={}),f[E]="")}else ee!=="dangerouslySetInnerHTML"&&ee!=="children"&&ee!=="suppressContentEditableWarning"&&ee!=="suppressHydrationWarning"&&ee!=="autoFocus"&&(a.hasOwnProperty(ee)?_||(_=[]):(_=_||[]).push(ee,null));for(ee in g){var K=g[ee];if(H=v?.[ee],g.hasOwnProperty(ee)&&K!==H&&(K!=null||H!=null))if(ee==="style")if(H){for(E in H)!H.hasOwnProperty(E)||K&&K.hasOwnProperty(E)||(f||(f={}),f[E]="");for(E in K)K.hasOwnProperty(E)&&H[E]!==K[E]&&(f||(f={}),f[E]=K[E])}else f||(_||(_=[]),_.push(ee,f)),f=K;else ee==="dangerouslySetInnerHTML"?(K=K?K.__html:void 0,H=H?H.__html:void 0,K!=null&&H!==K&&(_=_||[]).push(ee,K)):ee==="children"?typeof K!="string"&&typeof K!="number"||(_=_||[]).push(ee,""+K):ee!=="suppressContentEditableWarning"&&ee!=="suppressHydrationWarning"&&(a.hasOwnProperty(ee)?(K!=null&&ee==="onScroll"&&Je("scroll",i),_||H===K||(_=[])):(_=_||[]).push(ee,K))}f&&(_=_||[]).push("style",f);var ee=_;(l.updateQueue=ee)&&(l.flags|=4)}},w1=function(i,l,f,g){f!==g&&(l.flags|=4)};function To(i,l){if(!st)switch(i.tailMode){case"hidden":l=i.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?i.tail=null:f.sibling=null;break;case"collapsed":f=i.tail;for(var g=null;f!==null;)f.alternate!==null&&(g=f),f=f.sibling;g===null?l||i.tail===null?i.tail=null:i.tail.sibling=null:g.sibling=null}}function Kt(i){var l=i.alternate!==null&&i.alternate.child===i.child,f=0,g=0;if(l)for(var v=i.child;v!==null;)f|=v.lanes|v.childLanes,g|=v.subtreeFlags&14680064,g|=v.flags&14680064,v.return=i,v=v.sibling;else for(v=i.child;v!==null;)f|=v.lanes|v.childLanes,g|=v.subtreeFlags,g|=v.flags,v.return=i,v=v.sibling;return i.subtreeFlags|=g,i.childLanes=f,l}function GI(i,l,f){var g=l.pendingProps;switch(dm(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kt(l),null;case 1:return lr(l.type)&&_c(),Kt(l),null;case 3:return g=l.stateNode,Bi(),et(or),et(Gt),_m(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(i===null||i.child===null)&&(Pc(l)?l.flags|=4:i===null||i.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Yr!==null&&(eh(Yr),Yr=null))),Um(i,l),Kt(l),null;case 5:jm(l);var v=Ba(ko.current);if(f=l.type,i!==null&&l.stateNode!=null)b1(i,l,f,g,v),i.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!g){if(l.stateNode===null)throw Error(r(166));return Kt(l),null}if(i=Ba(fn.current),Pc(l)){g=l.stateNode,f=l.type;var _=l.memoizedProps;switch(g[dn]=l,g[wo]=_,i=(l.mode&1)!==0,f){case"dialog":Je("cancel",g),Je("close",g);break;case"iframe":case"object":case"embed":Je("load",g);break;case"video":case"audio":for(v=0;v<vo.length;v++)Je(vo[v],g);break;case"source":Je("error",g);break;case"img":case"image":case"link":Je("error",g),Je("load",g);break;case"details":Je("toggle",g);break;case"input":at(g,_),Je("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!_.multiple},Je("invalid",g);break;case"textarea":bi(g,_),Je("invalid",g)}Sf(f,_),v=null;for(var E in _)if(_.hasOwnProperty(E)){var H=_[E];E==="children"?typeof H=="string"?g.textContent!==H&&(_.suppressHydrationWarning!==!0&&wc(g.textContent,H,i),v=["children",H]):typeof H=="number"&&g.textContent!==""+H&&(_.suppressHydrationWarning!==!0&&wc(g.textContent,H,i),v=["children",""+H]):a.hasOwnProperty(E)&&H!=null&&E==="onScroll"&&Je("scroll",g)}switch(f){case"input":le(g),gr(g,_,!0);break;case"textarea":le(g),Qs(g);break;case"select":case"option":break;default:typeof _.onClick=="function"&&(g.onclick=jc)}g=v,l.updateQueue=g,g!==null&&(l.flags|=4)}else{E=v.nodeType===9?v:v.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=ob(f)),i==="http://www.w3.org/1999/xhtml"?f==="script"?(i=E.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof g.is=="string"?i=E.createElement(f,{is:g.is}):(i=E.createElement(f),f==="select"&&(E=i,g.multiple?E.multiple=!0:g.size&&(E.size=g.size))):i=E.createElementNS(i,f),i[dn]=l,i[wo]=g,x1(i,l,!1,!1),l.stateNode=i;e:{switch(E=_f(f,g),f){case"dialog":Je("cancel",i),Je("close",i),v=g;break;case"iframe":case"object":case"embed":Je("load",i),v=g;break;case"video":case"audio":for(v=0;v<vo.length;v++)Je(vo[v],i);v=g;break;case"source":Je("error",i),v=g;break;case"img":case"image":case"link":Je("error",i),Je("load",i),v=g;break;case"details":Je("toggle",i),v=g;break;case"input":at(i,g),v=Ie(i,g),Je("invalid",i);break;case"option":v=g;break;case"select":i._wrapperState={wasMultiple:!!g.multiple},v=Q({},g,{value:void 0}),Je("invalid",i);break;case"textarea":bi(i,g),v=ct(i,g),Je("invalid",i);break;default:v=g}Sf(f,v),H=v;for(_ in H)if(H.hasOwnProperty(_)){var K=H[_];_==="style"?ub(i,K):_==="dangerouslySetInnerHTML"?(K=K?K.__html:void 0,K!=null&&lb(i,K)):_==="children"?typeof K=="string"?(f!=="textarea"||K!=="")&&Zs(i,K):typeof K=="number"&&Zs(i,""+K):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(a.hasOwnProperty(_)?K!=null&&_==="onScroll"&&Je("scroll",i):K!=null&&O(i,_,K,E))}switch(f){case"input":le(i),gr(i,g,!1);break;case"textarea":le(i),Qs(i);break;case"option":g.value!=null&&i.setAttribute("value",""+Ce(g.value));break;case"select":i.multiple=!!g.multiple,_=g.value,_!=null?Ht(i,!!g.multiple,_,!1):g.defaultValue!=null&&Ht(i,!!g.multiple,g.defaultValue,!0);break;default:typeof v.onClick=="function"&&(i.onclick=jc)}switch(f){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return Kt(l),null;case 6:if(i&&l.stateNode!=null)w1(i,l,i.memoizedProps,g);else{if(typeof g!="string"&&l.stateNode===null)throw Error(r(166));if(f=Ba(ko.current),Ba(fn.current),Pc(l)){if(g=l.stateNode,f=l.memoizedProps,g[dn]=l,(_=g.nodeValue!==f)&&(i=vr,i!==null))switch(i.tag){case 3:wc(g.nodeValue,f,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&wc(g.nodeValue,f,(i.mode&1)!==0)}_&&(l.flags|=4)}else g=(f.nodeType===9?f:f.ownerDocument).createTextNode(g),g[dn]=l,l.stateNode=g}return Kt(l),null;case 13:if(et(ut),g=l.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(st&&xr!==null&&(l.mode&1)!==0&&(l.flags&128)===0)_w(),Ri(),l.flags|=98560,_=!1;else if(_=Pc(l),g!==null&&g.dehydrated!==null){if(i===null){if(!_)throw Error(r(318));if(_=l.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(r(317));_[dn]=l}else Ri(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Kt(l),_=!1}else Yr!==null&&(eh(Yr),Yr=null),_=!0;if(!_)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=f,l):(g=g!==null,g!==(i!==null&&i.memoizedState!==null)&&g&&(l.child.flags|=8192,(l.mode&1)!==0&&(i===null||(ut.current&1)!==0?kt===0&&(kt=3):nh())),l.updateQueue!==null&&(l.flags|=4),Kt(l),null);case 4:return Bi(),Um(i,l),i===null&&xo(l.stateNode.containerInfo),Kt(l),null;case 10:return ym(l.type._context),Kt(l),null;case 17:return lr(l.type)&&_c(),Kt(l),null;case 19:if(et(ut),_=l.memoizedState,_===null)return Kt(l),null;if(g=(l.flags&128)!==0,E=_.rendering,E===null)if(g)To(_,!1);else{if(kt!==0||i!==null&&(i.flags&128)!==0)for(i=l.child;i!==null;){if(E=Rc(i),E!==null){for(l.flags|=128,To(_,!1),g=E.updateQueue,g!==null&&(l.updateQueue=g,l.flags|=4),l.subtreeFlags=0,g=f,f=l.child;f!==null;)_=f,i=g,_.flags&=14680066,E=_.alternate,E===null?(_.childLanes=0,_.lanes=i,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=E.childLanes,_.lanes=E.lanes,_.child=E.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=E.memoizedProps,_.memoizedState=E.memoizedState,_.updateQueue=E.updateQueue,_.type=E.type,i=E.dependencies,_.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),f=f.sibling;return Ye(ut,ut.current&1|2),l.child}i=i.sibling}_.tail!==null&&gt()>Ui&&(l.flags|=128,g=!0,To(_,!1),l.lanes=4194304)}else{if(!g)if(i=Rc(E),i!==null){if(l.flags|=128,g=!0,f=i.updateQueue,f!==null&&(l.updateQueue=f,l.flags|=4),To(_,!0),_.tail===null&&_.tailMode==="hidden"&&!E.alternate&&!st)return Kt(l),null}else 2*gt()-_.renderingStartTime>Ui&&f!==1073741824&&(l.flags|=128,g=!0,To(_,!1),l.lanes=4194304);_.isBackwards?(E.sibling=l.child,l.child=E):(f=_.last,f!==null?f.sibling=E:l.child=E,_.last=E)}return _.tail!==null?(l=_.tail,_.rendering=l,_.tail=l.sibling,_.renderingStartTime=gt(),l.sibling=null,f=ut.current,Ye(ut,g?f&1|2:f&1),l):(Kt(l),null);case 22:case 23:return rh(),g=l.memoizedState!==null,i!==null&&i.memoizedState!==null!==g&&(l.flags|=8192),g&&(l.mode&1)!==0?(br&1073741824)!==0&&(Kt(l),l.subtreeFlags&6&&(l.flags|=8192)):Kt(l),null;case 24:return null;case 25:return null}throw Error(r(156,l.tag))}function VI(i,l){switch(dm(l),l.tag){case 1:return lr(l.type)&&_c(),i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 3:return Bi(),et(or),et(Gt),_m(),i=l.flags,(i&65536)!==0&&(i&128)===0?(l.flags=i&-65537|128,l):null;case 5:return jm(l),null;case 13:if(et(ut),i=l.memoizedState,i!==null&&i.dehydrated!==null){if(l.alternate===null)throw Error(r(340));Ri()}return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 19:return et(ut),null;case 4:return Bi(),null;case 10:return ym(l.type._context),null;case 22:case 23:return rh(),null;case 24:return null;default:return null}}var Wc=!1,Yt=!1,KI=typeof WeakSet=="function"?WeakSet:Set,pe=null;function zi(i,l){var f=i.ref;if(f!==null)if(typeof f=="function")try{f(null)}catch(g){mt(i,l,g)}else f.current=null}function Wm(i,l,f){try{f()}catch(g){mt(i,l,g)}}var j1=!1;function YI(i,l){if(rm=uc,i=ew(),Kf(i)){if("selectionStart"in i)var f={start:i.selectionStart,end:i.selectionEnd};else e:{f=(f=i.ownerDocument)&&f.defaultView||window;var g=f.getSelection&&f.getSelection();if(g&&g.rangeCount!==0){f=g.anchorNode;var v=g.anchorOffset,_=g.focusNode;g=g.focusOffset;try{f.nodeType,_.nodeType}catch{f=null;break e}var E=0,H=-1,K=-1,ee=0,se=0,ce=i,ie=null;t:for(;;){for(var me;ce!==f||v!==0&&ce.nodeType!==3||(H=E+v),ce!==_||g!==0&&ce.nodeType!==3||(K=E+g),ce.nodeType===3&&(E+=ce.nodeValue.length),(me=ce.firstChild)!==null;)ie=ce,ce=me;for(;;){if(ce===i)break t;if(ie===f&&++ee===v&&(H=E),ie===_&&++se===g&&(K=E),(me=ce.nextSibling)!==null)break;ce=ie,ie=ce.parentNode}ce=me}f=H===-1||K===-1?null:{start:H,end:K}}else f=null}f=f||{start:0,end:0}}else f=null;for(nm={focusedElem:i,selectionRange:f},uc=!1,pe=l;pe!==null;)if(l=pe,i=l.child,(l.subtreeFlags&1028)!==0&&i!==null)i.return=l,pe=i;else for(;pe!==null;){l=pe;try{var ye=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(ye!==null){var be=ye.memoizedProps,yt=ye.memoizedState,Z=l.stateNode,X=Z.getSnapshotBeforeUpdate(l.elementType===l.type?be:Xr(l.type,be),yt);Z.__reactInternalSnapshotBeforeUpdate=X}break;case 3:var J=l.stateNode.containerInfo;J.nodeType===1?J.textContent="":J.nodeType===9&&J.documentElement&&J.removeChild(J.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(de){mt(l,l.return,de)}if(i=l.sibling,i!==null){i.return=l.return,pe=i;break}pe=l.return}return ye=j1,j1=!1,ye}function Co(i,l,f){var g=l.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var v=g=g.next;do{if((v.tag&i)===i){var _=v.destroy;v.destroy=void 0,_!==void 0&&Wm(l,f,_)}v=v.next}while(v!==g)}}function Hc(i,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var f=l=l.next;do{if((f.tag&i)===i){var g=f.create;f.destroy=g()}f=f.next}while(f!==l)}}function Hm(i){var l=i.ref;if(l!==null){var f=i.stateNode;switch(i.tag){case 5:i=f;break;default:i=f}typeof l=="function"?l(i):l.current=i}}function S1(i){var l=i.alternate;l!==null&&(i.alternate=null,S1(l)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(l=i.stateNode,l!==null&&(delete l[dn],delete l[wo],delete l[om],delete l[TI],delete l[CI])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function _1(i){return i.tag===5||i.tag===3||i.tag===4}function N1(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||_1(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Gm(i,l,f){var g=i.tag;if(g===5||g===6)i=i.stateNode,l?f.nodeType===8?f.parentNode.insertBefore(i,l):f.insertBefore(i,l):(f.nodeType===8?(l=f.parentNode,l.insertBefore(i,f)):(l=f,l.appendChild(i)),f=f._reactRootContainer,f!=null||l.onclick!==null||(l.onclick=jc));else if(g!==4&&(i=i.child,i!==null))for(Gm(i,l,f),i=i.sibling;i!==null;)Gm(i,l,f),i=i.sibling}function Vm(i,l,f){var g=i.tag;if(g===5||g===6)i=i.stateNode,l?f.insertBefore(i,l):f.appendChild(i);else if(g!==4&&(i=i.child,i!==null))for(Vm(i,l,f),i=i.sibling;i!==null;)Vm(i,l,f),i=i.sibling}var Bt=null,Qr=!1;function oa(i,l,f){for(f=f.child;f!==null;)k1(i,l,f),f=f.sibling}function k1(i,l,f){if(un&&typeof un.onCommitFiberUnmount=="function")try{un.onCommitFiberUnmount(ac,f)}catch{}switch(f.tag){case 5:Yt||zi(f,l);case 6:var g=Bt,v=Qr;Bt=null,oa(i,l,f),Bt=g,Qr=v,Bt!==null&&(Qr?(i=Bt,f=f.stateNode,i.nodeType===8?i.parentNode.removeChild(f):i.removeChild(f)):Bt.removeChild(f.stateNode));break;case 18:Bt!==null&&(Qr?(i=Bt,f=f.stateNode,i.nodeType===8?sm(i.parentNode,f):i.nodeType===1&&sm(i,f),co(i)):sm(Bt,f.stateNode));break;case 4:g=Bt,v=Qr,Bt=f.stateNode.containerInfo,Qr=!0,oa(i,l,f),Bt=g,Qr=v;break;case 0:case 11:case 14:case 15:if(!Yt&&(g=f.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){v=g=g.next;do{var _=v,E=_.destroy;_=_.tag,E!==void 0&&((_&2)!==0||(_&4)!==0)&&Wm(f,l,E),v=v.next}while(v!==g)}oa(i,l,f);break;case 1:if(!Yt&&(zi(f,l),g=f.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=f.memoizedProps,g.state=f.memoizedState,g.componentWillUnmount()}catch(H){mt(f,l,H)}oa(i,l,f);break;case 21:oa(i,l,f);break;case 22:f.mode&1?(Yt=(g=Yt)||f.memoizedState!==null,oa(i,l,f),Yt=g):oa(i,l,f);break;default:oa(i,l,f)}}function O1(i){var l=i.updateQueue;if(l!==null){i.updateQueue=null;var f=i.stateNode;f===null&&(f=i.stateNode=new KI),l.forEach(function(g){var v=aM.bind(null,i,g);f.has(g)||(f.add(g),g.then(v,v))})}}function Zr(i,l){var f=l.deletions;if(f!==null)for(var g=0;g<f.length;g++){var v=f[g];try{var _=i,E=l,H=E;e:for(;H!==null;){switch(H.tag){case 5:Bt=H.stateNode,Qr=!1;break e;case 3:Bt=H.stateNode.containerInfo,Qr=!0;break e;case 4:Bt=H.stateNode.containerInfo,Qr=!0;break e}H=H.return}if(Bt===null)throw Error(r(160));k1(_,E,v),Bt=null,Qr=!1;var K=v.alternate;K!==null&&(K.return=null),v.return=null}catch(ee){mt(v,l,ee)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)A1(l,i),l=l.sibling}function A1(i,l){var f=i.alternate,g=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Zr(l,i),hn(i),g&4){try{Co(3,i,i.return),Hc(3,i)}catch(be){mt(i,i.return,be)}try{Co(5,i,i.return)}catch(be){mt(i,i.return,be)}}break;case 1:Zr(l,i),hn(i),g&512&&f!==null&&zi(f,f.return);break;case 5:if(Zr(l,i),hn(i),g&512&&f!==null&&zi(f,f.return),i.flags&32){var v=i.stateNode;try{Zs(v,"")}catch(be){mt(i,i.return,be)}}if(g&4&&(v=i.stateNode,v!=null)){var _=i.memoizedProps,E=f!==null?f.memoizedProps:_,H=i.type,K=i.updateQueue;if(i.updateQueue=null,K!==null)try{H==="input"&&_.type==="radio"&&_.name!=null&&it(v,_),_f(H,E);var ee=_f(H,_);for(E=0;E<K.length;E+=2){var se=K[E],ce=K[E+1];se==="style"?ub(v,ce):se==="dangerouslySetInnerHTML"?lb(v,ce):se==="children"?Zs(v,ce):O(v,se,ce,ee)}switch(H){case"input":vt(v,_);break;case"textarea":Xs(v,_);break;case"select":var ie=v._wrapperState.wasMultiple;v._wrapperState.wasMultiple=!!_.multiple;var me=_.value;me!=null?Ht(v,!!_.multiple,me,!1):ie!==!!_.multiple&&(_.defaultValue!=null?Ht(v,!!_.multiple,_.defaultValue,!0):Ht(v,!!_.multiple,_.multiple?[]:"",!1))}v[wo]=_}catch(be){mt(i,i.return,be)}}break;case 6:if(Zr(l,i),hn(i),g&4){if(i.stateNode===null)throw Error(r(162));v=i.stateNode,_=i.memoizedProps;try{v.nodeValue=_}catch(be){mt(i,i.return,be)}}break;case 3:if(Zr(l,i),hn(i),g&4&&f!==null&&f.memoizedState.isDehydrated)try{co(l.containerInfo)}catch(be){mt(i,i.return,be)}break;case 4:Zr(l,i),hn(i);break;case 13:Zr(l,i),hn(i),v=i.child,v.flags&8192&&(_=v.memoizedState!==null,v.stateNode.isHidden=_,!_||v.alternate!==null&&v.alternate.memoizedState!==null||(Xm=gt())),g&4&&O1(i);break;case 22:if(se=f!==null&&f.memoizedState!==null,i.mode&1?(Yt=(ee=Yt)||se,Zr(l,i),Yt=ee):Zr(l,i),hn(i),g&8192){if(ee=i.memoizedState!==null,(i.stateNode.isHidden=ee)&&!se&&(i.mode&1)!==0)for(pe=i,se=i.child;se!==null;){for(ce=pe=se;pe!==null;){switch(ie=pe,me=ie.child,ie.tag){case 0:case 11:case 14:case 15:Co(4,ie,ie.return);break;case 1:zi(ie,ie.return);var ye=ie.stateNode;if(typeof ye.componentWillUnmount=="function"){g=ie,f=ie.return;try{l=g,ye.props=l.memoizedProps,ye.state=l.memoizedState,ye.componentWillUnmount()}catch(be){mt(g,f,be)}}break;case 5:zi(ie,ie.return);break;case 22:if(ie.memoizedState!==null){T1(ce);continue}}me!==null?(me.return=ie,pe=me):T1(ce)}se=se.sibling}e:for(se=null,ce=i;;){if(ce.tag===5){if(se===null){se=ce;try{v=ce.stateNode,ee?(_=v.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none"):(H=ce.stateNode,K=ce.memoizedProps.style,E=K!=null&&K.hasOwnProperty("display")?K.display:null,H.style.display=cb("display",E))}catch(be){mt(i,i.return,be)}}}else if(ce.tag===6){if(se===null)try{ce.stateNode.nodeValue=ee?"":ce.memoizedProps}catch(be){mt(i,i.return,be)}}else if((ce.tag!==22&&ce.tag!==23||ce.memoizedState===null||ce===i)&&ce.child!==null){ce.child.return=ce,ce=ce.child;continue}if(ce===i)break e;for(;ce.sibling===null;){if(ce.return===null||ce.return===i)break e;se===ce&&(se=null),ce=ce.return}se===ce&&(se=null),ce.sibling.return=ce.return,ce=ce.sibling}}break;case 19:Zr(l,i),hn(i),g&4&&O1(i);break;case 21:break;default:Zr(l,i),hn(i)}}function hn(i){var l=i.flags;if(l&2){try{e:{for(var f=i.return;f!==null;){if(_1(f)){var g=f;break e}f=f.return}throw Error(r(160))}switch(g.tag){case 5:var v=g.stateNode;g.flags&32&&(Zs(v,""),g.flags&=-33);var _=N1(i);Vm(i,_,v);break;case 3:case 4:var E=g.stateNode.containerInfo,H=N1(i);Gm(i,H,E);break;default:throw Error(r(161))}}catch(K){mt(i,i.return,K)}i.flags&=-3}l&4096&&(i.flags&=-4097)}function XI(i,l,f){pe=i,P1(i)}function P1(i,l,f){for(var g=(i.mode&1)!==0;pe!==null;){var v=pe,_=v.child;if(v.tag===22&&g){var E=v.memoizedState!==null||Wc;if(!E){var H=v.alternate,K=H!==null&&H.memoizedState!==null||Yt;H=Wc;var ee=Yt;if(Wc=E,(Yt=K)&&!ee)for(pe=v;pe!==null;)E=pe,K=E.child,E.tag===22&&E.memoizedState!==null?C1(v):K!==null?(K.return=E,pe=K):C1(v);for(;_!==null;)pe=_,P1(_),_=_.sibling;pe=v,Wc=H,Yt=ee}E1(i)}else(v.subtreeFlags&8772)!==0&&_!==null?(_.return=v,pe=_):E1(i)}}function E1(i){for(;pe!==null;){var l=pe;if((l.flags&8772)!==0){var f=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:Yt||Hc(5,l);break;case 1:var g=l.stateNode;if(l.flags&4&&!Yt)if(f===null)g.componentDidMount();else{var v=l.elementType===l.type?f.memoizedProps:Xr(l.type,f.memoizedProps);g.componentDidUpdate(v,f.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var _=l.updateQueue;_!==null&&Tw(l,_,g);break;case 3:var E=l.updateQueue;if(E!==null){if(f=null,l.child!==null)switch(l.child.tag){case 5:f=l.child.stateNode;break;case 1:f=l.child.stateNode}Tw(l,E,f)}break;case 5:var H=l.stateNode;if(f===null&&l.flags&4){f=H;var K=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":K.autoFocus&&f.focus();break;case"img":K.src&&(f.src=K.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var ee=l.alternate;if(ee!==null){var se=ee.memoizedState;if(se!==null){var ce=se.dehydrated;ce!==null&&co(ce)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Yt||l.flags&512&&Hm(l)}catch(ie){mt(l,l.return,ie)}}if(l===i){pe=null;break}if(f=l.sibling,f!==null){f.return=l.return,pe=f;break}pe=l.return}}function T1(i){for(;pe!==null;){var l=pe;if(l===i){pe=null;break}var f=l.sibling;if(f!==null){f.return=l.return,pe=f;break}pe=l.return}}function C1(i){for(;pe!==null;){var l=pe;try{switch(l.tag){case 0:case 11:case 15:var f=l.return;try{Hc(4,l)}catch(K){mt(l,f,K)}break;case 1:var g=l.stateNode;if(typeof g.componentDidMount=="function"){var v=l.return;try{g.componentDidMount()}catch(K){mt(l,v,K)}}var _=l.return;try{Hm(l)}catch(K){mt(l,_,K)}break;case 5:var E=l.return;try{Hm(l)}catch(K){mt(l,E,K)}}}catch(K){mt(l,l.return,K)}if(l===i){pe=null;break}var H=l.sibling;if(H!==null){H.return=l.return,pe=H;break}pe=l.return}}var QI=Math.ceil,Gc=P.ReactCurrentDispatcher,Km=P.ReactCurrentOwner,Cr=P.ReactCurrentBatchConfig,Be=0,Mt=null,xt=null,Ft=0,br=0,qi=ra(0),kt=0,Io=null,za=0,Vc=0,Ym=0,Mo=null,ur=null,Xm=0,Ui=1/0,Cn=null,Kc=!1,Qm=null,la=null,Yc=!1,ca=null,Xc=0,Ro=0,Zm=null,Qc=-1,Zc=0;function Jt(){return(Be&6)!==0?gt():Qc!==-1?Qc:Qc=gt()}function ua(i){return(i.mode&1)===0?1:(Be&2)!==0&&Ft!==0?Ft&-Ft:MI.transition!==null?(Zc===0&&(Zc=Nb()),Zc):(i=Ge,i!==0||(i=window.event,i=i===void 0?16:Mb(i.type)),i)}function Jr(i,l,f,g){if(50<Ro)throw Ro=0,Zm=null,Error(r(185));ao(i,f,g),((Be&2)===0||i!==Mt)&&(i===Mt&&((Be&2)===0&&(Vc|=f),kt===4&&da(i,Ft)),dr(i,g),f===1&&Be===0&&(l.mode&1)===0&&(Ui=gt()+500,kc&&aa()))}function dr(i,l){var f=i.callbackNode;MC(i,l);var g=oc(i,i===Mt?Ft:0);if(g===0)f!==null&&jb(f),i.callbackNode=null,i.callbackPriority=0;else if(l=g&-g,i.callbackPriority!==l){if(f!=null&&jb(f),l===1)i.tag===0?II(M1.bind(null,i)):xw(M1.bind(null,i)),PI(function(){(Be&6)===0&&aa()}),f=null;else{switch(kb(g)){case 1:f=Tf;break;case 4:f=Sb;break;case 16:f=nc;break;case 536870912:f=_b;break;default:f=nc}f=q1(f,I1.bind(null,i))}i.callbackPriority=l,i.callbackNode=f}}function I1(i,l){if(Qc=-1,Zc=0,(Be&6)!==0)throw Error(r(327));var f=i.callbackNode;if(Wi()&&i.callbackNode!==f)return null;var g=oc(i,i===Mt?Ft:0);if(g===0)return null;if((g&30)!==0||(g&i.expiredLanes)!==0||l)l=Jc(i,g);else{l=g;var v=Be;Be|=2;var _=$1();(Mt!==i||Ft!==l)&&(Cn=null,Ui=gt()+500,Ua(i,l));do try{eM();break}catch(H){R1(i,H)}while(!0);gm(),Gc.current=_,Be=v,xt!==null?l=0:(Mt=null,Ft=0,l=kt)}if(l!==0){if(l===2&&(v=Cf(i),v!==0&&(g=v,l=Jm(i,v))),l===1)throw f=Io,Ua(i,0),da(i,g),dr(i,gt()),f;if(l===6)da(i,g);else{if(v=i.current.alternate,(g&30)===0&&!ZI(v)&&(l=Jc(i,g),l===2&&(_=Cf(i),_!==0&&(g=_,l=Jm(i,_))),l===1))throw f=Io,Ua(i,0),da(i,g),dr(i,gt()),f;switch(i.finishedWork=v,i.finishedLanes=g,l){case 0:case 1:throw Error(r(345));case 2:Wa(i,ur,Cn);break;case 3:if(da(i,g),(g&130023424)===g&&(l=Xm+500-gt(),10<l)){if(oc(i,0)!==0)break;if(v=i.suspendedLanes,(v&g)!==g){Jt(),i.pingedLanes|=i.suspendedLanes&v;break}i.timeoutHandle=im(Wa.bind(null,i,ur,Cn),l);break}Wa(i,ur,Cn);break;case 4:if(da(i,g),(g&4194240)===g)break;for(l=i.eventTimes,v=-1;0<g;){var E=31-Vr(g);_=1<<E,E=l[E],E>v&&(v=E),g&=~_}if(g=v,g=gt()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*QI(g/1960))-g,10<g){i.timeoutHandle=im(Wa.bind(null,i,ur,Cn),g);break}Wa(i,ur,Cn);break;case 5:Wa(i,ur,Cn);break;default:throw Error(r(329))}}}return dr(i,gt()),i.callbackNode===f?I1.bind(null,i):null}function Jm(i,l){var f=Mo;return i.current.memoizedState.isDehydrated&&(Ua(i,l).flags|=256),i=Jc(i,l),i!==2&&(l=ur,ur=f,l!==null&&eh(l)),i}function eh(i){ur===null?ur=i:ur.push.apply(ur,i)}function ZI(i){for(var l=i;;){if(l.flags&16384){var f=l.updateQueue;if(f!==null&&(f=f.stores,f!==null))for(var g=0;g<f.length;g++){var v=f[g],_=v.getSnapshot;v=v.value;try{if(!Kr(_(),v))return!1}catch{return!1}}}if(f=l.child,l.subtreeFlags&16384&&f!==null)f.return=l,l=f;else{if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function da(i,l){for(l&=~Ym,l&=~Vc,i.suspendedLanes|=l,i.pingedLanes&=~l,i=i.expirationTimes;0<l;){var f=31-Vr(l),g=1<<f;i[f]=-1,l&=~g}}function M1(i){if((Be&6)!==0)throw Error(r(327));Wi();var l=oc(i,0);if((l&1)===0)return dr(i,gt()),null;var f=Jc(i,l);if(i.tag!==0&&f===2){var g=Cf(i);g!==0&&(l=g,f=Jm(i,g))}if(f===1)throw f=Io,Ua(i,0),da(i,l),dr(i,gt()),f;if(f===6)throw Error(r(345));return i.finishedWork=i.current.alternate,i.finishedLanes=l,Wa(i,ur,Cn),dr(i,gt()),null}function th(i,l){var f=Be;Be|=1;try{return i(l)}finally{Be=f,Be===0&&(Ui=gt()+500,kc&&aa())}}function qa(i){ca!==null&&ca.tag===0&&(Be&6)===0&&Wi();var l=Be;Be|=1;var f=Cr.transition,g=Ge;try{if(Cr.transition=null,Ge=1,i)return i()}finally{Ge=g,Cr.transition=f,Be=l,(Be&6)===0&&aa()}}function rh(){br=qi.current,et(qi)}function Ua(i,l){i.finishedWork=null,i.finishedLanes=0;var f=i.timeoutHandle;if(f!==-1&&(i.timeoutHandle=-1,AI(f)),xt!==null)for(f=xt.return;f!==null;){var g=f;switch(dm(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&_c();break;case 3:Bi(),et(or),et(Gt),_m();break;case 5:jm(g);break;case 4:Bi();break;case 13:et(ut);break;case 19:et(ut);break;case 10:ym(g.type._context);break;case 22:case 23:rh()}f=f.return}if(Mt=i,xt=i=fa(i.current,null),Ft=br=l,kt=0,Io=null,Ym=Vc=za=0,ur=Mo=null,La!==null){for(l=0;l<La.length;l++)if(f=La[l],g=f.interleaved,g!==null){f.interleaved=null;var v=g.next,_=f.pending;if(_!==null){var E=_.next;_.next=v,g.next=E}f.pending=g}La=null}return i}function R1(i,l){do{var f=xt;try{if(gm(),$c.current=Fc,Dc){for(var g=dt.memoizedState;g!==null;){var v=g.queue;v!==null&&(v.pending=null),g=g.next}Dc=!1}if(Fa=0,It=Nt=dt=null,Oo=!1,Ao=0,Km.current=null,f===null||f.return===null){kt=1,Io=l,xt=null;break}e:{var _=i,E=f.return,H=f,K=l;if(l=Ft,H.flags|=32768,K!==null&&typeof K=="object"&&typeof K.then=="function"){var ee=K,se=H,ce=se.tag;if((se.mode&1)===0&&(ce===0||ce===11||ce===15)){var ie=se.alternate;ie?(se.updateQueue=ie.updateQueue,se.memoizedState=ie.memoizedState,se.lanes=ie.lanes):(se.updateQueue=null,se.memoizedState=null)}var me=s1(E);if(me!==null){me.flags&=-257,o1(me,E,H,_,l),me.mode&1&&i1(_,ee,l),l=me,K=ee;var ye=l.updateQueue;if(ye===null){var be=new Set;be.add(K),l.updateQueue=be}else ye.add(K);break e}else{if((l&1)===0){i1(_,ee,l),nh();break e}K=Error(r(426))}}else if(st&&H.mode&1){var yt=s1(E);if(yt!==null){(yt.flags&65536)===0&&(yt.flags|=256),o1(yt,E,H,_,l),hm(Fi(K,H));break e}}_=K=Fi(K,H),kt!==4&&(kt=2),Mo===null?Mo=[_]:Mo.push(_),_=E;do{switch(_.tag){case 3:_.flags|=65536,l&=-l,_.lanes|=l;var Z=n1(_,K,l);Ew(_,Z);break e;case 1:H=K;var X=_.type,J=_.stateNode;if((_.flags&128)===0&&(typeof X.getDerivedStateFromError=="function"||J!==null&&typeof J.componentDidCatch=="function"&&(la===null||!la.has(J)))){_.flags|=65536,l&=-l,_.lanes|=l;var de=a1(_,H,l);Ew(_,de);break e}}_=_.return}while(_!==null)}L1(f)}catch(je){l=je,xt===f&&f!==null&&(xt=f=f.return);continue}break}while(!0)}function $1(){var i=Gc.current;return Gc.current=Fc,i===null?Fc:i}function nh(){(kt===0||kt===3||kt===2)&&(kt=4),Mt===null||(za&268435455)===0&&(Vc&268435455)===0||da(Mt,Ft)}function Jc(i,l){var f=Be;Be|=2;var g=$1();(Mt!==i||Ft!==l)&&(Cn=null,Ua(i,l));do try{JI();break}catch(v){R1(i,v)}while(!0);if(gm(),Be=f,Gc.current=g,xt!==null)throw Error(r(261));return Mt=null,Ft=0,kt}function JI(){for(;xt!==null;)D1(xt)}function eM(){for(;xt!==null&&!NC();)D1(xt)}function D1(i){var l=z1(i.alternate,i,br);i.memoizedProps=i.pendingProps,l===null?L1(i):xt=l,Km.current=null}function L1(i){var l=i;do{var f=l.alternate;if(i=l.return,(l.flags&32768)===0){if(f=GI(f,l,br),f!==null){xt=f;return}}else{if(f=VI(f,l),f!==null){f.flags&=32767,xt=f;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{kt=6,xt=null;return}}if(l=l.sibling,l!==null){xt=l;return}xt=l=i}while(l!==null);kt===0&&(kt=5)}function Wa(i,l,f){var g=Ge,v=Cr.transition;try{Cr.transition=null,Ge=1,tM(i,l,f,g)}finally{Cr.transition=v,Ge=g}return null}function tM(i,l,f,g){do Wi();while(ca!==null);if((Be&6)!==0)throw Error(r(327));f=i.finishedWork;var v=i.finishedLanes;if(f===null)return null;if(i.finishedWork=null,i.finishedLanes=0,f===i.current)throw Error(r(177));i.callbackNode=null,i.callbackPriority=0;var _=f.lanes|f.childLanes;if(RC(i,_),i===Mt&&(xt=Mt=null,Ft=0),(f.subtreeFlags&2064)===0&&(f.flags&2064)===0||Yc||(Yc=!0,q1(nc,function(){return Wi(),null})),_=(f.flags&15990)!==0,(f.subtreeFlags&15990)!==0||_){_=Cr.transition,Cr.transition=null;var E=Ge;Ge=1;var H=Be;Be|=4,Km.current=null,YI(i,f),A1(f,i),wI(nm),uc=!!rm,nm=rm=null,i.current=f,XI(f),kC(),Be=H,Ge=E,Cr.transition=_}else i.current=f;if(Yc&&(Yc=!1,ca=i,Xc=v),_=i.pendingLanes,_===0&&(la=null),PC(f.stateNode),dr(i,gt()),l!==null)for(g=i.onRecoverableError,f=0;f<l.length;f++)v=l[f],g(v.value,{componentStack:v.stack,digest:v.digest});if(Kc)throw Kc=!1,i=Qm,Qm=null,i;return(Xc&1)!==0&&i.tag!==0&&Wi(),_=i.pendingLanes,(_&1)!==0?i===Zm?Ro++:(Ro=0,Zm=i):Ro=0,aa(),null}function Wi(){if(ca!==null){var i=kb(Xc),l=Cr.transition,f=Ge;try{if(Cr.transition=null,Ge=16>i?16:i,ca===null)var g=!1;else{if(i=ca,ca=null,Xc=0,(Be&6)!==0)throw Error(r(331));var v=Be;for(Be|=4,pe=i.current;pe!==null;){var _=pe,E=_.child;if((pe.flags&16)!==0){var H=_.deletions;if(H!==null){for(var K=0;K<H.length;K++){var ee=H[K];for(pe=ee;pe!==null;){var se=pe;switch(se.tag){case 0:case 11:case 15:Co(8,se,_)}var ce=se.child;if(ce!==null)ce.return=se,pe=ce;else for(;pe!==null;){se=pe;var ie=se.sibling,me=se.return;if(S1(se),se===ee){pe=null;break}if(ie!==null){ie.return=me,pe=ie;break}pe=me}}}var ye=_.alternate;if(ye!==null){var be=ye.child;if(be!==null){ye.child=null;do{var yt=be.sibling;be.sibling=null,be=yt}while(be!==null)}}pe=_}}if((_.subtreeFlags&2064)!==0&&E!==null)E.return=_,pe=E;else e:for(;pe!==null;){if(_=pe,(_.flags&2048)!==0)switch(_.tag){case 0:case 11:case 15:Co(9,_,_.return)}var Z=_.sibling;if(Z!==null){Z.return=_.return,pe=Z;break e}pe=_.return}}var X=i.current;for(pe=X;pe!==null;){E=pe;var J=E.child;if((E.subtreeFlags&2064)!==0&&J!==null)J.return=E,pe=J;else e:for(E=X;pe!==null;){if(H=pe,(H.flags&2048)!==0)try{switch(H.tag){case 0:case 11:case 15:Hc(9,H)}}catch(je){mt(H,H.return,je)}if(H===E){pe=null;break e}var de=H.sibling;if(de!==null){de.return=H.return,pe=de;break e}pe=H.return}}if(Be=v,aa(),un&&typeof un.onPostCommitFiberRoot=="function")try{un.onPostCommitFiberRoot(ac,i)}catch{}g=!0}return g}finally{Ge=f,Cr.transition=l}}return!1}function B1(i,l,f){l=Fi(f,l),l=n1(i,l,1),i=sa(i,l,1),l=Jt(),i!==null&&(ao(i,1,l),dr(i,l))}function mt(i,l,f){if(i.tag===3)B1(i,i,f);else for(;l!==null;){if(l.tag===3){B1(l,i,f);break}else if(l.tag===1){var g=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(la===null||!la.has(g))){i=Fi(f,i),i=a1(l,i,1),l=sa(l,i,1),i=Jt(),l!==null&&(ao(l,1,i),dr(l,i));break}}l=l.return}}function rM(i,l,f){var g=i.pingCache;g!==null&&g.delete(l),l=Jt(),i.pingedLanes|=i.suspendedLanes&f,Mt===i&&(Ft&f)===f&&(kt===4||kt===3&&(Ft&130023424)===Ft&&500>gt()-Xm?Ua(i,0):Ym|=f),dr(i,l)}function F1(i,l){l===0&&((i.mode&1)===0?l=1:(l=sc,sc<<=1,(sc&130023424)===0&&(sc=4194304)));var f=Jt();i=Pn(i,l),i!==null&&(ao(i,l,f),dr(i,f))}function nM(i){var l=i.memoizedState,f=0;l!==null&&(f=l.retryLane),F1(i,f)}function aM(i,l){var f=0;switch(i.tag){case 13:var g=i.stateNode,v=i.memoizedState;v!==null&&(f=v.retryLane);break;case 19:g=i.stateNode;break;default:throw Error(r(314))}g!==null&&g.delete(l),F1(i,f)}var z1;z1=function(i,l,f){if(i!==null)if(i.memoizedProps!==l.pendingProps||or.current)cr=!0;else{if((i.lanes&f)===0&&(l.flags&128)===0)return cr=!1,HI(i,l,f);cr=(i.flags&131072)!==0}else cr=!1,st&&(l.flags&1048576)!==0&&bw(l,Ac,l.index);switch(l.lanes=0,l.tag){case 2:var g=l.type;Uc(i,l),i=l.pendingProps;var v=Ci(l,Gt.current);Li(l,f),v=Om(null,l,g,i,v,f);var _=Am();return l.flags|=1,typeof v=="object"&&v!==null&&typeof v.render=="function"&&v.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,lr(g)?(_=!0,Nc(l)):_=!1,l.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,bm(l),v.updater=zc,l.stateNode=v,v._reactInternals=l,Mm(l,g,i,f),l=Lm(null,l,g,!0,_,f)):(l.tag=0,st&&_&&um(l),Zt(null,l,v,f),l=l.child),l;case 16:g=l.elementType;e:{switch(Uc(i,l),i=l.pendingProps,v=g._init,g=v(g._payload),l.type=g,v=l.tag=sM(g),i=Xr(g,i),v){case 0:l=Dm(null,l,g,i,f);break e;case 1:l=m1(null,l,g,i,f);break e;case 11:l=l1(null,l,g,i,f);break e;case 14:l=c1(null,l,g,Xr(g.type,i),f);break e}throw Error(r(306,g,""))}return l;case 0:return g=l.type,v=l.pendingProps,v=l.elementType===g?v:Xr(g,v),Dm(i,l,g,v,f);case 1:return g=l.type,v=l.pendingProps,v=l.elementType===g?v:Xr(g,v),m1(i,l,g,v,f);case 3:e:{if(h1(l),i===null)throw Error(r(387));g=l.pendingProps,_=l.memoizedState,v=_.element,Pw(i,l),Mc(l,g,null,f);var E=l.memoizedState;if(g=E.element,_.isDehydrated)if(_={element:g,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},l.updateQueue.baseState=_,l.memoizedState=_,l.flags&256){v=Fi(Error(r(423)),l),l=p1(i,l,g,f,v);break e}else if(g!==v){v=Fi(Error(r(424)),l),l=p1(i,l,g,f,v);break e}else for(xr=ta(l.stateNode.containerInfo.firstChild),vr=l,st=!0,Yr=null,f=Ow(l,null,g,f),l.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if(Ri(),g===v){l=Tn(i,l,f);break e}Zt(i,l,g,f)}l=l.child}return l;case 5:return Cw(l),i===null&&mm(l),g=l.type,v=l.pendingProps,_=i!==null?i.memoizedProps:null,E=v.children,am(g,v)?E=null:_!==null&&am(g,_)&&(l.flags|=32),f1(i,l),Zt(i,l,E,f),l.child;case 6:return i===null&&mm(l),null;case 13:return g1(i,l,f);case 4:return wm(l,l.stateNode.containerInfo),g=l.pendingProps,i===null?l.child=$i(l,null,g,f):Zt(i,l,g,f),l.child;case 11:return g=l.type,v=l.pendingProps,v=l.elementType===g?v:Xr(g,v),l1(i,l,g,v,f);case 7:return Zt(i,l,l.pendingProps,f),l.child;case 8:return Zt(i,l,l.pendingProps.children,f),l.child;case 12:return Zt(i,l,l.pendingProps.children,f),l.child;case 10:e:{if(g=l.type._context,v=l.pendingProps,_=l.memoizedProps,E=v.value,Ye(Tc,g._currentValue),g._currentValue=E,_!==null)if(Kr(_.value,E)){if(_.children===v.children&&!or.current){l=Tn(i,l,f);break e}}else for(_=l.child,_!==null&&(_.return=l);_!==null;){var H=_.dependencies;if(H!==null){E=_.child;for(var K=H.firstContext;K!==null;){if(K.context===g){if(_.tag===1){K=En(-1,f&-f),K.tag=2;var ee=_.updateQueue;if(ee!==null){ee=ee.shared;var se=ee.pending;se===null?K.next=K:(K.next=se.next,se.next=K),ee.pending=K}}_.lanes|=f,K=_.alternate,K!==null&&(K.lanes|=f),vm(_.return,f,l),H.lanes|=f;break}K=K.next}}else if(_.tag===10)E=_.type===l.type?null:_.child;else if(_.tag===18){if(E=_.return,E===null)throw Error(r(341));E.lanes|=f,H=E.alternate,H!==null&&(H.lanes|=f),vm(E,f,l),E=_.sibling}else E=_.child;if(E!==null)E.return=_;else for(E=_;E!==null;){if(E===l){E=null;break}if(_=E.sibling,_!==null){_.return=E.return,E=_;break}E=E.return}_=E}Zt(i,l,v.children,f),l=l.child}return l;case 9:return v=l.type,g=l.pendingProps.children,Li(l,f),v=Er(v),g=g(v),l.flags|=1,Zt(i,l,g,f),l.child;case 14:return g=l.type,v=Xr(g,l.pendingProps),v=Xr(g.type,v),c1(i,l,g,v,f);case 15:return u1(i,l,l.type,l.pendingProps,f);case 17:return g=l.type,v=l.pendingProps,v=l.elementType===g?v:Xr(g,v),Uc(i,l),l.tag=1,lr(g)?(i=!0,Nc(l)):i=!1,Li(l,f),t1(l,g,v),Mm(l,g,v,f),Lm(null,l,g,!0,i,f);case 19:return v1(i,l,f);case 22:return d1(i,l,f)}throw Error(r(156,l.tag))};function q1(i,l){return wb(i,l)}function iM(i,l,f,g){this.tag=i,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ir(i,l,f,g){return new iM(i,l,f,g)}function ah(i){return i=i.prototype,!(!i||!i.isReactComponent)}function sM(i){if(typeof i=="function")return ah(i)?1:0;if(i!=null){if(i=i.$$typeof,i===q)return 11;if(i===L)return 14}return 2}function fa(i,l){var f=i.alternate;return f===null?(f=Ir(i.tag,l,i.key,i.mode),f.elementType=i.elementType,f.type=i.type,f.stateNode=i.stateNode,f.alternate=i,i.alternate=f):(f.pendingProps=l,f.type=i.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=i.flags&14680064,f.childLanes=i.childLanes,f.lanes=i.lanes,f.child=i.child,f.memoizedProps=i.memoizedProps,f.memoizedState=i.memoizedState,f.updateQueue=i.updateQueue,l=i.dependencies,f.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},f.sibling=i.sibling,f.index=i.index,f.ref=i.ref,f}function eu(i,l,f,g,v,_){var E=2;if(g=i,typeof i=="function")ah(i)&&(E=1);else if(typeof i=="string")E=5;else e:switch(i){case T:return Ha(f.children,v,_,l);case D:E=8,v|=8;break;case C:return i=Ir(12,f,l,v|2),i.elementType=C,i.lanes=_,i;case B:return i=Ir(13,f,l,v),i.elementType=B,i.lanes=_,i;case V:return i=Ir(19,f,l,v),i.elementType=V,i.lanes=_,i;case G:return tu(f,v,_,l);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case F:E=10;break e;case I:E=9;break e;case q:E=11;break e;case L:E=14;break e;case M:E=16,g=null;break e}throw Error(r(130,i==null?i:typeof i,""))}return l=Ir(E,f,l,v),l.elementType=i,l.type=g,l.lanes=_,l}function Ha(i,l,f,g){return i=Ir(7,i,g,l),i.lanes=f,i}function tu(i,l,f,g){return i=Ir(22,i,g,l),i.elementType=G,i.lanes=f,i.stateNode={isHidden:!1},i}function ih(i,l,f){return i=Ir(6,i,null,l),i.lanes=f,i}function sh(i,l,f){return l=Ir(4,i.children!==null?i.children:[],i.key,l),l.lanes=f,l.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},l}function oM(i,l,f,g,v){this.tag=l,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=If(0),this.expirationTimes=If(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=If(0),this.identifierPrefix=g,this.onRecoverableError=v,this.mutableSourceEagerHydrationData=null}function oh(i,l,f,g,v,_,E,H,K){return i=new oM(i,l,f,H,K),l===1?(l=1,_===!0&&(l|=8)):l=0,_=Ir(3,null,null,l),i.current=_,_.stateNode=i,_.memoizedState={element:g,isDehydrated:f,cache:null,transitions:null,pendingSuspenseBoundaries:null},bm(_),i}function lM(i,l,f){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:A,key:g==null?null:""+g,children:i,containerInfo:l,implementation:f}}function U1(i){if(!i)return na;i=i._reactInternals;e:{if(Ia(i)!==i||i.tag!==1)throw Error(r(170));var l=i;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(lr(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(r(171))}if(i.tag===1){var f=i.type;if(lr(f))return yw(i,f,l)}return l}function W1(i,l,f,g,v,_,E,H,K){return i=oh(f,g,!0,i,v,_,E,H,K),i.context=U1(null),f=i.current,g=Jt(),v=ua(f),_=En(g,v),_.callback=l??null,sa(f,_,v),i.current.lanes=v,ao(i,v,g),dr(i,g),i}function ru(i,l,f,g){var v=l.current,_=Jt(),E=ua(v);return f=U1(f),l.context===null?l.context=f:l.pendingContext=f,l=En(_,E),l.payload={element:i},g=g===void 0?null:g,g!==null&&(l.callback=g),i=sa(v,l,E),i!==null&&(Jr(i,v,E,_),Ic(i,v,E)),E}function nu(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function H1(i,l){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var f=i.retryLane;i.retryLane=f!==0&&f<l?f:l}}function lh(i,l){H1(i,l),(i=i.alternate)&&H1(i,l)}function cM(){return null}var G1=typeof reportError=="function"?reportError:function(i){console.error(i)};function ch(i){this._internalRoot=i}au.prototype.render=ch.prototype.render=function(i){var l=this._internalRoot;if(l===null)throw Error(r(409));ru(i,l,null,null)},au.prototype.unmount=ch.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var l=i.containerInfo;qa(function(){ru(null,i,null,null)}),l[Nn]=null}};function au(i){this._internalRoot=i}au.prototype.unstable_scheduleHydration=function(i){if(i){var l=Pb();i={blockedOn:null,target:i,priority:l};for(var f=0;f<Zn.length&&l!==0&&l<Zn[f].priority;f++);Zn.splice(f,0,i),f===0&&Cb(i)}};function uh(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function iu(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function V1(){}function uM(i,l,f,g,v){if(v){if(typeof g=="function"){var _=g;g=function(){var ee=nu(E);_.call(ee)}}var E=W1(l,g,i,0,null,!1,!1,"",V1);return i._reactRootContainer=E,i[Nn]=E.current,xo(i.nodeType===8?i.parentNode:i),qa(),E}for(;v=i.lastChild;)i.removeChild(v);if(typeof g=="function"){var H=g;g=function(){var ee=nu(K);H.call(ee)}}var K=oh(i,0,!1,null,null,!1,!1,"",V1);return i._reactRootContainer=K,i[Nn]=K.current,xo(i.nodeType===8?i.parentNode:i),qa(function(){ru(l,K,f,g)}),K}function su(i,l,f,g,v){var _=f._reactRootContainer;if(_){var E=_;if(typeof v=="function"){var H=v;v=function(){var K=nu(E);H.call(K)}}ru(l,E,i,v)}else E=uM(f,l,i,v,g);return nu(E)}Ob=function(i){switch(i.tag){case 3:var l=i.stateNode;if(l.current.memoizedState.isDehydrated){var f=no(l.pendingLanes);f!==0&&(Mf(l,f|1),dr(l,gt()),(Be&6)===0&&(Ui=gt()+500,aa()))}break;case 13:qa(function(){var g=Pn(i,1);if(g!==null){var v=Jt();Jr(g,i,1,v)}}),lh(i,1)}},Rf=function(i){if(i.tag===13){var l=Pn(i,134217728);if(l!==null){var f=Jt();Jr(l,i,134217728,f)}lh(i,134217728)}},Ab=function(i){if(i.tag===13){var l=ua(i),f=Pn(i,l);if(f!==null){var g=Jt();Jr(f,i,l,g)}lh(i,l)}},Pb=function(){return Ge},Eb=function(i,l){var f=Ge;try{return Ge=i,l()}finally{Ge=f}},Of=function(i,l,f){switch(l){case"input":if(vt(i,f),l=f.name,f.type==="radio"&&l!=null){for(f=i;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<f.length;l++){var g=f[l];if(g!==i&&g.form===i.form){var v=Sc(g);if(!v)throw Error(r(90));ne(g),vt(g,v)}}}break;case"textarea":Xs(i,f);break;case"select":l=f.value,l!=null&&Ht(i,!!f.multiple,l,!1)}},hb=th,pb=qa;var dM={usingClientEntryPoint:!1,Events:[jo,Ei,Sc,fb,mb,th]},$o={findFiberByHostInstance:Ma,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},fM={bundleType:$o.bundleType,version:$o.version,rendererPackageName:$o.rendererPackageName,rendererConfig:$o.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:P.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=xb(i),i===null?null:i.stateNode},findFiberByHostInstance:$o.findFiberByHostInstance||cM,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ou=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ou.isDisabled&&ou.supportsFiber)try{ac=ou.inject(fM),un=ou}catch{}}return fr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dM,fr.createPortal=function(i,l){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!uh(l))throw Error(r(200));return lM(i,l,null,f)},fr.createRoot=function(i,l){if(!uh(i))throw Error(r(299));var f=!1,g="",v=G1;return l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onRecoverableError!==void 0&&(v=l.onRecoverableError)),l=oh(i,1,!1,null,null,f,!1,g,v),i[Nn]=l.current,xo(i.nodeType===8?i.parentNode:i),new ch(l)},fr.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var l=i._reactInternals;if(l===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=xb(l),i=i===null?null:i.stateNode,i},fr.flushSync=function(i){return qa(i)},fr.hydrate=function(i,l,f){if(!iu(l))throw Error(r(200));return su(null,i,l,!0,f)},fr.hydrateRoot=function(i,l,f){if(!uh(i))throw Error(r(405));var g=f!=null&&f.hydratedSources||null,v=!1,_="",E=G1;if(f!=null&&(f.unstable_strictMode===!0&&(v=!0),f.identifierPrefix!==void 0&&(_=f.identifierPrefix),f.onRecoverableError!==void 0&&(E=f.onRecoverableError)),l=W1(l,null,i,1,f??null,v,!1,_,E),i[Nn]=l.current,xo(i),g)for(i=0;i<g.length;i++)f=g[i],v=f._getVersion,v=v(f._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[f,v]:l.mutableSourceEagerHydrationData.push(f,v);return new au(l)},fr.render=function(i,l,f){if(!iu(l))throw Error(r(200));return su(null,i,l,!1,f)},fr.unmountComponentAtNode=function(i){if(!iu(i))throw Error(r(40));return i._reactRootContainer?(qa(function(){su(null,null,i,!1,function(){i._reactRootContainer=null,i[Nn]=null})}),!0):!1},fr.unstable_batchedUpdates=th,fr.unstable_renderSubtreeIntoContainer=function(i,l,f,g){if(!iu(f))throw Error(r(200));if(i==null||i._reactInternals===void 0)throw Error(r(38));return su(i,l,f,!1,g)},fr.version="18.3.1-next-f1338f8080-20240426",fr}var tj;function bM(){if(tj)return mh.exports;tj=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),mh.exports=xM(),mh.exports}var rj;function wM(){if(rj)return cu;rj=1;var t=bM();return cu.createRoot=t.createRoot,cu.hydrateRoot=t.hydrateRoot,cu}var jM=wM();const SM=He(jM),_M={VITE_DEBUG_LOGS:"false",VITE_ENABLE_EDGE_FETCH:"true",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFueW1iZWNqZ2Vhb3hzZnBocnRpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTYwMTczNjEsImV4cCI6MjA3MTU5MzM2MX0.6wAWe5GdKzTOjVa0eUVhDJ4IwczseO9A83uwXlDg0DU",VITE_SUPABASE_EDGE_BASE:"https://qnymbecjgeaoxsfphrti.functions.supabase.co",VITE_SUPABASE_URL:"https://qnymbecjgeaoxsfphrti.supabase.co",VITE_USE_STREAMING_DATASETS:"true"},wa=_M||{},Z0=String(wa.VITE_DEBUG_LOGS||"").toLowerCase()==="true";let nj=!1;function J0(){const t=wa.VITE_SUPABASE_URL,e=wa.VITE_SUPABASE_ANON_KEY;return Z0&&console.log("getSupabaseConfig - VITE_SUPABASE_URL:",t,"VITE_SUPABASE_ANON_KEY loaded:",!!e),(!t||!e)&&(nj||(console.warn("Supabase config missing: ensure VITE_SUPABASE_URL and VITE_SUPABASE_ANON_KEY are set."),nj=!0)),{url:t||"",anonKey:e||""}}function Bs(){const{url:t}=J0(),e=wa.VITE_SUPABASE_EDGE_BASE||"";return Z0&&console.log("getEdgeBaseUrl - override:",e,"url:",t,"final base:",e||`${t}/functions/v1`),e||(t?/\.functions\.supabase\.co\b/.test(t)?t:`${t}/functions/v1`:"")}function Fs(){const{anonKey:t}=J0(),e={"Content-Type":"application/json"};return t&&(e.Authorization=`Bearer ${t}`,e.apikey=t),Z0&&console.log("getEdgeHeaders - anonKey:",!!t,"Authorization header sent:","Authorization"in e),e}function qr(){const t=wa.VITE_ENABLE_EDGE_FETCH;if(typeof t=="boolean")return t;if(typeof t=="string")return t.toLowerCase()==="true";if(typeof window<"u"){const e=window.location?.hostname||"";if(e==="localhost"||e==="127.0.0.1")return!1}return!!(wa.VITE_SUPABASE_URL&&wa.VITE_SUPABASE_ANON_KEY)}function NM(){const t=wa.VITE_USE_STREAMING_DATASETS;return typeof t=="boolean"?t:typeof t=="string"?t.toLowerCase()==="true":!1}function jA(){const{url:t,anonKey:e}=J0();return!!(t&&e)}function aj(){return NM()&&jA()}function ex(t){return!!t&&(t.name==="AbortError"||typeof t.message=="string"&&/aborted/i.test(t.message))}function os(){try{return new DOMException("Aborted","AbortError")}catch{const e=new Error("Aborted");return e.name="AbortError",e}}async function Pt(t,e={}){if(!qr())throw new Error("Supabase Edge fetch disabled via configuration (VITE_ENABLE_EDGE_FETCH=false)");const r=Bs(),n=Fs();if(!r)throw new Error("Supabase Edge base URL is not configured. Set VITE_SUPABASE_URL and VITE_SUPABASE_ANON_KEY, and enable VITE_USE_STREAMING_DATASETS if desired.");let a=null;const s=e.timeoutMs||15e3,c=new AbortController,u=setTimeout(()=>c.abort(),s),d=e.signal||c.signal;if(d?.aborted)throw clearTimeout(u),os();try{for(const m of t){if(d?.aborted)throw os();const p=`${r}/${m}`;try{const h=await fetch(p,{headers:n,signal:d});if(!h.ok){a=new Error(`Request failed: ${h.status} ${h.statusText}`);continue}const y=await h.json();return clearTimeout(u),{json:y,response:h}}catch(h){if(ex(h))throw h;a=h}}throw a||new Error("All edge endpoint candidates failed")}finally{clearTimeout(u)}}async function Cd(t,e,r={}){if(!qr())throw new Error("Supabase Edge fetch disabled via configuration (VITE_ENABLE_EDGE_FETCH=false)");const n=Bs(),a=Fs();if(!n)throw new Error("Supabase Edge base URL is not configured. Set VITE_SUPABASE_URL and VITE_SUPABASE_ANON_KEY, and enable VITE_USE_STREAMING_DATASETS if desired.");let s=null;if(r.signal?.aborted)throw os();for(const c of t){if(r.signal?.aborted)throw os();const u=`${n}/${c}`;try{const d=await fetch(u,{method:"POST",headers:a,body:JSON.stringify(e??{}),signal:r.signal});if(!d.ok){s=new Error(`Request failed: ${d.status} ${d.statusText}`);continue}return{json:await d.json(),response:d}}catch(d){if(ex(d))throw d;s=d}}throw s||new Error("All edge endpoint candidates failed")}async function fi(t,e,r={}){if(!qr())throw new Error("Supabase Edge fetch disabled via configuration (VITE_ENABLE_EDGE_FETCH=false)");const n=Bs(),a=Fs();if(!n)throw new Error("Supabase Edge base URL is not configured. Set VITE_SUPABASE_URL and VITE_SUPABASE_ANON_KEY, and enable VITE_USE_STREAMING_DATASETS if desired.");let s=null;if(r.signal?.aborted)throw os();for(const c of t){if(r.signal?.aborted)throw os();const u=new URL(`${n}/${c}`);Object.entries(e).forEach(([d,m])=>u.searchParams.set(d,m));try{const d=await fetch(u.toString(),{headers:a,signal:r.signal});if(!d.ok){s=new Error(`Request failed: ${d.status} ${d.statusText}`);continue}return d}catch(d){if(ex(d))throw d;s=d}}throw s||new Error("All edge endpoint candidates failed")}class mi{baseUrl;headers;constructor(){this.baseUrl=Bs(),this.headers=Fs()}async fetchWithErrorHandling(e,r){const n=await fetch(e,{headers:this.headers,signal:r});if(!n.ok)throw new Error(`Request failed: ${n.status} ${n.statusText}`);return n}}const kM=()=>`${"/".replace(/\/+$/,"/")}data/`;async function Id(t){const e=`${kM()}${t}`,r=await fetch(e);if(!r.ok)throw new Error(`Failed to load fallback data from ${e}: ${r.status} ${r.statusText}`);return await r.json()}class OM extends mi{async getManifest(){const{json:e}=await Pt(["manifest-provincial-generation","manifest/kaggle/provincial_generation"]);return e}async*streamData(e={}){const{limit:r=1e3,maxRows:n=1/0,onProgress:a,onError:s,signal:c}=e;let u=null,d=0,m=0;try{for(;d<n;){if(c?.aborted){const j=new Error("Aborted");throw j.name="AbortError",j}const p={limit:Math.min(r,n-d).toString()};u&&(p.cursor=u);const h=await fi(["stream-provincial-generation","stream/kaggle/provincial_generation"],p,{signal:c}),y=await h.json(),x=h.headers.get("x-next-cursor");if(!m&&y.metadata?.totalEstimate&&(m=Math.min(y.metadata.totalEstimate,n)),d+=y.rows?.length||0,a?.({loaded:d,total:m||n,percentage:m?d/m*100:0}),yield y.rows||[],!y.metadata?.hasMore||!x||!y.rows?.length)break;u=x}}catch(p){throw s?.(p),p}}async loadFallbackData(){const e=await Id("provincial_generation_sample.json"),r=new Date;return e.map((n,a)=>({...n,id:n.id??`provincial_generation_fallback_${a}`,source:"fallback",version:"1.0-fallback",ingested_at:r}))}}class AM extends mi{async getManifest(){const{json:e}=await Pt(["manifest-ontario-demand","manifest/kaggle/ontario_demand"]);return e}async*streamData(e={}){const{limit:r=1e3,maxRows:n=1/0,onProgress:a,onError:s,signal:c}=e;let u=null,d=0,m=0;try{for(;d<n;){if(c?.aborted){const j=new Error("Aborted");throw j.name="AbortError",j}const p={limit:Math.min(r,n-d).toString()};u&&(p.cursor=u);const h=await fi(["stream-ontario-demand","stream/kaggle/ontario_demand"],p,{signal:c}),y=await h.json(),x=h.headers.get("x-next-cursor");if(!m&&y.metadata?.totalEstimate&&(m=Math.min(y.metadata.totalEstimate,n)),d+=y.rows?.length||0,a?.({loaded:d,total:m||n,percentage:m?d/m*100:0}),yield y.rows||[],!y.metadata?.hasMore||!x||!y.rows?.length)break;u=x}}catch(p){throw s?.(p),p}}async loadFallbackData(){return(await Id("ontario_demand_sample.json")).map((r,n)=>({...r,id:r.id??n,source:"fallback",version:"1.0-fallback",ingested_at:new Date(r.datetime)}))}}class PM extends mi{async getManifest(){const{json:e}=await Pt(["manifest-ontario-prices","manifest/kaggle/ontario_prices"]);return e}async*streamData(e={}){const{limit:r=1e3,maxRows:n=1/0,onProgress:a,onError:s,signal:c}=e;let u=null,d=0,m=0;try{for(;d<n;){if(c?.aborted){const j=new Error("Aborted");throw j.name="AbortError",j}const p={limit:Math.min(r,n-d).toString()};u&&(p.cursor=u);const h=await fi(["stream-ontario-prices","stream/kaggle/ontario_prices"],p,{signal:c}),y=await h.json(),x=h.headers.get("x-next-cursor");if(!m&&y.metadata?.totalEstimate&&(m=Math.min(y.metadata.totalEstimate,n)),d+=y.rows?.length||0,a?.({loaded:d,total:m||n,percentage:m?d/m*100:0}),yield y.rows||[],!y.metadata?.hasMore||!x||!y.rows?.length)break;u=x}}catch(p){throw s?.(p),p}}async loadFallbackData(){return(await Id("ontario_prices_sample.json")).map((r,n)=>({...r,id:r.id??n,source:"fallback",version:"1.0-fallback",ingested_at:new Date(r.datetime)}))}}class EM extends mi{async getManifest(){const{json:e}=await Pt(["manifest-hf-electricity-demand","manifest/hf/electricity_demand","manifest/huggingface/electricity_demand"]);return e}async*streamData(e={}){const{limit:r=1e3,maxRows:n=1/0,onProgress:a,onError:s,signal:c}=e;let u=null,d=0,m=0;try{for(;d<n;){if(c?.aborted){const j=new Error("Aborted");throw j.name="AbortError",j}const p={limit:Math.min(r,n-d).toString()};u&&(p.cursor=u);const h=await fi(["stream-hf-electricity-demand","stream/hf/electricity_demand","stream/huggingface/electricity_demand"],p,{signal:c}),y=await h.json(),x=h.headers.get("x-next-cursor");if(!m&&y.metadata?.totalEstimate&&(m=Math.min(y.metadata.totalEstimate,n)),d+=y.rows?.length||0,a?.({loaded:d,total:m||n,percentage:m?d/m*100:0}),yield y.rows||[],!y.metadata?.hasMore||!x||!y.rows?.length)break;u=x}}catch(p){throw s?.(p),p}}async loadFallbackData(){return(await Id("hf_electricity_demand_sample.json")).map(r=>({...r,source:"fallback",version:"1.0-fallback"}))}}class TM extends mi{async getManifest(){const{json:e}=await Pt(["manifest-emissions","manifest/kaggle/emissions"]);return e}async*streamData(e={}){const{limit:r=1e3,maxRows:n=1/0,onProgress:a,onError:s,signal:c}=e;let u=null,d=0,m=0;try{for(;d<n;){if(c?.aborted){const j=new Error("Aborted");throw j.name="AbortError",j}const p={limit:Math.min(r,n-d).toString()};u&&(p.cursor=u);const h=await fi(["stream-emissions","stream/kaggle/emissions"],p,{signal:c}),y=await h.json(),x=h.headers.get("x-next-cursor");if(!m&&y.metadata?.totalEstimate&&(m=Math.min(y.metadata.totalEstimate,n)),d+=y.rows?.length||0,a?.({loaded:d,total:m||n,percentage:m?d/m*100:0}),yield y.rows||[],!y.metadata?.hasMore||!x||!y.rows?.length)break;u=x}}catch(p){throw s?.(p),p}}async loadFallbackData(){throw new Error("Fallback disabled: emissions requires real streaming backend")}}class CM extends mi{async getManifest(){const{json:e}=await Pt(["manifest-market","manifest/kaggle/market"]);return e}async*streamData(e={}){const{limit:r=1e3,maxRows:n=1/0,onProgress:a,onError:s,signal:c}=e;let u=null,d=0,m=0;try{for(;d<n;){if(c?.aborted){const j=new Error("Aborted");throw j.name="AbortError",j}const p={limit:Math.min(r,n-d).toString()};u&&(p.cursor=u);const h=await fi(["stream-market","stream/kaggle/market"],p,{signal:c}),y=await h.json(),x=h.headers.get("x-next-cursor");if(!m&&y.metadata?.totalEstimate&&(m=Math.min(y.metadata.totalEstimate,n)),d+=y.rows?.length||0,a?.({loaded:d,total:m||n,percentage:m?d/m*100:0}),yield y.rows||[],!y.metadata?.hasMore||!x||!y.rows?.length)break;u=x}}catch(p){throw s?.(p),p}}async loadFallbackData(){throw new Error("Fallback disabled: market requires real streaming backend")}}class IM extends mi{async getManifest(){const{json:e}=await Pt(["manifest-community","manifest/kaggle/community"]);return e}async*streamData(e={}){const{limit:r=1e3,maxRows:n=1/0,onProgress:a,onError:s,signal:c}=e;let u=null,d=0,m=0;try{for(;d<n;){if(c?.aborted){const j=new Error("Aborted");throw j.name="AbortError",j}const p={limit:Math.min(r,n-d).toString()};u&&(p.cursor=u);const h=await fi(["stream-community","stream/kaggle/community"],p,{signal:c}),y=await h.json(),x=h.headers.get("x-next-cursor");if(!m&&y.metadata?.totalEstimate&&(m=Math.min(y.metadata.totalEstimate,n)),d+=y.rows?.length||0,a?.({loaded:d,total:m||n,percentage:m?d/m*100:0}),yield y.rows||[],!y.metadata?.hasMore||!x||!y.rows?.length)break;u=x}}catch(p){throw s?.(p),p}}async loadFallbackData(){throw new Error("Fallback disabled: community requires real streaming backend")}}const MM=new OM,RM=new AM,$M=new PM,DM=new EM;new TM;new CM;new IM;class LM{store=new Map;async getItem(e){return this.store.get(e)}async setItem(e,r){this.store.set(e,r)}async deleteItem(e){this.store.delete(e)}async clear(){this.store.clear()}async keys(){return Array.from(this.store.keys())}}const BM="energy-cache",Pu="datasets",FM=1;function zM(){try{return typeof indexedDB<"u"}catch{return!1}}function qM(){return new Promise((t,e)=>{const r=indexedDB.open(BM,FM);r.onupgradeneeded=()=>{const n=r.result;n.objectStoreNames.contains(Pu)||n.createObjectStore(Pu)},r.onsuccess=()=>t(r.result),r.onerror=()=>e(r.error)})}async function Lo(t,e){const r=await qM();return new Promise((n,a)=>{const s=r.transaction(Pu,t),c=s.objectStore(Pu);s.oncomplete=()=>n(u),s.onerror=()=>a(s.error);let u;(async()=>{try{u=await e(c)}catch(d){a(d)}})()})}class UM{async getItem(e){return Lo("readonly",r=>new Promise((n,a)=>{const s=r.get(e);s.onsuccess=()=>n(s.result),s.onerror=()=>a(s.error)}))}async setItem(e,r){return Lo("readwrite",n=>new Promise((a,s)=>{const c=n.put(r,e);c.onsuccess=()=>a(),c.onerror=()=>s(c.error)}))}async deleteItem(e){return Lo("readwrite",r=>new Promise((n,a)=>{const s=r.delete(e);s.onsuccess=()=>n(),s.onerror=()=>a(s.error)}))}async clear(){return Lo("readwrite",e=>new Promise((r,n)=>{const a=e.clear();a.onsuccess=()=>r(),a.onerror=()=>n(a.error)}))}async keys(){return Lo("readonly",e=>new Promise((r,n)=>{const a=e.getAllKeys();a.onsuccess=()=>r(a.result.map(String)),a.onerror=()=>n(a.error)}))}}const ij=zM()?new UM:new LM,ya=[{key:"provincial_generation",name:"Provincial Generation",description:"Canadian provincial electricity generation by source",color:"#0ea5e9",icon:"Zap",estimatedRows:5e4,source:"kaggle"},{key:"ontario_demand",name:"Ontario Demand",description:"Ontario hourly electricity demand data",color:"#10b981",icon:"TrendingUp",estimatedRows:175e3,source:"kaggle"},{key:"ontario_prices",name:"Ontario Prices",description:"Ontario LMP pricing data with 5-min intervals",color:"#f59e0b",icon:"DollarSign",estimatedRows:25e5,source:"kaggle"},{key:"hf_electricity_demand",name:"HF Electricity Demand",description:"European smart meter data with weather",color:"#ef4444",icon:"Home",estimatedRows:876e4,source:"huggingface"}];class WM{connectionStatuses=new Map;dataCache=new Map;statusListeners=new Map;constructor(){ya.forEach(e=>{this.connectionStatuses.set(e.key,{dataset:e.name,status:"connecting",lastUpdate:null,recordCount:0,source:"stream"}),this.statusListeners.set(e.key,new Set)})}updateStatus(e,r){const a={...this.connectionStatuses.get(e),...r};this.connectionStatuses.set(e,a),this.statusListeners.get(e)?.forEach(c=>c(a))}subscribeToStatus(e,r){const n=this.statusListeners.get(e);n.add(r);const a=this.connectionStatuses.get(e);return r(a),()=>{n.delete(r)}}getConnectionStatus(e){return this.connectionStatuses.get(e)}getAllConnectionStatuses(){return Array.from(this.connectionStatuses.values())}async initializeConnection(e){try{return this.updateStatus(e,{status:"connecting",error:void 0}),aj()&&qr()?(await this.getStreamer(e).getManifest(),this.updateStatus(e,{status:"connected",source:"stream",lastUpdate:new Date}),!0):(this.updateStatus(e,{status:"fallback",source:"fallback",lastUpdate:new Date,recordCount:this.dataCache.get(e)?.length??0,error:void 0}),!0)}catch(r){return console.error(`Failed to initialize connection for ${e}:`,r),this.updateStatus(e,{status:"error",error:r instanceof Error?r.message:"Connection failed"}),!1}}async loadData(e,r={}){const{forceStream:n=!1,maxRows:a=5e3,onProgress:s,onStatusChange:c,signal:u}=r;this.updateStatus(e,{status:"connecting",error:void 0}),c?.(this.getConnectionStatus(e));try{if(!this.dataCache.get(e)){const d=await ij.getItem(e);d&&d.length>0&&this.dataCache.set(e,d)}}catch{}try{const d=jA()&&qr(),m=aj()&&qr();if(!(n?d:m))return await this.loadUsingFallback(e,{maxRows:a,onProgress:s,onStatusChange:c});const h=await this.loadFromStream(e,{maxRows:a,onProgress:s,signal:u});this.updateStatus(e,{status:"connected",source:"stream",recordCount:h.length,lastUpdate:new Date}),this.dataCache.set(e,h);try{await ij.setItem(e,h)}catch{}return c?.(this.getConnectionStatus(e)),h}catch(d){if(d?.name==="AbortError")throw d;console.error(`Failed to load streaming data for ${e}:`,d);try{return await this.loadUsingFallback(e,{maxRows:a,onProgress:s,onStatusChange:c})}catch(m){throw this.updateStatus(e,{status:"error",source:"stream",recordCount:0,lastUpdate:new Date,error:m instanceof Error?m.message:"Stream and fallback failed"}),c?.(this.getConnectionStatus(e)),m}}}async loadFromStream(e,r){const n=this.getStreamer(e),a=[];for await(const s of n.streamData({limit:1e3,maxRows:r.maxRows,onProgress:r.onProgress,signal:r.signal}))a.push(...s.map(c=>({...c,source:ya.find(u=>u.key===e)?.source||"kaggle",version:"1.0-stream",ingested_at:new Date})));return a}async loadUsingFallback(e,r){const n=await this.loadFromFallback(e),a=r.maxRows?n.slice(0,r.maxRows):n;return r.onProgress&&r.onProgress({loaded:a.length,total:a.length,percentage:a.length>0?100:0}),this.dataCache.set(e,a),this.updateStatus(e,{status:"fallback",source:"fallback",recordCount:a.length,lastUpdate:new Date,error:void 0}),r.onStatusChange?.(this.getConnectionStatus(e)),a}async loadFromFallback(e){return await this.getStreamer(e).loadFallbackData()}getStreamer(e){switch(e){case"provincial_generation":return MM;case"ontario_demand":return RM;case"ontario_prices":return $M;case"hf_electricity_demand":return DM;default:throw new Error(`Unknown dataset: ${e}`)}}getCachedData(e){return this.dataCache.get(e)}clearCache(e){e?this.dataCache.delete(e):this.dataCache.clear()}async refreshData(e,r={}){return this.clearCache(e),await this.loadData(e,{...r})}exportData(e,r="json"){const n=this.getCachedData(e);if(!n||n.length===0)throw new Error(`No data available for ${e}`);if(r==="json")return JSON.stringify(n,null,2);if(r==="csv"){const a=Object.keys(n[0]),s=[a.join(",")];return n.forEach(c=>{const u=a.map(d=>{const m=c[d];return typeof m=="string"&&m.includes(",")?`"${m}"`:m});s.push(u.join(","))}),s.join(`
`)}throw new Error(`Unsupported format: ${r}`)}async initializeAllDatasets(e={}){const r=ya.map(async n=>{try{await this.loadData(n.key,{...e,maxRows:100})}catch(a){console.warn(`Failed to initialize ${n.key}:`,a)}});await Promise.allSettled(r),console.log("Dataset initialization completed")}downloadData(e,r="json"){const n=this.exportData(e,r),a=new Blob([n],{type:r==="json"?"application/json":"text/csv"}),s=URL.createObjectURL(a),c=document.createElement("a");c.href=s,c.download=`${e}_${new Date().toISOString().split("T")[0]}.${r}`,document.body.appendChild(c),c.click(),document.body.removeChild(c),URL.revokeObjectURL(s)}}const yn=new WM;/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var HM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GM=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=(t,e)=>{const r=R.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:s=2,absoluteStrokeWidth:c,className:u="",children:d,...m},p)=>R.createElement("svg",{ref:p,...HM,width:a,height:a,stroke:n,strokeWidth:c?Number(s)*24/Number(a):s,className:["lucide",`lucide-${GM(t)}`,u].join(" "),...m},[...e.map(([h,y])=>R.createElement(h,y)),...Array.isArray(d)?d:[d]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mr=_e("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uu=_e("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const du=_e("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SA=_e("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sj=_e("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gh=_e("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oj=_e("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VM=_e("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _A=_e("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NA=_e("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kA=_e("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ls=_e("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qt=_e("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KM=_e("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ll=_e("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YM=_e("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qo=_e("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cl=_e("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OA=_e("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XM=_e("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AA=_e("FileDown",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pn=_e("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lj=_e("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QM=_e("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZM=_e("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eu=_e("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PA=_e("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EA=_e("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Md=_e("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TA=_e("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CA=_e("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JM=_e("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yh=_e("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Za=_e("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cj=_e("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eR=_e("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uj=_e("Radio",[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tR=_e("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rR=_e("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nR=_e("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aR=_e("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Br=_e("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fu=_e("Signal",[["path",{d:"M2 20h.01",key:"4haj6o"}],["path",{d:"M7 20v-4",key:"j294jx"}],["path",{d:"M12 20v-8",key:"i3yub9"}],["path",{d:"M17 20V8",key:"1tkaf5"}],["path",{d:"M22 4v16",key:"sih9yq"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iR=_e("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sR=_e("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IA=_e("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const si=_e("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MA=_e("Thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kv=_e("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nn=_e("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fr=_e("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oR=_e("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RA=_e("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $A=_e("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tx=_e("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lR=_e("Wind",[["path",{d:"M17.7 7.7a2.5 2.5 0 1 1 1.8 4.3H2",key:"1k4u03"}],["path",{d:"M9.6 4.6A2 2 0 1 1 11 8H2",key:"b7d0fd"}],["path",{d:"M12.6 19.4A2 2 0 1 0 14 16H2",key:"1p5cb3"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cR=_e("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jt=_e("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);async function uR(){const t=Bs(),e=t?`${t}/help-simple/manifest`:"/api/help/manifest",r=await fetch(e,{headers:Fs()});return r.ok?(await r.json()).manifest:(console.error("Failed to fetch help manifest:",r.status),[])}async function dR(t){const e=Bs(),r=e?`${e}/help-simple/${encodeURIComponent(t)}`:`/api/help/${encodeURIComponent(t)}`,n=await fetch(r,{headers:Fs()});if(!n.ok){if(n.status===404)return console.warn(`Help content not found for ID: ${t}`),null;throw console.error(`Failed to fetch help content for ${t}:`,n.status),new Error(`Help content unavailable for ${t}`)}return await n.json()}const dj={"dashboard.overview":{id:"dashboard.overview",title:"Real-Time Energy Dashboard",shortText:"Live monitoring of Canadian energy systems",difficulty:"beginner",bodyHtml:`
      <h3 class="text-lg font-semibold mb-3">What is the Real-Time Dashboard?</h3>
      <p class="mb-4">This dashboard shows you <strong>live energy data</strong> from across Canada. Think of it like a "weather map" but for electricity!</p>
      
      <h4 class="font-semibold mt-4 mb-2">What You'll See:</h4>
      <ul class="list-disc pl-5 space-y-2 mb-4">
        <li><strong>Ontario Demand</strong> - How much electricity Ontario is using right now (measured in Megawatts)</li>
        <li><strong>Generation Mix</strong> - Where our electricity comes from (nuclear, hydro, wind, solar, etc.)</li>
        <li><strong>Prices</strong> - How much electricity costs in different provinces</li>
        <li><strong>Weather Impact</strong> - How temperature affects energy use</li>
      </ul>
      
      <h4 class="font-semibold mt-4 mb-2">Why This Matters:</h4>
      <p class="mb-4">Understanding real-time energy helps us:</p>
      <ul class="list-disc pl-5 space-y-1 mb-4">
        <li>Plan when to use electricity (cheaper during off-peak times)</li>
        <li>See how renewable energy is growing</li>
        <li>Understand energy security and reliability</li>
      </ul>
      
      <div class="bg-blue-50 border-l-4 border-blue-500 p-4 mt-4">
        <p class="text-sm"><strong>💡 Student Tip:</strong> The dashboard updates every 30 seconds. Watch how demand changes throughout the day - it's highest during business hours!</p>
      </div>
    `,relatedTopics:["chart.ontario_demand","chart.provincial_generation"]},"chart.ontario_demand":{id:"chart.ontario_demand",title:"Ontario Hourly Demand",shortText:"Real-time electricity demand in Ontario",difficulty:"beginner",bodyHtml:`
      <h3 class="text-lg font-semibold mb-3">Understanding Ontario's Electricity Demand</h3>
      <p class="mb-4"><strong>Demand</strong> means how much electricity people in Ontario are using right now.</p>
      
      <h4 class="font-semibold mt-4 mb-2">What the Chart Shows:</h4>
      <ul class="list-disc pl-5 space-y-2 mb-4">
        <li><strong>Y-Axis (Vertical)</strong> - Amount of power in <strong>Megawatts (MW)</strong>
          <br/><span class="text-sm text-slate-600">1 MW can power about 400-900 homes</span>
        </li>
        <li><strong>X-Axis (Horizontal)</strong> - Time of day</li>
        <li><strong>Line</strong> - Shows how demand changes minute by minute</li>
      </ul>
      
      <h4 class="font-semibold mt-4 mb-2">Typical Patterns:</h4>
      <ul class="list-disc pl-5 space-y-1 mb-4">
        <li><strong>Morning Peak (7-9 AM):</strong> People wake up, turn on lights, make breakfast</li>
        <li><strong>Afternoon Peak (4-7 PM):</strong> Everyone returns home, cooks dinner</li>
        <li><strong>Overnight Low (2-5 AM):</strong> Most people sleeping, minimal usage</li>
      </ul>
      
      <div class="bg-green-50 border-l-4 border-green-500 p-4 mt-4">
        <p class="text-sm"><strong>🌍 Climate Connection:</strong> On hot summer days, demand spikes because of air conditioning. On cold winter mornings, it spikes because of heating!</p>
      </div>
    `,relatedTopics:["dashboard.overview","chart.weather_correlation"]},"chart.provincial_generation":{id:"chart.provincial_generation",title:"Provincial Generation Mix",shortText:"How provinces generate their electricity",difficulty:"beginner",bodyHtml:`
      <h3 class="text-lg font-semibold mb-3">Where Does Our Electricity Come From?</h3>
      <p class="mb-4">This chart shows the <strong>energy sources</strong> used to generate electricity across Canadian provinces over the past 30 days.</p>
      
      <h4 class="font-semibold mt-4 mb-2">Energy Sources Explained:</h4>
      <ul class="list-disc pl-5 space-y-2 mb-4">
        <li><strong>☢️ Nuclear</strong> - Uses uranium atoms to create heat → steam → electricity
          <br/><span class="text-sm text-slate-600">Clean (no emissions), reliable, generates large amounts</span>
        </li>
        <li><strong>💧 Hydro (Water)</strong> - Uses falling water to spin turbines
          <br/><span class="text-sm text-slate-600">Renewable, clean, works best in provinces with rivers/dams</span>
        </li>
        <li><strong>🔥 Natural Gas</strong> - Burns gas to create electricity
          <br/><span class="text-sm text-slate-600">Flexible, can ramp up/down quickly, produces some emissions</span>
        </li>
        <li><strong>💨 Wind</strong> - Wind spins turbine blades
          <br/><span class="text-sm text-slate-600">Renewable, clean, but only works when windy</span>
        </li>
        <li><strong>☀️ Solar</strong> - Sunlight converted directly to electricity
          <br/><span class="text-sm text-slate-600">Renewable, clean, but only works during daytime</span>
        </li>
      </ul>
      
      <div class="bg-blue-50 border-l-4 border-blue-500 p-4 mt-4">
        <p class="text-sm"><strong>📊 Reading the Chart:</strong> Longer bars = more energy generated from that source. Ontario uses mostly nuclear and hydro. Quebec uses almost all hydro!</p>
      </div>
    `,relatedTopics:["dashboard.overview","page.trends"]},"chart.alberta_supply_demand":{id:"chart.alberta_supply_demand",title:"Alberta Supply & Demand",shortText:"Real-time balance between electricity supply and demand in Alberta",difficulty:"intermediate",bodyHtml:`
      <h3 class="text-lg font-semibold mb-3">The Electricity Balancing Act</h3>
      <p class="mb-4">Electricity grids must <strong>always balance supply and demand</strong>. Too much or too little can cause blackouts!</p>
      
      <h4 class="font-semibold mt-4 mb-2">What You're Seeing:</h4>
      <ul class="list-disc pl-5 space-y-2 mb-4">
        <li><strong>Purple Line (Supply)</strong> - How much electricity power plants are generating</li>
        <li><strong>Blue Line (Demand)</strong> - How much electricity people are using</li>
        <li><strong>Price</strong> - Cost per megawatt-hour (goes up when demand is high)</li>
      </ul>
      
      <h4 class="font-semibold mt-4 mb-2">Why Supply > Demand:</h4>
      <p class="mb-4">Supply should always be <em>slightly higher</em> than demand to:</p>
      <ul class="list-disc pl-5 space-y-1 mb-4">
        <li>Maintain stable voltage (like water pressure in pipes)</li>
        <li>Have reserves ready for sudden spikes</li>
        <li>Prevent blackouts</li>
      </ul>
      
      <h4 class="font-semibold mt-4 mb-2">Price Dynamics:</h4>
      <p class="mb-3">Electricity price changes based on:</p>
      <ul class="list-disc pl-5 space-y-1 mb-4">
        <li><strong>High Demand + Limited Supply</strong> = Higher Prices 📈</li>
        <li><strong>Low Demand + Plenty of Supply</strong> = Lower Prices 📉</li>
        <li><strong>Time of Day</strong> - Peak hours cost more</li>
      </ul>
      
      <div class="bg-amber-50 border-l-4 border-amber-500 p-4 mt-4">
        <p class="text-sm"><strong>⚡ Fun Fact:</strong> Alberta has a "deregulated" electricity market, meaning prices change minute-by-minute based on supply and demand - like a stock market for electricity!</p>
      </div>
    `,relatedTopics:["chart.ontario_demand","page.investment"]},"chart.weather_correlation":{id:"chart.weather_correlation",title:"Weather & Energy Correlation",shortText:"How temperature affects electricity demand",difficulty:"intermediate",bodyHtml:`
      <h3 class="text-lg font-semibold mb-3">Temperature's Impact on Energy Use</h3>
      <p class="mb-4">Temperature and electricity demand are <strong>closely related</strong>. This chart shows how much!</p>
      
      <h4 class="font-semibold mt-4 mb-2">Understanding Correlation:</h4>
      <ul class="list-disc pl-5 space-y-2 mb-4">
        <li><strong>1.0 = Perfect Correlation</strong> - Temperature and demand move together exactly</li>
        <li><strong>0.7-0.9 = Strong Correlation</strong> - Temperature is a major factor</li>
        <li><strong>0.4-0.6 = Moderate Correlation</strong> - Temperature matters, but other factors too</li>
        <li><strong>< 0.3 = Weak Correlation</strong> - Temperature doesn't affect demand much</li>
      </ul>
      
      <h4 class="font-semibold mt-4 mb-2">Why Temperature Matters:</h4>
      <p class="mb-3"><strong>Hot Days:</strong></p>
      <ul class="list-disc pl-5 space-y-1 mb-3">
        <li>Air conditioners work harder → More electricity used</li>
        <li>Peak demand in summer afternoons (2-5 PM)</li>
        <li>Can strain the grid during heatwaves</li>
      </ul>
      
      <p class="mb-3"><strong>Cold Days:</strong></p>
      <ul class="list-disc pl-5 space-y-1 mb-4">
        <li>Electric heaters run more → Higher demand</li>
        <li>Peak demand in winter mornings (6-9 AM)</li>
        <li>Some homes use gas heat (lowers electricity correlation)</li>
      </ul>
      
      <div class="bg-purple-50 border-l-4 border-purple-500 p-4 mt-4">
        <p class="text-sm"><strong>🌡️ City Differences:</strong> Calgary shows higher correlation because more buildings use electric heating. Vancouver shows lower correlation due to milder climate and less AC usage!</p>
      </div>
    `,relatedTopics:["chart.ontario_demand","dashboard.overview"]},"page.indigenous":{id:"page.indigenous",title:"Indigenous Energy Partnerships",shortText:"Tracking consultation and collaboration with Indigenous communities",difficulty:"intermediate",bodyHtml:`
      <h3 class="text-lg font-semibold mb-3">Indigenous Rights & Energy Projects</h3>
      <p class="mb-4">Canada has a <strong>legal duty to consult</strong> with Indigenous communities on energy projects that may affect their lands, rights, or interests.</p>
      
      <h4 class="font-semibold mt-4 mb-2">Why Indigenous Consultation Matters:</h4>
      <ul class="list-disc pl-5 space-y-2 mb-4">
        <li><strong>Treaties & Rights</strong> - Many energy projects occur on traditional territories</li>
        <li><strong>Environmental Protection</strong> - Indigenous knowledge helps protect ecosystems</li>
        <li><strong>Economic Participation</strong> - Fair benefit-sharing from energy development</li>
        <li><strong>Reconciliation</strong> - Honoring UNDRIP (United Nations Declaration on the Rights of Indigenous Peoples)</li>
      </ul>
      
      <h4 class="font-semibold mt-4 mb-2">What This Dashboard Tracks:</h4>
      <ul class="list-disc pl-5 space-y-1 mb-4">
        <li>Active consultation processes</li>
        <li>Completed agreements</li>
        <li>Indigenous-led energy projects</li>
        <li>Territorial mapping</li>
      </ul>
      
      <div class="bg-indigo-50 border-l-4 border-indigo-500 p-4 mt-4">
        <p class="text-sm"><strong>📚 Learning More:</strong> The Truth and Reconciliation Commission's Calls to Action (#92) emphasizes the importance of Indigenous participation in energy decision-making.</p>
      </div>
    `,relatedTopics:["metric.indigenous.completed_consultations","chart.indigenous.consultation_status"]},"metric.indigenous.completed_consultations":{id:"metric.indigenous.completed_consultations",title:"Completed Consultations",shortText:"Number of consultation processes completed with Indigenous communities",difficulty:"beginner",bodyHtml:`
      <h3 class="text-lg font-semibold mb-3">What Are Energy Consultations?</h3>
      <p class="mb-4">A <strong>consultation</strong> is a formal process where energy companies and governments discuss project plans with Indigenous communities.</p>
      
      <h4 class="font-semibold mt-4 mb-2">The Consultation Process:</h4>
      <ol class="list-decimal pl-5 space-y-2 mb-4">
        <li><strong>Notification</strong> - Community is informed of proposed project</li>
        <li><strong>Information Sharing</strong> - Technical details, environmental impacts</li>
        <li><strong>Dialogue</strong> - Concerns, questions, Traditional Knowledge shared</li>
        <li><strong>Accommodation</strong> - Project adjusted based on feedback</li>
        <li><strong>Agreement or Decision</strong> - Final outcome documented</li>
      </ol>
      
      <h4 class="font-semibold mt-4 mb-2">Why Track This Number?</h4>
      <ul class="list-disc pl-5 space-y-1 mb-4">
        <li>Shows progress on reconciliation commitments</li>
        <li>Indicates government/industry engagement levels</li>
        <li>Helps communities plan capacity for future consultations</li>
      </ul>
      
      <div class="bg-green-50 border-l-4 border-green-500 p-4 mt-4">
        <p class="text-sm"><strong>✅ Good Consultation:</strong> Takes time, involves community elders, respects traditional territories, and results in free, prior, and informed consent (FPIC).</p>
      </div>
    `,relatedTopics:["page.indigenous","metric.indigenous.completion_rate"]},"metric.indigenous.completion_rate":{id:"metric.indigenous.completion_rate",title:"Consultation Completion Rate",shortText:"Percentage of consultations successfully completed",difficulty:"intermediate",bodyHtml:`
      <h3 class="text-lg font-semibold mb-3">Measuring Consultation Success</h3>
      <p class="mb-4">The <strong>completion rate</strong> shows what percentage of started consultations reach a final agreement or decision.</p>
      
      <h4 class="font-semibold mt-4 mb-2">How It's Calculated:</h4>
      <div class="bg-slate-100 p-3 rounded mb-4 font-mono text-sm">
        Completion Rate = (Completed Consultations / Total Started) × 100%
      </div>
      
      <h4 class="font-semibold mt-4 mb-2">What Different Rates Mean:</h4>
      <ul class="list-disc pl-5 space-y-2 mb-4">
        <li><strong>90-100%</strong> - Excellent track record, strong relationships</li>
        <li><strong>70-89%</strong> - Good progress, some challenges</li>
        <li><strong>50-69%</strong> - Moderate success, room for improvement</li>
        <li><strong>< 50%</strong> - Significant issues, need better processes</li>
      </ul>
      
      <h4 class="font-semibold mt-4 mb-2">Why Some Don't Complete:</h4>
      <ul class="list-disc pl-5 space-y-1 mb-4">
        <li>Project cancelled or postponed</li>
        <li>Unresolved concerns from community</li>
        <li>Insufficient time or resources allocated</li>
        <li>Breakdown in trust or communication</li>
      </ul>
      
      <div class="bg-amber-50 border-l-4 border-amber-500 p-4 mt-4">
        <p class="text-sm"><strong>⚖️ Legal Context:</strong> Under Canadian law, the Crown has a duty to consult when actions might infringe on Aboriginal or treaty rights. Incomplete consultations can lead to legal challenges!</p>
      </div>
    `,relatedTopics:["metric.indigenous.completed_consultations","page.indigenous"]},"chart.indigenous.consultation_status":{id:"chart.indigenous.consultation_status",title:"Consultation Status Breakdown",shortText:"Current stage of all consultation processes",difficulty:"beginner",bodyHtml:`
      <h3 class="text-lg font-semibold mb-3">Tracking Consultation Progress</h3>
      <p class="mb-4">This chart shows where each consultation currently stands in the process.</p>
      
      <h4 class="font-semibold mt-4 mb-2">Status Categories:</h4>
      <ul class="list-disc pl-5 space-y-2 mb-4">
        <li><strong>🟢 Completed</strong> - Agreement reached or final decision made</li>
        <li><strong>🟡 In Progress</strong> - Active discussions happening</li>
        <li><strong>🟠 On Hold</strong> - Paused (waiting for info, funding, or other factors)</li>
        <li><strong>🔴 Delayed</strong> - Behind schedule, may have issues</li>
        <li><strong>⚪ Planned</strong> - Scheduled to start soon</li>
      </ul>
      
      <h4 class="font-semibold mt-4 mb-2">What "In Progress" Means:</h4>
      <p class="mb-4">Active consultations might involve:</p>
      <ul class="list-disc pl-5 space-y-1 mb-4">
        <li>Community meetings and presentations</li>
        <li>Environmental impact assessments</li>
        <li>Negotiating benefit-sharing agreements</li>
        <li>Incorporating Traditional Ecological Knowledge</li>
      </ul>
      
      <div class="bg-blue-50 border-l-4 border-blue-500 p-4 mt-4">
        <p class="text-sm"><strong>🔄 Timeframes:</strong> Good consultations take 6-18 months. Rushing leads to poor outcomes. Quality matters more than speed!</p>
      </div>
    `,relatedTopics:["page.indigenous","metric.indigenous.completion_rate"]},"page.investment":{id:"page.investment",title:"Energy Investment Analysis",shortText:"Financial analysis tools for energy projects",difficulty:"advanced",bodyHtml:`
      <h3 class="text-lg font-semibold mb-3">Understanding Energy Project Finance</h3>
      <p class="mb-4">Energy projects require <strong>massive upfront investment</strong> but generate revenue over decades. This tool helps evaluate if they're worth it!</p>
      
      <h4 class="font-semibold mt-4 mb-2">Key Financial Metrics:</h4>
      <ul class="list-disc pl-5 space-y-2 mb-4">
        <li><strong>NPV (Net Present Value)</strong> - Total profit over project lifetime, adjusted for time value of money</li>
        <li><strong>IRR (Internal Rate of Return)</strong> - Annual return percentage, like interest rate</li>
        <li><strong>Payback Period</strong> - How long until initial investment is recovered</li>
        <li><strong>LCOE (Levelized Cost of Energy)</strong> - Average cost per kWh over project life</li>
      </ul>
      
      <h4 class="font-semibold mt-4 mb-2">Why Different Energy Sources Cost Different:</h4>
      <div class="space-y-3 mb-4">
        <div>
          <strong>☀️ Solar:</strong> High upfront cost, $0 fuel cost, 25-30 year lifespan
        </div>
        <div>
          <strong>💨 Wind:</strong> Medium upfront, $0 fuel, 20-25 years
        </div>
        <div>
          <strong>☢️ Nuclear:</strong> Very high upfront, low fuel cost, 60+ years
        </div>
        <div>
          <strong>🔥 Natural Gas:</strong> Low upfront, high ongoing fuel cost, 30-40 years
        </div>
      </div>
      
      <div class="bg-green-50 border-l-4 border-green-500 p-4 mt-4">
        <p class="text-sm"><strong>📊 Decision Making:</strong> Projects with NPV > $0 and IRR > 8-12% are typically considered good investments. But also consider: grid reliability, emissions, job creation, and energy security!</p>
      </div>
    `,relatedTopics:["metric.investment.npv","metric.investment.irr"]},"page.resilience":{id:"page.resilience",title:"Energy Resilience Analysis",shortText:"Assessing energy system ability to withstand disruptions",difficulty:"intermediate",bodyHtml:`
      <h3 class="text-lg font-semibold mb-3">What is Energy Resilience?</h3>
      <p class="mb-4"><strong>Resilience</strong> = The ability to prepare for, withstand, and recover from disruptions to energy systems.</p>
      
      <h4 class="font-semibold mt-4 mb-2">Types of Threats:</h4>
      <ul class="list-disc pl-5 space-y-2 mb-4">
        <li><strong>🌪️ Natural Disasters</strong> - Hurricanes, ice storms, floods, wildfires</li>
        <li><strong>🌡️ Climate Change</strong> - Heatwaves, droughts, extreme weather</li>
        <li><strong>💻 Cyber Attacks</strong> - Hacking power grid controls</li>
        <li><strong>🔧 Equipment Failures</strong> - Transformer failures, line breaks</li>
        <li><strong>⛽ Fuel Supply Issues</strong> - Pipeline disruptions, gas shortages</li>
      </ul>
      
      <h4 class="font-semibold mt-4 mb-2">How We Build Resilience:</h4>
      <ul class="list-disc pl-5 space-y-1 mb-4">
        <li><strong>Redundancy</strong> - Multiple power sources and transmission paths</li>
        <li><strong>Diversification</strong> - Mix of energy types (not all eggs in one basket)</li>
        <li><strong>Smart Grids</strong> - Automated systems that reroute power during failures</li>
        <li><strong>Energy Storage</strong> - Batteries to bridge supply gaps</li>
        <li><strong>Microgrids</strong> - Local grids that can operate independently</li>
      </ul>
      
      <div class="bg-red-50 border-l-4 border-red-500 p-4 mt-4">
        <p class="text-sm"><strong>⚠️ Real Example:</strong> The 2021 Texas blackouts showed what happens when systems aren't resilient. Extreme cold + natural gas shortages = millions without power for days. Canada's more diverse energy mix helps prevent this!</p>
      </div>
    `,relatedTopics:["page.security","chart.provincial_generation"]}};function fR(t){if(dj[t])return dj[t];const e=t.split(".").map(r=>r.charAt(0).toUpperCase()+r.slice(1).replace(/_/g," ")).join(" - ");return{id:t,title:e,shortText:`Learn about ${e}`,difficulty:"beginner",bodyHtml:`
      <h3 class="text-lg font-semibold mb-3">${e}</h3>
      <p class="mb-4">Detailed help content for this feature is being developed.</p>
      <p class="mb-4">This feature is fully functional and ready to use.</p>
      
      <div class="bg-blue-50 border-l-4 border-blue-500 p-4 mt-4">
        <p class="text-sm"><strong>💡 Need Help?</strong> If you have questions about this feature, please contact your instructor or check the platform documentation.</p>
      </div>
    `}}function mR({id:t,open:e,onClose:r,content:n,loading:a=!1}){const s=R.useRef(null),c=R.useRef(null);return R.useEffect(()=>{function u(d){d.key==="Escape"&&r()}return e&&(document.addEventListener("keydown",u),setTimeout(()=>c.current?.focus(),50)),()=>document.removeEventListener("keydown",u)},[e,r]),R.useEffect(()=>{if(!e)return;const u=s.current?.querySelectorAll('a[href], button:not([disabled]), textarea, input, select, [tabindex]:not([tabindex="-1"])');if(!u||u.length===0)return;const d=u[0],m=u[u.length-1];function p(h){h.key==="Tab"&&(h.shiftKey&&document.activeElement===d?(h.preventDefault(),m.focus()):!h.shiftKey&&document.activeElement===m&&(h.preventDefault(),d.focus()))}return document.addEventListener("keydown",p),()=>document.removeEventListener("keydown",p)},[e]),e?o.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[o.jsx("div",{className:"absolute inset-0 bg-black/70",onClick:r,"aria-hidden":"true"}),o.jsxs("div",{ref:s,role:"dialog","aria-modal":"true","aria-labelledby":"help-modal-title","aria-describedby":"help-modal-content",className:"relative bg-slate-800 rounded-xl border border-slate-700 shadow-2xl max-w-2xl w-full max-h-[80vh] overflow-auto focus:outline-none",tabIndex:-1,children:[o.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-slate-700",children:[o.jsx("h2",{id:"help-modal-title",className:"text-xl font-semibold text-slate-200",children:"Help"}),o.jsx("button",{ref:c,onClick:r,"aria-label":"Close help",className:"flex items-center justify-center w-8 h-8 rounded-md hover:bg-slate-700 transition-colors",children:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-4 h-4 text-slate-300",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),o.jsxs("div",{className:"px-6 py-4",children:[n?.short_text&&o.jsx("div",{className:"mb-4 text-slate-300 text-sm leading-relaxed",children:n.short_text}),o.jsx("div",{id:"help-modal-content",className:"prose prose-slate prose-invert max-w-none",children:a?o.jsx("div",{className:"flex items-center justify-center py-8",children:o.jsxs("div",{className:"flex items-center space-x-2 text-slate-400",children:[o.jsx("div",{className:"w-4 h-4 border-2 border-cyan-400 border-t-transparent rounded-full animate-spin"}),o.jsx("span",{children:"Loading help content..."})]})}):n?.body_html?o.jsx("div",{className:"text-slate-200 space-y-4",children:o.jsx("pre",{className:"whitespace-pre-wrap",children:n.body_html.replace(/<[^>]*>/g,"")})}):o.jsx("div",{className:"text-slate-400 text-center py-8",children:"Help content not available."})}),n?.related_sources&&n.related_sources.length>0&&o.jsxs("div",{className:"mt-6 pt-4 border-t border-slate-700",children:[o.jsx("h3",{className:"text-sm font-medium text-slate-200 mb-2",children:"More Information:"}),o.jsx("ul",{className:"space-y-1",children:n.related_sources.map((u,d)=>o.jsx("li",{children:o.jsx("a",{href:u.url,target:"_blank",rel:"noopener noreferrer",className:"text-cyan-400 hover:text-cyan-300 transition-colors underline",children:u.name})},d))})]})]}),o.jsx("div",{className:"flex justify-end items-center space-x-3 px-6 py-4 border-t border-slate-700",children:o.jsx("button",{onClick:r,className:"px-4 py-2 bg-slate-700 text-slate-300 rounded-lg hover:bg-slate-600 transition-colors text-sm font-medium",children:"Close"})})]})]}):null}const DA=R.createContext(null);function hR(){const t=R.useContext(DA);if(!t)throw new Error("useHelp must be used within a HelpProvider");return t}function pR({children:t}){const[e,r]=R.useState([]),[n,a]=R.useState(!0),[s,c]=R.useState(null),u=async()=>{try{a(!0),c(null);const m=await uR();r(m)}catch(m){console.error("Failed to load help manifest:",m),c(m instanceof Error?m.message:"Failed to load help content"),r([])}finally{a(!1)}};R.useEffect(()=>{u()},[]);const d=async()=>{await u()};return o.jsx(DA.Provider,{value:{manifest:e,loading:n,error:s,refreshManifest:d},children:t})}function gR(t){const{manifest:e}=hR();return e.find(n=>n.id===t)?.short_text||"Help"}function wt({id:t,className:e=""}){const[r,n]=R.useState(!1),[a,s]=R.useState(null),[c,u]=R.useState(!1),d=gR(t),m=async()=>{if(n(!0),!a||a.id!==t){u(!0);try{const h=fR(t);s({id:h.id,short_text:h.shortText,body_html:h.bodyHtml,related_sources:h.relatedTopics?.map(y=>({name:y,url:`#help-${y}`}))}),dR(t).then(y=>{y&&s(y)}).catch(()=>{})}catch(h){console.error("Failed to load help content:",h),s({id:t,short_text:d,body_html:"<p>Unable to load help content. Please try again or contact support.</p>"})}finally{u(!1)}}},p=h=>{console.debug(`Help ${h} for ${t}`,{timestamp:Date.now(),action:h,id:t})};return o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:()=>{p("button_click"),m()},onMouseEnter:()=>p("tooltip_hover"),"aria-label":`Help: ${d}`,title:d,className:`
          inline-flex items-center justify-center
          w-8 h-8 rounded-md
          bg-slate-700 hover:bg-slate-600
          border border-slate-600 hover:border-cyan-500
          transition-all duration-200
          text-cyan-400 hover:text-cyan-300
          focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:ring-offset-2 focus:ring-offset-slate-900
          ${e}
        `,children:o.jsx(PA,{className:"w-4 h-4"})}),r&&o.jsx(mR,{id:t,open:r,onClose:()=>n(!1),content:a,loading:c})]})}function LA(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(r=LA(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Me(){for(var t,e,r=0,n="",a=arguments.length;r<a;r++)(t=arguments[r])&&(e=LA(t))&&(n&&(n+=" "),n+=e);return n}var vh,fj;function pr(){if(fj)return vh;fj=1;var t=Array.isArray;return vh=t,vh}var xh,mj;function BA(){if(mj)return xh;mj=1;var t=typeof lu=="object"&&lu&&lu.Object===Object&&lu;return xh=t,xh}var bh,hj;function Sn(){if(hj)return bh;hj=1;var t=BA(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return bh=r,bh}var wh,pj;function Hl(){if(pj)return wh;pj=1;var t=Sn(),e=t.Symbol;return wh=e,wh}var jh,gj;function yR(){if(gj)return jh;gj=1;var t=Hl(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,a=t?t.toStringTag:void 0;function s(c){var u=r.call(c,a),d=c[a];try{c[a]=void 0;var m=!0}catch{}var p=n.call(c);return m&&(u?c[a]=d:delete c[a]),p}return jh=s,jh}var Sh,yj;function vR(){if(yj)return Sh;yj=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return Sh=r,Sh}var _h,vj;function Hn(){if(vj)return _h;vj=1;var t=Hl(),e=yR(),r=vR(),n="[object Null]",a="[object Undefined]",s=t?t.toStringTag:void 0;function c(u){return u==null?u===void 0?a:n:s&&s in Object(u)?e(u):r(u)}return _h=c,_h}var Nh,xj;function Gn(){if(xj)return Nh;xj=1;function t(e){return e!=null&&typeof e=="object"}return Nh=t,Nh}var kh,bj;function zs(){if(bj)return kh;bj=1;var t=Hn(),e=Gn(),r="[object Symbol]";function n(a){return typeof a=="symbol"||e(a)&&t(a)==r}return kh=n,kh}var Oh,wj;function rx(){if(wj)return Oh;wj=1;var t=pr(),e=zs(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(s,c){if(t(s))return!1;var u=typeof s;return u=="number"||u=="symbol"||u=="boolean"||s==null||e(s)?!0:n.test(s)||!r.test(s)||c!=null&&s in Object(c)}return Oh=a,Oh}var Ah,jj;function Aa(){if(jj)return Ah;jj=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return Ah=t,Ah}var Ph,Sj;function nx(){if(Sj)return Ph;Sj=1;var t=Hn(),e=Aa(),r="[object AsyncFunction]",n="[object Function]",a="[object GeneratorFunction]",s="[object Proxy]";function c(u){if(!e(u))return!1;var d=t(u);return d==n||d==a||d==r||d==s}return Ph=c,Ph}var Eh,_j;function xR(){if(_j)return Eh;_j=1;var t=Sn(),e=t["__core-js_shared__"];return Eh=e,Eh}var Th,Nj;function bR(){if(Nj)return Th;Nj=1;var t=xR(),e=(function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!e&&e in n}return Th=r,Th}var Ch,kj;function FA(){if(kj)return Ch;kj=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return Ch=r,Ch}var Ih,Oj;function wR(){if(Oj)return Ih;Oj=1;var t=nx(),e=bR(),r=Aa(),n=FA(),a=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,c=Function.prototype,u=Object.prototype,d=c.toString,m=u.hasOwnProperty,p=RegExp("^"+d.call(m).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function h(y){if(!r(y)||e(y))return!1;var x=t(y)?p:s;return x.test(n(y))}return Ih=h,Ih}var Mh,Aj;function jR(){if(Aj)return Mh;Aj=1;function t(e,r){return e?.[r]}return Mh=t,Mh}var Rh,Pj;function hi(){if(Pj)return Rh;Pj=1;var t=wR(),e=jR();function r(n,a){var s=e(n,a);return t(s)?s:void 0}return Rh=r,Rh}var $h,Ej;function Rd(){if(Ej)return $h;Ej=1;var t=hi(),e=t(Object,"create");return $h=e,$h}var Dh,Tj;function SR(){if(Tj)return Dh;Tj=1;var t=Rd();function e(){this.__data__=t?t(null):{},this.size=0}return Dh=e,Dh}var Lh,Cj;function _R(){if(Cj)return Lh;Cj=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return Lh=t,Lh}var Bh,Ij;function NR(){if(Ij)return Bh;Ij=1;var t=Rd(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function a(s){var c=this.__data__;if(t){var u=c[s];return u===e?void 0:u}return n.call(c,s)?c[s]:void 0}return Bh=a,Bh}var Fh,Mj;function kR(){if(Mj)return Fh;Mj=1;var t=Rd(),e=Object.prototype,r=e.hasOwnProperty;function n(a){var s=this.__data__;return t?s[a]!==void 0:r.call(s,a)}return Fh=n,Fh}var zh,Rj;function OR(){if(Rj)return zh;Rj=1;var t=Rd(),e="__lodash_hash_undefined__";function r(n,a){var s=this.__data__;return this.size+=this.has(n)?0:1,s[n]=t&&a===void 0?e:a,this}return zh=r,zh}var qh,$j;function AR(){if($j)return qh;$j=1;var t=SR(),e=_R(),r=NR(),n=kR(),a=OR();function s(c){var u=-1,d=c==null?0:c.length;for(this.clear();++u<d;){var m=c[u];this.set(m[0],m[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=r,s.prototype.has=n,s.prototype.set=a,qh=s,qh}var Uh,Dj;function PR(){if(Dj)return Uh;Dj=1;function t(){this.__data__=[],this.size=0}return Uh=t,Uh}var Wh,Lj;function ax(){if(Lj)return Wh;Lj=1;function t(e,r){return e===r||e!==e&&r!==r}return Wh=t,Wh}var Hh,Bj;function $d(){if(Bj)return Hh;Bj=1;var t=ax();function e(r,n){for(var a=r.length;a--;)if(t(r[a][0],n))return a;return-1}return Hh=e,Hh}var Gh,Fj;function ER(){if(Fj)return Gh;Fj=1;var t=$d(),e=Array.prototype,r=e.splice;function n(a){var s=this.__data__,c=t(s,a);if(c<0)return!1;var u=s.length-1;return c==u?s.pop():r.call(s,c,1),--this.size,!0}return Gh=n,Gh}var Vh,zj;function TR(){if(zj)return Vh;zj=1;var t=$d();function e(r){var n=this.__data__,a=t(n,r);return a<0?void 0:n[a][1]}return Vh=e,Vh}var Kh,qj;function CR(){if(qj)return Kh;qj=1;var t=$d();function e(r){return t(this.__data__,r)>-1}return Kh=e,Kh}var Yh,Uj;function IR(){if(Uj)return Yh;Uj=1;var t=$d();function e(r,n){var a=this.__data__,s=t(a,r);return s<0?(++this.size,a.push([r,n])):a[s][1]=n,this}return Yh=e,Yh}var Xh,Wj;function Dd(){if(Wj)return Xh;Wj=1;var t=PR(),e=ER(),r=TR(),n=CR(),a=IR();function s(c){var u=-1,d=c==null?0:c.length;for(this.clear();++u<d;){var m=c[u];this.set(m[0],m[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=r,s.prototype.has=n,s.prototype.set=a,Xh=s,Xh}var Qh,Hj;function ix(){if(Hj)return Qh;Hj=1;var t=hi(),e=Sn(),r=t(e,"Map");return Qh=r,Qh}var Zh,Gj;function MR(){if(Gj)return Zh;Gj=1;var t=AR(),e=Dd(),r=ix();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return Zh=n,Zh}var Jh,Vj;function RR(){if(Vj)return Jh;Vj=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return Jh=t,Jh}var ep,Kj;function Ld(){if(Kj)return ep;Kj=1;var t=RR();function e(r,n){var a=r.__data__;return t(n)?a[typeof n=="string"?"string":"hash"]:a.map}return ep=e,ep}var tp,Yj;function $R(){if(Yj)return tp;Yj=1;var t=Ld();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return tp=e,tp}var rp,Xj;function DR(){if(Xj)return rp;Xj=1;var t=Ld();function e(r){return t(this,r).get(r)}return rp=e,rp}var np,Qj;function LR(){if(Qj)return np;Qj=1;var t=Ld();function e(r){return t(this,r).has(r)}return np=e,np}var ap,Zj;function BR(){if(Zj)return ap;Zj=1;var t=Ld();function e(r,n){var a=t(this,r),s=a.size;return a.set(r,n),this.size+=a.size==s?0:1,this}return ap=e,ap}var ip,Jj;function sx(){if(Jj)return ip;Jj=1;var t=MR(),e=$R(),r=DR(),n=LR(),a=BR();function s(c){var u=-1,d=c==null?0:c.length;for(this.clear();++u<d;){var m=c[u];this.set(m[0],m[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=r,s.prototype.has=n,s.prototype.set=a,ip=s,ip}var sp,eS;function zA(){if(eS)return sp;eS=1;var t=sx(),e="Expected a function";function r(n,a){if(typeof n!="function"||a!=null&&typeof a!="function")throw new TypeError(e);var s=function(){var c=arguments,u=a?a.apply(this,c):c[0],d=s.cache;if(d.has(u))return d.get(u);var m=n.apply(this,c);return s.cache=d.set(u,m)||d,m};return s.cache=new(r.Cache||t),s}return r.Cache=t,sp=r,sp}var op,tS;function FR(){if(tS)return op;tS=1;var t=zA(),e=500;function r(n){var a=t(n,function(c){return s.size===e&&s.clear(),c}),s=a.cache;return a}return op=r,op}var lp,rS;function zR(){if(rS)return lp;rS=1;var t=FR(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(a){var s=[];return a.charCodeAt(0)===46&&s.push(""),a.replace(e,function(c,u,d,m){s.push(d?m.replace(r,"$1"):u||c)}),s});return lp=n,lp}var cp,nS;function ox(){if(nS)return cp;nS=1;function t(e,r){for(var n=-1,a=e==null?0:e.length,s=Array(a);++n<a;)s[n]=r(e[n],n,e);return s}return cp=t,cp}var up,aS;function qR(){if(aS)return up;aS=1;var t=Hl(),e=ox(),r=pr(),n=zs(),a=t?t.prototype:void 0,s=a?a.toString:void 0;function c(u){if(typeof u=="string")return u;if(r(u))return e(u,c)+"";if(n(u))return s?s.call(u):"";var d=u+"";return d=="0"&&1/u==-1/0?"-0":d}return up=c,up}var dp,iS;function qA(){if(iS)return dp;iS=1;var t=qR();function e(r){return r==null?"":t(r)}return dp=e,dp}var fp,sS;function UA(){if(sS)return fp;sS=1;var t=pr(),e=rx(),r=zR(),n=qA();function a(s,c){return t(s)?s:e(s,c)?[s]:r(n(s))}return fp=a,fp}var mp,oS;function Bd(){if(oS)return mp;oS=1;var t=zs();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return mp=e,mp}var hp,lS;function lx(){if(lS)return hp;lS=1;var t=UA(),e=Bd();function r(n,a){a=t(a,n);for(var s=0,c=a.length;n!=null&&s<c;)n=n[e(a[s++])];return s&&s==c?n:void 0}return hp=r,hp}var pp,cS;function WA(){if(cS)return pp;cS=1;var t=lx();function e(r,n,a){var s=r==null?void 0:t(r,n);return s===void 0?a:s}return pp=e,pp}var UR=WA();const Nr=He(UR);var gp,uS;function WR(){if(uS)return gp;uS=1;function t(e){return e==null}return gp=t,gp}var HR=WR();const Oe=He(HR);var yp,dS;function GR(){if(dS)return yp;dS=1;var t=Hn(),e=pr(),r=Gn(),n="[object String]";function a(s){return typeof s=="string"||!e(s)&&r(s)&&t(s)==n}return yp=a,yp}var VR=GR();const oi=He(VR);var KR=nx();const Ae=He(KR);var YR=Aa();const qs=He(YR);var vp={exports:{}},qe={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fS;function XR(){if(fS)return qe;fS=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),x=Symbol.for("react.offscreen"),j;j=Symbol.for("react.module.reference");function w(b){if(typeof b=="object"&&b!==null){var k=b.$$typeof;switch(k){case t:switch(b=b.type,b){case r:case a:case n:case m:case p:return b;default:switch(b=b&&b.$$typeof,b){case u:case c:case d:case y:case h:case s:return b;default:return k}}case e:return k}}}return qe.ContextConsumer=c,qe.ContextProvider=s,qe.Element=t,qe.ForwardRef=d,qe.Fragment=r,qe.Lazy=y,qe.Memo=h,qe.Portal=e,qe.Profiler=a,qe.StrictMode=n,qe.Suspense=m,qe.SuspenseList=p,qe.isAsyncMode=function(){return!1},qe.isConcurrentMode=function(){return!1},qe.isContextConsumer=function(b){return w(b)===c},qe.isContextProvider=function(b){return w(b)===s},qe.isElement=function(b){return typeof b=="object"&&b!==null&&b.$$typeof===t},qe.isForwardRef=function(b){return w(b)===d},qe.isFragment=function(b){return w(b)===r},qe.isLazy=function(b){return w(b)===y},qe.isMemo=function(b){return w(b)===h},qe.isPortal=function(b){return w(b)===e},qe.isProfiler=function(b){return w(b)===a},qe.isStrictMode=function(b){return w(b)===n},qe.isSuspense=function(b){return w(b)===m},qe.isSuspenseList=function(b){return w(b)===p},qe.isValidElementType=function(b){return typeof b=="string"||typeof b=="function"||b===r||b===a||b===n||b===m||b===p||b===x||typeof b=="object"&&b!==null&&(b.$$typeof===y||b.$$typeof===h||b.$$typeof===s||b.$$typeof===c||b.$$typeof===d||b.$$typeof===j||b.getModuleId!==void 0)},qe.typeOf=w,qe}var mS;function QR(){return mS||(mS=1,vp.exports=XR()),vp.exports}var ZR=QR(),xp,hS;function HA(){if(hS)return xp;hS=1;var t=Hn(),e=Gn(),r="[object Number]";function n(a){return typeof a=="number"||e(a)&&t(a)==r}return xp=n,xp}var bp,pS;function JR(){if(pS)return bp;pS=1;var t=HA();function e(r){return t(r)&&r!=+r}return bp=e,bp}var e3=JR();const Us=He(e3);var t3=HA();const r3=He(t3);var tr=function(e){return e===0?0:e>0?1:-1},Ja=function(e){return oi(e)&&e.indexOf("%")===e.length-1},ue=function(e){return r3(e)&&!Us(e)},n3=function(e){return Oe(e)},Et=function(e){return ue(e)||oi(e)},a3=0,Pa=function(e){var r=++a3;return"".concat(e||"").concat(r)},rr=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ue(e)&&!oi(e))return n;var s;if(Ja(e)){var c=e.indexOf("%");s=r*parseFloat(e.slice(0,c))/100}else s=+e;return Us(s)&&(s=n),a&&s>r&&(s=r),s},ga=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},i3=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},a=0;a<r;a++)if(!n[e[a]])n[e[a]]=!0;else return!0;return!1},ft=function(e,r){return ue(e)&&ue(r)?function(n){return e+n*(r-e)}:function(){return r}};function Tu(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):Nr(n,e))===r})}var s3=function(e){if(!e||!e.length)return null;for(var r=e.length,n=0,a=0,s=0,c=0,u=1/0,d=-1/0,m=0,p=0,h=0;h<r;h++)m=e[h].cx||0,p=e[h].cy||0,n+=m,a+=p,s+=m*p,c+=m*m,u=Math.min(u,m),d=Math.max(d,m);var y=r*c!==n*n?(r*s-n*a)/(r*c-n*n):0;return{xmin:u,xmax:d,a:y,b:(a-y*n)/r}},o3=function(e,r){return ue(e)&&ue(r)?e-r:oi(e)&&oi(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function as(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function Ov(t){"@babel/helpers - typeof";return Ov=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ov(t)}var l3=["viewBox","children"],c3=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],gS=["points","pathLength"],wp={svg:l3,polygon:gS,polyline:gS},cx=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Cu=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(R.isValidElement(e)&&(n=e.props),!qs(n))return null;var a={};return Object.keys(n).forEach(function(s){cx.includes(s)&&(a[s]=r||function(c){return n[s](n,c)})}),a},u3=function(e,r,n){return function(a){return e(r,n,a),null}},_a=function(e,r,n){if(!qs(e)||Ov(e)!=="object")return null;var a=null;return Object.keys(e).forEach(function(s){var c=e[s];cx.includes(s)&&typeof c=="function"&&(a||(a={}),a[s]=u3(c,r,n))}),a},d3=["children"],f3=["children"];function yS(t,e){if(t==null)return{};var r=m3(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function m3(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Av(t){"@babel/helpers - typeof";return Av=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Av(t)}var vS={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Bn=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},xS=null,jp=null,ux=function t(e){if(e===xS&&Array.isArray(jp))return jp;var r=[];return R.Children.forEach(e,function(n){Oe(n)||(ZR.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),jp=r,xS=e,r};function ir(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(a){return Bn(a)}):n=[Bn(e)],ux(t).forEach(function(a){var s=Nr(a,"type.displayName")||Nr(a,"type.name");n.indexOf(s)!==-1&&r.push(a)}),r}function Sr(t,e){var r=ir(t,e);return r&&r[0]}var bS=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,a=r.height;return!(!ue(n)||n<=0||!ue(a)||a<=0)},h3=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],p3=function(e){return e&&e.type&&oi(e.type)&&h3.indexOf(e.type)>=0},GA=function(e){return e&&Av(e)==="object"&&"clipDot"in e},g3=function(e,r,n,a){var s,c=(s=wp?.[a])!==null&&s!==void 0?s:[];return r.startsWith("data-")||!Ae(e)&&(a&&c.includes(r)||c3.includes(r))||n&&cx.includes(r)},we=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var a=e;if(R.isValidElement(e)&&(a=e.props),!qs(a))return null;var s={};return Object.keys(a).forEach(function(c){var u;g3((u=a)===null||u===void 0?void 0:u[c],c,r,n)&&(s[c]=a[c])}),s},Pv=function t(e,r){if(e===r)return!0;var n=R.Children.count(e);if(n!==R.Children.count(r))return!1;if(n===0)return!0;if(n===1)return wS(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var s=e[a],c=r[a];if(Array.isArray(s)||Array.isArray(c)){if(!t(s,c))return!1}else if(!wS(s,c))return!1}return!0},wS=function(e,r){if(Oe(e)&&Oe(r))return!0;if(!Oe(e)&&!Oe(r)){var n=e.props||{},a=n.children,s=yS(n,d3),c=r.props||{},u=c.children,d=yS(c,f3);return a&&u?as(s,d)&&Pv(a,u):!a&&!u?as(s,d):!1}return!1},jS=function(e,r){var n=[],a={};return ux(e).forEach(function(s,c){if(p3(s))n.push(s);else if(s){var u=Bn(s.type),d=r[u]||{},m=d.handler,p=d.once;if(m&&(!p||!a[u])){var h=m(s,u,c);n.push(h),a[u]=!0}}}),n},y3=function(e){var r=e&&e.type;return r&&vS[r]?vS[r]:null},v3=function(e,r){return ux(r).indexOf(e)},x3=["children","width","height","viewBox","className","style","title","desc"];function Ev(){return Ev=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ev.apply(this,arguments)}function b3(t,e){if(t==null)return{};var r=w3(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function w3(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Tv(t){var e=t.children,r=t.width,n=t.height,a=t.viewBox,s=t.className,c=t.style,u=t.title,d=t.desc,m=b3(t,x3),p=a||{width:r,height:n,x:0,y:0},h=Me("recharts-surface",s);return U.createElement("svg",Ev({},we(m,!0,"svg"),{className:h,width:r,height:n,style:c,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height)}),U.createElement("title",null,u),U.createElement("desc",null,d),e)}var j3=["children","className"];function Cv(){return Cv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Cv.apply(this,arguments)}function S3(t,e){if(t==null)return{};var r=_3(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function _3(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Re=U.forwardRef(function(t,e){var r=t.children,n=t.className,a=S3(t,j3),s=Me("recharts-layer",n);return U.createElement("g",Cv({className:s},we(a,!0),{ref:e}),r)}),sn=function(e,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),s=2;s<n;s++)a[s-2]=arguments[s]},Sp,SS;function N3(){if(SS)return Sp;SS=1;function t(e,r,n){var a=-1,s=e.length;r<0&&(r=-r>s?0:s+r),n=n>s?s:n,n<0&&(n+=s),s=r>n?0:n-r>>>0,r>>>=0;for(var c=Array(s);++a<s;)c[a]=e[a+r];return c}return Sp=t,Sp}var _p,_S;function k3(){if(_S)return _p;_S=1;var t=N3();function e(r,n,a){var s=r.length;return a=a===void 0?s:a,!n&&a>=s?r:t(r,n,a)}return _p=e,_p}var Np,NS;function VA(){if(NS)return Np;NS=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",a=e+r+n,s="\\ufe0e\\ufe0f",c="\\u200d",u=RegExp("["+c+t+a+s+"]");function d(m){return u.test(m)}return Np=d,Np}var kp,kS;function O3(){if(kS)return kp;kS=1;function t(e){return e.split("")}return kp=t,kp}var Op,OS;function A3(){if(OS)return Op;OS=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",a=e+r+n,s="\\ufe0e\\ufe0f",c="["+t+"]",u="["+a+"]",d="\\ud83c[\\udffb-\\udfff]",m="(?:"+u+"|"+d+")",p="[^"+t+"]",h="(?:\\ud83c[\\udde6-\\uddff]){2}",y="[\\ud800-\\udbff][\\udc00-\\udfff]",x="\\u200d",j=m+"?",w="["+s+"]?",b="(?:"+x+"(?:"+[p,h,y].join("|")+")"+w+j+")*",k=w+j+b,S="(?:"+[p+u+"?",u,h,y,c].join("|")+")",O=RegExp(d+"(?="+d+")|"+S+k,"g");function P(N){return N.match(O)||[]}return Op=P,Op}var Ap,AS;function P3(){if(AS)return Ap;AS=1;var t=O3(),e=VA(),r=A3();function n(a){return e(a)?r(a):t(a)}return Ap=n,Ap}var Pp,PS;function E3(){if(PS)return Pp;PS=1;var t=k3(),e=VA(),r=P3(),n=qA();function a(s){return function(c){c=n(c);var u=e(c)?r(c):void 0,d=u?u[0]:c.charAt(0),m=u?t(u,1).join(""):c.slice(1);return d[s]()+m}}return Pp=a,Pp}var Ep,ES;function T3(){if(ES)return Ep;ES=1;var t=E3(),e=t("toUpperCase");return Ep=e,Ep}var C3=T3();const Fd=He(C3);function Qe(t){return function(){return t}}const KA=Math.cos,Iu=Math.sin,ln=Math.sqrt,Mu=Math.PI,zd=2*Mu,Iv=Math.PI,Mv=2*Iv,Ya=1e-6,I3=Mv-Ya;function YA(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function M3(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return YA;const r=10**e;return function(n){this._+=n[0];for(let a=1,s=n.length;a<s;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class R3{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?YA:M3(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,a){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(e,r,n,a,s,c){this._append`C${+e},${+r},${+n},${+a},${this._x1=+s},${this._y1=+c}`}arcTo(e,r,n,a,s){if(e=+e,r=+r,n=+n,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let c=this._x1,u=this._y1,d=n-e,m=a-r,p=c-e,h=u-r,y=p*p+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(y>Ya)if(!(Math.abs(h*d-m*p)>Ya)||!s)this._append`L${this._x1=e},${this._y1=r}`;else{let x=n-c,j=a-u,w=d*d+m*m,b=x*x+j*j,k=Math.sqrt(w),S=Math.sqrt(y),O=s*Math.tan((Iv-Math.acos((w+y-b)/(2*k*S)))/2),P=O/S,N=O/k;Math.abs(P-1)>Ya&&this._append`L${e+P*p},${r+P*h}`,this._append`A${s},${s},0,0,${+(h*x>p*j)},${this._x1=e+N*d},${this._y1=r+N*m}`}}arc(e,r,n,a,s,c){if(e=+e,r=+r,n=+n,c=!!c,n<0)throw new Error(`negative radius: ${n}`);let u=n*Math.cos(a),d=n*Math.sin(a),m=e+u,p=r+d,h=1^c,y=c?a-s:s-a;this._x1===null?this._append`M${m},${p}`:(Math.abs(this._x1-m)>Ya||Math.abs(this._y1-p)>Ya)&&this._append`L${m},${p}`,n&&(y<0&&(y=y%Mv+Mv),y>I3?this._append`A${n},${n},0,1,${h},${e-u},${r-d}A${n},${n},0,1,${h},${this._x1=m},${this._y1=p}`:y>Ya&&this._append`A${n},${n},0,${+(y>=Iv)},${h},${this._x1=e+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(e,r,n,a){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function dx(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new R3(e)}function fx(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function XA(t){this._context=t}XA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function qd(t){return new XA(t)}function QA(t){return t[0]}function ZA(t){return t[1]}function JA(t,e){var r=Qe(!0),n=null,a=qd,s=null,c=dx(u);t=typeof t=="function"?t:t===void 0?QA:Qe(t),e=typeof e=="function"?e:e===void 0?ZA:Qe(e);function u(d){var m,p=(d=fx(d)).length,h,y=!1,x;for(n==null&&(s=a(x=c())),m=0;m<=p;++m)!(m<p&&r(h=d[m],m,d))===y&&((y=!y)?s.lineStart():s.lineEnd()),y&&s.point(+t(h,m,d),+e(h,m,d));if(x)return s=null,x+""||null}return u.x=function(d){return arguments.length?(t=typeof d=="function"?d:Qe(+d),u):t},u.y=function(d){return arguments.length?(e=typeof d=="function"?d:Qe(+d),u):e},u.defined=function(d){return arguments.length?(r=typeof d=="function"?d:Qe(!!d),u):r},u.curve=function(d){return arguments.length?(a=d,n!=null&&(s=a(n)),u):a},u.context=function(d){return arguments.length?(d==null?n=s=null:s=a(n=d),u):n},u}function mu(t,e,r){var n=null,a=Qe(!0),s=null,c=qd,u=null,d=dx(m);t=typeof t=="function"?t:t===void 0?QA:Qe(+t),e=typeof e=="function"?e:Qe(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?ZA:Qe(+r);function m(h){var y,x,j,w=(h=fx(h)).length,b,k=!1,S,O=new Array(w),P=new Array(w);for(s==null&&(u=c(S=d())),y=0;y<=w;++y){if(!(y<w&&a(b=h[y],y,h))===k)if(k=!k)x=y,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),j=y-1;j>=x;--j)u.point(O[j],P[j]);u.lineEnd(),u.areaEnd()}k&&(O[y]=+t(b,y,h),P[y]=+e(b,y,h),u.point(n?+n(b,y,h):O[y],r?+r(b,y,h):P[y]))}if(S)return u=null,S+""||null}function p(){return JA().defined(a).curve(c).context(s)}return m.x=function(h){return arguments.length?(t=typeof h=="function"?h:Qe(+h),n=null,m):t},m.x0=function(h){return arguments.length?(t=typeof h=="function"?h:Qe(+h),m):t},m.x1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:Qe(+h),m):n},m.y=function(h){return arguments.length?(e=typeof h=="function"?h:Qe(+h),r=null,m):e},m.y0=function(h){return arguments.length?(e=typeof h=="function"?h:Qe(+h),m):e},m.y1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:Qe(+h),m):r},m.lineX0=m.lineY0=function(){return p().x(t).y(e)},m.lineY1=function(){return p().x(t).y(r)},m.lineX1=function(){return p().x(n).y(e)},m.defined=function(h){return arguments.length?(a=typeof h=="function"?h:Qe(!!h),m):a},m.curve=function(h){return arguments.length?(c=h,s!=null&&(u=c(s)),m):c},m.context=function(h){return arguments.length?(h==null?s=u=null:u=c(s=h),m):s},m}class eP{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function $3(t){return new eP(t,!0)}function D3(t){return new eP(t,!1)}const mx={draw(t,e){const r=ln(e/Mu);t.moveTo(r,0),t.arc(0,0,r,0,zd)}},L3={draw(t,e){const r=ln(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},tP=ln(1/3),B3=tP*2,F3={draw(t,e){const r=ln(e/B3),n=r*tP;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},z3={draw(t,e){const r=ln(e),n=-r/2;t.rect(n,n,r,r)}},q3=.8908130915292852,rP=Iu(Mu/10)/Iu(7*Mu/10),U3=Iu(zd/10)*rP,W3=-KA(zd/10)*rP,H3={draw(t,e){const r=ln(e*q3),n=U3*r,a=W3*r;t.moveTo(0,-r),t.lineTo(n,a);for(let s=1;s<5;++s){const c=zd*s/5,u=KA(c),d=Iu(c);t.lineTo(d*r,-u*r),t.lineTo(u*n-d*a,d*n+u*a)}t.closePath()}},Tp=ln(3),G3={draw(t,e){const r=-ln(e/(Tp*3));t.moveTo(0,r*2),t.lineTo(-Tp*r,-r),t.lineTo(Tp*r,-r),t.closePath()}},Mr=-.5,Rr=ln(3)/2,Rv=1/ln(12),V3=(Rv/2+1)*3,K3={draw(t,e){const r=ln(e/V3),n=r/2,a=r*Rv,s=n,c=r*Rv+r,u=-s,d=c;t.moveTo(n,a),t.lineTo(s,c),t.lineTo(u,d),t.lineTo(Mr*n-Rr*a,Rr*n+Mr*a),t.lineTo(Mr*s-Rr*c,Rr*s+Mr*c),t.lineTo(Mr*u-Rr*d,Rr*u+Mr*d),t.lineTo(Mr*n+Rr*a,Mr*a-Rr*n),t.lineTo(Mr*s+Rr*c,Mr*c-Rr*s),t.lineTo(Mr*u+Rr*d,Mr*d-Rr*u),t.closePath()}};function Y3(t,e){let r=null,n=dx(a);t=typeof t=="function"?t:Qe(t||mx),e=typeof e=="function"?e:Qe(e===void 0?64:+e);function a(){let s;if(r||(r=s=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),s)return r=null,s+""||null}return a.type=function(s){return arguments.length?(t=typeof s=="function"?s:Qe(s),a):t},a.size=function(s){return arguments.length?(e=typeof s=="function"?s:Qe(+s),a):e},a.context=function(s){return arguments.length?(r=s??null,a):r},a}function Ru(){}function $u(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function nP(t){this._context=t}nP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:$u(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:$u(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function X3(t){return new nP(t)}function aP(t){this._context=t}aP.prototype={areaStart:Ru,areaEnd:Ru,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:$u(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Q3(t){return new aP(t)}function iP(t){this._context=t}iP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:$u(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Z3(t){return new iP(t)}function sP(t){this._context=t}sP.prototype={areaStart:Ru,areaEnd:Ru,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function J3(t){return new sP(t)}function TS(t){return t<0?-1:1}function CS(t,e,r){var n=t._x1-t._x0,a=e-t._x1,s=(t._y1-t._y0)/(n||a<0&&-0),c=(r-t._y1)/(a||n<0&&-0),u=(s*a+c*n)/(n+a);return(TS(s)+TS(c))*Math.min(Math.abs(s),Math.abs(c),.5*Math.abs(u))||0}function IS(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function Cp(t,e,r){var n=t._x0,a=t._y0,s=t._x1,c=t._y1,u=(s-n)/3;t._context.bezierCurveTo(n+u,a+u*e,s-u,c-u*r,s,c)}function Du(t){this._context=t}Du.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Cp(this,this._t0,IS(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Cp(this,IS(this,r=CS(this,t,e)),r);break;default:Cp(this,this._t0,r=CS(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function oP(t){this._context=new lP(t)}(oP.prototype=Object.create(Du.prototype)).point=function(t,e){Du.prototype.point.call(this,e,t)};function lP(t){this._context=t}lP.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,a,s){this._context.bezierCurveTo(e,t,n,r,s,a)}};function e$(t){return new Du(t)}function t$(t){return new oP(t)}function cP(t){this._context=t}cP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=MS(t),a=MS(e),s=0,c=1;c<r;++s,++c)this._context.bezierCurveTo(n[0][s],a[0][s],n[1][s],a[1][s],t[c],e[c]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function MS(t){var e,r=t.length-1,n,a=new Array(r),s=new Array(r),c=new Array(r);for(a[0]=0,s[0]=2,c[0]=t[0]+2*t[1],e=1;e<r-1;++e)a[e]=1,s[e]=4,c[e]=4*t[e]+2*t[e+1];for(a[r-1]=2,s[r-1]=7,c[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=a[e]/s[e-1],s[e]-=n,c[e]-=n*c[e-1];for(a[r-1]=c[r-1]/s[r-1],e=r-2;e>=0;--e)a[e]=(c[e]-a[e+1])/s[e];for(s[r-1]=(t[r]+a[r-1])/2,e=0;e<r-1;++e)s[e]=2*t[e+1]-a[e+1];return[a,s]}function r$(t){return new cP(t)}function Ud(t,e){this._context=t,this._t=e}Ud.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function n$(t){return new Ud(t,.5)}function a$(t){return new Ud(t,0)}function i$(t){return new Ud(t,1)}function cs(t,e){if((c=t.length)>1)for(var r=1,n,a,s=t[e[0]],c,u=s.length;r<c;++r)for(a=s,s=t[e[r]],n=0;n<u;++n)s[n][1]+=s[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function $v(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function s$(t,e){return t[e]}function o$(t){const e=[];return e.key=t,e}function l$(){var t=Qe([]),e=$v,r=cs,n=s$;function a(s){var c=Array.from(t.apply(this,arguments),o$),u,d=c.length,m=-1,p;for(const h of s)for(u=0,++m;u<d;++u)(c[u][m]=[0,+n(h,c[u].key,m,s)]).data=h;for(u=0,p=fx(e(c));u<d;++u)c[p[u]].index=u;return r(c,p),c}return a.keys=function(s){return arguments.length?(t=typeof s=="function"?s:Qe(Array.from(s)),a):t},a.value=function(s){return arguments.length?(n=typeof s=="function"?s:Qe(+s),a):n},a.order=function(s){return arguments.length?(e=s==null?$v:typeof s=="function"?s:Qe(Array.from(s)),a):e},a.offset=function(s){return arguments.length?(r=s??cs,a):r},a}function c$(t,e){if((n=t.length)>0){for(var r,n,a=0,s=t[0].length,c;a<s;++a){for(c=r=0;r<n;++r)c+=t[r][a][1]||0;if(c)for(r=0;r<n;++r)t[r][a][1]/=c}cs(t,e)}}function u$(t,e){if((a=t.length)>0){for(var r=0,n=t[e[0]],a,s=n.length;r<s;++r){for(var c=0,u=0;c<a;++c)u+=t[c][r][1]||0;n[r][1]+=n[r][0]=-u/2}cs(t,e)}}function d$(t,e){if(!(!((c=t.length)>0)||!((s=(a=t[e[0]]).length)>0))){for(var r=0,n=1,a,s,c;n<s;++n){for(var u=0,d=0,m=0;u<c;++u){for(var p=t[e[u]],h=p[n][1]||0,y=p[n-1][1]||0,x=(h-y)/2,j=0;j<u;++j){var w=t[e[j]],b=w[n][1]||0,k=w[n-1][1]||0;x+=b-k}d+=h,m+=x*h}a[n-1][1]+=a[n-1][0]=r,d&&(r-=m/d)}a[n-1][1]+=a[n-1][0]=r,cs(t,e)}}function ul(t){"@babel/helpers - typeof";return ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ul(t)}var f$=["type","size","sizeType"];function Dv(){return Dv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Dv.apply(this,arguments)}function RS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function $S(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?RS(Object(r),!0).forEach(function(n){m$(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):RS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function m$(t,e,r){return e=h$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function h$(t){var e=p$(t,"string");return ul(e)=="symbol"?e:e+""}function p$(t,e){if(ul(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ul(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function g$(t,e){if(t==null)return{};var r=y$(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function y$(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var uP={symbolCircle:mx,symbolCross:L3,symbolDiamond:F3,symbolSquare:z3,symbolStar:H3,symbolTriangle:G3,symbolWye:K3},v$=Math.PI/180,x$=function(e){var r="symbol".concat(Fd(e));return uP[r]||mx},b$=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var a=18*v$;return 1.25*e*e*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},w$=function(e,r){uP["symbol".concat(Fd(e))]=r},Wd=function(e){var r=e.type,n=r===void 0?"circle":r,a=e.size,s=a===void 0?64:a,c=e.sizeType,u=c===void 0?"area":c,d=g$(e,f$),m=$S($S({},d),{},{type:n,size:s,sizeType:u}),p=function(){var b=x$(n),k=Y3().type(b).size(b$(s,u,n));return k()},h=m.className,y=m.cx,x=m.cy,j=we(m,!0);return y===+y&&x===+x&&s===+s?U.createElement("path",Dv({},j,{className:Me("recharts-symbols",h),transform:"translate(".concat(y,", ").concat(x,")"),d:p()})):null};Wd.registerSymbol=w$;function us(t){"@babel/helpers - typeof";return us=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},us(t)}function Lv(){return Lv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Lv.apply(this,arguments)}function DS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function j$(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?DS(Object(r),!0).forEach(function(n){dl(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):DS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function S$(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _$(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,fP(n.key),n)}}function N$(t,e,r){return e&&_$(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function k$(t,e,r){return e=Lu(e),O$(t,dP()?Reflect.construct(e,r||[],Lu(t).constructor):e.apply(t,r))}function O$(t,e){if(e&&(us(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return A$(t)}function A$(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dP=function(){return!!t})()}function Lu(t){return Lu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lu(t)}function P$(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Bv(t,e)}function Bv(t,e){return Bv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Bv(t,e)}function dl(t,e,r){return e=fP(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fP(t){var e=E$(t,"string");return us(e)=="symbol"?e:e+""}function E$(t,e){if(us(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(us(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var $r=32,hx=(function(t){function e(){return S$(this,e),k$(this,e,arguments)}return P$(e,t),N$(e,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,s=$r/2,c=$r/6,u=$r/3,d=n.inactive?a:n.color;if(n.type==="plainline")return U.createElement("line",{strokeWidth:4,fill:"none",stroke:d,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:s,x2:$r,y2:s,className:"recharts-legend-icon"});if(n.type==="line")return U.createElement("path",{strokeWidth:4,fill:"none",stroke:d,d:"M0,".concat(s,"h").concat(u,`
            A`).concat(c,",").concat(c,",0,1,1,").concat(2*u,",").concat(s,`
            H`).concat($r,"M").concat(2*u,",").concat(s,`
            A`).concat(c,",").concat(c,",0,1,1,").concat(u,",").concat(s),className:"recharts-legend-icon"});if(n.type==="rect")return U.createElement("path",{stroke:"none",fill:d,d:"M0,".concat($r/8,"h").concat($r,"v").concat($r*3/4,"h").concat(-$r,"z"),className:"recharts-legend-icon"});if(U.isValidElement(n.legendIcon)){var m=j$({},n);return delete m.legendIcon,U.cloneElement(n.legendIcon,m)}return U.createElement(Wd,{fill:d,cx:s,cy:s,size:$r,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,s=a.payload,c=a.iconSize,u=a.layout,d=a.formatter,m=a.inactiveColor,p={x:0,y:0,width:$r,height:$r},h={display:u==="horizontal"?"inline-block":"block",marginRight:10},y={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(x,j){var w=x.formatter||d,b=Me(dl(dl({"recharts-legend-item":!0},"legend-item-".concat(j),!0),"inactive",x.inactive));if(x.type==="none")return null;var k=Ae(x.value)?null:x.value;sn(!Ae(x.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var S=x.inactive?m:x.color;return U.createElement("li",Lv({className:b,style:h,key:"legend-item-".concat(j)},_a(n.props,x,j)),U.createElement(Tv,{width:c,height:c,viewBox:p,style:y},n.renderIcon(x)),U.createElement("span",{className:"recharts-legend-item-text",style:{color:S}},w?w(k,x,j):k))})}},{key:"render",value:function(){var n=this.props,a=n.payload,s=n.layout,c=n.align;if(!a||!a.length)return null;var u={padding:0,margin:0,textAlign:s==="horizontal"?c:"left"};return U.createElement("ul",{className:"recharts-default-legend",style:u},this.renderItems())}}])})(R.PureComponent);dl(hx,"displayName","Legend");dl(hx,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Ip,LS;function T$(){if(LS)return Ip;LS=1;var t=Dd();function e(){this.__data__=new t,this.size=0}return Ip=e,Ip}var Mp,BS;function C$(){if(BS)return Mp;BS=1;function t(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}return Mp=t,Mp}var Rp,FS;function I$(){if(FS)return Rp;FS=1;function t(e){return this.__data__.get(e)}return Rp=t,Rp}var $p,zS;function M$(){if(zS)return $p;zS=1;function t(e){return this.__data__.has(e)}return $p=t,$p}var Dp,qS;function R$(){if(qS)return Dp;qS=1;var t=Dd(),e=ix(),r=sx(),n=200;function a(s,c){var u=this.__data__;if(u instanceof t){var d=u.__data__;if(!e||d.length<n-1)return d.push([s,c]),this.size=++u.size,this;u=this.__data__=new r(d)}return u.set(s,c),this.size=u.size,this}return Dp=a,Dp}var Lp,US;function mP(){if(US)return Lp;US=1;var t=Dd(),e=T$(),r=C$(),n=I$(),a=M$(),s=R$();function c(u){var d=this.__data__=new t(u);this.size=d.size}return c.prototype.clear=e,c.prototype.delete=r,c.prototype.get=n,c.prototype.has=a,c.prototype.set=s,Lp=c,Lp}var Bp,WS;function $$(){if(WS)return Bp;WS=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return Bp=e,Bp}var Fp,HS;function D$(){if(HS)return Fp;HS=1;function t(e){return this.__data__.has(e)}return Fp=t,Fp}var zp,GS;function hP(){if(GS)return zp;GS=1;var t=sx(),e=$$(),r=D$();function n(a){var s=-1,c=a==null?0:a.length;for(this.__data__=new t;++s<c;)this.add(a[s])}return n.prototype.add=n.prototype.push=e,n.prototype.has=r,zp=n,zp}var qp,VS;function pP(){if(VS)return qp;VS=1;function t(e,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(e[n],n,e))return!0;return!1}return qp=t,qp}var Up,KS;function gP(){if(KS)return Up;KS=1;function t(e,r){return e.has(r)}return Up=t,Up}var Wp,YS;function yP(){if(YS)return Wp;YS=1;var t=hP(),e=pP(),r=gP(),n=1,a=2;function s(c,u,d,m,p,h){var y=d&n,x=c.length,j=u.length;if(x!=j&&!(y&&j>x))return!1;var w=h.get(c),b=h.get(u);if(w&&b)return w==u&&b==c;var k=-1,S=!0,O=d&a?new t:void 0;for(h.set(c,u),h.set(u,c);++k<x;){var P=c[k],N=u[k];if(m)var A=y?m(N,P,k,u,c,h):m(P,N,k,c,u,h);if(A!==void 0){if(A)continue;S=!1;break}if(O){if(!e(u,function(T,D){if(!r(O,D)&&(P===T||p(P,T,d,m,h)))return O.push(D)})){S=!1;break}}else if(!(P===N||p(P,N,d,m,h))){S=!1;break}}return h.delete(c),h.delete(u),S}return Wp=s,Wp}var Hp,XS;function L$(){if(XS)return Hp;XS=1;var t=Sn(),e=t.Uint8Array;return Hp=e,Hp}var Gp,QS;function B$(){if(QS)return Gp;QS=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(a,s){n[++r]=[s,a]}),n}return Gp=t,Gp}var Vp,ZS;function px(){if(ZS)return Vp;ZS=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(a){n[++r]=a}),n}return Vp=t,Vp}var Kp,JS;function F$(){if(JS)return Kp;JS=1;var t=Hl(),e=L$(),r=ax(),n=yP(),a=B$(),s=px(),c=1,u=2,d="[object Boolean]",m="[object Date]",p="[object Error]",h="[object Map]",y="[object Number]",x="[object RegExp]",j="[object Set]",w="[object String]",b="[object Symbol]",k="[object ArrayBuffer]",S="[object DataView]",O=t?t.prototype:void 0,P=O?O.valueOf:void 0;function N(A,T,D,C,F,I,q){switch(D){case S:if(A.byteLength!=T.byteLength||A.byteOffset!=T.byteOffset)return!1;A=A.buffer,T=T.buffer;case k:return!(A.byteLength!=T.byteLength||!I(new e(A),new e(T)));case d:case m:case y:return r(+A,+T);case p:return A.name==T.name&&A.message==T.message;case x:case w:return A==T+"";case h:var B=a;case j:var V=C&c;if(B||(B=s),A.size!=T.size&&!V)return!1;var L=q.get(A);if(L)return L==T;C|=u,q.set(A,T);var M=n(B(A),B(T),C,F,I,q);return q.delete(A),M;case b:if(P)return P.call(A)==P.call(T)}return!1}return Kp=N,Kp}var Yp,e_;function vP(){if(e_)return Yp;e_=1;function t(e,r){for(var n=-1,a=r.length,s=e.length;++n<a;)e[s+n]=r[n];return e}return Yp=t,Yp}var Xp,t_;function z$(){if(t_)return Xp;t_=1;var t=vP(),e=pr();function r(n,a,s){var c=a(n);return e(n)?c:t(c,s(n))}return Xp=r,Xp}var Qp,r_;function q$(){if(r_)return Qp;r_=1;function t(e,r){for(var n=-1,a=e==null?0:e.length,s=0,c=[];++n<a;){var u=e[n];r(u,n,e)&&(c[s++]=u)}return c}return Qp=t,Qp}var Zp,n_;function U$(){if(n_)return Zp;n_=1;function t(){return[]}return Zp=t,Zp}var Jp,a_;function W$(){if(a_)return Jp;a_=1;var t=q$(),e=U$(),r=Object.prototype,n=r.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(c){return c==null?[]:(c=Object(c),t(a(c),function(u){return n.call(c,u)}))}:e;return Jp=s,Jp}var eg,i_;function H$(){if(i_)return eg;i_=1;function t(e,r){for(var n=-1,a=Array(e);++n<e;)a[n]=r(n);return a}return eg=t,eg}var tg,s_;function G$(){if(s_)return tg;s_=1;var t=Hn(),e=Gn(),r="[object Arguments]";function n(a){return e(a)&&t(a)==r}return tg=n,tg}var rg,o_;function gx(){if(o_)return rg;o_=1;var t=G$(),e=Gn(),r=Object.prototype,n=r.hasOwnProperty,a=r.propertyIsEnumerable,s=t((function(){return arguments})())?t:function(c){return e(c)&&n.call(c,"callee")&&!a.call(c,"callee")};return rg=s,rg}var Ko={exports:{}},ng,l_;function V$(){if(l_)return ng;l_=1;function t(){return!1}return ng=t,ng}Ko.exports;var c_;function xP(){return c_||(c_=1,(function(t,e){var r=Sn(),n=V$(),a=e&&!e.nodeType&&e,s=a&&!0&&t&&!t.nodeType&&t,c=s&&s.exports===a,u=c?r.Buffer:void 0,d=u?u.isBuffer:void 0,m=d||n;t.exports=m})(Ko,Ko.exports)),Ko.exports}var ag,u_;function yx(){if(u_)return ag;u_=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,a){var s=typeof n;return a=a??t,!!a&&(s=="number"||s!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<a}return ag=r,ag}var ig,d_;function vx(){if(d_)return ig;d_=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return ig=e,ig}var sg,f_;function K$(){if(f_)return sg;f_=1;var t=Hn(),e=vx(),r=Gn(),n="[object Arguments]",a="[object Array]",s="[object Boolean]",c="[object Date]",u="[object Error]",d="[object Function]",m="[object Map]",p="[object Number]",h="[object Object]",y="[object RegExp]",x="[object Set]",j="[object String]",w="[object WeakMap]",b="[object ArrayBuffer]",k="[object DataView]",S="[object Float32Array]",O="[object Float64Array]",P="[object Int8Array]",N="[object Int16Array]",A="[object Int32Array]",T="[object Uint8Array]",D="[object Uint8ClampedArray]",C="[object Uint16Array]",F="[object Uint32Array]",I={};I[S]=I[O]=I[P]=I[N]=I[A]=I[T]=I[D]=I[C]=I[F]=!0,I[n]=I[a]=I[b]=I[s]=I[k]=I[c]=I[u]=I[d]=I[m]=I[p]=I[h]=I[y]=I[x]=I[j]=I[w]=!1;function q(B){return r(B)&&e(B.length)&&!!I[t(B)]}return sg=q,sg}var og,m_;function bP(){if(m_)return og;m_=1;function t(e){return function(r){return e(r)}}return og=t,og}var Yo={exports:{}};Yo.exports;var h_;function Y$(){return h_||(h_=1,(function(t,e){var r=BA(),n=e&&!e.nodeType&&e,a=n&&!0&&t&&!t.nodeType&&t,s=a&&a.exports===n,c=s&&r.process,u=(function(){try{var d=a&&a.require&&a.require("util").types;return d||c&&c.binding&&c.binding("util")}catch{}})();t.exports=u})(Yo,Yo.exports)),Yo.exports}var lg,p_;function wP(){if(p_)return lg;p_=1;var t=K$(),e=bP(),r=Y$(),n=r&&r.isTypedArray,a=n?e(n):t;return lg=a,lg}var cg,g_;function X$(){if(g_)return cg;g_=1;var t=H$(),e=gx(),r=pr(),n=xP(),a=yx(),s=wP(),c=Object.prototype,u=c.hasOwnProperty;function d(m,p){var h=r(m),y=!h&&e(m),x=!h&&!y&&n(m),j=!h&&!y&&!x&&s(m),w=h||y||x||j,b=w?t(m.length,String):[],k=b.length;for(var S in m)(p||u.call(m,S))&&!(w&&(S=="length"||x&&(S=="offset"||S=="parent")||j&&(S=="buffer"||S=="byteLength"||S=="byteOffset")||a(S,k)))&&b.push(S);return b}return cg=d,cg}var ug,y_;function Q$(){if(y_)return ug;y_=1;var t=Object.prototype;function e(r){var n=r&&r.constructor,a=typeof n=="function"&&n.prototype||t;return r===a}return ug=e,ug}var dg,v_;function jP(){if(v_)return dg;v_=1;function t(e,r){return function(n){return e(r(n))}}return dg=t,dg}var fg,x_;function Z$(){if(x_)return fg;x_=1;var t=jP(),e=t(Object.keys,Object);return fg=e,fg}var mg,b_;function J$(){if(b_)return mg;b_=1;var t=Q$(),e=Z$(),r=Object.prototype,n=r.hasOwnProperty;function a(s){if(!t(s))return e(s);var c=[];for(var u in Object(s))n.call(s,u)&&u!="constructor"&&c.push(u);return c}return mg=a,mg}var hg,w_;function Gl(){if(w_)return hg;w_=1;var t=nx(),e=vx();function r(n){return n!=null&&e(n.length)&&!t(n)}return hg=r,hg}var pg,j_;function Hd(){if(j_)return pg;j_=1;var t=X$(),e=J$(),r=Gl();function n(a){return r(a)?t(a):e(a)}return pg=n,pg}var gg,S_;function eD(){if(S_)return gg;S_=1;var t=z$(),e=W$(),r=Hd();function n(a){return t(a,r,e)}return gg=n,gg}var yg,__;function tD(){if(__)return yg;__=1;var t=eD(),e=1,r=Object.prototype,n=r.hasOwnProperty;function a(s,c,u,d,m,p){var h=u&e,y=t(s),x=y.length,j=t(c),w=j.length;if(x!=w&&!h)return!1;for(var b=x;b--;){var k=y[b];if(!(h?k in c:n.call(c,k)))return!1}var S=p.get(s),O=p.get(c);if(S&&O)return S==c&&O==s;var P=!0;p.set(s,c),p.set(c,s);for(var N=h;++b<x;){k=y[b];var A=s[k],T=c[k];if(d)var D=h?d(T,A,k,c,s,p):d(A,T,k,s,c,p);if(!(D===void 0?A===T||m(A,T,u,d,p):D)){P=!1;break}N||(N=k=="constructor")}if(P&&!N){var C=s.constructor,F=c.constructor;C!=F&&"constructor"in s&&"constructor"in c&&!(typeof C=="function"&&C instanceof C&&typeof F=="function"&&F instanceof F)&&(P=!1)}return p.delete(s),p.delete(c),P}return yg=a,yg}var vg,N_;function rD(){if(N_)return vg;N_=1;var t=hi(),e=Sn(),r=t(e,"DataView");return vg=r,vg}var xg,k_;function nD(){if(k_)return xg;k_=1;var t=hi(),e=Sn(),r=t(e,"Promise");return xg=r,xg}var bg,O_;function SP(){if(O_)return bg;O_=1;var t=hi(),e=Sn(),r=t(e,"Set");return bg=r,bg}var wg,A_;function aD(){if(A_)return wg;A_=1;var t=hi(),e=Sn(),r=t(e,"WeakMap");return wg=r,wg}var jg,P_;function iD(){if(P_)return jg;P_=1;var t=rD(),e=ix(),r=nD(),n=SP(),a=aD(),s=Hn(),c=FA(),u="[object Map]",d="[object Object]",m="[object Promise]",p="[object Set]",h="[object WeakMap]",y="[object DataView]",x=c(t),j=c(e),w=c(r),b=c(n),k=c(a),S=s;return(t&&S(new t(new ArrayBuffer(1)))!=y||e&&S(new e)!=u||r&&S(r.resolve())!=m||n&&S(new n)!=p||a&&S(new a)!=h)&&(S=function(O){var P=s(O),N=P==d?O.constructor:void 0,A=N?c(N):"";if(A)switch(A){case x:return y;case j:return u;case w:return m;case b:return p;case k:return h}return P}),jg=S,jg}var Sg,E_;function sD(){if(E_)return Sg;E_=1;var t=mP(),e=yP(),r=F$(),n=tD(),a=iD(),s=pr(),c=xP(),u=wP(),d=1,m="[object Arguments]",p="[object Array]",h="[object Object]",y=Object.prototype,x=y.hasOwnProperty;function j(w,b,k,S,O,P){var N=s(w),A=s(b),T=N?p:a(w),D=A?p:a(b);T=T==m?h:T,D=D==m?h:D;var C=T==h,F=D==h,I=T==D;if(I&&c(w)){if(!c(b))return!1;N=!0,C=!1}if(I&&!C)return P||(P=new t),N||u(w)?e(w,b,k,S,O,P):r(w,b,T,k,S,O,P);if(!(k&d)){var q=C&&x.call(w,"__wrapped__"),B=F&&x.call(b,"__wrapped__");if(q||B){var V=q?w.value():w,L=B?b.value():b;return P||(P=new t),O(V,L,k,S,P)}}return I?(P||(P=new t),n(w,b,k,S,O,P)):!1}return Sg=j,Sg}var _g,T_;function xx(){if(T_)return _g;T_=1;var t=sD(),e=Gn();function r(n,a,s,c,u){return n===a?!0:n==null||a==null||!e(n)&&!e(a)?n!==n&&a!==a:t(n,a,s,c,r,u)}return _g=r,_g}var Ng,C_;function oD(){if(C_)return Ng;C_=1;var t=mP(),e=xx(),r=1,n=2;function a(s,c,u,d){var m=u.length,p=m,h=!d;if(s==null)return!p;for(s=Object(s);m--;){var y=u[m];if(h&&y[2]?y[1]!==s[y[0]]:!(y[0]in s))return!1}for(;++m<p;){y=u[m];var x=y[0],j=s[x],w=y[1];if(h&&y[2]){if(j===void 0&&!(x in s))return!1}else{var b=new t;if(d)var k=d(j,w,x,s,c,b);if(!(k===void 0?e(w,j,r|n,d,b):k))return!1}}return!0}return Ng=a,Ng}var kg,I_;function _P(){if(I_)return kg;I_=1;var t=Aa();function e(r){return r===r&&!t(r)}return kg=e,kg}var Og,M_;function lD(){if(M_)return Og;M_=1;var t=_P(),e=Hd();function r(n){for(var a=e(n),s=a.length;s--;){var c=a[s],u=n[c];a[s]=[c,u,t(u)]}return a}return Og=r,Og}var Ag,R_;function NP(){if(R_)return Ag;R_=1;function t(e,r){return function(n){return n==null?!1:n[e]===r&&(r!==void 0||e in Object(n))}}return Ag=t,Ag}var Pg,$_;function cD(){if($_)return Pg;$_=1;var t=oD(),e=lD(),r=NP();function n(a){var s=e(a);return s.length==1&&s[0][2]?r(s[0][0],s[0][1]):function(c){return c===a||t(c,a,s)}}return Pg=n,Pg}var Eg,D_;function uD(){if(D_)return Eg;D_=1;function t(e,r){return e!=null&&r in Object(e)}return Eg=t,Eg}var Tg,L_;function dD(){if(L_)return Tg;L_=1;var t=UA(),e=gx(),r=pr(),n=yx(),a=vx(),s=Bd();function c(u,d,m){d=t(d,u);for(var p=-1,h=d.length,y=!1;++p<h;){var x=s(d[p]);if(!(y=u!=null&&m(u,x)))break;u=u[x]}return y||++p!=h?y:(h=u==null?0:u.length,!!h&&a(h)&&n(x,h)&&(r(u)||e(u)))}return Tg=c,Tg}var Cg,B_;function fD(){if(B_)return Cg;B_=1;var t=uD(),e=dD();function r(n,a){return n!=null&&e(n,a,t)}return Cg=r,Cg}var Ig,F_;function mD(){if(F_)return Ig;F_=1;var t=xx(),e=WA(),r=fD(),n=rx(),a=_P(),s=NP(),c=Bd(),u=1,d=2;function m(p,h){return n(p)&&a(h)?s(c(p),h):function(y){var x=e(y,p);return x===void 0&&x===h?r(y,p):t(h,x,u|d)}}return Ig=m,Ig}var Mg,z_;function Ws(){if(z_)return Mg;z_=1;function t(e){return e}return Mg=t,Mg}var Rg,q_;function hD(){if(q_)return Rg;q_=1;function t(e){return function(r){return r?.[e]}}return Rg=t,Rg}var $g,U_;function pD(){if(U_)return $g;U_=1;var t=lx();function e(r){return function(n){return t(n,r)}}return $g=e,$g}var Dg,W_;function gD(){if(W_)return Dg;W_=1;var t=hD(),e=pD(),r=rx(),n=Bd();function a(s){return r(s)?t(n(s)):e(s)}return Dg=a,Dg}var Lg,H_;function _n(){if(H_)return Lg;H_=1;var t=cD(),e=mD(),r=Ws(),n=pr(),a=gD();function s(c){return typeof c=="function"?c:c==null?r:typeof c=="object"?n(c)?e(c[0],c[1]):t(c):a(c)}return Lg=s,Lg}var Bg,G_;function kP(){if(G_)return Bg;G_=1;function t(e,r,n,a){for(var s=e.length,c=n+(a?1:-1);a?c--:++c<s;)if(r(e[c],c,e))return c;return-1}return Bg=t,Bg}var Fg,V_;function yD(){if(V_)return Fg;V_=1;function t(e){return e!==e}return Fg=t,Fg}var zg,K_;function vD(){if(K_)return zg;K_=1;function t(e,r,n){for(var a=n-1,s=e.length;++a<s;)if(e[a]===r)return a;return-1}return zg=t,zg}var qg,Y_;function xD(){if(Y_)return qg;Y_=1;var t=kP(),e=yD(),r=vD();function n(a,s,c){return s===s?r(a,s,c):t(a,e,c)}return qg=n,qg}var Ug,X_;function bD(){if(X_)return Ug;X_=1;var t=xD();function e(r,n){var a=r==null?0:r.length;return!!a&&t(r,n,0)>-1}return Ug=e,Ug}var Wg,Q_;function wD(){if(Q_)return Wg;Q_=1;function t(e,r,n){for(var a=-1,s=e==null?0:e.length;++a<s;)if(n(r,e[a]))return!0;return!1}return Wg=t,Wg}var Hg,Z_;function jD(){if(Z_)return Hg;Z_=1;function t(){}return Hg=t,Hg}var Gg,J_;function SD(){if(J_)return Gg;J_=1;var t=SP(),e=jD(),r=px(),n=1/0,a=t&&1/r(new t([,-0]))[1]==n?function(s){return new t(s)}:e;return Gg=a,Gg}var Vg,eN;function _D(){if(eN)return Vg;eN=1;var t=hP(),e=bD(),r=wD(),n=gP(),a=SD(),s=px(),c=200;function u(d,m,p){var h=-1,y=e,x=d.length,j=!0,w=[],b=w;if(p)j=!1,y=r;else if(x>=c){var k=m?null:a(d);if(k)return s(k);j=!1,y=n,b=new t}else b=m?[]:w;e:for(;++h<x;){var S=d[h],O=m?m(S):S;if(S=p||S!==0?S:0,j&&O===O){for(var P=b.length;P--;)if(b[P]===O)continue e;m&&b.push(O),w.push(S)}else y(b,O,p)||(b!==w&&b.push(O),w.push(S))}return w}return Vg=u,Vg}var Kg,tN;function ND(){if(tN)return Kg;tN=1;var t=_n(),e=_D();function r(n,a){return n&&n.length?e(n,t(a,2)):[]}return Kg=r,Kg}var kD=ND();const rN=He(kD);function OP(t,e,r){return e===!0?rN(t,r):Ae(e)?rN(t,e):t}function ds(t){"@babel/helpers - typeof";return ds=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ds(t)}var OD=["ref"];function nN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function In(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nN(Object(r),!0).forEach(function(n){Gd(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function AD(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aN(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,PP(n.key),n)}}function PD(t,e,r){return e&&aN(t.prototype,e),r&&aN(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function ED(t,e,r){return e=Bu(e),TD(t,AP()?Reflect.construct(e,r||[],Bu(t).constructor):e.apply(t,r))}function TD(t,e){if(e&&(ds(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return CD(t)}function CD(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function AP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AP=function(){return!!t})()}function Bu(t){return Bu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bu(t)}function ID(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Fv(t,e)}function Fv(t,e){return Fv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Fv(t,e)}function Gd(t,e,r){return e=PP(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function PP(t){var e=MD(t,"string");return ds(e)=="symbol"?e:e+""}function MD(t,e){if(ds(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ds(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function RD(t,e){if(t==null)return{};var r=$D(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function $D(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function DD(t){return t.value}function LD(t,e){if(U.isValidElement(t))return U.cloneElement(t,e);if(typeof t=="function")return U.createElement(t,e);e.ref;var r=RD(e,OD);return U.createElement(hx,r)}var iN=1,sr=(function(t){function e(){var r;AD(this,e);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=ED(this,e,[].concat(a)),Gd(r,"lastBoundingBox",{width:-1,height:-1}),r}return ID(e,t),PD(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>iN||Math.abs(a.height-this.lastBoundingBox.height)>iN)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?In({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,s=a.layout,c=a.align,u=a.verticalAlign,d=a.margin,m=a.chartWidth,p=a.chartHeight,h,y;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(c==="center"&&s==="vertical"){var x=this.getBBoxSnapshot();h={left:((m||0)-x.width)/2}}else h=c==="right"?{right:d&&d.right||0}:{left:d&&d.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(u==="middle"){var j=this.getBBoxSnapshot();y={top:((p||0)-j.height)/2}}else y=u==="bottom"?{bottom:d&&d.bottom||0}:{top:d&&d.top||0};return In(In({},h),y)}},{key:"render",value:function(){var n=this,a=this.props,s=a.content,c=a.width,u=a.height,d=a.wrapperStyle,m=a.payloadUniqBy,p=a.payload,h=In(In({position:"absolute",width:c||"auto",height:u||"auto"},this.getDefaultPosition(d)),d);return U.createElement("div",{className:"recharts-legend-wrapper",style:h,ref:function(x){n.wrapperNode=x}},LD(s,In(In({},this.props),{},{payload:OP(p,m,DD)})))}}],[{key:"getWithHeight",value:function(n,a){var s=In(In({},this.defaultProps),n.props),c=s.layout;return c==="vertical"&&ue(n.props.height)?{height:n.props.height}:c==="horizontal"?{width:n.props.width||a}:null}}])})(R.PureComponent);Gd(sr,"displayName","Legend");Gd(sr,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Yg,sN;function BD(){if(sN)return Yg;sN=1;var t=Hl(),e=gx(),r=pr(),n=t?t.isConcatSpreadable:void 0;function a(s){return r(s)||e(s)||!!(n&&s&&s[n])}return Yg=a,Yg}var Xg,oN;function EP(){if(oN)return Xg;oN=1;var t=vP(),e=BD();function r(n,a,s,c,u){var d=-1,m=n.length;for(s||(s=e),u||(u=[]);++d<m;){var p=n[d];a>0&&s(p)?a>1?r(p,a-1,s,c,u):t(u,p):c||(u[u.length]=p)}return u}return Xg=r,Xg}var Qg,lN;function FD(){if(lN)return Qg;lN=1;function t(e){return function(r,n,a){for(var s=-1,c=Object(r),u=a(r),d=u.length;d--;){var m=u[e?d:++s];if(n(c[m],m,c)===!1)break}return r}}return Qg=t,Qg}var Zg,cN;function zD(){if(cN)return Zg;cN=1;var t=FD(),e=t();return Zg=e,Zg}var Jg,uN;function TP(){if(uN)return Jg;uN=1;var t=zD(),e=Hd();function r(n,a){return n&&t(n,a,e)}return Jg=r,Jg}var ey,dN;function qD(){if(dN)return ey;dN=1;var t=Gl();function e(r,n){return function(a,s){if(a==null)return a;if(!t(a))return r(a,s);for(var c=a.length,u=n?c:-1,d=Object(a);(n?u--:++u<c)&&s(d[u],u,d)!==!1;);return a}}return ey=e,ey}var ty,fN;function bx(){if(fN)return ty;fN=1;var t=TP(),e=qD(),r=e(t);return ty=r,ty}var ry,mN;function CP(){if(mN)return ry;mN=1;var t=bx(),e=Gl();function r(n,a){var s=-1,c=e(n)?Array(n.length):[];return t(n,function(u,d,m){c[++s]=a(u,d,m)}),c}return ry=r,ry}var ny,hN;function UD(){if(hN)return ny;hN=1;function t(e,r){var n=e.length;for(e.sort(r);n--;)e[n]=e[n].value;return e}return ny=t,ny}var ay,pN;function WD(){if(pN)return ay;pN=1;var t=zs();function e(r,n){if(r!==n){var a=r!==void 0,s=r===null,c=r===r,u=t(r),d=n!==void 0,m=n===null,p=n===n,h=t(n);if(!m&&!h&&!u&&r>n||u&&d&&p&&!m&&!h||s&&d&&p||!a&&p||!c)return 1;if(!s&&!u&&!h&&r<n||h&&a&&c&&!s&&!u||m&&a&&c||!d&&c||!p)return-1}return 0}return ay=e,ay}var iy,gN;function HD(){if(gN)return iy;gN=1;var t=WD();function e(r,n,a){for(var s=-1,c=r.criteria,u=n.criteria,d=c.length,m=a.length;++s<d;){var p=t(c[s],u[s]);if(p){if(s>=m)return p;var h=a[s];return p*(h=="desc"?-1:1)}}return r.index-n.index}return iy=e,iy}var sy,yN;function GD(){if(yN)return sy;yN=1;var t=ox(),e=lx(),r=_n(),n=CP(),a=UD(),s=bP(),c=HD(),u=Ws(),d=pr();function m(p,h,y){h.length?h=t(h,function(w){return d(w)?function(b){return e(b,w.length===1?w[0]:w)}:w}):h=[u];var x=-1;h=t(h,s(r));var j=n(p,function(w,b,k){var S=t(h,function(O){return O(w)});return{criteria:S,index:++x,value:w}});return a(j,function(w,b){return c(w,b,y)})}return sy=m,sy}var oy,vN;function VD(){if(vN)return oy;vN=1;function t(e,r,n){switch(n.length){case 0:return e.call(r);case 1:return e.call(r,n[0]);case 2:return e.call(r,n[0],n[1]);case 3:return e.call(r,n[0],n[1],n[2])}return e.apply(r,n)}return oy=t,oy}var ly,xN;function KD(){if(xN)return ly;xN=1;var t=VD(),e=Math.max;function r(n,a,s){return a=e(a===void 0?n.length-1:a,0),function(){for(var c=arguments,u=-1,d=e(c.length-a,0),m=Array(d);++u<d;)m[u]=c[a+u];u=-1;for(var p=Array(a+1);++u<a;)p[u]=c[u];return p[a]=s(m),t(n,this,p)}}return ly=r,ly}var cy,bN;function YD(){if(bN)return cy;bN=1;function t(e){return function(){return e}}return cy=t,cy}var uy,wN;function IP(){if(wN)return uy;wN=1;var t=hi(),e=(function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}})();return uy=e,uy}var dy,jN;function XD(){if(jN)return dy;jN=1;var t=YD(),e=IP(),r=Ws(),n=e?function(a,s){return e(a,"toString",{configurable:!0,enumerable:!1,value:t(s),writable:!0})}:r;return dy=n,dy}var fy,SN;function QD(){if(SN)return fy;SN=1;var t=800,e=16,r=Date.now;function n(a){var s=0,c=0;return function(){var u=r(),d=e-(u-c);if(c=u,d>0){if(++s>=t)return arguments[0]}else s=0;return a.apply(void 0,arguments)}}return fy=n,fy}var my,_N;function ZD(){if(_N)return my;_N=1;var t=XD(),e=QD(),r=e(t);return my=r,my}var hy,NN;function JD(){if(NN)return hy;NN=1;var t=Ws(),e=KD(),r=ZD();function n(a,s){return r(e(a,s,t),a+"")}return hy=n,hy}var py,kN;function Vd(){if(kN)return py;kN=1;var t=ax(),e=Gl(),r=yx(),n=Aa();function a(s,c,u){if(!n(u))return!1;var d=typeof c;return(d=="number"?e(u)&&r(c,u.length):d=="string"&&c in u)?t(u[c],s):!1}return py=a,py}var gy,ON;function e4(){if(ON)return gy;ON=1;var t=EP(),e=GD(),r=JD(),n=Vd(),a=r(function(s,c){if(s==null)return[];var u=c.length;return u>1&&n(s,c[0],c[1])?c=[]:u>2&&n(c[0],c[1],c[2])&&(c=[c[0]]),e(s,t(c,1),[])});return gy=a,gy}var t4=e4();const wx=He(t4);function fl(t){"@babel/helpers - typeof";return fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fl(t)}function zv(){return zv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},zv.apply(this,arguments)}function r4(t,e){return s4(t)||i4(t,e)||a4(t,e)||n4()}function n4(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function a4(t,e){if(t){if(typeof t=="string")return AN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return AN(t,e)}}function AN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function i4(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,c,u=[],d=!0,m=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(d=(n=s.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(p){m=!0,a=p}finally{try{if(!d&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(m)throw a}}return u}}function s4(t){if(Array.isArray(t))return t}function PN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function yy(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PN(Object(r),!0).forEach(function(n){o4(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function o4(t,e,r){return e=l4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function l4(t){var e=c4(t,"string");return fl(e)=="symbol"?e:e+""}function c4(t,e){if(fl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(fl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function u4(t){return Array.isArray(t)&&Et(t[0])&&Et(t[1])?t.join(" ~ "):t}var d4=function(e){var r=e.separator,n=r===void 0?" : ":r,a=e.contentStyle,s=a===void 0?{}:a,c=e.itemStyle,u=c===void 0?{}:c,d=e.labelStyle,m=d===void 0?{}:d,p=e.payload,h=e.formatter,y=e.itemSorter,x=e.wrapperClassName,j=e.labelClassName,w=e.label,b=e.labelFormatter,k=e.accessibilityLayer,S=k===void 0?!1:k,O=function(){if(p&&p.length){var q={padding:0,margin:0},B=(y?wx(p,y):p).map(function(V,L){if(V.type==="none")return null;var M=yy({display:"block",paddingTop:4,paddingBottom:4,color:V.color||"#000"},u),G=V.formatter||h||u4,$=V.value,W=V.name,Q=$,z=W;if(G&&Q!=null&&z!=null){var Y=G($,W,V,L,p);if(Array.isArray(Y)){var ae=r4(Y,2);Q=ae[0],z=ae[1]}else Q=Y}return U.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(L),style:M},Et(z)?U.createElement("span",{className:"recharts-tooltip-item-name"},z):null,Et(z)?U.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,U.createElement("span",{className:"recharts-tooltip-item-value"},Q),U.createElement("span",{className:"recharts-tooltip-item-unit"},V.unit||""))});return U.createElement("ul",{className:"recharts-tooltip-item-list",style:q},B)}return null},P=yy({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),N=yy({margin:0},m),A=!Oe(w),T=A?w:"",D=Me("recharts-default-tooltip",x),C=Me("recharts-tooltip-label",j);A&&b&&p!==void 0&&p!==null&&(T=b(w,p));var F=S?{role:"status","aria-live":"assertive"}:{};return U.createElement("div",zv({className:D,style:P},F),U.createElement("p",{className:C,style:N},U.isValidElement(T)?T:"".concat(T)),O())};function ml(t){"@babel/helpers - typeof";return ml=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ml(t)}function hu(t,e,r){return e=f4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function f4(t){var e=m4(t,"string");return ml(e)=="symbol"?e:e+""}function m4(t,e){if(ml(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ml(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Bo="recharts-tooltip-wrapper",h4={visibility:"hidden"};function p4(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return Me(Bo,hu(hu(hu(hu({},"".concat(Bo,"-right"),ue(r)&&e&&ue(e.x)&&r>=e.x),"".concat(Bo,"-left"),ue(r)&&e&&ue(e.x)&&r<e.x),"".concat(Bo,"-bottom"),ue(n)&&e&&ue(e.y)&&n>=e.y),"".concat(Bo,"-top"),ue(n)&&e&&ue(e.y)&&n<e.y))}function EN(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,a=t.offsetTopLeft,s=t.position,c=t.reverseDirection,u=t.tooltipDimension,d=t.viewBox,m=t.viewBoxDimension;if(s&&ue(s[n]))return s[n];var p=r[n]-u-a,h=r[n]+a;if(e[n])return c[n]?p:h;if(c[n]){var y=p,x=d[n];return y<x?Math.max(h,d[n]):Math.max(p,d[n])}var j=h+u,w=d[n]+m;return j>w?Math.max(p,d[n]):Math.max(h,d[n])}function g4(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function y4(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,a=t.position,s=t.reverseDirection,c=t.tooltipBox,u=t.useTranslate3d,d=t.viewBox,m,p,h;return c.height>0&&c.width>0&&r?(p=EN({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:c.width,viewBox:d,viewBoxDimension:d.width}),h=EN({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:c.height,viewBox:d,viewBoxDimension:d.height}),m=g4({translateX:p,translateY:h,useTranslate3d:u})):m=h4,{cssProperties:m,cssClasses:p4({translateX:p,translateY:h,coordinate:r})}}function fs(t){"@babel/helpers - typeof";return fs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fs(t)}function TN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function CN(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TN(Object(r),!0).forEach(function(n){Uv(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function v4(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function x4(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,RP(n.key),n)}}function b4(t,e,r){return e&&x4(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function w4(t,e,r){return e=Fu(e),j4(t,MP()?Reflect.construct(e,r||[],Fu(t).constructor):e.apply(t,r))}function j4(t,e){if(e&&(fs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return S4(t)}function S4(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function MP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MP=function(){return!!t})()}function Fu(t){return Fu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fu(t)}function _4(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qv(t,e)}function qv(t,e){return qv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},qv(t,e)}function Uv(t,e,r){return e=RP(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function RP(t){var e=N4(t,"string");return fs(e)=="symbol"?e:e+""}function N4(t,e){if(fs(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(fs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var IN=1,k4=(function(t){function e(){var r;v4(this,e);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=w4(this,e,[].concat(a)),Uv(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Uv(r,"handleKeyDown",function(c){if(c.key==="Escape"){var u,d,m,p;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.x)!==null&&u!==void 0?u:0,y:(m=(p=r.props.coordinate)===null||p===void 0?void 0:p.y)!==null&&m!==void 0?m:0}})}}),r}return _4(e,t),b4(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>IN||Math.abs(n.height-this.state.lastBoundingBox.height)>IN)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,s=a.active,c=a.allowEscapeViewBox,u=a.animationDuration,d=a.animationEasing,m=a.children,p=a.coordinate,h=a.hasPayload,y=a.isAnimationActive,x=a.offset,j=a.position,w=a.reverseDirection,b=a.useTranslate3d,k=a.viewBox,S=a.wrapperStyle,O=y4({allowEscapeViewBox:c,coordinate:p,offsetTopLeft:x,position:j,reverseDirection:w,tooltipBox:this.state.lastBoundingBox,useTranslate3d:b,viewBox:k}),P=O.cssClasses,N=O.cssProperties,A=CN(CN({transition:y&&s?"transform ".concat(u,"ms ").concat(d):void 0},N),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&h?"visible":"hidden",position:"absolute",top:0,left:0},S);return U.createElement("div",{tabIndex:-1,className:P,style:A,ref:function(D){n.wrapperNode=D}},m)}}])})(R.PureComponent),O4=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Vn={isSsr:O4()};function ms(t){"@babel/helpers - typeof";return ms=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ms(t)}function MN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function RN(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?MN(Object(r),!0).forEach(function(n){jx(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):MN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function A4(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function P4(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,DP(n.key),n)}}function E4(t,e,r){return e&&P4(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function T4(t,e,r){return e=zu(e),C4(t,$P()?Reflect.construct(e,r||[],zu(t).constructor):e.apply(t,r))}function C4(t,e){if(e&&(ms(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return I4(t)}function I4(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $P(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($P=function(){return!!t})()}function zu(t){return zu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zu(t)}function M4(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Wv(t,e)}function Wv(t,e){return Wv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Wv(t,e)}function jx(t,e,r){return e=DP(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function DP(t){var e=R4(t,"string");return ms(e)=="symbol"?e:e+""}function R4(t,e){if(ms(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ms(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function $4(t){return t.dataKey}function D4(t,e){return U.isValidElement(t)?U.cloneElement(t,e):typeof t=="function"?U.createElement(t,e):U.createElement(d4,e)}var We=(function(t){function e(){return A4(this,e),T4(this,e,arguments)}return M4(e,t),E4(e,[{key:"render",value:function(){var n=this,a=this.props,s=a.active,c=a.allowEscapeViewBox,u=a.animationDuration,d=a.animationEasing,m=a.content,p=a.coordinate,h=a.filterNull,y=a.isAnimationActive,x=a.offset,j=a.payload,w=a.payloadUniqBy,b=a.position,k=a.reverseDirection,S=a.useTranslate3d,O=a.viewBox,P=a.wrapperStyle,N=j??[];h&&N.length&&(N=OP(j.filter(function(T){return T.value!=null&&(T.hide!==!0||n.props.includeHidden)}),w,$4));var A=N.length>0;return U.createElement(k4,{allowEscapeViewBox:c,animationDuration:u,animationEasing:d,isAnimationActive:y,active:s,coordinate:p,hasPayload:A,offset:x,position:b,reverseDirection:k,useTranslate3d:S,viewBox:O,wrapperStyle:P},D4(m,RN(RN({},this.props),{},{payload:N})))}}])})(R.PureComponent);jx(We,"displayName","Tooltip");jx(We,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Vn.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var vy,$N;function L4(){if($N)return vy;$N=1;var t=Sn(),e=function(){return t.Date.now()};return vy=e,vy}var xy,DN;function B4(){if(DN)return xy;DN=1;var t=/\s/;function e(r){for(var n=r.length;n--&&t.test(r.charAt(n)););return n}return xy=e,xy}var by,LN;function F4(){if(LN)return by;LN=1;var t=B4(),e=/^\s+/;function r(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return by=r,by}var wy,BN;function LP(){if(BN)return wy;BN=1;var t=F4(),e=Aa(),r=zs(),n=NaN,a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,c=/^0o[0-7]+$/i,u=parseInt;function d(m){if(typeof m=="number")return m;if(r(m))return n;if(e(m)){var p=typeof m.valueOf=="function"?m.valueOf():m;m=e(p)?p+"":p}if(typeof m!="string")return m===0?m:+m;m=t(m);var h=s.test(m);return h||c.test(m)?u(m.slice(2),h?2:8):a.test(m)?n:+m}return wy=d,wy}var jy,FN;function z4(){if(FN)return jy;FN=1;var t=Aa(),e=L4(),r=LP(),n="Expected a function",a=Math.max,s=Math.min;function c(u,d,m){var p,h,y,x,j,w,b=0,k=!1,S=!1,O=!0;if(typeof u!="function")throw new TypeError(n);d=r(d)||0,t(m)&&(k=!!m.leading,S="maxWait"in m,y=S?a(r(m.maxWait)||0,d):y,O="trailing"in m?!!m.trailing:O);function P(B){var V=p,L=h;return p=h=void 0,b=B,x=u.apply(L,V),x}function N(B){return b=B,j=setTimeout(D,d),k?P(B):x}function A(B){var V=B-w,L=B-b,M=d-V;return S?s(M,y-L):M}function T(B){var V=B-w,L=B-b;return w===void 0||V>=d||V<0||S&&L>=y}function D(){var B=e();if(T(B))return C(B);j=setTimeout(D,A(B))}function C(B){return j=void 0,O&&p?P(B):(p=h=void 0,x)}function F(){j!==void 0&&clearTimeout(j),b=0,p=w=h=j=void 0}function I(){return j===void 0?x:C(e())}function q(){var B=e(),V=T(B);if(p=arguments,h=this,w=B,V){if(j===void 0)return N(w);if(S)return clearTimeout(j),j=setTimeout(D,d),P(w)}return j===void 0&&(j=setTimeout(D,d)),x}return q.cancel=F,q.flush=I,q}return jy=c,jy}var Sy,zN;function q4(){if(zN)return Sy;zN=1;var t=z4(),e=Aa(),r="Expected a function";function n(a,s,c){var u=!0,d=!0;if(typeof a!="function")throw new TypeError(r);return e(c)&&(u="leading"in c?!!c.leading:u,d="trailing"in c?!!c.trailing:d),t(a,s,{leading:u,maxWait:s,trailing:d})}return Sy=n,Sy}var U4=q4();const BP=He(U4);function hl(t){"@babel/helpers - typeof";return hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hl(t)}function qN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function pu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qN(Object(r),!0).forEach(function(n){W4(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function W4(t,e,r){return e=H4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function H4(t){var e=G4(t,"string");return hl(e)=="symbol"?e:e+""}function G4(t,e){if(hl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(hl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function V4(t,e){return Q4(t)||X4(t,e)||Y4(t,e)||K4()}function K4(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Y4(t,e){if(t){if(typeof t=="string")return UN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return UN(t,e)}}function UN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function X4(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,c,u=[],d=!0,m=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(d=(n=s.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(p){m=!0,a=p}finally{try{if(!d&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(m)throw a}}return u}}function Q4(t){if(Array.isArray(t))return t}var St=R.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,a=n===void 0?{width:-1,height:-1}:n,s=t.width,c=s===void 0?"100%":s,u=t.height,d=u===void 0?"100%":u,m=t.minWidth,p=m===void 0?0:m,h=t.minHeight,y=t.maxHeight,x=t.children,j=t.debounce,w=j===void 0?0:j,b=t.id,k=t.className,S=t.onResize,O=t.style,P=O===void 0?{}:O,N=R.useRef(null),A=R.useRef();A.current=S,R.useImperativeHandle(e,function(){return Object.defineProperty(N.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),N.current},configurable:!0})});var T=R.useState({containerWidth:a.width,containerHeight:a.height}),D=V4(T,2),C=D[0],F=D[1],I=R.useCallback(function(B,V){F(function(L){var M=Math.round(B),G=Math.round(V);return L.containerWidth===M&&L.containerHeight===G?L:{containerWidth:M,containerHeight:G}})},[]);R.useEffect(function(){var B=function(W){var Q,z=W[0].contentRect,Y=z.width,ae=z.height;I(Y,ae),(Q=A.current)===null||Q===void 0||Q.call(A,Y,ae)};w>0&&(B=BP(B,w,{trailing:!0,leading:!1}));var V=new ResizeObserver(B),L=N.current.getBoundingClientRect(),M=L.width,G=L.height;return I(M,G),V.observe(N.current),function(){V.disconnect()}},[I,w]);var q=R.useMemo(function(){var B=C.containerWidth,V=C.containerHeight;if(B<0||V<0)return null;sn(Ja(c)||Ja(d),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,c,d),sn(!r||r>0,"The aspect(%s) must be greater than zero.",r);var L=Ja(c)?B:c,M=Ja(d)?V:d;r&&r>0&&(L?M=L/r:M&&(L=M*r),y&&M>y&&(M=y)),sn(L>0||M>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,L,M,c,d,p,h,r);var G=!Array.isArray(x)&&Bn(x.type).endsWith("Chart");return U.Children.map(x,function($){return U.isValidElement($)?R.cloneElement($,pu({width:L,height:M},G?{style:pu({height:"100%",width:"100%",maxHeight:M,maxWidth:L},$.props.style)}:{})):$})},[r,x,d,y,h,p,C,c]);return U.createElement("div",{id:b?"".concat(b):void 0,className:Me("recharts-responsive-container",k),style:pu(pu({},P),{},{width:c,height:d,minWidth:p,minHeight:h,maxHeight:y}),ref:N},q)}),pi=function(e){return null};pi.displayName="Cell";function pl(t){"@babel/helpers - typeof";return pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pl(t)}function WN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Hv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?WN(Object(r),!0).forEach(function(n){Z4(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):WN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Z4(t,e,r){return e=J4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function J4(t){var e=e5(t,"string");return pl(e)=="symbol"?e:e+""}function e5(t,e){if(pl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(pl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Hi={widthCache:{},cacheCount:0},t5=2e3,r5={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},HN="recharts_measurement_span";function n5(t){var e=Hv({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var Zo=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Vn.isSsr)return{width:0,height:0};var n=n5(r),a=JSON.stringify({text:e,copyStyle:n});if(Hi.widthCache[a])return Hi.widthCache[a];try{var s=document.getElementById(HN);s||(s=document.createElement("span"),s.setAttribute("id",HN),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var c=Hv(Hv({},r5),n);Object.assign(s.style,c),s.textContent="".concat(e);var u=s.getBoundingClientRect(),d={width:u.width,height:u.height};return Hi.widthCache[a]=d,++Hi.cacheCount>t5&&(Hi.cacheCount=0,Hi.widthCache={}),d}catch{return{width:0,height:0}}},a5=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function gl(t){"@babel/helpers - typeof";return gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gl(t)}function qu(t,e){return l5(t)||o5(t,e)||s5(t,e)||i5()}function i5(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function s5(t,e){if(t){if(typeof t=="string")return GN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return GN(t,e)}}function GN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function o5(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,c,u=[],d=!0,m=!1;try{if(s=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=s.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(p){m=!0,a=p}finally{try{if(!d&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(m)throw a}}return u}}function l5(t){if(Array.isArray(t))return t}function c5(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function VN(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,d5(n.key),n)}}function u5(t,e,r){return e&&VN(t.prototype,e),r&&VN(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function d5(t){var e=f5(t,"string");return gl(e)=="symbol"?e:e+""}function f5(t,e){if(gl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(gl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var KN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,YN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,m5=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,h5=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,FP={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},p5=Object.keys(FP),Xi="NaN";function g5(t,e){return t*FP[e]}var gu=(function(){function t(e,r){c5(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!m5.test(r)&&(this.num=NaN,this.unit=""),p5.includes(r)&&(this.num=g5(e,r),this.unit="px")}return u5(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=h5.exec(r))!==null&&n!==void 0?n:[],s=qu(a,3),c=s[1],u=s[2];return new t(parseFloat(c),u??"")}}])})();function zP(t){if(t.includes(Xi))return Xi;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=KN.exec(e))!==null&&r!==void 0?r:[],a=qu(n,4),s=a[1],c=a[2],u=a[3],d=gu.parse(s??""),m=gu.parse(u??""),p=c==="*"?d.multiply(m):d.divide(m);if(p.isNaN())return Xi;e=e.replace(KN,p.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var h,y=(h=YN.exec(e))!==null&&h!==void 0?h:[],x=qu(y,4),j=x[1],w=x[2],b=x[3],k=gu.parse(j??""),S=gu.parse(b??""),O=w==="+"?k.add(S):k.subtract(S);if(O.isNaN())return Xi;e=e.replace(YN,O.toString())}return e}var XN=/\(([^()]*)\)/;function y5(t){for(var e=t;e.includes("(");){var r=XN.exec(e),n=qu(r,2),a=n[1];e=e.replace(XN,zP(a))}return e}function v5(t){var e=t.replace(/\s+/g,"");return e=y5(e),e=zP(e),e}function x5(t){try{return v5(t)}catch{return Xi}}function _y(t){var e=x5(t.slice(5,-1));return e===Xi?"":e}var b5=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],w5=["dx","dy","angle","className","breakAll"];function Gv(){return Gv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Gv.apply(this,arguments)}function QN(t,e){if(t==null)return{};var r=j5(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function j5(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function ZN(t,e){return k5(t)||N5(t,e)||_5(t,e)||S5()}function S5(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _5(t,e){if(t){if(typeof t=="string")return JN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return JN(t,e)}}function JN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function N5(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,c,u=[],d=!0,m=!1;try{if(s=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=s.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(p){m=!0,a=p}finally{try{if(!d&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(m)throw a}}return u}}function k5(t){if(Array.isArray(t))return t}var qP=/[ \f\n\r\t\v\u2028\u2029]+/,UP=function(e){var r=e.children,n=e.breakAll,a=e.style;try{var s=[];Oe(r)||(n?s=r.toString().split(""):s=r.toString().split(qP));var c=s.map(function(d){return{word:d,width:Zo(d,a).width}}),u=n?0:Zo(" ",a).width;return{wordsWithComputedWidth:c,spaceWidth:u}}catch{return null}},O5=function(e,r,n,a,s){var c=e.maxLines,u=e.children,d=e.style,m=e.breakAll,p=ue(c),h=u,y=function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return L.reduce(function(M,G){var $=G.word,W=G.width,Q=M[M.length-1];if(Q&&(a==null||s||Q.width+W+n<Number(a)))Q.words.push($),Q.width+=W+n;else{var z={words:[$],width:W};M.push(z)}return M},[])},x=y(r),j=function(L){return L.reduce(function(M,G){return M.width>G.width?M:G})};if(!p)return x;for(var w="…",b=function(L){var M=h.slice(0,L),G=UP({breakAll:m,style:d,children:M+w}).wordsWithComputedWidth,$=y(G),W=$.length>c||j($).width>Number(a);return[W,$]},k=0,S=h.length-1,O=0,P;k<=S&&O<=h.length-1;){var N=Math.floor((k+S)/2),A=N-1,T=b(A),D=ZN(T,2),C=D[0],F=D[1],I=b(N),q=ZN(I,1),B=q[0];if(!C&&!B&&(k=N+1),C&&B&&(S=N-1),!C&&B){P=F;break}O++}return P||x},e2=function(e){var r=Oe(e)?[]:e.toString().split(qP);return[{words:r}]},A5=function(e){var r=e.width,n=e.scaleToFit,a=e.children,s=e.style,c=e.breakAll,u=e.maxLines;if((r||n)&&!Vn.isSsr){var d,m,p=UP({breakAll:c,children:a,style:s});if(p){var h=p.wordsWithComputedWidth,y=p.spaceWidth;d=h,m=y}else return e2(a);return O5({breakAll:c,children:a,maxLines:u,style:s},d,m,r,n)}return e2(a)},t2="#808080",li=function(e){var r=e.x,n=r===void 0?0:r,a=e.y,s=a===void 0?0:a,c=e.lineHeight,u=c===void 0?"1em":c,d=e.capHeight,m=d===void 0?"0.71em":d,p=e.scaleToFit,h=p===void 0?!1:p,y=e.textAnchor,x=y===void 0?"start":y,j=e.verticalAnchor,w=j===void 0?"end":j,b=e.fill,k=b===void 0?t2:b,S=QN(e,b5),O=R.useMemo(function(){return A5({breakAll:S.breakAll,children:S.children,maxLines:S.maxLines,scaleToFit:h,style:S.style,width:S.width})},[S.breakAll,S.children,S.maxLines,h,S.style,S.width]),P=S.dx,N=S.dy,A=S.angle,T=S.className,D=S.breakAll,C=QN(S,w5);if(!Et(n)||!Et(s))return null;var F=n+(ue(P)?P:0),I=s+(ue(N)?N:0),q;switch(w){case"start":q=_y("calc(".concat(m,")"));break;case"middle":q=_y("calc(".concat((O.length-1)/2," * -").concat(u," + (").concat(m," / 2))"));break;default:q=_y("calc(".concat(O.length-1," * -").concat(u,")"));break}var B=[];if(h){var V=O[0].width,L=S.width;B.push("scale(".concat((ue(L)?L/V:1)/V,")"))}return A&&B.push("rotate(".concat(A,", ").concat(F,", ").concat(I,")")),B.length&&(C.transform=B.join(" ")),U.createElement("text",Gv({},we(C,!0),{x:F,y:I,className:Me("recharts-text",T),textAnchor:x,fill:k.includes("url")?t2:k}),O.map(function(M,G){var $=M.words.join(D?"":" ");return U.createElement("tspan",{x:F,dy:G===0?q:u,key:"".concat($,"-").concat(G)},$)}))};function ja(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function P5(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Sx(t){let e,r,n;t.length!==2?(e=ja,r=(u,d)=>ja(t(u),d),n=(u,d)=>t(u)-d):(e=t===ja||t===P5?t:E5,r=t,n=t);function a(u,d,m=0,p=u.length){if(m<p){if(e(d,d)!==0)return p;do{const h=m+p>>>1;r(u[h],d)<0?m=h+1:p=h}while(m<p)}return m}function s(u,d,m=0,p=u.length){if(m<p){if(e(d,d)!==0)return p;do{const h=m+p>>>1;r(u[h],d)<=0?m=h+1:p=h}while(m<p)}return m}function c(u,d,m=0,p=u.length){const h=a(u,d,m,p-1);return h>m&&n(u[h-1],d)>-n(u[h],d)?h-1:h}return{left:a,center:c,right:s}}function E5(){return 0}function WP(t){return t===null?NaN:+t}function*T5(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const C5=Sx(ja),Vl=C5.right;Sx(WP).center;class r2 extends Map{constructor(e,r=R5){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,a]of e)this.set(n,a)}get(e){return super.get(n2(this,e))}has(e){return super.has(n2(this,e))}set(e,r){return super.set(I5(this,e),r)}delete(e){return super.delete(M5(this,e))}}function n2({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function I5({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function M5({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function R5(t){return t!==null&&typeof t=="object"?t.valueOf():t}function $5(t=ja){if(t===ja)return HP;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function HP(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const D5=Math.sqrt(50),L5=Math.sqrt(10),B5=Math.sqrt(2);function Uu(t,e,r){const n=(e-t)/Math.max(0,r),a=Math.floor(Math.log10(n)),s=n/Math.pow(10,a),c=s>=D5?10:s>=L5?5:s>=B5?2:1;let u,d,m;return a<0?(m=Math.pow(10,-a)/c,u=Math.round(t*m),d=Math.round(e*m),u/m<t&&++u,d/m>e&&--d,m=-m):(m=Math.pow(10,a)*c,u=Math.round(t/m),d=Math.round(e/m),u*m<t&&++u,d*m>e&&--d),d<u&&.5<=r&&r<2?Uu(t,e,r*2):[u,d,m]}function Vv(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[a,s,c]=n?Uu(e,t,r):Uu(t,e,r);if(!(s>=a))return[];const u=s-a+1,d=new Array(u);if(n)if(c<0)for(let m=0;m<u;++m)d[m]=(s-m)/-c;else for(let m=0;m<u;++m)d[m]=(s-m)*c;else if(c<0)for(let m=0;m<u;++m)d[m]=(a+m)/-c;else for(let m=0;m<u;++m)d[m]=(a+m)*c;return d}function Kv(t,e,r){return e=+e,t=+t,r=+r,Uu(t,e,r)[2]}function Yv(t,e,r){e=+e,t=+t,r=+r;const n=e<t,a=n?Kv(e,t,r):Kv(t,e,r);return(n?-1:1)*(a<0?1/-a:a)}function a2(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function i2(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function GP(t,e,r=0,n=1/0,a){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(a=a===void 0?HP:$5(a);n>r;){if(n-r>600){const d=n-r+1,m=e-r+1,p=Math.log(d),h=.5*Math.exp(2*p/3),y=.5*Math.sqrt(p*h*(d-h)/d)*(m-d/2<0?-1:1),x=Math.max(r,Math.floor(e-m*h/d+y)),j=Math.min(n,Math.floor(e+(d-m)*h/d+y));GP(t,e,x,j,a)}const s=t[e];let c=r,u=n;for(Fo(t,r,e),a(t[n],s)>0&&Fo(t,r,n);c<u;){for(Fo(t,c,u),++c,--u;a(t[c],s)<0;)++c;for(;a(t[u],s)>0;)--u}a(t[r],s)===0?Fo(t,r,u):(++u,Fo(t,u,n)),u<=e&&(r=u+1),e<=u&&(n=u-1)}return t}function Fo(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function F5(t,e,r){if(t=Float64Array.from(T5(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return i2(t);if(e>=1)return a2(t);var n,a=(n-1)*e,s=Math.floor(a),c=a2(GP(t,s).subarray(0,s+1)),u=i2(t.subarray(s+1));return c+(u-c)*(a-s)}}function z5(t,e,r=WP){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,a=(n-1)*e,s=Math.floor(a),c=+r(t[s],s,t),u=+r(t[s+1],s+1,t);return c+(u-c)*(a-s)}}function q5(t,e,r){t=+t,e=+e,r=(a=arguments.length)<2?(e=t,t=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((e-t)/r))|0,s=new Array(a);++n<a;)s[n]=t+n*r;return s}function Gr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Kn(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Xv=Symbol("implicit");function _x(){var t=new r2,e=[],r=[],n=Xv;function a(s){let c=t.get(s);if(c===void 0){if(n!==Xv)return n;t.set(s,c=e.push(s)-1)}return r[c%r.length]}return a.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new r2;for(const c of s)t.has(c)||t.set(c,e.push(c)-1);return a},a.range=function(s){return arguments.length?(r=Array.from(s),a):r.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return _x(e,r).unknown(n)},Gr.apply(a,arguments),a}function yl(){var t=_x().unknown(void 0),e=t.domain,r=t.range,n=0,a=1,s,c,u=!1,d=0,m=0,p=.5;delete t.unknown;function h(){var y=e().length,x=a<n,j=x?a:n,w=x?n:a;s=(w-j)/Math.max(1,y-d+m*2),u&&(s=Math.floor(s)),j+=(w-j-s*(y-d))*p,c=s*(1-d),u&&(j=Math.round(j),c=Math.round(c));var b=q5(y).map(function(k){return j+s*k});return r(x?b.reverse():b)}return t.domain=function(y){return arguments.length?(e(y),h()):e()},t.range=function(y){return arguments.length?([n,a]=y,n=+n,a=+a,h()):[n,a]},t.rangeRound=function(y){return[n,a]=y,n=+n,a=+a,u=!0,h()},t.bandwidth=function(){return c},t.step=function(){return s},t.round=function(y){return arguments.length?(u=!!y,h()):u},t.padding=function(y){return arguments.length?(d=Math.min(1,m=+y),h()):d},t.paddingInner=function(y){return arguments.length?(d=Math.min(1,y),h()):d},t.paddingOuter=function(y){return arguments.length?(m=+y,h()):m},t.align=function(y){return arguments.length?(p=Math.max(0,Math.min(1,y)),h()):p},t.copy=function(){return yl(e(),[n,a]).round(u).paddingInner(d).paddingOuter(m).align(p)},Gr.apply(h(),arguments)}function VP(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return VP(e())},t}function Jo(){return VP(yl.apply(null,arguments).paddingInner(1))}function Nx(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function KP(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function Kl(){}var vl=.7,Wu=1/vl,is="\\s*([+-]?\\d+)\\s*",xl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",bn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",U5=/^#([0-9a-f]{3,8})$/,W5=new RegExp(`^rgb\\(${is},${is},${is}\\)$`),H5=new RegExp(`^rgb\\(${bn},${bn},${bn}\\)$`),G5=new RegExp(`^rgba\\(${is},${is},${is},${xl}\\)$`),V5=new RegExp(`^rgba\\(${bn},${bn},${bn},${xl}\\)$`),K5=new RegExp(`^hsl\\(${xl},${bn},${bn}\\)$`),Y5=new RegExp(`^hsla\\(${xl},${bn},${bn},${xl}\\)$`),s2={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Nx(Kl,bl,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:o2,formatHex:o2,formatHex8:X5,formatHsl:Q5,formatRgb:l2,toString:l2});function o2(){return this.rgb().formatHex()}function X5(){return this.rgb().formatHex8()}function Q5(){return YP(this).formatHsl()}function l2(){return this.rgb().formatRgb()}function bl(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=U5.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?c2(e):r===3?new hr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?yu(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?yu(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=W5.exec(t))?new hr(e[1],e[2],e[3],1):(e=H5.exec(t))?new hr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=G5.exec(t))?yu(e[1],e[2],e[3],e[4]):(e=V5.exec(t))?yu(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=K5.exec(t))?f2(e[1],e[2]/100,e[3]/100,1):(e=Y5.exec(t))?f2(e[1],e[2]/100,e[3]/100,e[4]):s2.hasOwnProperty(t)?c2(s2[t]):t==="transparent"?new hr(NaN,NaN,NaN,0):null}function c2(t){return new hr(t>>16&255,t>>8&255,t&255,1)}function yu(t,e,r,n){return n<=0&&(t=e=r=NaN),new hr(t,e,r,n)}function Z5(t){return t instanceof Kl||(t=bl(t)),t?(t=t.rgb(),new hr(t.r,t.g,t.b,t.opacity)):new hr}function Qv(t,e,r,n){return arguments.length===1?Z5(t):new hr(t,e,r,n??1)}function hr(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}Nx(hr,Qv,KP(Kl,{brighter(t){return t=t==null?Wu:Math.pow(Wu,t),new hr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?vl:Math.pow(vl,t),new hr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new hr(ai(this.r),ai(this.g),ai(this.b),Hu(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:u2,formatHex:u2,formatHex8:J5,formatRgb:d2,toString:d2}));function u2(){return`#${ei(this.r)}${ei(this.g)}${ei(this.b)}`}function J5(){return`#${ei(this.r)}${ei(this.g)}${ei(this.b)}${ei((isNaN(this.opacity)?1:this.opacity)*255)}`}function d2(){const t=Hu(this.opacity);return`${t===1?"rgb(":"rgba("}${ai(this.r)}, ${ai(this.g)}, ${ai(this.b)}${t===1?")":`, ${t})`}`}function Hu(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ai(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function ei(t){return t=ai(t),(t<16?"0":"")+t.toString(16)}function f2(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new an(t,e,r,n)}function YP(t){if(t instanceof an)return new an(t.h,t.s,t.l,t.opacity);if(t instanceof Kl||(t=bl(t)),!t)return new an;if(t instanceof an)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,a=Math.min(e,r,n),s=Math.max(e,r,n),c=NaN,u=s-a,d=(s+a)/2;return u?(e===s?c=(r-n)/u+(r<n)*6:r===s?c=(n-e)/u+2:c=(e-r)/u+4,u/=d<.5?s+a:2-s-a,c*=60):u=d>0&&d<1?0:c,new an(c,u,d,t.opacity)}function e6(t,e,r,n){return arguments.length===1?YP(t):new an(t,e,r,n??1)}function an(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}Nx(an,e6,KP(Kl,{brighter(t){return t=t==null?Wu:Math.pow(Wu,t),new an(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?vl:Math.pow(vl,t),new an(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,a=2*r-n;return new hr(Ny(t>=240?t-240:t+120,a,n),Ny(t,a,n),Ny(t<120?t+240:t-120,a,n),this.opacity)},clamp(){return new an(m2(this.h),vu(this.s),vu(this.l),Hu(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Hu(this.opacity);return`${t===1?"hsl(":"hsla("}${m2(this.h)}, ${vu(this.s)*100}%, ${vu(this.l)*100}%${t===1?")":`, ${t})`}`}}));function m2(t){return t=(t||0)%360,t<0?t+360:t}function vu(t){return Math.max(0,Math.min(1,t||0))}function Ny(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const kx=t=>()=>t;function t6(t,e){return function(r){return t+r*e}}function r6(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function n6(t){return(t=+t)==1?XP:function(e,r){return r-e?r6(e,r,t):kx(isNaN(e)?r:e)}}function XP(t,e){var r=e-t;return r?t6(t,r):kx(isNaN(t)?e:t)}const h2=(function t(e){var r=n6(e);function n(a,s){var c=r((a=Qv(a)).r,(s=Qv(s)).r),u=r(a.g,s.g),d=r(a.b,s.b),m=XP(a.opacity,s.opacity);return function(p){return a.r=c(p),a.g=u(p),a.b=d(p),a.opacity=m(p),a+""}}return n.gamma=t,n})(1);function a6(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),a;return function(s){for(a=0;a<r;++a)n[a]=t[a]*(1-s)+e[a]*s;return n}}function i6(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function s6(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,a=new Array(n),s=new Array(r),c;for(c=0;c<n;++c)a[c]=Hs(t[c],e[c]);for(;c<r;++c)s[c]=e[c];return function(u){for(c=0;c<n;++c)s[c]=a[c](u);return s}}function o6(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function Gu(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function l6(t,e){var r={},n={},a;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(a in e)a in t?r[a]=Hs(t[a],e[a]):n[a]=e[a];return function(s){for(a in r)n[a]=r[a](s);return n}}var Zv=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ky=new RegExp(Zv.source,"g");function c6(t){return function(){return t}}function u6(t){return function(e){return t(e)+""}}function d6(t,e){var r=Zv.lastIndex=ky.lastIndex=0,n,a,s,c=-1,u=[],d=[];for(t=t+"",e=e+"";(n=Zv.exec(t))&&(a=ky.exec(e));)(s=a.index)>r&&(s=e.slice(r,s),u[c]?u[c]+=s:u[++c]=s),(n=n[0])===(a=a[0])?u[c]?u[c]+=a:u[++c]=a:(u[++c]=null,d.push({i:c,x:Gu(n,a)})),r=ky.lastIndex;return r<e.length&&(s=e.slice(r),u[c]?u[c]+=s:u[++c]=s),u.length<2?d[0]?u6(d[0].x):c6(e):(e=d.length,function(m){for(var p=0,h;p<e;++p)u[(h=d[p]).i]=h.x(m);return u.join("")})}function Hs(t,e){var r=typeof e,n;return e==null||r==="boolean"?kx(e):(r==="number"?Gu:r==="string"?(n=bl(e))?(e=n,h2):d6:e instanceof bl?h2:e instanceof Date?o6:i6(e)?a6:Array.isArray(e)?s6:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?l6:Gu)(t,e)}function Ox(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function f6(t,e){e===void 0&&(e=t,t=Hs);for(var r=0,n=e.length-1,a=e[0],s=new Array(n<0?0:n);r<n;)s[r]=t(a,a=e[++r]);return function(c){var u=Math.max(0,Math.min(n-1,Math.floor(c*=n)));return s[u](c-u)}}function m6(t){return function(){return t}}function Vu(t){return+t}var p2=[0,1];function nr(t){return t}function Jv(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:m6(isNaN(e)?NaN:.5)}function h6(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function p6(t,e,r){var n=t[0],a=t[1],s=e[0],c=e[1];return a<n?(n=Jv(a,n),s=r(c,s)):(n=Jv(n,a),s=r(s,c)),function(u){return s(n(u))}}function g6(t,e,r){var n=Math.min(t.length,e.length)-1,a=new Array(n),s=new Array(n),c=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++c<n;)a[c]=Jv(t[c],t[c+1]),s[c]=r(e[c],e[c+1]);return function(u){var d=Vl(t,u,1,n)-1;return s[d](a[d](u))}}function Yl(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Kd(){var t=p2,e=p2,r=Hs,n,a,s,c=nr,u,d,m;function p(){var y=Math.min(t.length,e.length);return c!==nr&&(c=h6(t[0],t[y-1])),u=y>2?g6:p6,d=m=null,h}function h(y){return y==null||isNaN(y=+y)?s:(d||(d=u(t.map(n),e,r)))(n(c(y)))}return h.invert=function(y){return c(a((m||(m=u(e,t.map(n),Gu)))(y)))},h.domain=function(y){return arguments.length?(t=Array.from(y,Vu),p()):t.slice()},h.range=function(y){return arguments.length?(e=Array.from(y),p()):e.slice()},h.rangeRound=function(y){return e=Array.from(y),r=Ox,p()},h.clamp=function(y){return arguments.length?(c=y?!0:nr,p()):c!==nr},h.interpolate=function(y){return arguments.length?(r=y,p()):r},h.unknown=function(y){return arguments.length?(s=y,h):s},function(y,x){return n=y,a=x,p()}}function Ax(){return Kd()(nr,nr)}function y6(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Ku(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function hs(t){return t=Ku(Math.abs(t)),t?t[1]:NaN}function v6(t,e){return function(r,n){for(var a=r.length,s=[],c=0,u=t[0],d=0;a>0&&u>0&&(d+u+1>n&&(u=Math.max(1,n-d)),s.push(r.substring(a-=u,a+u)),!((d+=u+1)>n));)u=t[c=(c+1)%t.length];return s.reverse().join(e)}}function x6(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var b6=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function wl(t){if(!(e=b6.exec(t)))throw new Error("invalid format: "+t);var e;return new Px({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}wl.prototype=Px.prototype;function Px(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Px.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function w6(t){e:for(var e=t.length,r=1,n=-1,a;r<e;++r)switch(t[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(a+1):t}var QP;function j6(t,e){var r=Ku(t,e);if(!r)return t+"";var n=r[0],a=r[1],s=a-(QP=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,c=n.length;return s===c?n:s>c?n+new Array(s-c+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+Ku(t,Math.max(0,e+s-1))[0]}function g2(t,e){var r=Ku(t,e);if(!r)return t+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const y2={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:y6,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>g2(t*100,e),r:g2,s:j6,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function v2(t){return t}var x2=Array.prototype.map,b2=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function S6(t){var e=t.grouping===void 0||t.thousands===void 0?v2:v6(x2.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",a=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?v2:x6(x2.call(t.numerals,String)),c=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"−":t.minus+"",d=t.nan===void 0?"NaN":t.nan+"";function m(h){h=wl(h);var y=h.fill,x=h.align,j=h.sign,w=h.symbol,b=h.zero,k=h.width,S=h.comma,O=h.precision,P=h.trim,N=h.type;N==="n"?(S=!0,N="g"):y2[N]||(O===void 0&&(O=12),P=!0,N="g"),(b||y==="0"&&x==="=")&&(b=!0,y="0",x="=");var A=w==="$"?r:w==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",T=w==="$"?n:/[%p]/.test(N)?c:"",D=y2[N],C=/[defgprs%]/.test(N);O=O===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,O)):Math.max(0,Math.min(20,O));function F(I){var q=A,B=T,V,L,M;if(N==="c")B=D(I)+B,I="";else{I=+I;var G=I<0||1/I<0;if(I=isNaN(I)?d:D(Math.abs(I),O),P&&(I=w6(I)),G&&+I==0&&j!=="+"&&(G=!1),q=(G?j==="("?j:u:j==="-"||j==="("?"":j)+q,B=(N==="s"?b2[8+QP/3]:"")+B+(G&&j==="("?")":""),C){for(V=-1,L=I.length;++V<L;)if(M=I.charCodeAt(V),48>M||M>57){B=(M===46?a+I.slice(V+1):I.slice(V))+B,I=I.slice(0,V);break}}}S&&!b&&(I=e(I,1/0));var $=q.length+I.length+B.length,W=$<k?new Array(k-$+1).join(y):"";switch(S&&b&&(I=e(W+I,W.length?k-B.length:1/0),W=""),x){case"<":I=q+I+B+W;break;case"=":I=q+W+I+B;break;case"^":I=W.slice(0,$=W.length>>1)+q+I+B+W.slice($);break;default:I=W+q+I+B;break}return s(I)}return F.toString=function(){return h+""},F}function p(h,y){var x=m((h=wl(h),h.type="f",h)),j=Math.max(-8,Math.min(8,Math.floor(hs(y)/3)))*3,w=Math.pow(10,-j),b=b2[8+j/3];return function(k){return x(w*k)+b}}return{format:m,formatPrefix:p}}var xu,Ex,ZP;_6({thousands:",",grouping:[3],currency:["$",""]});function _6(t){return xu=S6(t),Ex=xu.format,ZP=xu.formatPrefix,xu}function N6(t){return Math.max(0,-hs(Math.abs(t)))}function k6(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(hs(e)/3)))*3-hs(Math.abs(t)))}function O6(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,hs(e)-hs(t))+1}function JP(t,e,r,n){var a=Yv(t,e,r),s;switch(n=wl(n??",f"),n.type){case"s":{var c=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(s=k6(a,c))&&(n.precision=s),ZP(n,c)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=O6(a,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=N6(a))&&(n.precision=s-(n.type==="%")*2);break}}return Ex(n)}function Ea(t){var e=t.domain;return t.ticks=function(r){var n=e();return Vv(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var a=e();return JP(a[0],a[a.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),a=0,s=n.length-1,c=n[a],u=n[s],d,m,p=10;for(u<c&&(m=c,c=u,u=m,m=a,a=s,s=m);p-- >0;){if(m=Kv(c,u,r),m===d)return n[a]=c,n[s]=u,e(n);if(m>0)c=Math.floor(c/m)*m,u=Math.ceil(u/m)*m;else if(m<0)c=Math.ceil(c*m)/m,u=Math.floor(u*m)/m;else break;d=m}return t},t}function Yu(){var t=Ax();return t.copy=function(){return Yl(t,Yu())},Gr.apply(t,arguments),Ea(t)}function eE(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,Vu),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return eE(t).unknown(e)},t=arguments.length?Array.from(t,Vu):[0,1],Ea(r)}function tE(t,e){t=t.slice();var r=0,n=t.length-1,a=t[r],s=t[n],c;return s<a&&(c=r,r=n,n=c,c=a,a=s,s=c),t[r]=e.floor(a),t[n]=e.ceil(s),t}function w2(t){return Math.log(t)}function j2(t){return Math.exp(t)}function A6(t){return-Math.log(-t)}function P6(t){return-Math.exp(-t)}function E6(t){return isFinite(t)?+("1e"+t):t<0?0:t}function T6(t){return t===10?E6:t===Math.E?Math.exp:e=>Math.pow(t,e)}function C6(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function S2(t){return(e,r)=>-t(-e,r)}function Tx(t){const e=t(w2,j2),r=e.domain;let n=10,a,s;function c(){return a=C6(n),s=T6(n),r()[0]<0?(a=S2(a),s=S2(s),t(A6,P6)):t(w2,j2),e}return e.base=function(u){return arguments.length?(n=+u,c()):n},e.domain=function(u){return arguments.length?(r(u),c()):r()},e.ticks=u=>{const d=r();let m=d[0],p=d[d.length-1];const h=p<m;h&&([m,p]=[p,m]);let y=a(m),x=a(p),j,w;const b=u==null?10:+u;let k=[];if(!(n%1)&&x-y<b){if(y=Math.floor(y),x=Math.ceil(x),m>0){for(;y<=x;++y)for(j=1;j<n;++j)if(w=y<0?j/s(-y):j*s(y),!(w<m)){if(w>p)break;k.push(w)}}else for(;y<=x;++y)for(j=n-1;j>=1;--j)if(w=y>0?j/s(-y):j*s(y),!(w<m)){if(w>p)break;k.push(w)}k.length*2<b&&(k=Vv(m,p,b))}else k=Vv(y,x,Math.min(x-y,b)).map(s);return h?k.reverse():k},e.tickFormat=(u,d)=>{if(u==null&&(u=10),d==null&&(d=n===10?"s":","),typeof d!="function"&&(!(n%1)&&(d=wl(d)).precision==null&&(d.trim=!0),d=Ex(d)),u===1/0)return d;const m=Math.max(1,n*u/e.ticks().length);return p=>{let h=p/s(Math.round(a(p)));return h*n<n-.5&&(h*=n),h<=m?d(p):""}},e.nice=()=>r(tE(r(),{floor:u=>s(Math.floor(a(u))),ceil:u=>s(Math.ceil(a(u)))})),e}function rE(){const t=Tx(Kd()).domain([1,10]);return t.copy=()=>Yl(t,rE()).base(t.base()),Gr.apply(t,arguments),t}function _2(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function N2(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function Cx(t){var e=1,r=t(_2(e),N2(e));return r.constant=function(n){return arguments.length?t(_2(e=+n),N2(e)):e},Ea(r)}function nE(){var t=Cx(Kd());return t.copy=function(){return Yl(t,nE()).constant(t.constant())},Gr.apply(t,arguments)}function k2(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function I6(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function M6(t){return t<0?-t*t:t*t}function Ix(t){var e=t(nr,nr),r=1;function n(){return r===1?t(nr,nr):r===.5?t(I6,M6):t(k2(r),k2(1/r))}return e.exponent=function(a){return arguments.length?(r=+a,n()):r},Ea(e)}function Mx(){var t=Ix(Kd());return t.copy=function(){return Yl(t,Mx()).exponent(t.exponent())},Gr.apply(t,arguments),t}function R6(){return Mx.apply(null,arguments).exponent(.5)}function O2(t){return Math.sign(t)*t*t}function $6(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function aE(){var t=Ax(),e=[0,1],r=!1,n;function a(s){var c=$6(t(s));return isNaN(c)?n:r?Math.round(c):c}return a.invert=function(s){return t.invert(O2(s))},a.domain=function(s){return arguments.length?(t.domain(s),a):t.domain()},a.range=function(s){return arguments.length?(t.range((e=Array.from(s,Vu)).map(O2)),a):e.slice()},a.rangeRound=function(s){return a.range(s).round(!0)},a.round=function(s){return arguments.length?(r=!!s,a):r},a.clamp=function(s){return arguments.length?(t.clamp(s),a):t.clamp()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return aE(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},Gr.apply(a,arguments),Ea(a)}function iE(){var t=[],e=[],r=[],n;function a(){var c=0,u=Math.max(1,e.length);for(r=new Array(u-1);++c<u;)r[c-1]=z5(t,c/u);return s}function s(c){return c==null||isNaN(c=+c)?n:e[Vl(r,c)]}return s.invertExtent=function(c){var u=e.indexOf(c);return u<0?[NaN,NaN]:[u>0?r[u-1]:t[0],u<r.length?r[u]:t[t.length-1]]},s.domain=function(c){if(!arguments.length)return t.slice();t=[];for(let u of c)u!=null&&!isNaN(u=+u)&&t.push(u);return t.sort(ja),a()},s.range=function(c){return arguments.length?(e=Array.from(c),a()):e.slice()},s.unknown=function(c){return arguments.length?(n=c,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return iE().domain(t).range(e).unknown(n)},Gr.apply(s,arguments)}function sE(){var t=0,e=1,r=1,n=[.5],a=[0,1],s;function c(d){return d!=null&&d<=d?a[Vl(n,d,0,r)]:s}function u(){var d=-1;for(n=new Array(r);++d<r;)n[d]=((d+1)*e-(d-r)*t)/(r+1);return c}return c.domain=function(d){return arguments.length?([t,e]=d,t=+t,e=+e,u()):[t,e]},c.range=function(d){return arguments.length?(r=(a=Array.from(d)).length-1,u()):a.slice()},c.invertExtent=function(d){var m=a.indexOf(d);return m<0?[NaN,NaN]:m<1?[t,n[0]]:m>=r?[n[r-1],e]:[n[m-1],n[m]]},c.unknown=function(d){return arguments.length&&(s=d),c},c.thresholds=function(){return n.slice()},c.copy=function(){return sE().domain([t,e]).range(a).unknown(s)},Gr.apply(Ea(c),arguments)}function oE(){var t=[.5],e=[0,1],r,n=1;function a(s){return s!=null&&s<=s?e[Vl(t,s,0,n)]:r}return a.domain=function(s){return arguments.length?(t=Array.from(s),n=Math.min(t.length,e.length-1),a):t.slice()},a.range=function(s){return arguments.length?(e=Array.from(s),n=Math.min(t.length,e.length-1),a):e.slice()},a.invertExtent=function(s){var c=e.indexOf(s);return[t[c-1],t[c]]},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return oE().domain(t).range(e).unknown(r)},Gr.apply(a,arguments)}const Oy=new Date,Ay=new Date;function Ct(t,e,r,n){function a(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=s=>(t(s=new Date(+s)),s),a.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),a.round=s=>{const c=a(s),u=a.ceil(s);return s-c<u-s?c:u},a.offset=(s,c)=>(e(s=new Date(+s),c==null?1:Math.floor(c)),s),a.range=(s,c,u)=>{const d=[];if(s=a.ceil(s),u=u==null?1:Math.floor(u),!(s<c)||!(u>0))return d;let m;do d.push(m=new Date(+s)),e(s,u),t(s);while(m<s&&s<c);return d},a.filter=s=>Ct(c=>{if(c>=c)for(;t(c),!s(c);)c.setTime(c-1)},(c,u)=>{if(c>=c)if(u<0)for(;++u<=0;)for(;e(c,-1),!s(c););else for(;--u>=0;)for(;e(c,1),!s(c););}),r&&(a.count=(s,c)=>(Oy.setTime(+s),Ay.setTime(+c),t(Oy),t(Ay),Math.floor(r(Oy,Ay))),a.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(n?c=>n(c)%s===0:c=>a.count(0,c)%s===0):a)),a}const Xu=Ct(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Xu.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Ct(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):Xu);Xu.range;const $n=1e3,Ur=$n*60,Dn=Ur*60,zn=Dn*24,Rx=zn*7,A2=zn*30,Py=zn*365,ti=Ct(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*$n)},(t,e)=>(e-t)/$n,t=>t.getUTCSeconds());ti.range;const $x=Ct(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*$n)},(t,e)=>{t.setTime(+t+e*Ur)},(t,e)=>(e-t)/Ur,t=>t.getMinutes());$x.range;const Dx=Ct(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Ur)},(t,e)=>(e-t)/Ur,t=>t.getUTCMinutes());Dx.range;const Lx=Ct(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*$n-t.getMinutes()*Ur)},(t,e)=>{t.setTime(+t+e*Dn)},(t,e)=>(e-t)/Dn,t=>t.getHours());Lx.range;const Bx=Ct(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Dn)},(t,e)=>(e-t)/Dn,t=>t.getUTCHours());Bx.range;const Xl=Ct(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ur)/zn,t=>t.getDate()-1);Xl.range;const Yd=Ct(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/zn,t=>t.getUTCDate()-1);Yd.range;const lE=Ct(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/zn,t=>Math.floor(t/zn));lE.range;function gi(t){return Ct(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*Ur)/Rx)}const Xd=gi(0),Qu=gi(1),D6=gi(2),L6=gi(3),ps=gi(4),B6=gi(5),F6=gi(6);Xd.range;Qu.range;D6.range;L6.range;ps.range;B6.range;F6.range;function yi(t){return Ct(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/Rx)}const Qd=yi(0),Zu=yi(1),z6=yi(2),q6=yi(3),gs=yi(4),U6=yi(5),W6=yi(6);Qd.range;Zu.range;z6.range;q6.range;gs.range;U6.range;W6.range;const Fx=Ct(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());Fx.range;const zx=Ct(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());zx.range;const qn=Ct(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());qn.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Ct(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});qn.range;const Un=Ct(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Un.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Ct(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});Un.range;function cE(t,e,r,n,a,s){const c=[[ti,1,$n],[ti,5,5*$n],[ti,15,15*$n],[ti,30,30*$n],[s,1,Ur],[s,5,5*Ur],[s,15,15*Ur],[s,30,30*Ur],[a,1,Dn],[a,3,3*Dn],[a,6,6*Dn],[a,12,12*Dn],[n,1,zn],[n,2,2*zn],[r,1,Rx],[e,1,A2],[e,3,3*A2],[t,1,Py]];function u(m,p,h){const y=p<m;y&&([m,p]=[p,m]);const x=h&&typeof h.range=="function"?h:d(m,p,h),j=x?x.range(m,+p+1):[];return y?j.reverse():j}function d(m,p,h){const y=Math.abs(p-m)/h,x=Sx(([,,b])=>b).right(c,y);if(x===c.length)return t.every(Yv(m/Py,p/Py,h));if(x===0)return Xu.every(Math.max(Yv(m,p,h),1));const[j,w]=c[y/c[x-1][2]<c[x][2]/y?x-1:x];return j.every(w)}return[u,d]}const[H6,G6]=cE(Un,zx,Qd,lE,Bx,Dx),[V6,K6]=cE(qn,Fx,Xd,Xl,Lx,$x);function Ey(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Ty(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function zo(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function Y6(t){var e=t.dateTime,r=t.date,n=t.time,a=t.periods,s=t.days,c=t.shortDays,u=t.months,d=t.shortMonths,m=qo(a),p=Uo(a),h=qo(s),y=Uo(s),x=qo(c),j=Uo(c),w=qo(u),b=Uo(u),k=qo(d),S=Uo(d),O={a:G,A:$,b:W,B:Q,c:null,d:M2,e:M2,f:vL,g:AL,G:EL,H:pL,I:gL,j:yL,L:uE,m:xL,M:bL,p:z,q:Y,Q:D2,s:L2,S:wL,u:jL,U:SL,V:_L,w:NL,W:kL,x:null,X:null,y:OL,Y:PL,Z:TL,"%":$2},P={a:ae,A:fe,b:Se,B:xe,c:null,d:R2,e:R2,f:RL,g:HL,G:VL,H:CL,I:IL,j:ML,L:fE,m:$L,M:DL,p:Le,q:Ce,Q:D2,s:L2,S:LL,u:BL,U:FL,V:zL,w:qL,W:UL,x:null,X:null,y:WL,Y:GL,Z:KL,"%":$2},N={a:F,A:I,b:q,B,c:V,d:C2,e:C2,f:dL,g:T2,G:E2,H:I2,I:I2,j:oL,L:uL,m:sL,M:lL,p:C,q:iL,Q:mL,s:hL,S:cL,u:eL,U:tL,V:rL,w:J6,W:nL,x:L,X:M,y:T2,Y:E2,Z:aL,"%":fL};O.x=A(r,O),O.X=A(n,O),O.c=A(e,O),P.x=A(r,P),P.X=A(n,P),P.c=A(e,P);function A(oe,re){return function(le){var ne=[],De=-1,Ie=0,at=oe.length,it,vt,gr;for(le instanceof Date||(le=new Date(+le));++De<at;)oe.charCodeAt(De)===37&&(ne.push(oe.slice(Ie,De)),(vt=P2[it=oe.charAt(++De)])!=null?it=oe.charAt(++De):vt=it==="e"?" ":"0",(gr=re[it])&&(it=gr(le,vt)),ne.push(it),Ie=De+1);return ne.push(oe.slice(Ie,De)),ne.join("")}}function T(oe,re){return function(le){var ne=zo(1900,void 0,1),De=D(ne,oe,le+="",0),Ie,at;if(De!=le.length)return null;if("Q"in ne)return new Date(ne.Q);if("s"in ne)return new Date(ne.s*1e3+("L"in ne?ne.L:0));if(re&&!("Z"in ne)&&(ne.Z=0),"p"in ne&&(ne.H=ne.H%12+ne.p*12),ne.m===void 0&&(ne.m="q"in ne?ne.q:0),"V"in ne){if(ne.V<1||ne.V>53)return null;"w"in ne||(ne.w=1),"Z"in ne?(Ie=Ty(zo(ne.y,0,1)),at=Ie.getUTCDay(),Ie=at>4||at===0?Zu.ceil(Ie):Zu(Ie),Ie=Yd.offset(Ie,(ne.V-1)*7),ne.y=Ie.getUTCFullYear(),ne.m=Ie.getUTCMonth(),ne.d=Ie.getUTCDate()+(ne.w+6)%7):(Ie=Ey(zo(ne.y,0,1)),at=Ie.getDay(),Ie=at>4||at===0?Qu.ceil(Ie):Qu(Ie),Ie=Xl.offset(Ie,(ne.V-1)*7),ne.y=Ie.getFullYear(),ne.m=Ie.getMonth(),ne.d=Ie.getDate()+(ne.w+6)%7)}else("W"in ne||"U"in ne)&&("w"in ne||(ne.w="u"in ne?ne.u%7:"W"in ne?1:0),at="Z"in ne?Ty(zo(ne.y,0,1)).getUTCDay():Ey(zo(ne.y,0,1)).getDay(),ne.m=0,ne.d="W"in ne?(ne.w+6)%7+ne.W*7-(at+5)%7:ne.w+ne.U*7-(at+6)%7);return"Z"in ne?(ne.H+=ne.Z/100|0,ne.M+=ne.Z%100,Ty(ne)):Ey(ne)}}function D(oe,re,le,ne){for(var De=0,Ie=re.length,at=le.length,it,vt;De<Ie;){if(ne>=at)return-1;if(it=re.charCodeAt(De++),it===37){if(it=re.charAt(De++),vt=N[it in P2?re.charAt(De++):it],!vt||(ne=vt(oe,le,ne))<0)return-1}else if(it!=le.charCodeAt(ne++))return-1}return ne}function C(oe,re,le){var ne=m.exec(re.slice(le));return ne?(oe.p=p.get(ne[0].toLowerCase()),le+ne[0].length):-1}function F(oe,re,le){var ne=x.exec(re.slice(le));return ne?(oe.w=j.get(ne[0].toLowerCase()),le+ne[0].length):-1}function I(oe,re,le){var ne=h.exec(re.slice(le));return ne?(oe.w=y.get(ne[0].toLowerCase()),le+ne[0].length):-1}function q(oe,re,le){var ne=k.exec(re.slice(le));return ne?(oe.m=S.get(ne[0].toLowerCase()),le+ne[0].length):-1}function B(oe,re,le){var ne=w.exec(re.slice(le));return ne?(oe.m=b.get(ne[0].toLowerCase()),le+ne[0].length):-1}function V(oe,re,le){return D(oe,e,re,le)}function L(oe,re,le){return D(oe,r,re,le)}function M(oe,re,le){return D(oe,n,re,le)}function G(oe){return c[oe.getDay()]}function $(oe){return s[oe.getDay()]}function W(oe){return d[oe.getMonth()]}function Q(oe){return u[oe.getMonth()]}function z(oe){return a[+(oe.getHours()>=12)]}function Y(oe){return 1+~~(oe.getMonth()/3)}function ae(oe){return c[oe.getUTCDay()]}function fe(oe){return s[oe.getUTCDay()]}function Se(oe){return d[oe.getUTCMonth()]}function xe(oe){return u[oe.getUTCMonth()]}function Le(oe){return a[+(oe.getUTCHours()>=12)]}function Ce(oe){return 1+~~(oe.getUTCMonth()/3)}return{format:function(oe){var re=A(oe+="",O);return re.toString=function(){return oe},re},parse:function(oe){var re=T(oe+="",!1);return re.toString=function(){return oe},re},utcFormat:function(oe){var re=A(oe+="",P);return re.toString=function(){return oe},re},utcParse:function(oe){var re=T(oe+="",!0);return re.toString=function(){return oe},re}}}var P2={"-":"",_:" ",0:"0"},Lt=/^\s*\d+/,X6=/^%/,Q6=/[\\^$*+?|[\]().{}]/g;function ze(t,e,r){var n=t<0?"-":"",a=(n?-t:t)+"",s=a.length;return n+(s<r?new Array(r-s+1).join(e)+a:a)}function Z6(t){return t.replace(Q6,"\\$&")}function qo(t){return new RegExp("^(?:"+t.map(Z6).join("|")+")","i")}function Uo(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function J6(t,e,r){var n=Lt.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function eL(t,e,r){var n=Lt.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function tL(t,e,r){var n=Lt.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function rL(t,e,r){var n=Lt.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function nL(t,e,r){var n=Lt.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function E2(t,e,r){var n=Lt.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function T2(t,e,r){var n=Lt.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function aL(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function iL(t,e,r){var n=Lt.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function sL(t,e,r){var n=Lt.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function C2(t,e,r){var n=Lt.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function oL(t,e,r){var n=Lt.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function I2(t,e,r){var n=Lt.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function lL(t,e,r){var n=Lt.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function cL(t,e,r){var n=Lt.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function uL(t,e,r){var n=Lt.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function dL(t,e,r){var n=Lt.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function fL(t,e,r){var n=X6.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function mL(t,e,r){var n=Lt.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function hL(t,e,r){var n=Lt.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function M2(t,e){return ze(t.getDate(),e,2)}function pL(t,e){return ze(t.getHours(),e,2)}function gL(t,e){return ze(t.getHours()%12||12,e,2)}function yL(t,e){return ze(1+Xl.count(qn(t),t),e,3)}function uE(t,e){return ze(t.getMilliseconds(),e,3)}function vL(t,e){return uE(t,e)+"000"}function xL(t,e){return ze(t.getMonth()+1,e,2)}function bL(t,e){return ze(t.getMinutes(),e,2)}function wL(t,e){return ze(t.getSeconds(),e,2)}function jL(t){var e=t.getDay();return e===0?7:e}function SL(t,e){return ze(Xd.count(qn(t)-1,t),e,2)}function dE(t){var e=t.getDay();return e>=4||e===0?ps(t):ps.ceil(t)}function _L(t,e){return t=dE(t),ze(ps.count(qn(t),t)+(qn(t).getDay()===4),e,2)}function NL(t){return t.getDay()}function kL(t,e){return ze(Qu.count(qn(t)-1,t),e,2)}function OL(t,e){return ze(t.getFullYear()%100,e,2)}function AL(t,e){return t=dE(t),ze(t.getFullYear()%100,e,2)}function PL(t,e){return ze(t.getFullYear()%1e4,e,4)}function EL(t,e){var r=t.getDay();return t=r>=4||r===0?ps(t):ps.ceil(t),ze(t.getFullYear()%1e4,e,4)}function TL(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+ze(e/60|0,"0",2)+ze(e%60,"0",2)}function R2(t,e){return ze(t.getUTCDate(),e,2)}function CL(t,e){return ze(t.getUTCHours(),e,2)}function IL(t,e){return ze(t.getUTCHours()%12||12,e,2)}function ML(t,e){return ze(1+Yd.count(Un(t),t),e,3)}function fE(t,e){return ze(t.getUTCMilliseconds(),e,3)}function RL(t,e){return fE(t,e)+"000"}function $L(t,e){return ze(t.getUTCMonth()+1,e,2)}function DL(t,e){return ze(t.getUTCMinutes(),e,2)}function LL(t,e){return ze(t.getUTCSeconds(),e,2)}function BL(t){var e=t.getUTCDay();return e===0?7:e}function FL(t,e){return ze(Qd.count(Un(t)-1,t),e,2)}function mE(t){var e=t.getUTCDay();return e>=4||e===0?gs(t):gs.ceil(t)}function zL(t,e){return t=mE(t),ze(gs.count(Un(t),t)+(Un(t).getUTCDay()===4),e,2)}function qL(t){return t.getUTCDay()}function UL(t,e){return ze(Zu.count(Un(t)-1,t),e,2)}function WL(t,e){return ze(t.getUTCFullYear()%100,e,2)}function HL(t,e){return t=mE(t),ze(t.getUTCFullYear()%100,e,2)}function GL(t,e){return ze(t.getUTCFullYear()%1e4,e,4)}function VL(t,e){var r=t.getUTCDay();return t=r>=4||r===0?gs(t):gs.ceil(t),ze(t.getUTCFullYear()%1e4,e,4)}function KL(){return"+0000"}function $2(){return"%"}function D2(t){return+t}function L2(t){return Math.floor(+t/1e3)}var Gi,hE,pE;YL({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function YL(t){return Gi=Y6(t),hE=Gi.format,Gi.parse,pE=Gi.utcFormat,Gi.utcParse,Gi}function XL(t){return new Date(t)}function QL(t){return t instanceof Date?+t:+new Date(+t)}function qx(t,e,r,n,a,s,c,u,d,m){var p=Ax(),h=p.invert,y=p.domain,x=m(".%L"),j=m(":%S"),w=m("%I:%M"),b=m("%I %p"),k=m("%a %d"),S=m("%b %d"),O=m("%B"),P=m("%Y");function N(A){return(d(A)<A?x:u(A)<A?j:c(A)<A?w:s(A)<A?b:n(A)<A?a(A)<A?k:S:r(A)<A?O:P)(A)}return p.invert=function(A){return new Date(h(A))},p.domain=function(A){return arguments.length?y(Array.from(A,QL)):y().map(XL)},p.ticks=function(A){var T=y();return t(T[0],T[T.length-1],A??10)},p.tickFormat=function(A,T){return T==null?N:m(T)},p.nice=function(A){var T=y();return(!A||typeof A.range!="function")&&(A=e(T[0],T[T.length-1],A??10)),A?y(tE(T,A)):p},p.copy=function(){return Yl(p,qx(t,e,r,n,a,s,c,u,d,m))},p}function ZL(){return Gr.apply(qx(V6,K6,qn,Fx,Xd,Xl,Lx,$x,ti,hE).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function JL(){return Gr.apply(qx(H6,G6,Un,zx,Qd,Yd,Bx,Dx,ti,pE).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Zd(){var t=0,e=1,r,n,a,s,c=nr,u=!1,d;function m(h){return h==null||isNaN(h=+h)?d:c(a===0?.5:(h=(s(h)-r)*a,u?Math.max(0,Math.min(1,h)):h))}m.domain=function(h){return arguments.length?([t,e]=h,r=s(t=+t),n=s(e=+e),a=r===n?0:1/(n-r),m):[t,e]},m.clamp=function(h){return arguments.length?(u=!!h,m):u},m.interpolator=function(h){return arguments.length?(c=h,m):c};function p(h){return function(y){var x,j;return arguments.length?([x,j]=y,c=h(x,j),m):[c(0),c(1)]}}return m.range=p(Hs),m.rangeRound=p(Ox),m.unknown=function(h){return arguments.length?(d=h,m):d},function(h){return s=h,r=h(t),n=h(e),a=r===n?0:1/(n-r),m}}function Ta(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function gE(){var t=Ea(Zd()(nr));return t.copy=function(){return Ta(t,gE())},Kn.apply(t,arguments)}function yE(){var t=Tx(Zd()).domain([1,10]);return t.copy=function(){return Ta(t,yE()).base(t.base())},Kn.apply(t,arguments)}function vE(){var t=Cx(Zd());return t.copy=function(){return Ta(t,vE()).constant(t.constant())},Kn.apply(t,arguments)}function Ux(){var t=Ix(Zd());return t.copy=function(){return Ta(t,Ux()).exponent(t.exponent())},Kn.apply(t,arguments)}function e8(){return Ux.apply(null,arguments).exponent(.5)}function xE(){var t=[],e=nr;function r(n){if(n!=null&&!isNaN(n=+n))return e((Vl(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let a of n)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(ja),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,a)=>e(a/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,s)=>F5(t,s/n))},r.copy=function(){return xE(e).domain(t)},Kn.apply(r,arguments)}function Jd(){var t=0,e=.5,r=1,n=1,a,s,c,u,d,m=nr,p,h=!1,y;function x(w){return isNaN(w=+w)?y:(w=.5+((w=+p(w))-s)*(n*w<n*s?u:d),m(h?Math.max(0,Math.min(1,w)):w))}x.domain=function(w){return arguments.length?([t,e,r]=w,a=p(t=+t),s=p(e=+e),c=p(r=+r),u=a===s?0:.5/(s-a),d=s===c?0:.5/(c-s),n=s<a?-1:1,x):[t,e,r]},x.clamp=function(w){return arguments.length?(h=!!w,x):h},x.interpolator=function(w){return arguments.length?(m=w,x):m};function j(w){return function(b){var k,S,O;return arguments.length?([k,S,O]=b,m=f6(w,[k,S,O]),x):[m(0),m(.5),m(1)]}}return x.range=j(Hs),x.rangeRound=j(Ox),x.unknown=function(w){return arguments.length?(y=w,x):y},function(w){return p=w,a=w(t),s=w(e),c=w(r),u=a===s?0:.5/(s-a),d=s===c?0:.5/(c-s),n=s<a?-1:1,x}}function bE(){var t=Ea(Jd()(nr));return t.copy=function(){return Ta(t,bE())},Kn.apply(t,arguments)}function wE(){var t=Tx(Jd()).domain([.1,1,10]);return t.copy=function(){return Ta(t,wE()).base(t.base())},Kn.apply(t,arguments)}function jE(){var t=Cx(Jd());return t.copy=function(){return Ta(t,jE()).constant(t.constant())},Kn.apply(t,arguments)}function Wx(){var t=Ix(Jd());return t.copy=function(){return Ta(t,Wx()).exponent(t.exponent())},Kn.apply(t,arguments)}function t8(){return Wx.apply(null,arguments).exponent(.5)}const B2=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:yl,scaleDiverging:bE,scaleDivergingLog:wE,scaleDivergingPow:Wx,scaleDivergingSqrt:t8,scaleDivergingSymlog:jE,scaleIdentity:eE,scaleImplicit:Xv,scaleLinear:Yu,scaleLog:rE,scaleOrdinal:_x,scalePoint:Jo,scalePow:Mx,scaleQuantile:iE,scaleQuantize:sE,scaleRadial:aE,scaleSequential:gE,scaleSequentialLog:yE,scaleSequentialPow:Ux,scaleSequentialQuantile:xE,scaleSequentialSqrt:e8,scaleSequentialSymlog:vE,scaleSqrt:R6,scaleSymlog:nE,scaleThreshold:oE,scaleTime:ZL,scaleUtc:JL,tickFormat:JP},Symbol.toStringTag,{value:"Module"}));var Cy,F2;function ef(){if(F2)return Cy;F2=1;var t=zs();function e(r,n,a){for(var s=-1,c=r.length;++s<c;){var u=r[s],d=n(u);if(d!=null&&(m===void 0?d===d&&!t(d):a(d,m)))var m=d,p=u}return p}return Cy=e,Cy}var Iy,z2;function SE(){if(z2)return Iy;z2=1;function t(e,r){return e>r}return Iy=t,Iy}var My,q2;function r8(){if(q2)return My;q2=1;var t=ef(),e=SE(),r=Ws();function n(a){return a&&a.length?t(a,r,e):void 0}return My=n,My}var n8=r8();const va=He(n8);var Ry,U2;function _E(){if(U2)return Ry;U2=1;function t(e,r){return e<r}return Ry=t,Ry}var $y,W2;function a8(){if(W2)return $y;W2=1;var t=ef(),e=_E(),r=Ws();function n(a){return a&&a.length?t(a,r,e):void 0}return $y=n,$y}var i8=a8();const tf=He(i8);var Dy,H2;function s8(){if(H2)return Dy;H2=1;var t=ox(),e=_n(),r=CP(),n=pr();function a(s,c){var u=n(s)?t:r;return u(s,e(c,3))}return Dy=a,Dy}var Ly,G2;function o8(){if(G2)return Ly;G2=1;var t=EP(),e=s8();function r(n,a){return t(e(n,a),1)}return Ly=r,Ly}var l8=o8();const c8=He(l8);var By,V2;function u8(){if(V2)return By;V2=1;var t=xx();function e(r,n){return t(r,n)}return By=e,By}var d8=u8();const Na=He(d8);var Gs=1e9,f8={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Gx,ot=!0,Wr="[DecimalError] ",ii=Wr+"Invalid argument: ",Hx=Wr+"Exponent out of range: ",Vs=Math.floor,Xa=Math.pow,m8=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,_r,$t=1e7,tt=7,NE=9007199254740991,Ju=Vs(NE/tt),ge={};ge.absoluteValue=ge.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ge.comparedTo=ge.cmp=function(t){var e,r,n,a,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(n=s.d.length,a=t.d.length,e=0,r=n<a?n:a;e<r;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return n===a?0:n>a^s.s<0?1:-1};ge.decimalPlaces=ge.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*tt;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};ge.dividedBy=ge.div=function(t){return Fn(this,new this.constructor(t))};ge.dividedToIntegerBy=ge.idiv=function(t){var e=this,r=e.constructor;return Ke(Fn(e,new r(t),0,1),r.precision)};ge.equals=ge.eq=function(t){return!this.cmp(t)};ge.exponent=function(){return _t(this)};ge.greaterThan=ge.gt=function(t){return this.cmp(t)>0};ge.greaterThanOrEqualTo=ge.gte=function(t){return this.cmp(t)>=0};ge.isInteger=ge.isint=function(){return this.e>this.d.length-2};ge.isNegative=ge.isneg=function(){return this.s<0};ge.isPositive=ge.ispos=function(){return this.s>0};ge.isZero=function(){return this.s===0};ge.lessThan=ge.lt=function(t){return this.cmp(t)<0};ge.lessThanOrEqualTo=ge.lte=function(t){return this.cmp(t)<1};ge.logarithm=ge.log=function(t){var e,r=this,n=r.constructor,a=n.precision,s=a+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(_r))throw Error(Wr+"NaN");if(r.s<1)throw Error(Wr+(r.s?"NaN":"-Infinity"));return r.eq(_r)?new n(0):(ot=!1,e=Fn(jl(r,s),jl(t,s),s),ot=!0,Ke(e,a))};ge.minus=ge.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?AE(e,t):kE(e,(t.s=-t.s,t))};ge.modulo=ge.mod=function(t){var e,r=this,n=r.constructor,a=n.precision;if(t=new n(t),!t.s)throw Error(Wr+"NaN");return r.s?(ot=!1,e=Fn(r,t,0,1).times(t),ot=!0,r.minus(e)):Ke(new n(r),a)};ge.naturalExponential=ge.exp=function(){return OE(this)};ge.naturalLogarithm=ge.ln=function(){return jl(this)};ge.negated=ge.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ge.plus=ge.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?kE(e,t):AE(e,(t.s=-t.s,t))};ge.precision=ge.sd=function(t){var e,r,n,a=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(ii+t);if(e=_t(a)+1,n=a.d.length-1,r=n*tt+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};ge.squareRoot=ge.sqrt=function(){var t,e,r,n,a,s,c,u=this,d=u.constructor;if(u.s<1){if(!u.s)return new d(0);throw Error(Wr+"NaN")}for(t=_t(u),ot=!1,a=Math.sqrt(+u),a==0||a==1/0?(e=vn(u.d),(e.length+t)%2==0&&(e+="0"),a=Math.sqrt(e),t=Vs((t+1)/2)-(t<0||t%2),a==1/0?e="5e"+t:(e=a.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new d(e)):n=new d(a.toString()),r=d.precision,a=c=r+3;;)if(s=n,n=s.plus(Fn(u,s,c+2)).times(.5),vn(s.d).slice(0,c)===(e=vn(n.d)).slice(0,c)){if(e=e.slice(c-3,c+1),a==c&&e=="4999"){if(Ke(s,r+1,0),s.times(s).eq(u)){n=s;break}}else if(e!="9999")break;c+=4}return ot=!0,Ke(n,r)};ge.times=ge.mul=function(t){var e,r,n,a,s,c,u,d,m,p=this,h=p.constructor,y=p.d,x=(t=new h(t)).d;if(!p.s||!t.s)return new h(0);for(t.s*=p.s,r=p.e+t.e,d=y.length,m=x.length,d<m&&(s=y,y=x,x=s,c=d,d=m,m=c),s=[],c=d+m,n=c;n--;)s.push(0);for(n=m;--n>=0;){for(e=0,a=d+n;a>n;)u=s[a]+x[n]*y[a-n-1]+e,s[a--]=u%$t|0,e=u/$t|0;s[a]=(s[a]+e)%$t|0}for(;!s[--c];)s.pop();return e?++r:s.shift(),t.d=s,t.e=r,ot?Ke(t,h.precision):t};ge.toDecimalPlaces=ge.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(jn(t,0,Gs),e===void 0?e=n.rounding:jn(e,0,8),Ke(r,t+_t(r)+1,e))};ge.toExponential=function(t,e){var r,n=this,a=n.constructor;return t===void 0?r=ci(n,!0):(jn(t,0,Gs),e===void 0?e=a.rounding:jn(e,0,8),n=Ke(new a(n),t+1,e),r=ci(n,!0,t+1)),r};ge.toFixed=function(t,e){var r,n,a=this,s=a.constructor;return t===void 0?ci(a):(jn(t,0,Gs),e===void 0?e=s.rounding:jn(e,0,8),n=Ke(new s(a),t+_t(a)+1,e),r=ci(n.abs(),!1,t+_t(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};ge.toInteger=ge.toint=function(){var t=this,e=t.constructor;return Ke(new e(t),_t(t)+1,e.rounding)};ge.toNumber=function(){return+this};ge.toPower=ge.pow=function(t){var e,r,n,a,s,c,u=this,d=u.constructor,m=12,p=+(t=new d(t));if(!t.s)return new d(_r);if(u=new d(u),!u.s){if(t.s<1)throw Error(Wr+"Infinity");return u}if(u.eq(_r))return u;if(n=d.precision,t.eq(_r))return Ke(u,n);if(e=t.e,r=t.d.length-1,c=e>=r,s=u.s,c){if((r=p<0?-p:p)<=NE){for(a=new d(_r),e=Math.ceil(n/tt+4),ot=!1;r%2&&(a=a.times(u),Y2(a.d,e)),r=Vs(r/2),r!==0;)u=u.times(u),Y2(u.d,e);return ot=!0,t.s<0?new d(_r).div(a):Ke(a,n)}}else if(s<0)throw Error(Wr+"NaN");return s=s<0&&t.d[Math.max(e,r)]&1?-1:1,u.s=1,ot=!1,a=t.times(jl(u,n+m)),ot=!0,a=OE(a),a.s=s,a};ge.toPrecision=function(t,e){var r,n,a=this,s=a.constructor;return t===void 0?(r=_t(a),n=ci(a,r<=s.toExpNeg||r>=s.toExpPos)):(jn(t,1,Gs),e===void 0?e=s.rounding:jn(e,0,8),a=Ke(new s(a),t,e),r=_t(a),n=ci(a,t<=r||r<=s.toExpNeg,t)),n};ge.toSignificantDigits=ge.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(jn(t,1,Gs),e===void 0?e=n.rounding:jn(e,0,8)),Ke(new n(r),t,e)};ge.toString=ge.valueOf=ge.val=ge.toJSON=ge[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=_t(t),r=t.constructor;return ci(t,e<=r.toExpNeg||e>=r.toExpPos)};function kE(t,e){var r,n,a,s,c,u,d,m,p=t.constructor,h=p.precision;if(!t.s||!e.s)return e.s||(e=new p(t)),ot?Ke(e,h):e;if(d=t.d,m=e.d,c=t.e,a=e.e,d=d.slice(),s=c-a,s){for(s<0?(n=d,s=-s,u=m.length):(n=m,a=c,u=d.length),c=Math.ceil(h/tt),u=c>u?c+1:u+1,s>u&&(s=u,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(u=d.length,s=m.length,u-s<0&&(s=u,n=m,m=d,d=n),r=0;s;)r=(d[--s]=d[s]+m[s]+r)/$t|0,d[s]%=$t;for(r&&(d.unshift(r),++a),u=d.length;d[--u]==0;)d.pop();return e.d=d,e.e=a,ot?Ke(e,h):e}function jn(t,e,r){if(t!==~~t||t<e||t>r)throw Error(ii+t)}function vn(t){var e,r,n,a=t.length-1,s="",c=t[0];if(a>0){for(s+=c,e=1;e<a;e++)n=t[e]+"",r=tt-n.length,r&&(s+=pa(r)),s+=n;c=t[e],n=c+"",r=tt-n.length,r&&(s+=pa(r))}else if(c===0)return"0";for(;c%10===0;)c/=10;return s+c}var Fn=(function(){function t(n,a){var s,c=0,u=n.length;for(n=n.slice();u--;)s=n[u]*a+c,n[u]=s%$t|0,c=s/$t|0;return c&&n.unshift(c),n}function e(n,a,s,c){var u,d;if(s!=c)d=s>c?1:-1;else for(u=d=0;u<s;u++)if(n[u]!=a[u]){d=n[u]>a[u]?1:-1;break}return d}function r(n,a,s){for(var c=0;s--;)n[s]-=c,c=n[s]<a[s]?1:0,n[s]=c*$t+n[s]-a[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,s,c){var u,d,m,p,h,y,x,j,w,b,k,S,O,P,N,A,T,D,C=n.constructor,F=n.s==a.s?1:-1,I=n.d,q=a.d;if(!n.s)return new C(n);if(!a.s)throw Error(Wr+"Division by zero");for(d=n.e-a.e,T=q.length,N=I.length,x=new C(F),j=x.d=[],m=0;q[m]==(I[m]||0);)++m;if(q[m]>(I[m]||0)&&--d,s==null?S=s=C.precision:c?S=s+(_t(n)-_t(a))+1:S=s,S<0)return new C(0);if(S=S/tt+2|0,m=0,T==1)for(p=0,q=q[0],S++;(m<N||p)&&S--;m++)O=p*$t+(I[m]||0),j[m]=O/q|0,p=O%q|0;else{for(p=$t/(q[0]+1)|0,p>1&&(q=t(q,p),I=t(I,p),T=q.length,N=I.length),P=T,w=I.slice(0,T),b=w.length;b<T;)w[b++]=0;D=q.slice(),D.unshift(0),A=q[0],q[1]>=$t/2&&++A;do p=0,u=e(q,w,T,b),u<0?(k=w[0],T!=b&&(k=k*$t+(w[1]||0)),p=k/A|0,p>1?(p>=$t&&(p=$t-1),h=t(q,p),y=h.length,b=w.length,u=e(h,w,y,b),u==1&&(p--,r(h,T<y?D:q,y))):(p==0&&(u=p=1),h=q.slice()),y=h.length,y<b&&h.unshift(0),r(w,h,b),u==-1&&(b=w.length,u=e(q,w,T,b),u<1&&(p++,r(w,T<b?D:q,b))),b=w.length):u===0&&(p++,w=[0]),j[m++]=p,u&&w[0]?w[b++]=I[P]||0:(w=[I[P]],b=1);while((P++<N||w[0]!==void 0)&&S--)}return j[0]||j.shift(),x.e=d,Ke(x,c?s+_t(x)+1:s)}})();function OE(t,e){var r,n,a,s,c,u,d=0,m=0,p=t.constructor,h=p.precision;if(_t(t)>16)throw Error(Hx+_t(t));if(!t.s)return new p(_r);for(ot=!1,u=h,c=new p(.03125);t.abs().gte(.1);)t=t.times(c),m+=5;for(n=Math.log(Xa(2,m))/Math.LN10*2+5|0,u+=n,r=a=s=new p(_r),p.precision=u;;){if(a=Ke(a.times(t),u),r=r.times(++d),c=s.plus(Fn(a,r,u)),vn(c.d).slice(0,u)===vn(s.d).slice(0,u)){for(;m--;)s=Ke(s.times(s),u);return p.precision=h,e==null?(ot=!0,Ke(s,h)):s}s=c}}function _t(t){for(var e=t.e*tt,r=t.d[0];r>=10;r/=10)e++;return e}function Fy(t,e,r){if(e>t.LN10.sd())throw ot=!0,r&&(t.precision=r),Error(Wr+"LN10 precision limit exceeded");return Ke(new t(t.LN10),e)}function pa(t){for(var e="";t--;)e+="0";return e}function jl(t,e){var r,n,a,s,c,u,d,m,p,h=1,y=10,x=t,j=x.d,w=x.constructor,b=w.precision;if(x.s<1)throw Error(Wr+(x.s?"NaN":"-Infinity"));if(x.eq(_r))return new w(0);if(e==null?(ot=!1,m=b):m=e,x.eq(10))return e==null&&(ot=!0),Fy(w,m);if(m+=y,w.precision=m,r=vn(j),n=r.charAt(0),s=_t(x),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)x=x.times(t),r=vn(x.d),n=r.charAt(0),h++;s=_t(x),n>1?(x=new w("0."+r),s++):x=new w(n+"."+r.slice(1))}else return d=Fy(w,m+2,b).times(s+""),x=jl(new w(n+"."+r.slice(1)),m-y).plus(d),w.precision=b,e==null?(ot=!0,Ke(x,b)):x;for(u=c=x=Fn(x.minus(_r),x.plus(_r),m),p=Ke(x.times(x),m),a=3;;){if(c=Ke(c.times(p),m),d=u.plus(Fn(c,new w(a),m)),vn(d.d).slice(0,m)===vn(u.d).slice(0,m))return u=u.times(2),s!==0&&(u=u.plus(Fy(w,m+2,b).times(s+""))),u=Fn(u,new w(h),m),w.precision=b,e==null?(ot=!0,Ke(u,b)):u;u=d,a+=2}}function K2(t,e){var r,n,a;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(a=e.length;e.charCodeAt(a-1)===48;)--a;if(e=e.slice(n,a),e){if(a-=n,r=r-n-1,t.e=Vs(r/tt),t.d=[],n=(r+1)%tt,r<0&&(n+=tt),n<a){for(n&&t.d.push(+e.slice(0,n)),a-=tt;n<a;)t.d.push(+e.slice(n,n+=tt));e=e.slice(n),n=tt-e.length}else n-=a;for(;n--;)e+="0";if(t.d.push(+e),ot&&(t.e>Ju||t.e<-Ju))throw Error(Hx+r)}else t.s=0,t.e=0,t.d=[0];return t}function Ke(t,e,r){var n,a,s,c,u,d,m,p,h=t.d;for(c=1,s=h[0];s>=10;s/=10)c++;if(n=e-c,n<0)n+=tt,a=e,m=h[p=0];else{if(p=Math.ceil((n+1)/tt),s=h.length,p>=s)return t;for(m=s=h[p],c=1;s>=10;s/=10)c++;n%=tt,a=n-tt+c}if(r!==void 0&&(s=Xa(10,c-a-1),u=m/s%10|0,d=e<0||h[p+1]!==void 0||m%s,d=r<4?(u||d)&&(r==0||r==(t.s<0?3:2)):u>5||u==5&&(r==4||d||r==6&&(n>0?a>0?m/Xa(10,c-a):0:h[p-1])%10&1||r==(t.s<0?8:7))),e<1||!h[0])return d?(s=_t(t),h.length=1,e=e-s-1,h[0]=Xa(10,(tt-e%tt)%tt),t.e=Vs(-e/tt)||0):(h.length=1,h[0]=t.e=t.s=0),t;if(n==0?(h.length=p,s=1,p--):(h.length=p+1,s=Xa(10,tt-n),h[p]=a>0?(m/Xa(10,c-a)%Xa(10,a)|0)*s:0),d)for(;;)if(p==0){(h[0]+=s)==$t&&(h[0]=1,++t.e);break}else{if(h[p]+=s,h[p]!=$t)break;h[p--]=0,s=1}for(n=h.length;h[--n]===0;)h.pop();if(ot&&(t.e>Ju||t.e<-Ju))throw Error(Hx+_t(t));return t}function AE(t,e){var r,n,a,s,c,u,d,m,p,h,y=t.constructor,x=y.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new y(t),ot?Ke(e,x):e;if(d=t.d,h=e.d,n=e.e,m=t.e,d=d.slice(),c=m-n,c){for(p=c<0,p?(r=d,c=-c,u=h.length):(r=h,n=m,u=d.length),a=Math.max(Math.ceil(x/tt),u)+2,c>a&&(c=a,r.length=1),r.reverse(),a=c;a--;)r.push(0);r.reverse()}else{for(a=d.length,u=h.length,p=a<u,p&&(u=a),a=0;a<u;a++)if(d[a]!=h[a]){p=d[a]<h[a];break}c=0}for(p&&(r=d,d=h,h=r,e.s=-e.s),u=d.length,a=h.length-u;a>0;--a)d[u++]=0;for(a=h.length;a>c;){if(d[--a]<h[a]){for(s=a;s&&d[--s]===0;)d[s]=$t-1;--d[s],d[a]+=$t}d[a]-=h[a]}for(;d[--u]===0;)d.pop();for(;d[0]===0;d.shift())--n;return d[0]?(e.d=d,e.e=n,ot?Ke(e,x):e):new y(0)}function ci(t,e,r){var n,a=_t(t),s=vn(t.d),c=s.length;return e?(r&&(n=r-c)>0?s=s.charAt(0)+"."+s.slice(1)+pa(n):c>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+pa(-a-1)+s,r&&(n=r-c)>0&&(s+=pa(n))):a>=c?(s+=pa(a+1-c),r&&(n=r-a-1)>0&&(s=s+"."+pa(n))):((n=a+1)<c&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-c)>0&&(a+1===c&&(s+="."),s+=pa(n))),t.s<0?"-"+s:s}function Y2(t,e){if(t.length>e)return t.length=e,!0}function PE(t){var e,r,n;function a(s){var c=this;if(!(c instanceof a))return new a(s);if(c.constructor=a,s instanceof a){c.s=s.s,c.e=s.e,c.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(ii+s);if(s>0)c.s=1;else if(s<0)s=-s,c.s=-1;else{c.s=0,c.e=0,c.d=[0];return}if(s===~~s&&s<1e7){c.e=0,c.d=[s];return}return K2(c,s.toString())}else if(typeof s!="string")throw Error(ii+s);if(s.charCodeAt(0)===45?(s=s.slice(1),c.s=-1):c.s=1,m8.test(s))K2(c,s);else throw Error(ii+s)}if(a.prototype=ge,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=PE,a.config=a.set=h8,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return a.config(t),a}function h8(t){if(!t||typeof t!="object")throw Error(Wr+"Object expected");var e,r,n,a=["precision",1,Gs,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<a.length;e+=3)if((n=t[r=a[e]])!==void 0)if(Vs(n)===n&&n>=a[e+1]&&n<=a[e+2])this[r]=n;else throw Error(ii+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(ii+r+": "+n);return this}var Gx=PE(f8);_r=new Gx(1);const Ve=Gx;function p8(t){return x8(t)||v8(t)||y8(t)||g8()}function g8(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y8(t,e){if(t){if(typeof t=="string")return e0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return e0(t,e)}}function v8(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function x8(t){if(Array.isArray(t))return e0(t)}function e0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var b8=function(e){return e},EE={},TE=function(e){return e===EE},X2=function(e){return function r(){return arguments.length===0||arguments.length===1&&TE(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},w8=function t(e,r){return e===1?r:X2(function(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];var c=a.filter(function(u){return u!==EE}).length;return c>=e?r.apply(void 0,a):t(e-c,X2(function(){for(var u=arguments.length,d=new Array(u),m=0;m<u;m++)d[m]=arguments[m];var p=a.map(function(h){return TE(h)?d.shift():h});return r.apply(void 0,p8(p).concat(d))}))})},rf=function(e){return w8(e.length,e)},t0=function(e,r){for(var n=[],a=e;a<r;++a)n[a-e]=a;return n},j8=rf(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),S8=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return b8;var a=r.reverse(),s=a[0],c=a.slice(1);return function(){return c.reduce(function(u,d){return d(u)},s.apply(void 0,arguments))}},r0=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},CE=function(e){var r=null,n=null;return function(){for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return r&&s.every(function(u,d){return u===r[d]})||(r=s,n=e.apply(void 0,s)),n}};function _8(t){var e;return t===0?e=1:e=Math.floor(new Ve(t).abs().log(10).toNumber())+1,e}function N8(t,e,r){for(var n=new Ve(t),a=0,s=[];n.lt(e)&&a<1e5;)s.push(n.toNumber()),n=n.add(r),a++;return s}var k8=rf(function(t,e,r){var n=+t,a=+e;return n+r*(a-n)}),O8=rf(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),A8=rf(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const nf={rangeStep:N8,getDigitCount:_8,interpolateNumber:k8,uninterpolateNumber:O8,uninterpolateTruncation:A8};function n0(t){return T8(t)||E8(t)||IE(t)||P8()}function P8(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E8(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function T8(t){if(Array.isArray(t))return a0(t)}function Sl(t,e){return M8(t)||I8(t,e)||IE(t,e)||C8()}function C8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IE(t,e){if(t){if(typeof t=="string")return a0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a0(t,e)}}function a0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function I8(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,a=!1,s=void 0;try{for(var c=t[Symbol.iterator](),u;!(n=(u=c.next()).done)&&(r.push(u.value),!(e&&r.length===e));n=!0);}catch(d){a=!0,s=d}finally{try{!n&&c.return!=null&&c.return()}finally{if(a)throw s}}return r}}function M8(t){if(Array.isArray(t))return t}function ME(t){var e=Sl(t,2),r=e[0],n=e[1],a=r,s=n;return r>n&&(a=n,s=r),[a,s]}function RE(t,e,r){if(t.lte(0))return new Ve(0);var n=nf.getDigitCount(t.toNumber()),a=new Ve(10).pow(n),s=t.div(a),c=n!==1?.05:.1,u=new Ve(Math.ceil(s.div(c).toNumber())).add(r).mul(c),d=u.mul(a);return e?d:new Ve(Math.ceil(d))}function R8(t,e,r){var n=1,a=new Ve(t);if(!a.isint()&&r){var s=Math.abs(t);s<1?(n=new Ve(10).pow(nf.getDigitCount(t)-1),a=new Ve(Math.floor(a.div(n).toNumber())).mul(n)):s>1&&(a=new Ve(Math.floor(t)))}else t===0?a=new Ve(Math.floor((e-1)/2)):r||(a=new Ve(Math.floor(t)));var c=Math.floor((e-1)/2),u=S8(j8(function(d){return a.add(new Ve(d-c).mul(n)).toNumber()}),t0);return u(0,e)}function $E(t,e,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new Ve(0),tickMin:new Ve(0),tickMax:new Ve(0)};var s=RE(new Ve(e).sub(t).div(r-1),n,a),c;t<=0&&e>=0?c=new Ve(0):(c=new Ve(t).add(e).div(2),c=c.sub(new Ve(c).mod(s)));var u=Math.ceil(c.sub(t).div(s).toNumber()),d=Math.ceil(new Ve(e).sub(c).div(s).toNumber()),m=u+d+1;return m>r?$E(t,e,r,n,a+1):(m<r&&(d=e>0?d+(r-m):d,u=e>0?u:u+(r-m)),{step:s,tickMin:c.sub(new Ve(u).mul(s)),tickMax:c.add(new Ve(d).mul(s))})}function $8(t){var e=Sl(t,2),r=e[0],n=e[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,c=Math.max(a,2),u=ME([r,n]),d=Sl(u,2),m=d[0],p=d[1];if(m===-1/0||p===1/0){var h=p===1/0?[m].concat(n0(t0(0,a-1).map(function(){return 1/0}))):[].concat(n0(t0(0,a-1).map(function(){return-1/0})),[p]);return r>n?r0(h):h}if(m===p)return R8(m,a,s);var y=$E(m,p,c,s),x=y.step,j=y.tickMin,w=y.tickMax,b=nf.rangeStep(j,w.add(new Ve(.1).mul(x)),x);return r>n?r0(b):b}function D8(t,e){var r=Sl(t,2),n=r[0],a=r[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,c=ME([n,a]),u=Sl(c,2),d=u[0],m=u[1];if(d===-1/0||m===1/0)return[n,a];if(d===m)return[d];var p=Math.max(e,2),h=RE(new Ve(m).sub(d).div(p-1),s,0),y=[].concat(n0(nf.rangeStep(new Ve(d),new Ve(m).sub(new Ve(.99).mul(h)),h)),[m]);return n>a?r0(y):y}var L8=CE($8),B8=CE(D8),F8="Invariant failed";function ui(t,e){throw new Error(F8)}var z8=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function ys(t){"@babel/helpers - typeof";return ys=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ys(t)}function ed(){return ed=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ed.apply(this,arguments)}function q8(t,e){return G8(t)||H8(t,e)||W8(t,e)||U8()}function U8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function W8(t,e){if(t){if(typeof t=="string")return Q2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Q2(t,e)}}function Q2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function H8(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,c,u=[],d=!0,m=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(d=(n=s.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(p){m=!0,a=p}finally{try{if(!d&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(m)throw a}}return u}}function G8(t){if(Array.isArray(t))return t}function V8(t,e){if(t==null)return{};var r=K8(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function K8(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Y8(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function X8(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,BE(n.key),n)}}function Q8(t,e,r){return e&&X8(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Z8(t,e,r){return e=td(e),J8(t,DE()?Reflect.construct(e,r||[],td(t).constructor):e.apply(t,r))}function J8(t,e){if(e&&(ys(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eB(t)}function eB(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function DE(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DE=function(){return!!t})()}function td(t){return td=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},td(t)}function tB(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&i0(t,e)}function i0(t,e){return i0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},i0(t,e)}function LE(t,e,r){return e=BE(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function BE(t){var e=rB(t,"string");return ys(e)=="symbol"?e:e+""}function rB(t,e){if(ys(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ys(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ks=(function(t){function e(){return Y8(this,e),Z8(this,e,arguments)}return tB(e,t),Q8(e,[{key:"render",value:function(){var n=this.props,a=n.offset,s=n.layout,c=n.width,u=n.dataKey,d=n.data,m=n.dataPointFormatter,p=n.xAxis,h=n.yAxis,y=V8(n,z8),x=we(y,!1);this.props.direction==="x"&&p.type!=="number"&&ui();var j=d.map(function(w){var b=m(w,u),k=b.x,S=b.y,O=b.value,P=b.errorVal;if(!P)return null;var N=[],A,T;if(Array.isArray(P)){var D=q8(P,2);A=D[0],T=D[1]}else A=T=P;if(s==="vertical"){var C=p.scale,F=S+a,I=F+c,q=F-c,B=C(O-A),V=C(O+T);N.push({x1:V,y1:I,x2:V,y2:q}),N.push({x1:B,y1:F,x2:V,y2:F}),N.push({x1:B,y1:I,x2:B,y2:q})}else if(s==="horizontal"){var L=h.scale,M=k+a,G=M-c,$=M+c,W=L(O-A),Q=L(O+T);N.push({x1:G,y1:Q,x2:$,y2:Q}),N.push({x1:M,y1:W,x2:M,y2:Q}),N.push({x1:G,y1:W,x2:$,y2:W})}return U.createElement(Re,ed({className:"recharts-errorBar",key:"bar-".concat(N.map(function(z){return"".concat(z.x1,"-").concat(z.x2,"-").concat(z.y1,"-").concat(z.y2)}))},x),N.map(function(z){return U.createElement("line",ed({},z,{key:"line-".concat(z.x1,"-").concat(z.x2,"-").concat(z.y1,"-").concat(z.y2)}))}))});return U.createElement(Re,{className:"recharts-errorBars"},j)}}])})(U.Component);LE(Ks,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});LE(Ks,"displayName","ErrorBar");function _l(t){"@babel/helpers - typeof";return _l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_l(t)}function Z2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Ga(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Z2(Object(r),!0).forEach(function(n){nB(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Z2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nB(t,e,r){return e=aB(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function aB(t){var e=iB(t,"string");return _l(e)=="symbol"?e:e+""}function iB(t,e){if(_l(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_l(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var FE=function(e){var r=e.children,n=e.formattedGraphicalItems,a=e.legendWidth,s=e.legendContent,c=Sr(r,sr);if(!c)return null;var u=sr.defaultProps,d=u!==void 0?Ga(Ga({},u),c.props):{},m;return c.props&&c.props.payload?m=c.props&&c.props.payload:s==="children"?m=(n||[]).reduce(function(p,h){var y=h.item,x=h.props,j=x.sectors||x.data||[];return p.concat(j.map(function(w){return{type:c.props.iconType||y.props.legendType,value:w.name,color:w.fill,payload:w}}))},[]):m=(n||[]).map(function(p){var h=p.item,y=h.type.defaultProps,x=y!==void 0?Ga(Ga({},y),h.props):{},j=x.dataKey,w=x.name,b=x.legendType,k=x.hide;return{inactive:k,dataKey:j,type:d.iconType||b||"square",color:Vx(h),value:w||j,payload:x}}),Ga(Ga(Ga({},d),sr.getWithHeight(c,a)),{},{payload:m,item:c})};function Nl(t){"@babel/helpers - typeof";return Nl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nl(t)}function J2(t){return cB(t)||lB(t)||oB(t)||sB()}function sB(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oB(t,e){if(t){if(typeof t=="string")return s0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s0(t,e)}}function lB(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function cB(t){if(Array.isArray(t))return s0(t)}function s0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ek(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function pt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ek(Object(r),!0).forEach(function(n){ss(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ek(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ss(t,e,r){return e=uB(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uB(t){var e=dB(t,"string");return Nl(e)=="symbol"?e:e+""}function dB(t,e){if(Nl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Nl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rt(t,e,r){return Oe(t)||Oe(e)?r:Et(e)?Nr(t,e,r):Ae(e)?e(t):r}function el(t,e,r,n){var a=c8(t,function(u){return rt(u,e)});if(r==="number"){var s=a.filter(function(u){return ue(u)||parseFloat(u)});return s.length?[tf(s),va(s)]:[1/0,-1/0]}var c=n?a.filter(function(u){return!Oe(u)}):a;return c.map(function(u){return Et(u)||u instanceof Date?u:""})}var fB=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,c=-1,u=(r=n?.length)!==null&&r!==void 0?r:0;if(u<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var d=s.range,m=0;m<u;m++){var p=m>0?a[m-1].coordinate:a[u-1].coordinate,h=a[m].coordinate,y=m>=u-1?a[0].coordinate:a[m+1].coordinate,x=void 0;if(tr(h-p)!==tr(y-h)){var j=[];if(tr(y-h)===tr(d[1]-d[0])){x=y;var w=h+d[1]-d[0];j[0]=Math.min(w,(w+p)/2),j[1]=Math.max(w,(w+p)/2)}else{x=p;var b=y+d[1]-d[0];j[0]=Math.min(h,(b+h)/2),j[1]=Math.max(h,(b+h)/2)}var k=[Math.min(h,(x+h)/2),Math.max(h,(x+h)/2)];if(e>k[0]&&e<=k[1]||e>=j[0]&&e<=j[1]){c=a[m].index;break}}else{var S=Math.min(p,y),O=Math.max(p,y);if(e>(S+h)/2&&e<=(O+h)/2){c=a[m].index;break}}}else for(var P=0;P<u;P++)if(P===0&&e<=(n[P].coordinate+n[P+1].coordinate)/2||P>0&&P<u-1&&e>(n[P].coordinate+n[P-1].coordinate)/2&&e<=(n[P].coordinate+n[P+1].coordinate)/2||P===u-1&&e>(n[P].coordinate+n[P-1].coordinate)/2){c=n[P].index;break}return c},Vx=function(e){var r,n=e,a=n.type.displayName,s=(r=e.type)!==null&&r!==void 0&&r.defaultProps?pt(pt({},e.type.defaultProps),e.props):e.props,c=s.stroke,u=s.fill,d;switch(a){case"Line":d=c;break;case"Area":case"Radar":d=c&&c!=="none"?c:u;break;default:d=u;break}return d},mB=function(e){var r=e.barSize,n=e.totalSize,a=e.stackGroups,s=a===void 0?{}:a;if(!s)return{};for(var c={},u=Object.keys(s),d=0,m=u.length;d<m;d++)for(var p=s[u[d]].stackGroups,h=Object.keys(p),y=0,x=h.length;y<x;y++){var j=p[h[y]],w=j.items,b=j.cateAxisId,k=w.filter(function(T){return Bn(T.type).indexOf("Bar")>=0});if(k&&k.length){var S=k[0].type.defaultProps,O=S!==void 0?pt(pt({},S),k[0].props):k[0].props,P=O.barSize,N=O[b];c[N]||(c[N]=[]);var A=Oe(P)?r:P;c[N].push({item:k[0],stackList:k.slice(1),barSize:Oe(A)?void 0:rr(A,n,0)})}}return c},hB=function(e){var r=e.barGap,n=e.barCategoryGap,a=e.bandSize,s=e.sizeList,c=s===void 0?[]:s,u=e.maxBarSize,d=c.length;if(d<1)return null;var m=rr(r,a,0,!0),p,h=[];if(c[0].barSize===+c[0].barSize){var y=!1,x=a/d,j=c.reduce(function(P,N){return P+N.barSize||0},0);j+=(d-1)*m,j>=a&&(j-=(d-1)*m,m=0),j>=a&&x>0&&(y=!0,x*=.9,j=d*x);var w=(a-j)/2>>0,b={offset:w-m,size:0};p=c.reduce(function(P,N){var A={item:N.item,position:{offset:b.offset+b.size+m,size:y?x:N.barSize}},T=[].concat(J2(P),[A]);return b=T[T.length-1].position,N.stackList&&N.stackList.length&&N.stackList.forEach(function(D){T.push({item:D,position:b})}),T},h)}else{var k=rr(n,a,0,!0);a-2*k-(d-1)*m<=0&&(m=0);var S=(a-2*k-(d-1)*m)/d;S>1&&(S>>=0);var O=u===+u?Math.min(S,u):S;p=c.reduce(function(P,N,A){var T=[].concat(J2(P),[{item:N.item,position:{offset:k+(S+m)*A+(S-O)/2,size:O}}]);return N.stackList&&N.stackList.length&&N.stackList.forEach(function(D){T.push({item:D,position:T[T.length-1].position})}),T},h)}return p},pB=function(e,r,n,a){var s=n.children,c=n.width,u=n.margin,d=c-(u.left||0)-(u.right||0),m=FE({children:s,legendWidth:d});if(m){var p=a||{},h=p.width,y=p.height,x=m.align,j=m.verticalAlign,w=m.layout;if((w==="vertical"||w==="horizontal"&&j==="middle")&&x!=="center"&&ue(e[x]))return pt(pt({},e),{},ss({},x,e[x]+(h||0)));if((w==="horizontal"||w==="vertical"&&x==="center")&&j!=="middle"&&ue(e[j]))return pt(pt({},e),{},ss({},j,e[j]+(y||0)))}return e},gB=function(e,r,n){return Oe(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},zE=function(e,r,n,a,s){var c=r.props.children,u=ir(c,Ks).filter(function(m){return gB(a,s,m.props.direction)});if(u&&u.length){var d=u.map(function(m){return m.props.dataKey});return e.reduce(function(m,p){var h=rt(p,n);if(Oe(h))return m;var y=Array.isArray(h)?[tf(h),va(h)]:[h,h],x=d.reduce(function(j,w){var b=rt(p,w,0),k=y[0]-Math.abs(Array.isArray(b)?b[0]:b),S=y[1]+Math.abs(Array.isArray(b)?b[1]:b);return[Math.min(k,j[0]),Math.max(S,j[1])]},[1/0,-1/0]);return[Math.min(x[0],m[0]),Math.max(x[1],m[1])]},[1/0,-1/0])}return null},yB=function(e,r,n,a,s){var c=r.map(function(u){return zE(e,u,n,s,a)}).filter(function(u){return!Oe(u)});return c&&c.length?c.reduce(function(u,d){return[Math.min(u[0],d[0]),Math.max(u[1],d[1])]},[1/0,-1/0]):null},qE=function(e,r,n,a,s){var c=r.map(function(d){var m=d.props.dataKey;return n==="number"&&m&&zE(e,d,m,a)||el(e,m,n,s)});if(n==="number")return c.reduce(function(d,m){return[Math.min(d[0],m[0]),Math.max(d[1],m[1])]},[1/0,-1/0]);var u={};return c.reduce(function(d,m){for(var p=0,h=m.length;p<h;p++)u[m[p]]||(u[m[p]]=!0,d.push(m[p]));return d},[])},UE=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},WE=function(e,r,n,a){if(a)return e.map(function(d){return d.coordinate});var s,c,u=e.map(function(d){return d.coordinate===r&&(s=!0),d.coordinate===n&&(c=!0),d.coordinate});return s||u.push(r),c||u.push(n),u},Ln=function(e,r,n){if(!e)return null;var a=e.scale,s=e.duplicateDomain,c=e.type,u=e.range,d=e.realScaleType==="scaleBand"?a.bandwidth()/2:2,m=(r||n)&&c==="category"&&a.bandwidth?a.bandwidth()/d:0;if(m=e.axisType==="angleAxis"&&u?.length>=2?tr(u[0]-u[1])*2*m:m,r&&(e.ticks||e.niceTicks)){var p=(e.ticks||e.niceTicks).map(function(h){var y=s?s.indexOf(h):h;return{coordinate:a(y)+m,value:h,offset:m}});return p.filter(function(h){return!Us(h.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(h,y){return{coordinate:a(h)+m,value:h,index:y,offset:m}}):a.ticks&&!n?a.ticks(e.tickCount).map(function(h){return{coordinate:a(h)+m,value:h,offset:m}}):a.domain().map(function(h,y){return{coordinate:a(h)+m,value:s?s[h]:h,index:y,offset:m}})},zy=new WeakMap,bu=function(e,r){if(typeof r!="function")return e;zy.has(e)||zy.set(e,new WeakMap);var n=zy.get(e);if(n.has(r))return n.get(r);var a=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},HE=function(e,r,n){var a=e.scale,s=e.type,c=e.layout,u=e.axisType;if(a==="auto")return c==="radial"&&u==="radiusAxis"?{scale:yl(),realScaleType:"band"}:c==="radial"&&u==="angleAxis"?{scale:Yu(),realScaleType:"linear"}:s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Jo(),realScaleType:"point"}:s==="category"?{scale:yl(),realScaleType:"band"}:{scale:Yu(),realScaleType:"linear"};if(oi(a)){var d="scale".concat(Fd(a));return{scale:(B2[d]||Jo)(),realScaleType:B2[d]?d:"point"}}return Ae(a)?{scale:a}:{scale:Jo(),realScaleType:"point"}},tk=1e-4,GE=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,a=e.range(),s=Math.min(a[0],a[1])-tk,c=Math.max(a[0],a[1])+tk,u=e(r[0]),d=e(r[n-1]);(u<s||u>c||d<s||d>c)&&e.domain([r[0],r[n-1]])}},vB=function(e,r){if(!e)return null;for(var n=0,a=e.length;n<a;n++)if(e[n].item===r)return e[n].position;return null},xB=function(e,r){if(!r||r.length!==2||!ue(r[0])||!ue(r[1]))return e;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),s=[e[0],e[1]];return(!ue(e[0])||e[0]<n)&&(s[0]=n),(!ue(e[1])||e[1]>a)&&(s[1]=a),s[0]>a&&(s[0]=a),s[1]<n&&(s[1]=n),s},bB=function(e){var r=e.length;if(!(r<=0))for(var n=0,a=e[0].length;n<a;++n)for(var s=0,c=0,u=0;u<r;++u){var d=Us(e[u][n][1])?e[u][n][0]:e[u][n][1];d>=0?(e[u][n][0]=s,e[u][n][1]=s+d,s=e[u][n][1]):(e[u][n][0]=c,e[u][n][1]=c+d,c=e[u][n][1])}},wB=function(e){var r=e.length;if(!(r<=0))for(var n=0,a=e[0].length;n<a;++n)for(var s=0,c=0;c<r;++c){var u=Us(e[c][n][1])?e[c][n][0]:e[c][n][1];u>=0?(e[c][n][0]=s,e[c][n][1]=s+u,s=e[c][n][1]):(e[c][n][0]=0,e[c][n][1]=0)}},jB={sign:bB,expand:c$,none:cs,silhouette:u$,wiggle:d$,positive:wB},SB=function(e,r,n){var a=r.map(function(u){return u.props.dataKey}),s=jB[n],c=l$().keys(a).value(function(u,d){return+rt(u,d,0)}).order($v).offset(s);return c(e)},_B=function(e,r,n,a,s,c){if(!e)return null;var u=c?r.reverse():r,d={},m=u.reduce(function(h,y){var x,j=(x=y.type)!==null&&x!==void 0&&x.defaultProps?pt(pt({},y.type.defaultProps),y.props):y.props,w=j.stackId,b=j.hide;if(b)return h;var k=j[n],S=h[k]||{hasStack:!1,stackGroups:{}};if(Et(w)){var O=S.stackGroups[w]||{numericAxisId:n,cateAxisId:a,items:[]};O.items.push(y),S.hasStack=!0,S.stackGroups[w]=O}else S.stackGroups[Pa("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[y]};return pt(pt({},h),{},ss({},k,S))},d),p={};return Object.keys(m).reduce(function(h,y){var x=m[y];if(x.hasStack){var j={};x.stackGroups=Object.keys(x.stackGroups).reduce(function(w,b){var k=x.stackGroups[b];return pt(pt({},w),{},ss({},b,{numericAxisId:n,cateAxisId:a,items:k.items,stackedData:SB(e,k.items,s)}))},j)}return pt(pt({},h),{},ss({},y,x))},p)},VE=function(e,r){var n=r.realScaleType,a=r.type,s=r.tickCount,c=r.originalDomain,u=r.allowDecimals,d=n||r.scale;if(d!=="auto"&&d!=="linear")return null;if(s&&a==="number"&&c&&(c[0]==="auto"||c[1]==="auto")){var m=e.domain();if(!m.length)return null;var p=L8(m,s,u);return e.domain([tf(p),va(p)]),{niceTicks:p}}if(s&&a==="number"){var h=e.domain(),y=B8(h,s,u);return{niceTicks:y}}return null};function vs(t){var e=t.axis,r=t.ticks,n=t.bandSize,a=t.entry,s=t.index,c=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Oe(a[e.dataKey])){var u=Tu(r,"value",a[e.dataKey]);if(u)return u.coordinate+n/2}return r[s]?r[s].coordinate+n/2:null}var d=rt(a,Oe(c)?e.dataKey:c);return Oe(d)?null:e.scale(d)}var rk=function(e){var r=e.axis,n=e.ticks,a=e.offset,s=e.bandSize,c=e.entry,u=e.index;if(r.type==="category")return n[u]?n[u].coordinate+a:null;var d=rt(c,r.dataKey,r.domain[u]);return Oe(d)?null:r.scale(d)-s/2+a},NB=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]);return a<=0&&s>=0?0:s<0?s:a}return n[0]},kB=function(e,r){var n,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?pt(pt({},e.type.defaultProps),e.props):e.props,s=a.stackId;if(Et(s)){var c=r[s];if(c){var u=c.items.indexOf(e);return u>=0?c.stackedData[u]:null}}return null},OB=function(e){return e.reduce(function(r,n){return[tf(n.concat([r[0]]).filter(ue)),va(n.concat([r[1]]).filter(ue))]},[1/0,-1/0])},KE=function(e,r,n){return Object.keys(e).reduce(function(a,s){var c=e[s],u=c.stackedData,d=u.reduce(function(m,p){var h=OB(p.slice(r,n+1));return[Math.min(m[0],h[0]),Math.max(m[1],h[1])]},[1/0,-1/0]);return[Math.min(d[0],a[0]),Math.max(d[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},nk=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,ak=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,o0=function(e,r,n){if(Ae(e))return e(r,n);if(!Array.isArray(e))return r;var a=[];if(ue(e[0]))a[0]=n?e[0]:Math.min(e[0],r[0]);else if(nk.test(e[0])){var s=+nk.exec(e[0])[1];a[0]=r[0]-s}else Ae(e[0])?a[0]=e[0](r[0]):a[0]=r[0];if(ue(e[1]))a[1]=n?e[1]:Math.max(e[1],r[1]);else if(ak.test(e[1])){var c=+ak.exec(e[1])[1];a[1]=r[1]+c}else Ae(e[1])?a[1]=e[1](r[1]):a[1]=r[1];return a},rd=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var a=e.scale.bandwidth();if(!n||a>0)return a}if(e&&r&&r.length>=2){for(var s=wx(r,function(h){return h.coordinate}),c=1/0,u=1,d=s.length;u<d;u++){var m=s[u],p=s[u-1];c=Math.min((m.coordinate||0)-(p.coordinate||0),c)}return c===1/0?0:c}return n?void 0:0},ik=function(e,r,n){return!e||!e.length||Na(e,Nr(n,"type.defaultProps.domain"))?r:e},YE=function(e,r){var n=e.type.defaultProps?pt(pt({},e.type.defaultProps),e.props):e.props,a=n.dataKey,s=n.name,c=n.unit,u=n.formatter,d=n.tooltipType,m=n.chartType,p=n.hide;return pt(pt({},we(e,!1)),{},{dataKey:a,unit:c,formatter:u,name:s||a,color:Vx(e),value:rt(r,a),type:d,payload:r,chartType:m,hide:p})};function kl(t){"@babel/helpers - typeof";return kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kl(t)}function sk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Rn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sk(Object(r),!0).forEach(function(n){XE(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function XE(t,e,r){return e=AB(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function AB(t){var e=PB(t,"string");return kl(e)=="symbol"?e:e+""}function PB(t,e){if(kl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(kl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function EB(t,e){return MB(t)||IB(t,e)||CB(t,e)||TB()}function TB(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CB(t,e){if(t){if(typeof t=="string")return ok(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ok(t,e)}}function ok(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function IB(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,c,u=[],d=!0,m=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(d=(n=s.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(p){m=!0,a=p}finally{try{if(!d&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(m)throw a}}return u}}function MB(t){if(Array.isArray(t))return t}var nd=Math.PI/180,RB=function(e){return e*180/Math.PI},Ze=function(e,r,n,a){return{x:e+Math.cos(-nd*a)*n,y:r+Math.sin(-nd*a)*n}},QE=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},$B=function(e,r,n,a,s){var c=e.width,u=e.height,d=e.startAngle,m=e.endAngle,p=rr(e.cx,c,c/2),h=rr(e.cy,u,u/2),y=QE(c,u,n),x=rr(e.innerRadius,y,0),j=rr(e.outerRadius,y,y*.8),w=Object.keys(r);return w.reduce(function(b,k){var S=r[k],O=S.domain,P=S.reversed,N;if(Oe(S.range))a==="angleAxis"?N=[d,m]:a==="radiusAxis"&&(N=[x,j]),P&&(N=[N[1],N[0]]);else{N=S.range;var A=N,T=EB(A,2);d=T[0],m=T[1]}var D=HE(S,s),C=D.realScaleType,F=D.scale;F.domain(O).range(N),GE(F);var I=VE(F,Rn(Rn({},S),{},{realScaleType:C})),q=Rn(Rn(Rn({},S),I),{},{range:N,radius:j,realScaleType:C,scale:F,cx:p,cy:h,innerRadius:x,outerRadius:j,startAngle:d,endAngle:m});return Rn(Rn({},b),{},XE({},k,q))},{})},DB=function(e,r){var n=e.x,a=e.y,s=r.x,c=r.y;return Math.sqrt(Math.pow(n-s,2)+Math.pow(a-c,2))},LB=function(e,r){var n=e.x,a=e.y,s=r.cx,c=r.cy,u=DB({x:n,y:a},{x:s,y:c});if(u<=0)return{radius:u};var d=(n-s)/u,m=Math.acos(d);return a>c&&(m=2*Math.PI-m),{radius:u,angle:RB(m),angleInRadian:m}},BB=function(e){var r=e.startAngle,n=e.endAngle,a=Math.floor(r/360),s=Math.floor(n/360),c=Math.min(a,s);return{startAngle:r-c*360,endAngle:n-c*360}},FB=function(e,r){var n=r.startAngle,a=r.endAngle,s=Math.floor(n/360),c=Math.floor(a/360),u=Math.min(s,c);return e+u*360},lk=function(e,r){var n=e.x,a=e.y,s=LB({x:n,y:a},r),c=s.radius,u=s.angle,d=r.innerRadius,m=r.outerRadius;if(c<d||c>m)return!1;if(c===0)return!0;var p=BB(r),h=p.startAngle,y=p.endAngle,x=u,j;if(h<=y){for(;x>y;)x-=360;for(;x<h;)x+=360;j=x>=h&&x<=y}else{for(;x>h;)x-=360;for(;x<y;)x+=360;j=x>=y&&x<=h}return j?Rn(Rn({},r),{},{radius:c,angle:FB(x,r)}):null},ZE=function(e){return!R.isValidElement(e)&&!Ae(e)&&typeof e!="boolean"?e.className:""};function Ol(t){"@babel/helpers - typeof";return Ol=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ol(t)}var zB=["offset"];function qB(t){return GB(t)||HB(t)||WB(t)||UB()}function UB(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WB(t,e){if(t){if(typeof t=="string")return l0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l0(t,e)}}function HB(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function GB(t){if(Array.isArray(t))return l0(t)}function l0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function VB(t,e){if(t==null)return{};var r=KB(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function KB(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function ck(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function At(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ck(Object(r),!0).forEach(function(n){YB(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ck(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function YB(t,e,r){return e=XB(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function XB(t){var e=QB(t,"string");return Ol(e)=="symbol"?e:e+""}function QB(t,e){if(Ol(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ol(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Al(){return Al=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Al.apply(this,arguments)}var ZB=function(e){var r=e.value,n=e.formatter,a=Oe(e.children)?r:e.children;return Ae(n)?n(a):a},JB=function(e,r){var n=tr(r-e),a=Math.min(Math.abs(r-e),360);return n*a},eF=function(e,r,n){var a=e.position,s=e.viewBox,c=e.offset,u=e.className,d=s,m=d.cx,p=d.cy,h=d.innerRadius,y=d.outerRadius,x=d.startAngle,j=d.endAngle,w=d.clockWise,b=(h+y)/2,k=JB(x,j),S=k>=0?1:-1,O,P;a==="insideStart"?(O=x+S*c,P=w):a==="insideEnd"?(O=j-S*c,P=!w):a==="end"&&(O=j+S*c,P=w),P=k<=0?P:!P;var N=Ze(m,p,b,O),A=Ze(m,p,b,O+(P?1:-1)*359),T="M".concat(N.x,",").concat(N.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(P?0:1,`,
    `).concat(A.x,",").concat(A.y),D=Oe(e.id)?Pa("recharts-radial-line-"):e.id;return U.createElement("text",Al({},n,{dominantBaseline:"central",className:Me("recharts-radial-bar-label",u)}),U.createElement("defs",null,U.createElement("path",{id:D,d:T})),U.createElement("textPath",{xlinkHref:"#".concat(D)},r))},tF=function(e){var r=e.viewBox,n=e.offset,a=e.position,s=r,c=s.cx,u=s.cy,d=s.innerRadius,m=s.outerRadius,p=s.startAngle,h=s.endAngle,y=(p+h)/2;if(a==="outside"){var x=Ze(c,u,m+n,y),j=x.x,w=x.y;return{x:j,y:w,textAnchor:j>=c?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:c,y:u,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:c,y:u,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:c,y:u,textAnchor:"middle",verticalAnchor:"end"};var b=(d+m)/2,k=Ze(c,u,b,y),S=k.x,O=k.y;return{x:S,y:O,textAnchor:"middle",verticalAnchor:"middle"}},rF=function(e){var r=e.viewBox,n=e.parentViewBox,a=e.offset,s=e.position,c=r,u=c.x,d=c.y,m=c.width,p=c.height,h=p>=0?1:-1,y=h*a,x=h>0?"end":"start",j=h>0?"start":"end",w=m>=0?1:-1,b=w*a,k=w>0?"end":"start",S=w>0?"start":"end";if(s==="top"){var O={x:u+m/2,y:d-h*a,textAnchor:"middle",verticalAnchor:x};return At(At({},O),n?{height:Math.max(d-n.y,0),width:m}:{})}if(s==="bottom"){var P={x:u+m/2,y:d+p+y,textAnchor:"middle",verticalAnchor:j};return At(At({},P),n?{height:Math.max(n.y+n.height-(d+p),0),width:m}:{})}if(s==="left"){var N={x:u-b,y:d+p/2,textAnchor:k,verticalAnchor:"middle"};return At(At({},N),n?{width:Math.max(N.x-n.x,0),height:p}:{})}if(s==="right"){var A={x:u+m+b,y:d+p/2,textAnchor:S,verticalAnchor:"middle"};return At(At({},A),n?{width:Math.max(n.x+n.width-A.x,0),height:p}:{})}var T=n?{width:m,height:p}:{};return s==="insideLeft"?At({x:u+b,y:d+p/2,textAnchor:S,verticalAnchor:"middle"},T):s==="insideRight"?At({x:u+m-b,y:d+p/2,textAnchor:k,verticalAnchor:"middle"},T):s==="insideTop"?At({x:u+m/2,y:d+y,textAnchor:"middle",verticalAnchor:j},T):s==="insideBottom"?At({x:u+m/2,y:d+p-y,textAnchor:"middle",verticalAnchor:x},T):s==="insideTopLeft"?At({x:u+b,y:d+y,textAnchor:S,verticalAnchor:j},T):s==="insideTopRight"?At({x:u+m-b,y:d+y,textAnchor:k,verticalAnchor:j},T):s==="insideBottomLeft"?At({x:u+b,y:d+p-y,textAnchor:S,verticalAnchor:x},T):s==="insideBottomRight"?At({x:u+m-b,y:d+p-y,textAnchor:k,verticalAnchor:x},T):qs(s)&&(ue(s.x)||Ja(s.x))&&(ue(s.y)||Ja(s.y))?At({x:u+rr(s.x,m),y:d+rr(s.y,p),textAnchor:"end",verticalAnchor:"end"},T):At({x:u+m/2,y:d+p/2,textAnchor:"middle",verticalAnchor:"middle"},T)},nF=function(e){return"cx"in e&&ue(e.cx)};function Dt(t){var e=t.offset,r=e===void 0?5:e,n=VB(t,zB),a=At({offset:r},n),s=a.viewBox,c=a.position,u=a.value,d=a.children,m=a.content,p=a.className,h=p===void 0?"":p,y=a.textBreakAll;if(!s||Oe(u)&&Oe(d)&&!R.isValidElement(m)&&!Ae(m))return null;if(R.isValidElement(m))return R.cloneElement(m,a);var x;if(Ae(m)){if(x=R.createElement(m,a),R.isValidElement(x))return x}else x=ZB(a);var j=nF(s),w=we(a,!0);if(j&&(c==="insideStart"||c==="insideEnd"||c==="end"))return eF(a,x,w);var b=j?tF(a):rF(a);return U.createElement(li,Al({className:Me("recharts-label",h)},w,b,{breakAll:y}),x)}Dt.displayName="Label";var JE=function(e){var r=e.cx,n=e.cy,a=e.angle,s=e.startAngle,c=e.endAngle,u=e.r,d=e.radius,m=e.innerRadius,p=e.outerRadius,h=e.x,y=e.y,x=e.top,j=e.left,w=e.width,b=e.height,k=e.clockWise,S=e.labelViewBox;if(S)return S;if(ue(w)&&ue(b)){if(ue(h)&&ue(y))return{x:h,y,width:w,height:b};if(ue(x)&&ue(j))return{x,y:j,width:w,height:b}}return ue(h)&&ue(y)?{x:h,y,width:0,height:0}:ue(r)&&ue(n)?{cx:r,cy:n,startAngle:s||a||0,endAngle:c||a||0,innerRadius:m||0,outerRadius:p||d||u||0,clockWise:k}:e.viewBox?e.viewBox:{}},aF=function(e,r){return e?e===!0?U.createElement(Dt,{key:"label-implicit",viewBox:r}):Et(e)?U.createElement(Dt,{key:"label-implicit",viewBox:r,value:e}):R.isValidElement(e)?e.type===Dt?R.cloneElement(e,{key:"label-implicit",viewBox:r}):U.createElement(Dt,{key:"label-implicit",content:e,viewBox:r}):Ae(e)?U.createElement(Dt,{key:"label-implicit",content:e,viewBox:r}):qs(e)?U.createElement(Dt,Al({viewBox:r},e,{key:"label-implicit"})):null:null},iF=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var a=e.children,s=JE(e),c=ir(a,Dt).map(function(d,m){return R.cloneElement(d,{viewBox:r||s,key:"label-".concat(m)})});if(!n)return c;var u=aF(e.label,r||s);return[u].concat(qB(c))};Dt.parseViewBox=JE;Dt.renderCallByParent=iF;var qy,uk;function sF(){if(uk)return qy;uk=1;function t(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}return qy=t,qy}var oF=sF();const lF=He(oF);function Pl(t){"@babel/helpers - typeof";return Pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pl(t)}var cF=["valueAccessor"],uF=["data","dataKey","clockWise","id","textBreakAll"];function dF(t){return pF(t)||hF(t)||mF(t)||fF()}function fF(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mF(t,e){if(t){if(typeof t=="string")return c0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c0(t,e)}}function hF(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function pF(t){if(Array.isArray(t))return c0(t)}function c0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ad(){return ad=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ad.apply(this,arguments)}function dk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function fk(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dk(Object(r),!0).forEach(function(n){gF(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gF(t,e,r){return e=yF(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yF(t){var e=vF(t,"string");return Pl(e)=="symbol"?e:e+""}function vF(t,e){if(Pl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Pl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mk(t,e){if(t==null)return{};var r=xF(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function xF(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var bF=function(e){return Array.isArray(e.value)?lF(e.value):e.value};function on(t){var e=t.valueAccessor,r=e===void 0?bF:e,n=mk(t,cF),a=n.data,s=n.dataKey,c=n.clockWise,u=n.id,d=n.textBreakAll,m=mk(n,uF);return!a||!a.length?null:U.createElement(Re,{className:"recharts-label-list"},a.map(function(p,h){var y=Oe(s)?r(p,h):rt(p&&p.payload,s),x=Oe(u)?{}:{id:"".concat(u,"-").concat(h)};return U.createElement(Dt,ad({},we(p,!0),m,x,{parentViewBox:p.parentViewBox,value:y,textBreakAll:d,viewBox:Dt.parseViewBox(Oe(c)?p:fk(fk({},p),{},{clockWise:c})),key:"label-".concat(h),index:h}))}))}on.displayName="LabelList";function wF(t,e){return t?t===!0?U.createElement(on,{key:"labelList-implicit",data:e}):U.isValidElement(t)||Ae(t)?U.createElement(on,{key:"labelList-implicit",data:e,content:t}):qs(t)?U.createElement(on,ad({data:e},t,{key:"labelList-implicit"})):null:null}function jF(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,a=ir(n,on).map(function(c,u){return R.cloneElement(c,{data:e,key:"labelList-".concat(u)})});if(!r)return a;var s=wF(t.label,e);return[s].concat(dF(a))}on.renderCallByParent=jF;function El(t){"@babel/helpers - typeof";return El=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},El(t)}function u0(){return u0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},u0.apply(this,arguments)}function hk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function pk(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hk(Object(r),!0).forEach(function(n){SF(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function SF(t,e,r){return e=_F(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _F(t){var e=NF(t,"string");return El(e)=="symbol"?e:e+""}function NF(t,e){if(El(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(El(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kF=function(e,r){var n=tr(r-e),a=Math.min(Math.abs(r-e),359.999);return n*a},wu=function(e){var r=e.cx,n=e.cy,a=e.radius,s=e.angle,c=e.sign,u=e.isExternal,d=e.cornerRadius,m=e.cornerIsExternal,p=d*(u?1:-1)+a,h=Math.asin(d/p)/nd,y=m?s:s+c*h,x=Ze(r,n,p,y),j=Ze(r,n,a,y),w=m?s-c*h:s,b=Ze(r,n,p*Math.cos(h*nd),w);return{center:x,circleTangency:j,lineTangency:b,theta:h}},eT=function(e){var r=e.cx,n=e.cy,a=e.innerRadius,s=e.outerRadius,c=e.startAngle,u=e.endAngle,d=kF(c,u),m=c+d,p=Ze(r,n,s,c),h=Ze(r,n,s,m),y="M ".concat(p.x,",").concat(p.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(c>m),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(a>0){var x=Ze(r,n,a,c),j=Ze(r,n,a,m);y+="L ".concat(j.x,",").concat(j.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(c<=m),`,
            `).concat(x.x,",").concat(x.y," Z")}else y+="L ".concat(r,",").concat(n," Z");return y},OF=function(e){var r=e.cx,n=e.cy,a=e.innerRadius,s=e.outerRadius,c=e.cornerRadius,u=e.forceCornerRadius,d=e.cornerIsExternal,m=e.startAngle,p=e.endAngle,h=tr(p-m),y=wu({cx:r,cy:n,radius:s,angle:m,sign:h,cornerRadius:c,cornerIsExternal:d}),x=y.circleTangency,j=y.lineTangency,w=y.theta,b=wu({cx:r,cy:n,radius:s,angle:p,sign:-h,cornerRadius:c,cornerIsExternal:d}),k=b.circleTangency,S=b.lineTangency,O=b.theta,P=d?Math.abs(m-p):Math.abs(m-p)-w-O;if(P<0)return u?"M ".concat(j.x,",").concat(j.y,`
        a`).concat(c,",").concat(c,",0,0,1,").concat(c*2,`,0
        a`).concat(c,",").concat(c,",0,0,1,").concat(-c*2,`,0
      `):eT({cx:r,cy:n,innerRadius:a,outerRadius:s,startAngle:m,endAngle:p});var N="M ".concat(j.x,",").concat(j.y,`
    A`).concat(c,",").concat(c,",0,0,").concat(+(h<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(P>180),",").concat(+(h<0),",").concat(k.x,",").concat(k.y,`
    A`).concat(c,",").concat(c,",0,0,").concat(+(h<0),",").concat(S.x,",").concat(S.y,`
  `);if(a>0){var A=wu({cx:r,cy:n,radius:a,angle:m,sign:h,isExternal:!0,cornerRadius:c,cornerIsExternal:d}),T=A.circleTangency,D=A.lineTangency,C=A.theta,F=wu({cx:r,cy:n,radius:a,angle:p,sign:-h,isExternal:!0,cornerRadius:c,cornerIsExternal:d}),I=F.circleTangency,q=F.lineTangency,B=F.theta,V=d?Math.abs(m-p):Math.abs(m-p)-C-B;if(V<0&&c===0)return"".concat(N,"L").concat(r,",").concat(n,"Z");N+="L".concat(q.x,",").concat(q.y,`
      A`).concat(c,",").concat(c,",0,0,").concat(+(h<0),",").concat(I.x,",").concat(I.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(V>180),",").concat(+(h>0),",").concat(T.x,",").concat(T.y,`
      A`).concat(c,",").concat(c,",0,0,").concat(+(h<0),",").concat(D.x,",").concat(D.y,"Z")}else N+="L".concat(r,",").concat(n,"Z");return N},AF={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},tT=function(e){var r=pk(pk({},AF),e),n=r.cx,a=r.cy,s=r.innerRadius,c=r.outerRadius,u=r.cornerRadius,d=r.forceCornerRadius,m=r.cornerIsExternal,p=r.startAngle,h=r.endAngle,y=r.className;if(c<s||p===h)return null;var x=Me("recharts-sector",y),j=c-s,w=rr(u,j,0,!0),b;return w>0&&Math.abs(p-h)<360?b=OF({cx:n,cy:a,innerRadius:s,outerRadius:c,cornerRadius:Math.min(w,j/2),forceCornerRadius:d,cornerIsExternal:m,startAngle:p,endAngle:h}):b=eT({cx:n,cy:a,innerRadius:s,outerRadius:c,startAngle:p,endAngle:h}),U.createElement("path",u0({},we(r,!0),{className:x,d:b,role:"img"}))};function Tl(t){"@babel/helpers - typeof";return Tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tl(t)}function d0(){return d0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},d0.apply(this,arguments)}function gk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function yk(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gk(Object(r),!0).forEach(function(n){PF(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function PF(t,e,r){return e=EF(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function EF(t){var e=TF(t,"string");return Tl(e)=="symbol"?e:e+""}function TF(t,e){if(Tl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Tl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vk={curveBasisClosed:Q3,curveBasisOpen:Z3,curveBasis:X3,curveBumpX:$3,curveBumpY:D3,curveLinearClosed:J3,curveLinear:qd,curveMonotoneX:e$,curveMonotoneY:t$,curveNatural:r$,curveStep:n$,curveStepAfter:i$,curveStepBefore:a$},ju=function(e){return e.x===+e.x&&e.y===+e.y},Wo=function(e){return e.x},Ho=function(e){return e.y},CF=function(e,r){if(Ae(e))return e;var n="curve".concat(Fd(e));return(n==="curveMonotone"||n==="curveBump")&&r?vk["".concat(n).concat(r==="vertical"?"Y":"X")]:vk[n]||qd},IF=function(e){var r=e.type,n=r===void 0?"linear":r,a=e.points,s=a===void 0?[]:a,c=e.baseLine,u=e.layout,d=e.connectNulls,m=d===void 0?!1:d,p=CF(n,u),h=m?s.filter(function(w){return ju(w)}):s,y;if(Array.isArray(c)){var x=m?c.filter(function(w){return ju(w)}):c,j=h.map(function(w,b){return yk(yk({},w),{},{base:x[b]})});return u==="vertical"?y=mu().y(Ho).x1(Wo).x0(function(w){return w.base.x}):y=mu().x(Wo).y1(Ho).y0(function(w){return w.base.y}),y.defined(ju).curve(p),y(j)}return u==="vertical"&&ue(c)?y=mu().y(Ho).x1(Wo).x0(c):ue(c)?y=mu().x(Wo).y1(Ho).y0(c):y=JA().x(Wo).y(Ho),y.defined(ju).curve(p),y(h)},Sa=function(e){var r=e.className,n=e.points,a=e.path,s=e.pathRef;if((!n||!n.length)&&!a)return null;var c=n&&n.length?IF(e):a;return R.createElement("path",d0({},we(e,!1),Cu(e),{className:Me("recharts-curve",r),d:c,ref:s}))},Uy={exports:{}},Wy,xk;function MF(){if(xk)return Wy;xk=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Wy=t,Wy}var Hy,bk;function RF(){if(bk)return Hy;bk=1;var t=MF();function e(){}function r(){}return r.resetWarningCache=e,Hy=function(){function n(c,u,d,m,p,h){if(h!==t){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}n.isRequired=n;function a(){return n}var s={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:a,element:n,elementType:n,instanceOf:a,node:n,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:r,resetWarningCache:e};return s.PropTypes=s,s},Hy}var wk;function $F(){return wk||(wk=1,Uy.exports=RF()()),Uy.exports}var DF=$F();const Ue=He(DF);var LF=Object.getOwnPropertyNames,BF=Object.getOwnPropertySymbols,FF=Object.prototype.hasOwnProperty;function jk(t,e){return function(n,a,s){return t(n,a,s)&&e(n,a,s)}}function Su(t){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,a);var s=a.cache,c=s.get(r),u=s.get(n);if(c&&u)return c===n&&u===r;s.set(r,n),s.set(n,r);var d=t(r,n,a);return s.delete(r),s.delete(n),d}}function Sk(t){return LF(t).concat(BF(t))}var zF=Object.hasOwn||(function(t,e){return FF.call(t,e)});function vi(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var qF="__v",UF="__o",WF="_owner",_k=Object.getOwnPropertyDescriptor,Nk=Object.keys;function HF(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function GF(t,e){return vi(t.getTime(),e.getTime())}function VF(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function KF(t,e){return t===e}function kk(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var a=new Array(n),s=t.entries(),c,u,d=0;(c=s.next())&&!c.done;){for(var m=e.entries(),p=!1,h=0;(u=m.next())&&!u.done;){if(a[h]){h++;continue}var y=c.value,x=u.value;if(r.equals(y[0],x[0],d,h,t,e,r)&&r.equals(y[1],x[1],y[0],x[0],t,e,r)){p=a[h]=!0;break}h++}if(!p)return!1;d++}return!0}var YF=vi;function XF(t,e,r){var n=Nk(t),a=n.length;if(Nk(e).length!==a)return!1;for(;a-- >0;)if(!rT(t,e,r,n[a]))return!1;return!0}function Go(t,e,r){var n=Sk(t),a=n.length;if(Sk(e).length!==a)return!1;for(var s,c,u;a-- >0;)if(s=n[a],!rT(t,e,r,s)||(c=_k(t,s),u=_k(e,s),(c||u)&&(!c||!u||c.configurable!==u.configurable||c.enumerable!==u.enumerable||c.writable!==u.writable)))return!1;return!0}function QF(t,e){return vi(t.valueOf(),e.valueOf())}function ZF(t,e){return t.source===e.source&&t.flags===e.flags}function Ok(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var a=new Array(n),s=t.values(),c,u;(c=s.next())&&!c.done;){for(var d=e.values(),m=!1,p=0;(u=d.next())&&!u.done;){if(!a[p]&&r.equals(c.value,u.value,c.value,u.value,t,e,r)){m=a[p]=!0;break}p++}if(!m)return!1}return!0}function JF(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function ez(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function rT(t,e,r,n){return(n===WF||n===UF||n===qF)&&(t.$$typeof||e.$$typeof)?!0:zF(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var tz="[object Arguments]",rz="[object Boolean]",nz="[object Date]",az="[object Error]",iz="[object Map]",sz="[object Number]",oz="[object Object]",lz="[object RegExp]",cz="[object Set]",uz="[object String]",dz="[object URL]",fz=Array.isArray,Ak=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,Pk=Object.assign,mz=Object.prototype.toString.call.bind(Object.prototype.toString);function hz(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,a=t.areFunctionsEqual,s=t.areMapsEqual,c=t.areNumbersEqual,u=t.areObjectsEqual,d=t.arePrimitiveWrappersEqual,m=t.areRegExpsEqual,p=t.areSetsEqual,h=t.areTypedArraysEqual,y=t.areUrlsEqual;return function(j,w,b){if(j===w)return!0;if(j==null||w==null)return!1;var k=typeof j;if(k!==typeof w)return!1;if(k!=="object")return k==="number"?c(j,w,b):k==="function"?a(j,w,b):!1;var S=j.constructor;if(S!==w.constructor)return!1;if(S===Object)return u(j,w,b);if(fz(j))return e(j,w,b);if(Ak!=null&&Ak(j))return h(j,w,b);if(S===Date)return r(j,w,b);if(S===RegExp)return m(j,w,b);if(S===Map)return s(j,w,b);if(S===Set)return p(j,w,b);var O=mz(j);return O===nz?r(j,w,b):O===lz?m(j,w,b):O===iz?s(j,w,b):O===cz?p(j,w,b):O===oz?typeof j.then!="function"&&typeof w.then!="function"&&u(j,w,b):O===dz?y(j,w,b):O===az?n(j,w,b):O===tz?u(j,w,b):O===rz||O===sz||O===uz?d(j,w,b):!1}}function pz(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,a={areArraysEqual:n?Go:HF,areDatesEqual:GF,areErrorsEqual:VF,areFunctionsEqual:KF,areMapsEqual:n?jk(kk,Go):kk,areNumbersEqual:YF,areObjectsEqual:n?Go:XF,arePrimitiveWrappersEqual:QF,areRegExpsEqual:ZF,areSetsEqual:n?jk(Ok,Go):Ok,areTypedArraysEqual:n?Go:JF,areUrlsEqual:ez};if(r&&(a=Pk({},a,r(a))),e){var s=Su(a.areArraysEqual),c=Su(a.areMapsEqual),u=Su(a.areObjectsEqual),d=Su(a.areSetsEqual);a=Pk({},a,{areArraysEqual:s,areMapsEqual:c,areObjectsEqual:u,areSetsEqual:d})}return a}function gz(t){return function(e,r,n,a,s,c,u){return t(e,r,u)}}function yz(t){var e=t.circular,r=t.comparator,n=t.createState,a=t.equals,s=t.strict;if(n)return function(d,m){var p=n(),h=p.cache,y=h===void 0?e?new WeakMap:void 0:h,x=p.meta;return r(d,m,{cache:y,equals:a,meta:x,strict:s})};if(e)return function(d,m){return r(d,m,{cache:new WeakMap,equals:a,meta:void 0,strict:s})};var c={cache:void 0,equals:a,meta:void 0,strict:s};return function(d,m){return r(d,m,c)}}var vz=Ca();Ca({strict:!0});Ca({circular:!0});Ca({circular:!0,strict:!0});Ca({createInternalComparator:function(){return vi}});Ca({strict:!0,createInternalComparator:function(){return vi}});Ca({circular:!0,createInternalComparator:function(){return vi}});Ca({circular:!0,createInternalComparator:function(){return vi},strict:!0});function Ca(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,a=t.createState,s=t.strict,c=s===void 0?!1:s,u=pz(t),d=hz(u),m=n?n(d):gz(d);return yz({circular:r,comparator:d,createState:a,equals:m,strict:c})}function xz(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function Ek(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(s){r<0&&(r=s),s-r>e?(t(s),r=-1):xz(a)};requestAnimationFrame(n)}function f0(t){"@babel/helpers - typeof";return f0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f0(t)}function bz(t){return _z(t)||Sz(t)||jz(t)||wz()}function wz(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jz(t,e){if(t){if(typeof t=="string")return Tk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Tk(t,e)}}function Tk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Sz(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _z(t){if(Array.isArray(t))return t}function Nz(){var t={},e=function(){return null},r=!1,n=function a(s){if(!r){if(Array.isArray(s)){if(!s.length)return;var c=s,u=bz(c),d=u[0],m=u.slice(1);if(typeof d=="number"){Ek(a.bind(null,m),d);return}a(d),Ek(a.bind(null,m));return}f0(s)==="object"&&(t=s,e(t)),typeof s=="function"&&s()}};return{stop:function(){r=!0},start:function(s){r=!1,n(s)},subscribe:function(s){return e=s,function(){e=function(){return null}}}}}function Cl(t){"@babel/helpers - typeof";return Cl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cl(t)}function Ck(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Ik(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Ck(Object(r),!0).forEach(function(n){nT(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ck(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nT(t,e,r){return e=kz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kz(t){var e=Oz(t,"string");return Cl(e)==="symbol"?e:String(e)}function Oz(t,e){if(Cl(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Cl(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Az=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,a){return n.filter(function(s){return a.includes(s)})})},Pz=function(e){return e},Ez=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},tl=function(e,r){return Object.keys(r).reduce(function(n,a){return Ik(Ik({},n),{},nT({},a,e(a,r[a])))},{})},Mk=function(e,r,n){return e.map(function(a){return"".concat(Ez(a)," ").concat(r,"ms ").concat(n)}).join(",")};function Tz(t,e){return Mz(t)||Iz(t,e)||aT(t,e)||Cz()}function Cz(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Iz(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,c,u=[],d=!0,m=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(d=(n=s.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(p){m=!0,a=p}finally{try{if(!d&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(m)throw a}}return u}}function Mz(t){if(Array.isArray(t))return t}function Rz(t){return Lz(t)||Dz(t)||aT(t)||$z()}function $z(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aT(t,e){if(t){if(typeof t=="string")return m0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m0(t,e)}}function Dz(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Lz(t){if(Array.isArray(t))return m0(t)}function m0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var id=1e-4,iT=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},sT=function(e,r){return e.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},Rk=function(e,r){return function(n){var a=iT(e,r);return sT(a,n)}},Bz=function(e,r){return function(n){var a=iT(e,r),s=[].concat(Rz(a.map(function(c,u){return c*u}).slice(1)),[0]);return sT(s,n)}},$k=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var a=r[0],s=r[1],c=r[2],u=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,s=0,c=1,u=1;break;case"ease":a=.25,s=.1,c=.25,u=1;break;case"ease-in":a=.42,s=0,c=1,u=1;break;case"ease-out":a=.42,s=0,c=.58,u=1;break;case"ease-in-out":a=0,s=0,c=.58,u=1;break;default:{var d=r[0].split("(");if(d[0]==="cubic-bezier"&&d[1].split(")")[0].split(",").length===4){var m=d[1].split(")")[0].split(",").map(function(b){return parseFloat(b)}),p=Tz(m,4);a=p[0],s=p[1],c=p[2],u=p[3]}}}var h=Rk(a,c),y=Rk(s,u),x=Bz(a,c),j=function(k){return k>1?1:k<0?0:k},w=function(k){for(var S=k>1?1:k,O=S,P=0;P<8;++P){var N=h(O)-S,A=x(O);if(Math.abs(N-S)<id||A<id)return y(O);O=j(O-N/A)}return y(O)};return w.isStepper=!1,w},Fz=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,a=e.damping,s=a===void 0?8:a,c=e.dt,u=c===void 0?17:c,d=function(p,h,y){var x=-(p-h)*n,j=y*s,w=y+(x-j)*u/1e3,b=y*u/1e3+p;return Math.abs(b-h)<id&&Math.abs(w)<id?[h,0]:[b,w]};return d.isStepper=!0,d.dt=u,d},zz=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return $k(a);case"spring":return Fz();default:if(a.split("(")[0]==="cubic-bezier")return $k(a)}return typeof a=="function"?a:null};function Il(t){"@babel/helpers - typeof";return Il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Il(t)}function Dk(t){return Wz(t)||Uz(t)||oT(t)||qz()}function qz(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Uz(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Wz(t){if(Array.isArray(t))return p0(t)}function Lk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function zt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Lk(Object(r),!0).forEach(function(n){h0(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Lk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function h0(t,e,r){return e=Hz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Hz(t){var e=Gz(t,"string");return Il(e)==="symbol"?e:String(e)}function Gz(t,e){if(Il(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Il(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vz(t,e){return Xz(t)||Yz(t,e)||oT(t,e)||Kz()}function Kz(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oT(t,e){if(t){if(typeof t=="string")return p0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p0(t,e)}}function p0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Yz(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,c,u=[],d=!0,m=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(d=(n=s.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(p){m=!0,a=p}finally{try{if(!d&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(m)throw a}}return u}}function Xz(t){if(Array.isArray(t))return t}var sd=function(e,r,n){return e+(r-e)*n},g0=function(e){var r=e.from,n=e.to;return r!==n},Qz=function t(e,r,n){var a=tl(function(s,c){if(g0(c)){var u=e(c.from,c.to,c.velocity),d=Vz(u,2),m=d[0],p=d[1];return zt(zt({},c),{},{from:m,velocity:p})}return c},r);return n<1?tl(function(s,c){return g0(c)?zt(zt({},c),{},{velocity:sd(c.velocity,a[s].velocity,n),from:sd(c.from,a[s].from,n)}):c},r):t(e,a,n-1)};const Zz=(function(t,e,r,n,a){var s=Az(t,e),c=s.reduce(function(b,k){return zt(zt({},b),{},h0({},k,[t[k],e[k]]))},{}),u=s.reduce(function(b,k){return zt(zt({},b),{},h0({},k,{from:t[k],velocity:0,to:e[k]}))},{}),d=-1,m,p,h=function(){return null},y=function(){return tl(function(k,S){return S.from},u)},x=function(){return!Object.values(u).filter(g0).length},j=function(k){m||(m=k);var S=k-m,O=S/r.dt;u=Qz(r,u,O),a(zt(zt(zt({},t),e),y())),m=k,x()||(d=requestAnimationFrame(h))},w=function(k){p||(p=k);var S=(k-p)/n,O=tl(function(N,A){return sd.apply(void 0,Dk(A).concat([r(S)]))},c);if(a(zt(zt(zt({},t),e),O)),S<1)d=requestAnimationFrame(h);else{var P=tl(function(N,A){return sd.apply(void 0,Dk(A).concat([r(1)]))},c);a(zt(zt(zt({},t),e),P))}};return h=r.isStepper?j:w,function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(d)}}});function xs(t){"@babel/helpers - typeof";return xs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xs(t)}var Jz=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function e7(t,e){if(t==null)return{};var r=t7(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function t7(t,e){if(t==null)return{};var r={},n=Object.keys(t),a,s;for(s=0;s<n.length;s++)a=n[s],!(e.indexOf(a)>=0)&&(r[a]=t[a]);return r}function Gy(t){return i7(t)||a7(t)||n7(t)||r7()}function r7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function n7(t,e){if(t){if(typeof t=="string")return y0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y0(t,e)}}function a7(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function i7(t){if(Array.isArray(t))return y0(t)}function y0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Bk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function en(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Bk(Object(r),!0).forEach(function(n){Xo(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Bk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Xo(t,e,r){return e=lT(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function s7(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o7(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,lT(n.key),n)}}function l7(t,e,r){return e&&o7(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function lT(t){var e=c7(t,"string");return xs(e)==="symbol"?e:String(e)}function c7(t,e){if(xs(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(xs(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function u7(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&v0(t,e)}function v0(t,e){return v0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},v0(t,e)}function d7(t){var e=f7();return function(){var n=od(t),a;if(e){var s=od(this).constructor;a=Reflect.construct(n,arguments,s)}else a=n.apply(this,arguments);return x0(this,a)}}function x0(t,e){if(e&&(xs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return b0(t)}function b0(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f7(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function od(t){return od=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},od(t)}var Hr=(function(t){u7(r,t);var e=d7(r);function r(n,a){var s;s7(this,r),s=e.call(this,n,a);var c=s.props,u=c.isActive,d=c.attributeName,m=c.from,p=c.to,h=c.steps,y=c.children,x=c.duration;if(s.handleStyleChange=s.handleStyleChange.bind(b0(s)),s.changeStyle=s.changeStyle.bind(b0(s)),!u||x<=0)return s.state={style:{}},typeof y=="function"&&(s.state={style:p}),x0(s);if(h&&h.length)s.state={style:h[0].style};else if(m){if(typeof y=="function")return s.state={style:m},x0(s);s.state={style:d?Xo({},d,m):m}}else s.state={style:{}};return s}return l7(r,[{key:"componentDidMount",value:function(){var a=this.props,s=a.isActive,c=a.canBegin;this.mounted=!0,!(!s||!c)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var s=this.props,c=s.isActive,u=s.canBegin,d=s.attributeName,m=s.shouldReAnimate,p=s.to,h=s.from,y=this.state.style;if(u){if(!c){var x={style:d?Xo({},d,p):p};this.state&&y&&(d&&y[d]!==p||!d&&y!==p)&&this.setState(x);return}if(!(vz(a.to,p)&&a.canBegin&&a.isActive)){var j=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var w=j||m?h:a.to;if(this.state&&y){var b={style:d?Xo({},d,w):w};(d&&y[d]!==w||!d&&y!==w)&&this.setState(b)}this.runAnimation(en(en({},this.props),{},{from:w,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var s=this,c=a.from,u=a.to,d=a.duration,m=a.easing,p=a.begin,h=a.onAnimationEnd,y=a.onAnimationStart,x=Zz(c,u,zz(m),d,this.changeStyle),j=function(){s.stopJSAnimation=x()};this.manager.start([y,p,j,d,h])}},{key:"runStepAnimation",value:function(a){var s=this,c=a.steps,u=a.begin,d=a.onAnimationStart,m=c[0],p=m.style,h=m.duration,y=h===void 0?0:h,x=function(w,b,k){if(k===0)return w;var S=b.duration,O=b.easing,P=O===void 0?"ease":O,N=b.style,A=b.properties,T=b.onAnimationEnd,D=k>0?c[k-1]:b,C=A||Object.keys(N);if(typeof P=="function"||P==="spring")return[].concat(Gy(w),[s.runJSAnimation.bind(s,{from:D.style,to:N,duration:S,easing:P}),S]);var F=Mk(C,S,P),I=en(en(en({},D.style),N),{},{transition:F});return[].concat(Gy(w),[I,S,T]).filter(Pz)};return this.manager.start([d].concat(Gy(c.reduce(x,[p,Math.max(y,u)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=Nz());var s=a.begin,c=a.duration,u=a.attributeName,d=a.to,m=a.easing,p=a.onAnimationStart,h=a.onAnimationEnd,y=a.steps,x=a.children,j=this.manager;if(this.unSubscribe=j.subscribe(this.handleStyleChange),typeof m=="function"||typeof x=="function"||m==="spring"){this.runJSAnimation(a);return}if(y.length>1){this.runStepAnimation(a);return}var w=u?Xo({},u,d):d,b=Mk(Object.keys(w),c,m);j.start([p,s,en(en({},w),{},{transition:b}),c,h])}},{key:"render",value:function(){var a=this.props,s=a.children;a.begin;var c=a.duration;a.attributeName,a.easing;var u=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var d=e7(a,Jz),m=R.Children.count(s),p=this.state.style;if(typeof s=="function")return s(p);if(!u||m===0||c<=0)return s;var h=function(x){var j=x.props,w=j.style,b=w===void 0?{}:w,k=j.className,S=R.cloneElement(x,en(en({},d),{},{style:en(en({},b),p),className:k}));return S};return m===1?h(R.Children.only(s)):U.createElement("div",null,R.Children.map(s,function(y){return h(y)}))}}]),r})(R.PureComponent);Hr.displayName="Animate";Hr.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Hr.propTypes={from:Ue.oneOfType([Ue.object,Ue.string]),to:Ue.oneOfType([Ue.object,Ue.string]),attributeName:Ue.string,duration:Ue.number,begin:Ue.number,easing:Ue.oneOfType([Ue.string,Ue.func]),steps:Ue.arrayOf(Ue.shape({duration:Ue.number.isRequired,style:Ue.object.isRequired,easing:Ue.oneOfType([Ue.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Ue.func]),properties:Ue.arrayOf("string"),onAnimationEnd:Ue.func})),children:Ue.oneOfType([Ue.node,Ue.func]),isActive:Ue.bool,canBegin:Ue.bool,onAnimationEnd:Ue.func,shouldReAnimate:Ue.bool,onAnimationStart:Ue.func,onAnimationReStart:Ue.func};function Ml(t){"@babel/helpers - typeof";return Ml=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ml(t)}function ld(){return ld=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ld.apply(this,arguments)}function m7(t,e){return y7(t)||g7(t,e)||p7(t,e)||h7()}function h7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function p7(t,e){if(t){if(typeof t=="string")return Fk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Fk(t,e)}}function Fk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function g7(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,c,u=[],d=!0,m=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(d=(n=s.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(p){m=!0,a=p}finally{try{if(!d&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(m)throw a}}return u}}function y7(t){if(Array.isArray(t))return t}function zk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function qk(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zk(Object(r),!0).forEach(function(n){v7(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function v7(t,e,r){return e=x7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function x7(t){var e=b7(t,"string");return Ml(e)=="symbol"?e:e+""}function b7(t,e){if(Ml(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ml(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Uk=function(e,r,n,a,s){var c=Math.min(Math.abs(n)/2,Math.abs(a)/2),u=a>=0?1:-1,d=n>=0?1:-1,m=a>=0&&n>=0||a<0&&n<0?1:0,p;if(c>0&&s instanceof Array){for(var h=[0,0,0,0],y=0,x=4;y<x;y++)h[y]=s[y]>c?c:s[y];p="M".concat(e,",").concat(r+u*h[0]),h[0]>0&&(p+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(m,",").concat(e+d*h[0],",").concat(r)),p+="L ".concat(e+n-d*h[1],",").concat(r),h[1]>0&&(p+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(m,`,
        `).concat(e+n,",").concat(r+u*h[1])),p+="L ".concat(e+n,",").concat(r+a-u*h[2]),h[2]>0&&(p+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(m,`,
        `).concat(e+n-d*h[2],",").concat(r+a)),p+="L ".concat(e+d*h[3],",").concat(r+a),h[3]>0&&(p+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(m,`,
        `).concat(e,",").concat(r+a-u*h[3])),p+="Z"}else if(c>0&&s===+s&&s>0){var j=Math.min(c,s);p="M ".concat(e,",").concat(r+u*j,`
            A `).concat(j,",").concat(j,",0,0,").concat(m,",").concat(e+d*j,",").concat(r,`
            L `).concat(e+n-d*j,",").concat(r,`
            A `).concat(j,",").concat(j,",0,0,").concat(m,",").concat(e+n,",").concat(r+u*j,`
            L `).concat(e+n,",").concat(r+a-u*j,`
            A `).concat(j,",").concat(j,",0,0,").concat(m,",").concat(e+n-d*j,",").concat(r+a,`
            L `).concat(e+d*j,",").concat(r+a,`
            A `).concat(j,",").concat(j,",0,0,").concat(m,",").concat(e,",").concat(r+a-u*j," Z")}else p="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return p},w7=function(e,r){if(!e||!r)return!1;var n=e.x,a=e.y,s=r.x,c=r.y,u=r.width,d=r.height;if(Math.abs(u)>0&&Math.abs(d)>0){var m=Math.min(s,s+u),p=Math.max(s,s+u),h=Math.min(c,c+d),y=Math.max(c,c+d);return n>=m&&n<=p&&a>=h&&a<=y}return!1},j7={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Kx=function(e){var r=qk(qk({},j7),e),n=R.useRef(),a=R.useState(-1),s=m7(a,2),c=s[0],u=s[1];R.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var P=n.current.getTotalLength();P&&u(P)}catch{}},[]);var d=r.x,m=r.y,p=r.width,h=r.height,y=r.radius,x=r.className,j=r.animationEasing,w=r.animationDuration,b=r.animationBegin,k=r.isAnimationActive,S=r.isUpdateAnimationActive;if(d!==+d||m!==+m||p!==+p||h!==+h||p===0||h===0)return null;var O=Me("recharts-rectangle",x);return S?U.createElement(Hr,{canBegin:c>0,from:{width:p,height:h,x:d,y:m},to:{width:p,height:h,x:d,y:m},duration:w,animationEasing:j,isActive:S},function(P){var N=P.width,A=P.height,T=P.x,D=P.y;return U.createElement(Hr,{canBegin:c>0,from:"0px ".concat(c===-1?1:c,"px"),to:"".concat(c,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:w,isActive:k,easing:j},U.createElement("path",ld({},we(r,!0),{className:O,d:Uk(T,D,N,A,y),ref:n})))}):U.createElement("path",ld({},we(r,!0),{className:O,d:Uk(d,m,p,h,y)}))},S7=["points","className","baseLinePoints","connectNulls"];function Qi(){return Qi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Qi.apply(this,arguments)}function _7(t,e){if(t==null)return{};var r=N7(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function N7(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Wk(t){return P7(t)||A7(t)||O7(t)||k7()}function k7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O7(t,e){if(t){if(typeof t=="string")return w0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return w0(t,e)}}function A7(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function P7(t){if(Array.isArray(t))return w0(t)}function w0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Hk=function(e){return e&&e.x===+e.x&&e.y===+e.y},E7=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){Hk(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),Hk(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},rl=function(e,r){var n=E7(e);r&&(n=[n.reduce(function(s,c){return[].concat(Wk(s),Wk(c))},[])]);var a=n.map(function(s){return s.reduce(function(c,u,d){return"".concat(c).concat(d===0?"M":"L").concat(u.x,",").concat(u.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},T7=function(e,r,n){var a=rl(e,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(rl(r.reverse(),n).slice(1))},C7=function(e){var r=e.points,n=e.className,a=e.baseLinePoints,s=e.connectNulls,c=_7(e,S7);if(!r||!r.length)return null;var u=Me("recharts-polygon",n);if(a&&a.length){var d=c.stroke&&c.stroke!=="none",m=T7(r,a,s);return U.createElement("g",{className:u},U.createElement("path",Qi({},we(c,!0),{fill:m.slice(-1)==="Z"?c.fill:"none",stroke:"none",d:m})),d?U.createElement("path",Qi({},we(c,!0),{fill:"none",d:rl(r,s)})):null,d?U.createElement("path",Qi({},we(c,!0),{fill:"none",d:rl(a,s)})):null)}var p=rl(r,s);return U.createElement("path",Qi({},we(c,!0),{fill:p.slice(-1)==="Z"?c.fill:"none",className:u,d:p}))};function j0(){return j0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},j0.apply(this,arguments)}var Ql=function(e){var r=e.cx,n=e.cy,a=e.r,s=e.className,c=Me("recharts-dot",s);return r===+r&&n===+n&&a===+a?R.createElement("circle",j0({},we(e,!1),Cu(e),{className:c,cx:r,cy:n,r:a})):null};function Rl(t){"@babel/helpers - typeof";return Rl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rl(t)}var I7=["x","y","top","left","width","height","className"];function S0(){return S0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},S0.apply(this,arguments)}function Gk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function M7(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Gk(Object(r),!0).forEach(function(n){R7(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Gk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function R7(t,e,r){return e=$7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $7(t){var e=D7(t,"string");return Rl(e)=="symbol"?e:e+""}function D7(t,e){if(Rl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Rl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function L7(t,e){if(t==null)return{};var r=B7(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function B7(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var F7=function(e,r,n,a,s,c){return"M".concat(e,",").concat(s,"v").concat(a,"M").concat(c,",").concat(r,"h").concat(n)},z7=function(e){var r=e.x,n=r===void 0?0:r,a=e.y,s=a===void 0?0:a,c=e.top,u=c===void 0?0:c,d=e.left,m=d===void 0?0:d,p=e.width,h=p===void 0?0:p,y=e.height,x=y===void 0?0:y,j=e.className,w=L7(e,I7),b=M7({x:n,y:s,top:u,left:m,width:h,height:x},w);return!ue(n)||!ue(s)||!ue(h)||!ue(x)||!ue(u)||!ue(m)?null:U.createElement("path",S0({},we(b,!0),{className:Me("recharts-cross",j),d:F7(n,s,h,x,u,m)}))},Vy,Vk;function q7(){if(Vk)return Vy;Vk=1;var t=ef(),e=SE(),r=_n();function n(a,s){return a&&a.length?t(a,r(s,2),e):void 0}return Vy=n,Vy}var U7=q7();const W7=He(U7);var Ky,Kk;function H7(){if(Kk)return Ky;Kk=1;var t=ef(),e=_n(),r=_E();function n(a,s){return a&&a.length?t(a,e(s,2),r):void 0}return Ky=n,Ky}var G7=H7();const V7=He(G7);var K7=["cx","cy","angle","ticks","axisLine"],Y7=["ticks","tick","angle","tickFormatter","stroke"];function bs(t){"@babel/helpers - typeof";return bs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bs(t)}function nl(){return nl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},nl.apply(this,arguments)}function Yk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Va(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Yk(Object(r),!0).forEach(function(n){af(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Yk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Xk(t,e){if(t==null)return{};var r=X7(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function X7(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Q7(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qk(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,uT(n.key),n)}}function Z7(t,e,r){return e&&Qk(t.prototype,e),r&&Qk(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function J7(t,e,r){return e=cd(e),eq(t,cT()?Reflect.construct(e,r||[],cd(t).constructor):e.apply(t,r))}function eq(t,e){if(e&&(bs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tq(t)}function tq(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cT(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cT=function(){return!!t})()}function cd(t){return cd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},cd(t)}function rq(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_0(t,e)}function _0(t,e){return _0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},_0(t,e)}function af(t,e,r){return e=uT(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uT(t){var e=nq(t,"string");return bs(e)=="symbol"?e:e+""}function nq(t,e){if(bs(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(bs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var sf=(function(t){function e(){return Q7(this,e),J7(this,e,arguments)}return rq(e,t),Z7(e,[{key:"getTickValueCoord",value:function(n){var a=n.coordinate,s=this.props,c=s.angle,u=s.cx,d=s.cy;return Ze(u,d,a,c)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,a;switch(n){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var n=this.props,a=n.cx,s=n.cy,c=n.angle,u=n.ticks,d=W7(u,function(p){return p.coordinate||0}),m=V7(u,function(p){return p.coordinate||0});return{cx:a,cy:s,startAngle:c,endAngle:c,innerRadius:m.coordinate||0,outerRadius:d.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,s=n.cy,c=n.angle,u=n.ticks,d=n.axisLine,m=Xk(n,K7),p=u.reduce(function(j,w){return[Math.min(j[0],w.coordinate),Math.max(j[1],w.coordinate)]},[1/0,-1/0]),h=Ze(a,s,p[0],c),y=Ze(a,s,p[1],c),x=Va(Va(Va({},we(m,!1)),{},{fill:"none"},we(d,!1)),{},{x1:h.x,y1:h.y,x2:y.x,y2:y.y});return U.createElement("line",nl({className:"recharts-polar-radius-axis-line"},x))}},{key:"renderTicks",value:function(){var n=this,a=this.props,s=a.ticks,c=a.tick,u=a.angle,d=a.tickFormatter,m=a.stroke,p=Xk(a,Y7),h=this.getTickTextAnchor(),y=we(p,!1),x=we(c,!1),j=s.map(function(w,b){var k=n.getTickValueCoord(w),S=Va(Va(Va(Va({textAnchor:h,transform:"rotate(".concat(90-u,", ").concat(k.x,", ").concat(k.y,")")},y),{},{stroke:"none",fill:m},x),{},{index:b},k),{},{payload:w});return U.createElement(Re,nl({className:Me("recharts-polar-radius-axis-tick",ZE(c)),key:"tick-".concat(w.coordinate)},_a(n.props,w,b)),e.renderTickItem(c,S,d?d(w.value,b):w.value))});return U.createElement(Re,{className:"recharts-polar-radius-axis-ticks"},j)}},{key:"render",value:function(){var n=this.props,a=n.ticks,s=n.axisLine,c=n.tick;return!a||!a.length?null:U.createElement(Re,{className:Me("recharts-polar-radius-axis",this.props.className)},s&&this.renderAxisLine(),c&&this.renderTicks(),Dt.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,a,s){var c;return U.isValidElement(n)?c=U.cloneElement(n,a):Ae(n)?c=n(a):c=U.createElement(li,nl({},a,{className:"recharts-polar-radius-axis-tick-value"}),s),c}}])})(R.PureComponent);af(sf,"displayName","PolarRadiusAxis");af(sf,"axisType","radiusAxis");af(sf,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function ws(t){"@babel/helpers - typeof";return ws=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ws(t)}function Qa(){return Qa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Qa.apply(this,arguments)}function Zk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Ka(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Zk(Object(r),!0).forEach(function(n){of(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Zk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function aq(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Jk(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,fT(n.key),n)}}function iq(t,e,r){return e&&Jk(t.prototype,e),r&&Jk(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function sq(t,e,r){return e=ud(e),oq(t,dT()?Reflect.construct(e,r||[],ud(t).constructor):e.apply(t,r))}function oq(t,e){if(e&&(ws(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lq(t)}function lq(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dT(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dT=function(){return!!t})()}function ud(t){return ud=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ud(t)}function cq(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&N0(t,e)}function N0(t,e){return N0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},N0(t,e)}function of(t,e,r){return e=fT(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fT(t){var e=uq(t,"string");return ws(e)=="symbol"?e:e+""}function uq(t,e){if(ws(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ws(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var dq=Math.PI/180,eO=1e-5,lf=(function(t){function e(){return aq(this,e),sq(this,e,arguments)}return cq(e,t),iq(e,[{key:"getTickLineCoord",value:function(n){var a=this.props,s=a.cx,c=a.cy,u=a.radius,d=a.orientation,m=a.tickSize,p=m||8,h=Ze(s,c,u,n.coordinate),y=Ze(s,c,u+(d==="inner"?-1:1)*p,n.coordinate);return{x1:h.x,y1:h.y,x2:y.x,y2:y.y}}},{key:"getTickTextAnchor",value:function(n){var a=this.props.orientation,s=Math.cos(-n.coordinate*dq),c;return s>eO?c=a==="outer"?"start":"end":s<-eO?c=a==="outer"?"end":"start":c="middle",c}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,s=n.cy,c=n.radius,u=n.axisLine,d=n.axisLineType,m=Ka(Ka({},we(this.props,!1)),{},{fill:"none"},we(u,!1));if(d==="circle")return U.createElement(Ql,Qa({className:"recharts-polar-angle-axis-line"},m,{cx:a,cy:s,r:c}));var p=this.props.ticks,h=p.map(function(y){return Ze(a,s,c,y.coordinate)});return U.createElement(C7,Qa({className:"recharts-polar-angle-axis-line"},m,{points:h}))}},{key:"renderTicks",value:function(){var n=this,a=this.props,s=a.ticks,c=a.tick,u=a.tickLine,d=a.tickFormatter,m=a.stroke,p=we(this.props,!1),h=we(c,!1),y=Ka(Ka({},p),{},{fill:"none"},we(u,!1)),x=s.map(function(j,w){var b=n.getTickLineCoord(j),k=n.getTickTextAnchor(j),S=Ka(Ka(Ka({textAnchor:k},p),{},{stroke:"none",fill:m},h),{},{index:w,payload:j,x:b.x2,y:b.y2});return U.createElement(Re,Qa({className:Me("recharts-polar-angle-axis-tick",ZE(c)),key:"tick-".concat(j.coordinate)},_a(n.props,j,w)),u&&U.createElement("line",Qa({className:"recharts-polar-angle-axis-tick-line"},y,b)),c&&e.renderTickItem(c,S,d?d(j.value,w):j.value))});return U.createElement(Re,{className:"recharts-polar-angle-axis-ticks"},x)}},{key:"render",value:function(){var n=this.props,a=n.ticks,s=n.radius,c=n.axisLine;return s<=0||!a||!a.length?null:U.createElement(Re,{className:Me("recharts-polar-angle-axis",this.props.className)},c&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,a,s){var c;return U.isValidElement(n)?c=U.cloneElement(n,a):Ae(n)?c=n(a):c=U.createElement(li,Qa({},a,{className:"recharts-polar-angle-axis-tick-value"}),s),c}}])})(R.PureComponent);of(lf,"displayName","PolarAngleAxis");of(lf,"axisType","angleAxis");of(lf,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Yy,tO;function fq(){if(tO)return Yy;tO=1;var t=jP(),e=t(Object.getPrototypeOf,Object);return Yy=e,Yy}var Xy,rO;function mq(){if(rO)return Xy;rO=1;var t=Hn(),e=fq(),r=Gn(),n="[object Object]",a=Function.prototype,s=Object.prototype,c=a.toString,u=s.hasOwnProperty,d=c.call(Object);function m(p){if(!r(p)||t(p)!=n)return!1;var h=e(p);if(h===null)return!0;var y=u.call(h,"constructor")&&h.constructor;return typeof y=="function"&&y instanceof y&&c.call(y)==d}return Xy=m,Xy}var hq=mq();const pq=He(hq);var Qy,nO;function gq(){if(nO)return Qy;nO=1;var t=Hn(),e=Gn(),r="[object Boolean]";function n(a){return a===!0||a===!1||e(a)&&t(a)==r}return Qy=n,Qy}var yq=gq();const vq=He(yq);function $l(t){"@babel/helpers - typeof";return $l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$l(t)}function dd(){return dd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},dd.apply(this,arguments)}function xq(t,e){return Sq(t)||jq(t,e)||wq(t,e)||bq()}function bq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wq(t,e){if(t){if(typeof t=="string")return aO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return aO(t,e)}}function aO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function jq(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,c,u=[],d=!0,m=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(d=(n=s.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(p){m=!0,a=p}finally{try{if(!d&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(m)throw a}}return u}}function Sq(t){if(Array.isArray(t))return t}function iO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function sO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?iO(Object(r),!0).forEach(function(n){_q(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _q(t,e,r){return e=Nq(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Nq(t){var e=kq(t,"string");return $l(e)=="symbol"?e:e+""}function kq(t,e){if($l(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($l(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var oO=function(e,r,n,a,s){var c=n-a,u;return u="M ".concat(e,",").concat(r),u+="L ".concat(e+n,",").concat(r),u+="L ".concat(e+n-c/2,",").concat(r+s),u+="L ".concat(e+n-c/2-a,",").concat(r+s),u+="L ".concat(e,",").concat(r," Z"),u},Oq={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Aq=function(e){var r=sO(sO({},Oq),e),n=R.useRef(),a=R.useState(-1),s=xq(a,2),c=s[0],u=s[1];R.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var O=n.current.getTotalLength();O&&u(O)}catch{}},[]);var d=r.x,m=r.y,p=r.upperWidth,h=r.lowerWidth,y=r.height,x=r.className,j=r.animationEasing,w=r.animationDuration,b=r.animationBegin,k=r.isUpdateAnimationActive;if(d!==+d||m!==+m||p!==+p||h!==+h||y!==+y||p===0&&h===0||y===0)return null;var S=Me("recharts-trapezoid",x);return k?U.createElement(Hr,{canBegin:c>0,from:{upperWidth:0,lowerWidth:0,height:y,x:d,y:m},to:{upperWidth:p,lowerWidth:h,height:y,x:d,y:m},duration:w,animationEasing:j,isActive:k},function(O){var P=O.upperWidth,N=O.lowerWidth,A=O.height,T=O.x,D=O.y;return U.createElement(Hr,{canBegin:c>0,from:"0px ".concat(c===-1?1:c,"px"),to:"".concat(c,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:w,easing:j},U.createElement("path",dd({},we(r,!0),{className:S,d:oO(T,D,P,N,A),ref:n})))}):U.createElement("g",null,U.createElement("path",dd({},we(r,!0),{className:S,d:oO(d,m,p,h,y)})))},Pq=["option","shapeType","propTransformer","activeClassName","isActive"];function Dl(t){"@babel/helpers - typeof";return Dl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dl(t)}function Eq(t,e){if(t==null)return{};var r=Tq(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Tq(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function lO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function fd(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lO(Object(r),!0).forEach(function(n){Cq(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Cq(t,e,r){return e=Iq(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Iq(t){var e=Mq(t,"string");return Dl(e)=="symbol"?e:e+""}function Mq(t,e){if(Dl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Dl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rq(t,e){return fd(fd({},e),t)}function $q(t,e){return t==="symbols"}function cO(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return U.createElement(Kx,r);case"trapezoid":return U.createElement(Aq,r);case"sector":return U.createElement(tT,r);case"symbols":if($q(e))return U.createElement(Wd,r);break;default:return null}}function Dq(t){return R.isValidElement(t)?t.props:t}function md(t){var e=t.option,r=t.shapeType,n=t.propTransformer,a=n===void 0?Rq:n,s=t.activeClassName,c=s===void 0?"recharts-active-shape":s,u=t.isActive,d=Eq(t,Pq),m;if(R.isValidElement(e))m=R.cloneElement(e,fd(fd({},d),Dq(e)));else if(Ae(e))m=e(d);else if(pq(e)&&!vq(e)){var p=a(e,d);m=U.createElement(cO,{shapeType:r,elementProps:p})}else{var h=d;m=U.createElement(cO,{shapeType:r,elementProps:h})}return u?U.createElement(Re,{className:c},m):m}function cf(t,e){return e!=null&&"trapezoids"in t.props}function uf(t,e){return e!=null&&"sectors"in t.props}function Ll(t,e){return e!=null&&"points"in t.props}function Lq(t,e){var r,n,a=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,s=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return a&&s}function Bq(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function Fq(t,e){var r=t.x===e.x,n=t.y===e.y,a=t.z===e.z;return r&&n&&a}function zq(t,e){var r;return cf(t,e)?r=Lq:uf(t,e)?r=Bq:Ll(t,e)&&(r=Fq),r}function qq(t,e){var r;return cf(t,e)?r="trapezoids":uf(t,e)?r="sectors":Ll(t,e)&&(r="points"),r}function Uq(t,e){if(cf(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(uf(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Ll(t,e)?e.payload:{}}function Wq(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,a=qq(r,e),s=Uq(r,e),c=n.filter(function(d,m){var p=Na(s,d),h=r.props[a].filter(function(j){var w=zq(r,e);return w(j,e)}),y=r.props[a].indexOf(h[h.length-1]),x=m===y;return p&&x}),u=n.indexOf(c[c.length-1]);return u}var Au;function js(t){"@babel/helpers - typeof";return js=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},js(t)}function Zi(){return Zi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Zi.apply(this,arguments)}function uO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Xe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uO(Object(r),!0).forEach(function(n){zr(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Hq(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dO(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,hT(n.key),n)}}function Gq(t,e,r){return e&&dO(t.prototype,e),r&&dO(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Vq(t,e,r){return e=hd(e),Kq(t,mT()?Reflect.construct(e,r||[],hd(t).constructor):e.apply(t,r))}function Kq(t,e){if(e&&(js(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yq(t)}function Yq(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mT(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mT=function(){return!!t})()}function hd(t){return hd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},hd(t)}function Xq(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&k0(t,e)}function k0(t,e){return k0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},k0(t,e)}function zr(t,e,r){return e=hT(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hT(t){var e=Qq(t,"string");return js(e)=="symbol"?e:e+""}function Qq(t,e){if(js(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(js(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var cn=(function(t){function e(r){var n;return Hq(this,e),n=Vq(this,e,[r]),zr(n,"pieRef",null),zr(n,"sectorRefs",[]),zr(n,"id",Pa("recharts-pie-")),zr(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Ae(a)&&a()}),zr(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Ae(a)&&a()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return Xq(e,t),Gq(e,[{key:"isActiveIndex",value:function(n){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(n)!==-1:n===a}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var s=this.props,c=s.label,u=s.labelLine,d=s.dataKey,m=s.valueKey,p=we(this.props,!1),h=we(c,!1),y=we(u,!1),x=c&&c.offsetRadius||20,j=n.map(function(w,b){var k=(w.startAngle+w.endAngle)/2,S=Ze(w.cx,w.cy,w.outerRadius+x,k),O=Xe(Xe(Xe(Xe({},p),w),{},{stroke:"none"},h),{},{index:b,textAnchor:e.getTextAnchor(S.x,w.cx)},S),P=Xe(Xe(Xe(Xe({},p),w),{},{fill:"none",stroke:w.fill},y),{},{index:b,points:[Ze(w.cx,w.cy,w.outerRadius,k),S]}),N=d;return Oe(d)&&Oe(m)?N="value":Oe(d)&&(N=m),U.createElement(Re,{key:"label-".concat(w.startAngle,"-").concat(w.endAngle,"-").concat(w.midAngle,"-").concat(b)},u&&e.renderLabelLineItem(u,P,"line"),e.renderLabelItem(c,O,rt(w,N)))});return U.createElement(Re,{className:"recharts-pie-labels"},j)}},{key:"renderSectorsStatically",value:function(n){var a=this,s=this.props,c=s.activeShape,u=s.blendStroke,d=s.inactiveShape;return n.map(function(m,p){if(m?.startAngle===0&&m?.endAngle===0&&n.length!==1)return null;var h=a.isActiveIndex(p),y=d&&a.hasActiveIndex()?d:null,x=h?c:y,j=Xe(Xe({},m),{},{stroke:u?m.fill:m.stroke,tabIndex:-1});return U.createElement(Re,Zi({ref:function(b){b&&!a.sectorRefs.includes(b)&&a.sectorRefs.push(b)},tabIndex:-1,className:"recharts-pie-sector"},_a(a.props,m,p),{key:"sector-".concat(m?.startAngle,"-").concat(m?.endAngle,"-").concat(m.midAngle,"-").concat(p)}),U.createElement(md,Zi({option:x,isActive:h,shapeType:"sector"},j)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,a=this.props,s=a.sectors,c=a.isAnimationActive,u=a.animationBegin,d=a.animationDuration,m=a.animationEasing,p=a.animationId,h=this.state,y=h.prevSectors,x=h.prevIsAnimationActive;return U.createElement(Hr,{begin:u,duration:d,isActive:c,easing:m,from:{t:0},to:{t:1},key:"pie-".concat(p,"-").concat(x),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(j){var w=j.t,b=[],k=s&&s[0],S=k.startAngle;return s.forEach(function(O,P){var N=y&&y[P],A=P>0?Nr(O,"paddingAngle",0):0;if(N){var T=ft(N.endAngle-N.startAngle,O.endAngle-O.startAngle),D=Xe(Xe({},O),{},{startAngle:S+A,endAngle:S+T(w)+A});b.push(D),S=D.endAngle}else{var C=O.endAngle,F=O.startAngle,I=ft(0,C-F),q=I(w),B=Xe(Xe({},O),{},{startAngle:S+A,endAngle:S+q+A});b.push(B),S=B.endAngle}}),U.createElement(Re,null,n.renderSectorsStatically(b))})}},{key:"attachKeyboardHandlers",value:function(n){var a=this;n.onkeydown=function(s){if(!s.altKey)switch(s.key){case"ArrowLeft":{var c=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[c].focus(),a.setState({sectorToFocus:c});break}case"ArrowRight":{var u=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[u].focus(),a.setState({sectorToFocus:u});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,a=n.sectors,s=n.isAnimationActive,c=this.state.prevSectors;return s&&a&&a.length&&(!c||!Na(c,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,a=this.props,s=a.hide,c=a.sectors,u=a.className,d=a.label,m=a.cx,p=a.cy,h=a.innerRadius,y=a.outerRadius,x=a.isAnimationActive,j=this.state.isAnimationFinished;if(s||!c||!c.length||!ue(m)||!ue(p)||!ue(h)||!ue(y))return null;var w=Me("recharts-pie",u);return U.createElement(Re,{tabIndex:this.props.rootTabIndex,className:w,ref:function(k){n.pieRef=k}},this.renderSectors(),d&&this.renderLabels(c),Dt.renderCallByParent(this.props,null,!1),(!x||j)&&on.renderCallByParent(this.props,c,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return a.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:n.sectors!==a.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,a){return n>a?"start":n<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,a,s){if(U.isValidElement(n))return U.cloneElement(n,a);if(Ae(n))return n(a);var c=Me("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return U.createElement(Sa,Zi({},a,{key:s,type:"linear",className:c}))}},{key:"renderLabelItem",value:function(n,a,s){if(U.isValidElement(n))return U.cloneElement(n,a);var c=s;if(Ae(n)&&(c=n(a),U.isValidElement(c)))return c;var u=Me("recharts-pie-label-text",typeof n!="boolean"&&!Ae(n)?n.className:"");return U.createElement(li,Zi({},a,{alignmentBaseline:"middle",className:u}),c)}}])})(R.PureComponent);Au=cn;zr(cn,"displayName","Pie");zr(cn,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Vn.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});zr(cn,"parseDeltaAngle",function(t,e){var r=tr(e-t),n=Math.min(Math.abs(e-t),360);return r*n});zr(cn,"getRealPieData",function(t){var e=t.data,r=t.children,n=we(t,!1),a=ir(r,pi);return e&&e.length?e.map(function(s,c){return Xe(Xe(Xe({payload:s},n),s),a&&a[c]&&a[c].props)}):a&&a.length?a.map(function(s){return Xe(Xe({},n),s.props)}):[]});zr(cn,"parseCoordinateOfPie",function(t,e){var r=e.top,n=e.left,a=e.width,s=e.height,c=QE(a,s),u=n+rr(t.cx,a,a/2),d=r+rr(t.cy,s,s/2),m=rr(t.innerRadius,c,0),p=rr(t.outerRadius,c,c*.8),h=t.maxRadius||Math.sqrt(a*a+s*s)/2;return{cx:u,cy:d,innerRadius:m,outerRadius:p,maxRadius:h}});zr(cn,"getComposedData",function(t){var e=t.item,r=t.offset,n=e.type.defaultProps!==void 0?Xe(Xe({},e.type.defaultProps),e.props):e.props,a=Au.getRealPieData(n);if(!a||!a.length)return null;var s=n.cornerRadius,c=n.startAngle,u=n.endAngle,d=n.paddingAngle,m=n.dataKey,p=n.nameKey,h=n.valueKey,y=n.tooltipType,x=Math.abs(n.minAngle),j=Au.parseCoordinateOfPie(n,r),w=Au.parseDeltaAngle(c,u),b=Math.abs(w),k=m;Oe(m)&&Oe(h)?(sn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),k="value"):Oe(m)&&(sn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),k=h);var S=a.filter(function(D){return rt(D,k,0)!==0}).length,O=(b>=360?S:S-1)*d,P=b-S*x-O,N=a.reduce(function(D,C){var F=rt(C,k,0);return D+(ue(F)?F:0)},0),A;if(N>0){var T;A=a.map(function(D,C){var F=rt(D,k,0),I=rt(D,p,C),q=(ue(F)?F:0)/N,B;C?B=T.endAngle+tr(w)*d*(F!==0?1:0):B=c;var V=B+tr(w)*((F!==0?x:0)+q*P),L=(B+V)/2,M=(j.innerRadius+j.outerRadius)/2,G=[{name:I,value:F,payload:D,dataKey:k,type:y}],$=Ze(j.cx,j.cy,M,L);return T=Xe(Xe(Xe({percent:q,cornerRadius:s,name:I,tooltipPayload:G,midAngle:L,middleRadius:M,tooltipPosition:$},D),j),{},{value:rt(D,k),startAngle:B,endAngle:V,payload:D,paddingAngle:tr(w)*d}),T})}return Xe(Xe({},j),{},{sectors:A,data:a})});var Zy,fO;function Zq(){if(fO)return Zy;fO=1;var t=Math.ceil,e=Math.max;function r(n,a,s,c){for(var u=-1,d=e(t((a-n)/(s||1)),0),m=Array(d);d--;)m[c?d:++u]=n,n+=s;return m}return Zy=r,Zy}var Jy,mO;function pT(){if(mO)return Jy;mO=1;var t=LP(),e=1/0,r=17976931348623157e292;function n(a){if(!a)return a===0?a:0;if(a=t(a),a===e||a===-e){var s=a<0?-1:1;return s*r}return a===a?a:0}return Jy=n,Jy}var ev,hO;function Jq(){if(hO)return ev;hO=1;var t=Zq(),e=Vd(),r=pT();function n(a){return function(s,c,u){return u&&typeof u!="number"&&e(s,c,u)&&(c=u=void 0),s=r(s),c===void 0?(c=s,s=0):c=r(c),u=u===void 0?s<c?1:-1:r(u),t(s,c,u,a)}}return ev=n,ev}var tv,pO;function eU(){if(pO)return tv;pO=1;var t=Jq(),e=t();return tv=e,tv}var tU=eU();const pd=He(tU);function Bl(t){"@babel/helpers - typeof";return Bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bl(t)}function gO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function yO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gO(Object(r),!0).forEach(function(n){gT(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gT(t,e,r){return e=rU(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rU(t){var e=nU(t,"string");return Bl(e)=="symbol"?e:e+""}function nU(t,e){if(Bl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var aU=["Webkit","Moz","O","ms"],iU=function(e,r){var n=e.replace(/(\w)/,function(s){return s.toUpperCase()}),a=aU.reduce(function(s,c){return yO(yO({},s),{},gT({},c+n,r))},{});return a[e]=r,a};function Ss(t){"@babel/helpers - typeof";return Ss=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ss(t)}function gd(){return gd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gd.apply(this,arguments)}function vO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function rv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vO(Object(r),!0).forEach(function(n){jr(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function sU(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xO(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,vT(n.key),n)}}function oU(t,e,r){return e&&xO(t.prototype,e),r&&xO(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function lU(t,e,r){return e=yd(e),cU(t,yT()?Reflect.construct(e,r||[],yd(t).constructor):e.apply(t,r))}function cU(t,e){if(e&&(Ss(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uU(t)}function uU(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yT(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yT=function(){return!!t})()}function yd(t){return yd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yd(t)}function dU(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&O0(t,e)}function O0(t,e){return O0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},O0(t,e)}function jr(t,e,r){return e=vT(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vT(t){var e=fU(t,"string");return Ss(e)=="symbol"?e:e+""}function fU(t,e){if(Ss(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ss(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var mU=function(e){var r=e.data,n=e.startIndex,a=e.endIndex,s=e.x,c=e.width,u=e.travellerWidth;if(!r||!r.length)return{};var d=r.length,m=Jo().domain(pd(0,d)).range([s,s+c-u]),p=m.domain().map(function(h){return m(h)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:m(n),endX:m(a),scale:m,scaleValues:p}},bO=function(e){return e.changedTouches&&!!e.changedTouches.length},_s=(function(t){function e(r){var n;return sU(this,e),n=lU(this,e,[r]),jr(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),jr(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),jr(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,s=a.endIndex,c=a.onDragEnd,u=a.startIndex;c?.({endIndex:s,startIndex:u})}),n.detachDragEndListener()}),jr(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),jr(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),jr(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),jr(n,"handleSlideDragStart",function(a){var s=bO(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return dU(e,t),oU(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,s=n.endX,c=this.state.scaleValues,u=this.props,d=u.gap,m=u.data,p=m.length-1,h=Math.min(a,s),y=Math.max(a,s),x=e.getIndexInRange(c,h),j=e.getIndexInRange(c,y);return{startIndex:x-x%d,endIndex:j===p?p:j-j%d}}},{key:"getTextOfTick",value:function(n){var a=this.props,s=a.data,c=a.tickFormatter,u=a.dataKey,d=rt(s[n],u,n);return Ae(c)?c(d,n):d}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,s=a.slideMoveStartX,c=a.startX,u=a.endX,d=this.props,m=d.x,p=d.width,h=d.travellerWidth,y=d.startIndex,x=d.endIndex,j=d.onChange,w=n.pageX-s;w>0?w=Math.min(w,m+p-h-u,m+p-h-c):w<0&&(w=Math.max(w,m-c,m-u));var b=this.getIndex({startX:c+w,endX:u+w});(b.startIndex!==y||b.endIndex!==x)&&j&&j(b),this.setState({startX:c+w,endX:u+w,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var s=bO(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,s=a.brushMoveStartX,c=a.movingTravellerId,u=a.endX,d=a.startX,m=this.state[c],p=this.props,h=p.x,y=p.width,x=p.travellerWidth,j=p.onChange,w=p.gap,b=p.data,k={startX:this.state.startX,endX:this.state.endX},S=n.pageX-s;S>0?S=Math.min(S,h+y-x-m):S<0&&(S=Math.max(S,h-m)),k[c]=m+S;var O=this.getIndex(k),P=O.startIndex,N=O.endIndex,A=function(){var D=b.length-1;return c==="startX"&&(u>d?P%w===0:N%w===0)||u<d&&N===D||c==="endX"&&(u>d?N%w===0:P%w===0)||u>d&&N===D};this.setState(jr(jr({},c,m+S),"brushMoveStartX",n.pageX),function(){j&&A()&&j(O)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var s=this,c=this.state,u=c.scaleValues,d=c.startX,m=c.endX,p=this.state[a],h=u.indexOf(p);if(h!==-1){var y=h+n;if(!(y===-1||y>=u.length)){var x=u[y];a==="startX"&&x>=m||a==="endX"&&x<=d||this.setState(jr({},a,x),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,s=n.y,c=n.width,u=n.height,d=n.fill,m=n.stroke;return U.createElement("rect",{stroke:m,fill:d,x:a,y:s,width:c,height:u})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,s=n.y,c=n.width,u=n.height,d=n.data,m=n.children,p=n.padding,h=R.Children.only(m);return h?U.cloneElement(h,{x:a,y:s,width:c,height:u,margin:p,compact:!0,data:d}):null}},{key:"renderTravellerLayer",value:function(n,a){var s,c,u=this,d=this.props,m=d.y,p=d.travellerWidth,h=d.height,y=d.traveller,x=d.ariaLabel,j=d.data,w=d.startIndex,b=d.endIndex,k=Math.max(n,this.props.x),S=rv(rv({},we(this.props,!1)),{},{x:k,y:m,width:p,height:h}),O=x||"Min value: ".concat((s=j[w])===null||s===void 0?void 0:s.name,", Max value: ").concat((c=j[b])===null||c===void 0?void 0:c.name);return U.createElement(Re,{tabIndex:0,role:"slider","aria-label":O,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(N){["ArrowLeft","ArrowRight"].includes(N.key)&&(N.preventDefault(),N.stopPropagation(),u.handleTravellerMoveKeyboard(N.key==="ArrowRight"?1:-1,a))},onFocus:function(){u.setState({isTravellerFocused:!0})},onBlur:function(){u.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(y,S))}},{key:"renderSlide",value:function(n,a){var s=this.props,c=s.y,u=s.height,d=s.stroke,m=s.travellerWidth,p=Math.min(n,a)+m,h=Math.max(Math.abs(a-n)-m,0);return U.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:d,fillOpacity:.2,x:p,y:c,width:h,height:u})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,s=n.endIndex,c=n.y,u=n.height,d=n.travellerWidth,m=n.stroke,p=this.state,h=p.startX,y=p.endX,x=5,j={pointerEvents:"none",fill:m};return U.createElement(Re,{className:"recharts-brush-texts"},U.createElement(li,gd({textAnchor:"end",verticalAnchor:"middle",x:Math.min(h,y)-x,y:c+u/2},j),this.getTextOfTick(a)),U.createElement(li,gd({textAnchor:"start",verticalAnchor:"middle",x:Math.max(h,y)+d+x,y:c+u/2},j),this.getTextOfTick(s)))}},{key:"render",value:function(){var n=this.props,a=n.data,s=n.className,c=n.children,u=n.x,d=n.y,m=n.width,p=n.height,h=n.alwaysShowText,y=this.state,x=y.startX,j=y.endX,w=y.isTextActive,b=y.isSlideMoving,k=y.isTravellerMoving,S=y.isTravellerFocused;if(!a||!a.length||!ue(u)||!ue(d)||!ue(m)||!ue(p)||m<=0||p<=0)return null;var O=Me("recharts-brush",s),P=U.Children.count(c)===1,N=iU("userSelect","none");return U.createElement(Re,{className:O,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:N},this.renderBackground(),P&&this.renderPanorama(),this.renderSlide(x,j),this.renderTravellerLayer(x,"startX"),this.renderTravellerLayer(j,"endX"),(w||b||k||S||h)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,s=n.y,c=n.width,u=n.height,d=n.stroke,m=Math.floor(s+u/2)-1;return U.createElement(U.Fragment,null,U.createElement("rect",{x:a,y:s,width:c,height:u,fill:d,stroke:"none"}),U.createElement("line",{x1:a+1,y1:m,x2:a+c-1,y2:m,fill:"none",stroke:"#fff"}),U.createElement("line",{x1:a+1,y1:m+2,x2:a+c-1,y2:m+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var s;return U.isValidElement(n)?s=U.cloneElement(n,a):Ae(n)?s=n(a):s=e.renderDefaultTraveller(a),s}},{key:"getDerivedStateFromProps",value:function(n,a){var s=n.data,c=n.width,u=n.x,d=n.travellerWidth,m=n.updateId,p=n.startIndex,h=n.endIndex;if(s!==a.prevData||m!==a.prevUpdateId)return rv({prevData:s,prevTravellerWidth:d,prevUpdateId:m,prevX:u,prevWidth:c},s&&s.length?mU({data:s,width:c,x:u,travellerWidth:d,startIndex:p,endIndex:h}):{scale:null,scaleValues:null});if(a.scale&&(c!==a.prevWidth||u!==a.prevX||d!==a.prevTravellerWidth)){a.scale.range([u,u+c-d]);var y=a.scale.domain().map(function(x){return a.scale(x)});return{prevData:s,prevTravellerWidth:d,prevUpdateId:m,prevX:u,prevWidth:c,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:y}}return null}},{key:"getIndexInRange",value:function(n,a){for(var s=n.length,c=0,u=s-1;u-c>1;){var d=Math.floor((c+u)/2);n[d]>a?u=d:c=d}return a>=n[u]?u:c}}])})(R.PureComponent);jr(_s,"displayName","Brush");jr(_s,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var nv,wO;function hU(){if(wO)return nv;wO=1;var t=bx();function e(r,n){var a;return t(r,function(s,c,u){return a=n(s,c,u),!a}),!!a}return nv=e,nv}var av,jO;function pU(){if(jO)return av;jO=1;var t=pP(),e=_n(),r=hU(),n=pr(),a=Vd();function s(c,u,d){var m=n(c)?t:r;return d&&a(c,u,d)&&(u=void 0),m(c,e(u,3))}return av=s,av}var gU=pU();const yU=He(gU);var wn=function(e,r){var n=e.alwaysShow,a=e.ifOverflow;return n&&(a="extendDomain"),a===r},iv,SO;function vU(){if(SO)return iv;SO=1;var t=IP();function e(r,n,a){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:a,writable:!0}):r[n]=a}return iv=e,iv}var sv,_O;function xU(){if(_O)return sv;_O=1;var t=vU(),e=TP(),r=_n();function n(a,s){var c={};return s=r(s,3),e(a,function(u,d,m){t(c,d,s(u,d,m))}),c}return sv=n,sv}var bU=xU();const wU=He(bU);var ov,NO;function jU(){if(NO)return ov;NO=1;function t(e,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(!r(e[n],n,e))return!1;return!0}return ov=t,ov}var lv,kO;function SU(){if(kO)return lv;kO=1;var t=bx();function e(r,n){var a=!0;return t(r,function(s,c,u){return a=!!n(s,c,u),a}),a}return lv=e,lv}var cv,OO;function _U(){if(OO)return cv;OO=1;var t=jU(),e=SU(),r=_n(),n=pr(),a=Vd();function s(c,u,d){var m=n(c)?t:e;return d&&a(c,u,d)&&(u=void 0),m(c,r(u,3))}return cv=s,cv}var NU=_U();const xT=He(NU);var kU=["x","y"];function Fl(t){"@babel/helpers - typeof";return Fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fl(t)}function A0(){return A0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},A0.apply(this,arguments)}function AO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Vo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?AO(Object(r),!0).forEach(function(n){OU(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):AO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function OU(t,e,r){return e=AU(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function AU(t){var e=PU(t,"string");return Fl(e)=="symbol"?e:e+""}function PU(t,e){if(Fl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Fl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function EU(t,e){if(t==null)return{};var r=TU(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function TU(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function CU(t,e){var r=t.x,n=t.y,a=EU(t,kU),s="".concat(r),c=parseInt(s,10),u="".concat(n),d=parseInt(u,10),m="".concat(e.height||a.height),p=parseInt(m,10),h="".concat(e.width||a.width),y=parseInt(h,10);return Vo(Vo(Vo(Vo(Vo({},e),a),c?{x:c}:{}),d?{y:d}:{}),{},{height:p,width:y,name:e.name,radius:e.radius})}function PO(t){return U.createElement(md,A0({shapeType:"rectangle",propTransformer:CU,activeClassName:"recharts-active-bar"},t))}var IU=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof e=="number")return e;var s=ue(n)||n3(n);return s?e(n,a):(s||ui(),r)}},MU=["value","background"],bT;function Ns(t){"@babel/helpers - typeof";return Ns=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ns(t)}function RU(t,e){if(t==null)return{};var r=$U(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function $U(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function vd(){return vd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},vd.apply(this,arguments)}function EO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function bt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?EO(Object(r),!0).forEach(function(n){xa(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):EO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function DU(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TO(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,jT(n.key),n)}}function LU(t,e,r){return e&&TO(t.prototype,e),r&&TO(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function BU(t,e,r){return e=xd(e),FU(t,wT()?Reflect.construct(e,r||[],xd(t).constructor):e.apply(t,r))}function FU(t,e){if(e&&(Ns(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zU(t)}function zU(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wT(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wT=function(){return!!t})()}function xd(t){return xd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xd(t)}function qU(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&P0(t,e)}function P0(t,e){return P0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},P0(t,e)}function xa(t,e,r){return e=jT(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jT(t){var e=UU(t,"string");return Ns(e)=="symbol"?e:e+""}function UU(t,e){if(Ns(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ns(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Wt=(function(t){function e(){var r;DU(this,e);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=BU(this,e,[].concat(a)),xa(r,"state",{isAnimationFinished:!1}),xa(r,"id",Pa("recharts-bar-")),xa(r,"handleAnimationEnd",function(){var c=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),c&&c()}),xa(r,"handleAnimationStart",function(){var c=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),c&&c()}),r}return qU(e,t),LU(e,[{key:"renderRectanglesStatically",value:function(n){var a=this,s=this.props,c=s.shape,u=s.dataKey,d=s.activeIndex,m=s.activeBar,p=we(this.props,!1);return n&&n.map(function(h,y){var x=y===d,j=x?m:c,w=bt(bt(bt({},p),h),{},{isActive:x,option:j,index:y,dataKey:u,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return U.createElement(Re,vd({className:"recharts-bar-rectangle"},_a(a.props,h,y),{key:"rectangle-".concat(h?.x,"-").concat(h?.y,"-").concat(h?.value,"-").concat(y)}),U.createElement(PO,w))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,s=a.data,c=a.layout,u=a.isAnimationActive,d=a.animationBegin,m=a.animationDuration,p=a.animationEasing,h=a.animationId,y=this.state.prevData;return U.createElement(Hr,{begin:d,duration:m,isActive:u,easing:p,from:{t:0},to:{t:1},key:"bar-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(x){var j=x.t,w=s.map(function(b,k){var S=y&&y[k];if(S){var O=ft(S.x,b.x),P=ft(S.y,b.y),N=ft(S.width,b.width),A=ft(S.height,b.height);return bt(bt({},b),{},{x:O(j),y:P(j),width:N(j),height:A(j)})}if(c==="horizontal"){var T=ft(0,b.height),D=T(j);return bt(bt({},b),{},{y:b.y+b.height-D,height:D})}var C=ft(0,b.width),F=C(j);return bt(bt({},b),{},{width:F})});return U.createElement(Re,null,n.renderRectanglesStatically(w))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,s=n.isAnimationActive,c=this.state.prevData;return s&&a&&a.length&&(!c||!Na(c,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,s=a.data,c=a.dataKey,u=a.activeIndex,d=we(this.props.background,!1);return s.map(function(m,p){m.value;var h=m.background,y=RU(m,MU);if(!h)return null;var x=bt(bt(bt(bt(bt({},y),{},{fill:"#eee"},h),d),_a(n.props,m,p)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:c,index:p,className:"recharts-bar-background-rectangle"});return U.createElement(PO,vd({key:"background-bar-".concat(p),option:n.props.background,isActive:p===u},x))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,c=s.data,u=s.xAxis,d=s.yAxis,m=s.layout,p=s.children,h=ir(p,Ks);if(!h)return null;var y=m==="vertical"?c[0].height/2:c[0].width/2,x=function(b,k){var S=Array.isArray(b.value)?b.value[1]:b.value;return{x:b.x,y:b.y,value:S,errorVal:rt(b,k)}},j={clipPath:n?"url(#clipPath-".concat(a,")"):null};return U.createElement(Re,j,h.map(function(w){return U.cloneElement(w,{key:"error-bar-".concat(a,"-").concat(w.props.dataKey),data:c,xAxis:u,yAxis:d,layout:m,offset:y,dataPointFormatter:x})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,s=n.data,c=n.className,u=n.xAxis,d=n.yAxis,m=n.left,p=n.top,h=n.width,y=n.height,x=n.isAnimationActive,j=n.background,w=n.id;if(a||!s||!s.length)return null;var b=this.state.isAnimationFinished,k=Me("recharts-bar",c),S=u&&u.allowDataOverflow,O=d&&d.allowDataOverflow,P=S||O,N=Oe(w)?this.id:w;return U.createElement(Re,{className:k},S||O?U.createElement("defs",null,U.createElement("clipPath",{id:"clipPath-".concat(N)},U.createElement("rect",{x:S?m:m-h/2,y:O?p:p-y/2,width:S?h:h*2,height:O?y:y*2}))):null,U.createElement(Re,{className:"recharts-bar-rectangles",clipPath:P?"url(#clipPath-".concat(N,")"):null},j?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(P,N),(!x||b)&&on.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])})(R.PureComponent);bT=Wt;xa(Wt,"displayName","Bar");xa(Wt,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Vn.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});xa(Wt,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,a=t.bandSize,s=t.xAxis,c=t.yAxis,u=t.xAxisTicks,d=t.yAxisTicks,m=t.stackedData,p=t.dataStartIndex,h=t.displayedData,y=t.offset,x=vB(n,r);if(!x)return null;var j=e.layout,w=r.type.defaultProps,b=w!==void 0?bt(bt({},w),r.props):r.props,k=b.dataKey,S=b.children,O=b.minPointSize,P=j==="horizontal"?c:s,N=m?P.scale.domain():null,A=NB({numericAxis:P}),T=ir(S,pi),D=h.map(function(C,F){var I,q,B,V,L,M;m?I=xB(m[p+F],N):(I=rt(C,k),Array.isArray(I)||(I=[A,I]));var G=IU(O,bT.defaultProps.minPointSize)(I[1],F);if(j==="horizontal"){var $,W=[c.scale(I[0]),c.scale(I[1])],Q=W[0],z=W[1];q=rk({axis:s,ticks:u,bandSize:a,offset:x.offset,entry:C,index:F}),B=($=z??Q)!==null&&$!==void 0?$:void 0,V=x.size;var Y=Q-z;if(L=Number.isNaN(Y)?0:Y,M={x:q,y:c.y,width:V,height:c.height},Math.abs(G)>0&&Math.abs(L)<Math.abs(G)){var ae=tr(L||G)*(Math.abs(G)-Math.abs(L));B-=ae,L+=ae}}else{var fe=[s.scale(I[0]),s.scale(I[1])],Se=fe[0],xe=fe[1];if(q=Se,B=rk({axis:c,ticks:d,bandSize:a,offset:x.offset,entry:C,index:F}),V=xe-Se,L=x.size,M={x:s.x,y:B,width:s.width,height:L},Math.abs(G)>0&&Math.abs(V)<Math.abs(G)){var Le=tr(V||G)*(Math.abs(G)-Math.abs(V));V+=Le}}return bt(bt(bt({},C),{},{x:q,y:B,width:V,height:L,value:m?I:I[1],payload:C,background:M},T&&T[F]&&T[F].props),{},{tooltipPayload:[YE(r,C)],tooltipPosition:{x:q+V/2,y:B+L/2}})});return bt({data:D,layout:j},y)});function zl(t){"@babel/helpers - typeof";return zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zl(t)}function WU(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function CO(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ST(n.key),n)}}function HU(t,e,r){return e&&CO(t.prototype,e),r&&CO(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function IO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function tn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?IO(Object(r),!0).forEach(function(n){df(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):IO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function df(t,e,r){return e=ST(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ST(t){var e=GU(t,"string");return zl(e)=="symbol"?e:e+""}function GU(t,e){if(zl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ff=function(e,r,n,a,s){var c=e.width,u=e.height,d=e.layout,m=e.children,p=Object.keys(r),h={left:n.left,leftMirror:n.left,right:c-n.right,rightMirror:c-n.right,top:n.top,topMirror:n.top,bottom:u-n.bottom,bottomMirror:u-n.bottom},y=!!Sr(m,Wt);return p.reduce(function(x,j){var w=r[j],b=w.orientation,k=w.domain,S=w.padding,O=S===void 0?{}:S,P=w.mirror,N=w.reversed,A="".concat(b).concat(P?"Mirror":""),T,D,C,F,I;if(w.type==="number"&&(w.padding==="gap"||w.padding==="no-gap")){var q=k[1]-k[0],B=1/0,V=w.categoricalDomain.sort(o3);if(V.forEach(function(fe,Se){Se>0&&(B=Math.min((fe||0)-(V[Se-1]||0),B))}),Number.isFinite(B)){var L=B/q,M=w.layout==="vertical"?n.height:n.width;if(w.padding==="gap"&&(T=L*M/2),w.padding==="no-gap"){var G=rr(e.barCategoryGap,L*M),$=L*M/2;T=$-G-($-G)/M*G}}}a==="xAxis"?D=[n.left+(O.left||0)+(T||0),n.left+n.width-(O.right||0)-(T||0)]:a==="yAxis"?D=d==="horizontal"?[n.top+n.height-(O.bottom||0),n.top+(O.top||0)]:[n.top+(O.top||0)+(T||0),n.top+n.height-(O.bottom||0)-(T||0)]:D=w.range,N&&(D=[D[1],D[0]]);var W=HE(w,s,y),Q=W.scale,z=W.realScaleType;Q.domain(k).range(D),GE(Q);var Y=VE(Q,tn(tn({},w),{},{realScaleType:z}));a==="xAxis"?(I=b==="top"&&!P||b==="bottom"&&P,C=n.left,F=h[A]-I*w.height):a==="yAxis"&&(I=b==="left"&&!P||b==="right"&&P,C=h[A]-I*w.width,F=n.top);var ae=tn(tn(tn({},w),Y),{},{realScaleType:z,x:C,y:F,scale:Q,width:a==="xAxis"?n.width:w.width,height:a==="yAxis"?n.height:w.height});return ae.bandSize=rd(ae,Y),!w.hide&&a==="xAxis"?h[A]+=(I?-1:1)*ae.height:w.hide||(h[A]+=(I?-1:1)*ae.width),tn(tn({},x),{},df({},j,ae))},{})},_T=function(e,r){var n=e.x,a=e.y,s=r.x,c=r.y;return{x:Math.min(n,s),y:Math.min(a,c),width:Math.abs(s-n),height:Math.abs(c-a)}},VU=function(e){var r=e.x1,n=e.y1,a=e.x2,s=e.y2;return _T({x:r,y:n},{x:a,y:s})},NT=(function(){function t(e){WU(this,t),this.scale=e}return HU(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,s=n.position;if(r!==void 0){if(s)switch(s){case"start":return this.scale(r);case"middle":{var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}case"end":{var u=this.bandwidth?this.bandwidth():0;return this.scale(r)+u}default:return this.scale(r)}if(a){var d=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+d}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],s=n[n.length-1];return a<=s?r>=a&&r<=s:r>=s&&r<=a}}],[{key:"create",value:function(r){return new t(r)}}])})();df(NT,"EPS",1e-4);var Yx=function(e){var r=Object.keys(e).reduce(function(n,a){return tn(tn({},n),{},df({},a,NT.create(e[a])))},{});return tn(tn({},r),{},{apply:function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=s.bandAware,u=s.position;return wU(a,function(d,m){return r[m].apply(d,{bandAware:c,position:u})})},isInRange:function(a){return xT(a,function(s,c){return r[c].isInRange(s)})}})};function KU(t){return(t%180+180)%180}var YU=function(e){var r=e.width,n=e.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=KU(a),c=s*Math.PI/180,u=Math.atan(n/r),d=c>u&&c<Math.PI-u?n/Math.sin(c):r/Math.cos(c);return Math.abs(d)},uv,MO;function XU(){if(MO)return uv;MO=1;var t=_n(),e=Gl(),r=Hd();function n(a){return function(s,c,u){var d=Object(s);if(!e(s)){var m=t(c,3);s=r(s),c=function(h){return m(d[h],h,d)}}var p=a(s,c,u);return p>-1?d[m?s[p]:p]:void 0}}return uv=n,uv}var dv,RO;function QU(){if(RO)return dv;RO=1;var t=pT();function e(r){var n=t(r),a=n%1;return n===n?a?n-a:n:0}return dv=e,dv}var fv,$O;function ZU(){if($O)return fv;$O=1;var t=kP(),e=_n(),r=QU(),n=Math.max;function a(s,c,u){var d=s==null?0:s.length;if(!d)return-1;var m=u==null?0:r(u);return m<0&&(m=n(d+m,0)),t(s,e(c,3),m)}return fv=a,fv}var mv,DO;function JU(){if(DO)return mv;DO=1;var t=XU(),e=ZU(),r=t(e);return mv=r,mv}var e9=JU();const t9=He(e9);var r9=zA();const n9=He(r9);var a9=n9(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),Xx=R.createContext(void 0),Qx=R.createContext(void 0),kT=R.createContext(void 0),OT=R.createContext({}),AT=R.createContext(void 0),PT=R.createContext(0),ET=R.createContext(0),LO=function(e){var r=e.state,n=r.xAxisMap,a=r.yAxisMap,s=r.offset,c=e.clipPathId,u=e.children,d=e.width,m=e.height,p=a9(s);return U.createElement(Xx.Provider,{value:n},U.createElement(Qx.Provider,{value:a},U.createElement(OT.Provider,{value:s},U.createElement(kT.Provider,{value:p},U.createElement(AT.Provider,{value:c},U.createElement(PT.Provider,{value:m},U.createElement(ET.Provider,{value:d},u)))))))},i9=function(){return R.useContext(AT)},TT=function(e){var r=R.useContext(Xx);r==null&&ui();var n=r[e];return n==null&&ui(),n},s9=function(){var e=R.useContext(Xx);return ga(e)},o9=function(){var e=R.useContext(Qx),r=t9(e,function(n){return xT(n.domain,Number.isFinite)});return r||ga(e)},CT=function(e){var r=R.useContext(Qx);r==null&&ui();var n=r[e];return n==null&&ui(),n},l9=function(){var e=R.useContext(kT);return e},c9=function(){return R.useContext(OT)},Zx=function(){return R.useContext(ET)},Jx=function(){return R.useContext(PT)};function ks(t){"@babel/helpers - typeof";return ks=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ks(t)}function u9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d9(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,MT(n.key),n)}}function f9(t,e,r){return e&&d9(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function m9(t,e,r){return e=bd(e),h9(t,IT()?Reflect.construct(e,r||[],bd(t).constructor):e.apply(t,r))}function h9(t,e){if(e&&(ks(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return p9(t)}function p9(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function IT(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IT=function(){return!!t})()}function bd(t){return bd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bd(t)}function g9(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&E0(t,e)}function E0(t,e){return E0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},E0(t,e)}function BO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function FO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BO(Object(r),!0).forEach(function(n){eb(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function eb(t,e,r){return e=MT(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function MT(t){var e=y9(t,"string");return ks(e)=="symbol"?e:e+""}function y9(t,e){if(ks(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ks(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function v9(t,e){return j9(t)||w9(t,e)||b9(t,e)||x9()}function x9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function b9(t,e){if(t){if(typeof t=="string")return zO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zO(t,e)}}function zO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function w9(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,c,u=[],d=!0,m=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(d=(n=s.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(p){m=!0,a=p}finally{try{if(!d&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(m)throw a}}return u}}function j9(t){if(Array.isArray(t))return t}function T0(){return T0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},T0.apply(this,arguments)}var S9=function(e,r){var n;return U.isValidElement(e)?n=U.cloneElement(e,r):Ae(e)?n=e(r):n=U.createElement("line",T0({},r,{className:"recharts-reference-line-line"})),n},_9=function(e,r,n,a,s,c,u,d,m){var p=s.x,h=s.y,y=s.width,x=s.height;if(n){var j=m.y,w=e.y.apply(j,{position:c});if(wn(m,"discard")&&!e.y.isInRange(w))return null;var b=[{x:p+y,y:w},{x:p,y:w}];return d==="left"?b.reverse():b}if(r){var k=m.x,S=e.x.apply(k,{position:c});if(wn(m,"discard")&&!e.x.isInRange(S))return null;var O=[{x:S,y:h+x},{x:S,y:h}];return u==="top"?O.reverse():O}if(a){var P=m.segment,N=P.map(function(A){return e.apply(A,{position:c})});return wn(m,"discard")&&yU(N,function(A){return!e.isInRange(A)})?null:N}return null};function N9(t){var e=t.x,r=t.y,n=t.segment,a=t.xAxisId,s=t.yAxisId,c=t.shape,u=t.className,d=t.alwaysShow,m=i9(),p=TT(a),h=CT(s),y=l9();if(!m||!y)return null;sn(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var x=Yx({x:p.scale,y:h.scale}),j=Et(e),w=Et(r),b=n&&n.length===2,k=_9(x,j,w,b,y,t.position,p.orientation,h.orientation,t);if(!k)return null;var S=v9(k,2),O=S[0],P=O.x,N=O.y,A=S[1],T=A.x,D=A.y,C=wn(t,"hidden")?"url(#".concat(m,")"):void 0,F=FO(FO({clipPath:C},we(t,!0)),{},{x1:P,y1:N,x2:T,y2:D});return U.createElement(Re,{className:Me("recharts-reference-line",u)},S9(c,F),Dt.renderCallByParent(t,VU({x1:P,y1:N,x2:T,y2:D})))}var tb=(function(t){function e(){return u9(this,e),m9(this,e,arguments)}return g9(e,t),f9(e,[{key:"render",value:function(){return U.createElement(N9,this.props)}}])})(U.Component);eb(tb,"displayName","ReferenceLine");eb(tb,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function C0(){return C0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},C0.apply(this,arguments)}function Os(t){"@babel/helpers - typeof";return Os=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Os(t)}function qO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function UO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qO(Object(r),!0).forEach(function(n){mf(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function k9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function O9(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,$T(n.key),n)}}function A9(t,e,r){return e&&O9(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function P9(t,e,r){return e=wd(e),E9(t,RT()?Reflect.construct(e,r||[],wd(t).constructor):e.apply(t,r))}function E9(t,e){if(e&&(Os(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return T9(t)}function T9(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function RT(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RT=function(){return!!t})()}function wd(t){return wd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},wd(t)}function C9(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&I0(t,e)}function I0(t,e){return I0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},I0(t,e)}function mf(t,e,r){return e=$T(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $T(t){var e=I9(t,"string");return Os(e)=="symbol"?e:e+""}function I9(t,e){if(Os(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Os(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var M9=function(e){var r=e.x,n=e.y,a=e.xAxis,s=e.yAxis,c=Yx({x:a.scale,y:s.scale}),u=c.apply({x:r,y:n},{bandAware:!0});return wn(e,"discard")&&!c.isInRange(u)?null:u},hf=(function(t){function e(){return k9(this,e),P9(this,e,arguments)}return C9(e,t),A9(e,[{key:"render",value:function(){var n=this.props,a=n.x,s=n.y,c=n.r,u=n.alwaysShow,d=n.clipPathId,m=Et(a),p=Et(s);if(sn(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!m||!p)return null;var h=M9(this.props);if(!h)return null;var y=h.x,x=h.y,j=this.props,w=j.shape,b=j.className,k=wn(this.props,"hidden")?"url(#".concat(d,")"):void 0,S=UO(UO({clipPath:k},we(this.props,!0)),{},{cx:y,cy:x});return U.createElement(Re,{className:Me("recharts-reference-dot",b)},e.renderDot(w,S),Dt.renderCallByParent(this.props,{x:y-c,y:x-c,width:2*c,height:2*c}))}}])})(U.Component);mf(hf,"displayName","ReferenceDot");mf(hf,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});mf(hf,"renderDot",function(t,e){var r;return U.isValidElement(t)?r=U.cloneElement(t,e):Ae(t)?r=t(e):r=U.createElement(Ql,C0({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function M0(){return M0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},M0.apply(this,arguments)}function As(t){"@babel/helpers - typeof";return As=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},As(t)}function WO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function HO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?WO(Object(r),!0).forEach(function(n){pf(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):WO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function R9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $9(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,LT(n.key),n)}}function D9(t,e,r){return e&&$9(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function L9(t,e,r){return e=jd(e),B9(t,DT()?Reflect.construct(e,r||[],jd(t).constructor):e.apply(t,r))}function B9(t,e){if(e&&(As(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return F9(t)}function F9(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function DT(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DT=function(){return!!t})()}function jd(t){return jd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jd(t)}function z9(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&R0(t,e)}function R0(t,e){return R0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},R0(t,e)}function pf(t,e,r){return e=LT(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function LT(t){var e=q9(t,"string");return As(e)=="symbol"?e:e+""}function q9(t,e){if(As(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(As(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var U9=function(e,r,n,a,s){var c=s.x1,u=s.x2,d=s.y1,m=s.y2,p=s.xAxis,h=s.yAxis;if(!p||!h)return null;var y=Yx({x:p.scale,y:h.scale}),x={x:e?y.x.apply(c,{position:"start"}):y.x.rangeMin,y:n?y.y.apply(d,{position:"start"}):y.y.rangeMin},j={x:r?y.x.apply(u,{position:"end"}):y.x.rangeMax,y:a?y.y.apply(m,{position:"end"}):y.y.rangeMax};return wn(s,"discard")&&(!y.isInRange(x)||!y.isInRange(j))?null:_T(x,j)},gf=(function(t){function e(){return R9(this,e),L9(this,e,arguments)}return z9(e,t),D9(e,[{key:"render",value:function(){var n=this.props,a=n.x1,s=n.x2,c=n.y1,u=n.y2,d=n.className,m=n.alwaysShow,p=n.clipPathId;sn(m===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=Et(a),y=Et(s),x=Et(c),j=Et(u),w=this.props.shape;if(!h&&!y&&!x&&!j&&!w)return null;var b=U9(h,y,x,j,this.props);if(!b&&!w)return null;var k=wn(this.props,"hidden")?"url(#".concat(p,")"):void 0;return U.createElement(Re,{className:Me("recharts-reference-area",d)},e.renderRect(w,HO(HO({clipPath:k},we(this.props,!0)),b)),Dt.renderCallByParent(this.props,b))}}])})(U.Component);pf(gf,"displayName","ReferenceArea");pf(gf,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});pf(gf,"renderRect",function(t,e){var r;return U.isValidElement(t)?r=U.cloneElement(t,e):Ae(t)?r=t(e):r=U.createElement(Kx,M0({},e,{className:"recharts-reference-area-rect"})),r});function BT(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],a=0;a<t.length;a+=e)n.push(t[a]);return n}function W9(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return YU(n,r)}function H9(t,e,r){var n=r==="width",a=t.x,s=t.y,c=t.width,u=t.height;return e===1?{start:n?a:s,end:n?a+c:s+u}:{start:n?a+c:s+u,end:n?a:s}}function Sd(t,e,r,n,a){if(t*e<t*n||t*e>t*a)return!1;var s=r();return t*(e-t*s/2-n)>=0&&t*(e+t*s/2-a)<=0}function G9(t,e){return BT(t,e+1)}function V9(t,e,r,n,a){for(var s=(n||[]).slice(),c=e.start,u=e.end,d=0,m=1,p=c,h=function(){var j=n?.[d];if(j===void 0)return{v:BT(n,m)};var w=d,b,k=function(){return b===void 0&&(b=r(j,w)),b},S=j.coordinate,O=d===0||Sd(t,S,k,p,u);O||(d=0,p=c,m+=1),O&&(p=S+t*(k()/2+a),d+=m)},y;m<=s.length;)if(y=h(),y)return y.v;return[]}function ql(t){"@babel/helpers - typeof";return ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ql(t)}function GO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Xt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?GO(Object(r),!0).forEach(function(n){K9(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):GO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function K9(t,e,r){return e=Y9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Y9(t){var e=X9(t,"string");return ql(e)=="symbol"?e:e+""}function X9(t,e){if(ql(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ql(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Q9(t,e,r,n,a){for(var s=(n||[]).slice(),c=s.length,u=e.start,d=e.end,m=function(y){var x=s[y],j,w=function(){return j===void 0&&(j=r(x,y)),j};if(y===c-1){var b=t*(x.coordinate+t*w()/2-d);s[y]=x=Xt(Xt({},x),{},{tickCoord:b>0?x.coordinate-b*t:x.coordinate})}else s[y]=x=Xt(Xt({},x),{},{tickCoord:x.coordinate});var k=Sd(t,x.tickCoord,w,u,d);k&&(d=x.tickCoord-t*(w()/2+a),s[y]=Xt(Xt({},x),{},{isShow:!0}))},p=c-1;p>=0;p--)m(p);return s}function Z9(t,e,r,n,a,s){var c=(n||[]).slice(),u=c.length,d=e.start,m=e.end;if(s){var p=n[u-1],h=r(p,u-1),y=t*(p.coordinate+t*h/2-m);c[u-1]=p=Xt(Xt({},p),{},{tickCoord:y>0?p.coordinate-y*t:p.coordinate});var x=Sd(t,p.tickCoord,function(){return h},d,m);x&&(m=p.tickCoord-t*(h/2+a),c[u-1]=Xt(Xt({},p),{},{isShow:!0}))}for(var j=s?u-1:u,w=function(S){var O=c[S],P,N=function(){return P===void 0&&(P=r(O,S)),P};if(S===0){var A=t*(O.coordinate-t*N()/2-d);c[S]=O=Xt(Xt({},O),{},{tickCoord:A<0?O.coordinate-A*t:O.coordinate})}else c[S]=O=Xt(Xt({},O),{},{tickCoord:O.coordinate});var T=Sd(t,O.tickCoord,N,d,m);T&&(d=O.tickCoord+t*(N()/2+a),c[S]=Xt(Xt({},O),{},{isShow:!0}))},b=0;b<j;b++)w(b);return c}function rb(t,e,r){var n=t.tick,a=t.ticks,s=t.viewBox,c=t.minTickGap,u=t.orientation,d=t.interval,m=t.tickFormatter,p=t.unit,h=t.angle;if(!a||!a.length||!n)return[];if(ue(d)||Vn.isSsr)return G9(a,typeof d=="number"&&ue(d)?d:0);var y=[],x=u==="top"||u==="bottom"?"width":"height",j=p&&x==="width"?Zo(p,{fontSize:e,letterSpacing:r}):{width:0,height:0},w=function(O,P){var N=Ae(m)?m(O.value,P):O.value;return x==="width"?W9(Zo(N,{fontSize:e,letterSpacing:r}),j,h):Zo(N,{fontSize:e,letterSpacing:r})[x]},b=a.length>=2?tr(a[1].coordinate-a[0].coordinate):1,k=H9(s,b,x);return d==="equidistantPreserveStart"?V9(b,k,w,a,c):(d==="preserveStart"||d==="preserveStartEnd"?y=Z9(b,k,w,a,c,d==="preserveStartEnd"):y=Q9(b,k,w,a,c),y.filter(function(S){return S.isShow}))}var J9=["viewBox"],eW=["viewBox"],tW=["ticks"];function Ps(t){"@babel/helpers - typeof";return Ps=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ps(t)}function Ji(){return Ji=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ji.apply(this,arguments)}function VO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Ot(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?VO(Object(r),!0).forEach(function(n){nb(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):VO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hv(t,e){if(t==null)return{};var r=rW(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function rW(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function nW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function KO(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,zT(n.key),n)}}function aW(t,e,r){return e&&KO(t.prototype,e),r&&KO(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function iW(t,e,r){return e=_d(e),sW(t,FT()?Reflect.construct(e,r||[],_d(t).constructor):e.apply(t,r))}function sW(t,e){if(e&&(Ps(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oW(t)}function oW(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function FT(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FT=function(){return!!t})()}function _d(t){return _d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_d(t)}function lW(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$0(t,e)}function $0(t,e){return $0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},$0(t,e)}function nb(t,e,r){return e=zT(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zT(t){var e=cW(t,"string");return Ps(e)=="symbol"?e:e+""}function cW(t,e){if(Ps(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ps(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ys=(function(t){function e(r){var n;return nW(this,e),n=iW(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return lW(e,t),aW(e,[{key:"shouldComponentUpdate",value:function(n,a){var s=n.viewBox,c=hv(n,J9),u=this.props,d=u.viewBox,m=hv(u,eW);return!as(s,d)||!as(c,m)||!as(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,s=a.x,c=a.y,u=a.width,d=a.height,m=a.orientation,p=a.tickSize,h=a.mirror,y=a.tickMargin,x,j,w,b,k,S,O=h?-1:1,P=n.tickSize||p,N=ue(n.tickCoord)?n.tickCoord:n.coordinate;switch(m){case"top":x=j=n.coordinate,b=c+ +!h*d,w=b-O*P,S=w-O*y,k=N;break;case"left":w=b=n.coordinate,j=s+ +!h*u,x=j-O*P,k=x-O*y,S=N;break;case"right":w=b=n.coordinate,j=s+ +h*u,x=j+O*P,k=x+O*y,S=N;break;default:x=j=n.coordinate,b=c+ +h*d,w=b+O*P,S=w+O*y,k=N;break}return{line:{x1:x,y1:w,x2:j,y2:b},tick:{x:k,y:S}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,s=n.mirror,c;switch(a){case"left":c=s?"start":"end";break;case"right":c=s?"end":"start";break;default:c="middle";break}return c}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,s=n.mirror,c="end";switch(a){case"left":case"right":c="middle";break;case"top":c=s?"start":"end";break;default:c=s?"end":"start";break}return c}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,s=n.y,c=n.width,u=n.height,d=n.orientation,m=n.mirror,p=n.axisLine,h=Ot(Ot(Ot({},we(this.props,!1)),we(p,!1)),{},{fill:"none"});if(d==="top"||d==="bottom"){var y=+(d==="top"&&!m||d==="bottom"&&m);h=Ot(Ot({},h),{},{x1:a,y1:s+y*u,x2:a+c,y2:s+y*u})}else{var x=+(d==="left"&&!m||d==="right"&&m);h=Ot(Ot({},h),{},{x1:a+x*c,y1:s,x2:a+x*c,y2:s+u})}return U.createElement("line",Ji({},h,{className:Me("recharts-cartesian-axis-line",Nr(p,"className"))}))}},{key:"renderTicks",value:function(n,a,s){var c=this,u=this.props,d=u.tickLine,m=u.stroke,p=u.tick,h=u.tickFormatter,y=u.unit,x=rb(Ot(Ot({},this.props),{},{ticks:n}),a,s),j=this.getTickTextAnchor(),w=this.getTickVerticalAnchor(),b=we(this.props,!1),k=we(p,!1),S=Ot(Ot({},b),{},{fill:"none"},we(d,!1)),O=x.map(function(P,N){var A=c.getTickLineCoord(P),T=A.line,D=A.tick,C=Ot(Ot(Ot(Ot({textAnchor:j,verticalAnchor:w},b),{},{stroke:"none",fill:m},k),D),{},{index:N,payload:P,visibleTicksCount:x.length,tickFormatter:h});return U.createElement(Re,Ji({className:"recharts-cartesian-axis-tick",key:"tick-".concat(P.value,"-").concat(P.coordinate,"-").concat(P.tickCoord)},_a(c.props,P,N)),d&&U.createElement("line",Ji({},S,T,{className:Me("recharts-cartesian-axis-tick-line",Nr(d,"className"))})),p&&e.renderTickItem(p,C,"".concat(Ae(h)?h(P.value,N):P.value).concat(y||"")))});return U.createElement("g",{className:"recharts-cartesian-axis-ticks"},O)}},{key:"render",value:function(){var n=this,a=this.props,s=a.axisLine,c=a.width,u=a.height,d=a.ticksGenerator,m=a.className,p=a.hide;if(p)return null;var h=this.props,y=h.ticks,x=hv(h,tW),j=y;return Ae(d)&&(j=y&&y.length>0?d(this.props):d(x)),c<=0||u<=0||!j||!j.length?null:U.createElement(Re,{className:Me("recharts-cartesian-axis",m),ref:function(b){n.layerReference=b}},s&&this.renderAxisLine(),this.renderTicks(j,this.state.fontSize,this.state.letterSpacing),Dt.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,s){var c,u=Me(a.className,"recharts-cartesian-axis-tick-value");return U.isValidElement(n)?c=U.cloneElement(n,Ot(Ot({},a),{},{className:u})):Ae(n)?c=n(Ot(Ot({},a),{},{className:u})):c=U.createElement(li,Ji({},a,{className:"recharts-cartesian-axis-tick-value"}),s),c}}])})(R.Component);nb(Ys,"displayName","CartesianAxis");nb(Ys,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var uW=["x1","y1","x2","y2","key"],dW=["offset"];function di(t){"@babel/helpers - typeof";return di=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},di(t)}function YO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Qt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?YO(Object(r),!0).forEach(function(n){fW(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):YO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fW(t,e,r){return e=mW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mW(t){var e=hW(t,"string");return di(e)=="symbol"?e:e+""}function hW(t,e){if(di(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(di(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ri(){return ri=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ri.apply(this,arguments)}function XO(t,e){if(t==null)return{};var r=pW(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function pW(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var gW=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,a=e.x,s=e.y,c=e.width,u=e.height,d=e.ry;return U.createElement("rect",{x:a,y:s,ry:d,width:c,height:u,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function qT(t,e){var r;if(U.isValidElement(t))r=U.cloneElement(t,e);else if(Ae(t))r=t(e);else{var n=e.x1,a=e.y1,s=e.x2,c=e.y2,u=e.key,d=XO(e,uW),m=we(d,!1);m.offset;var p=XO(m,dW);r=U.createElement("line",ri({},p,{x1:n,y1:a,x2:s,y2:c,fill:"none",key:u}))}return r}function yW(t){var e=t.x,r=t.width,n=t.horizontal,a=n===void 0?!0:n,s=t.horizontalPoints;if(!a||!s||!s.length)return null;var c=s.map(function(u,d){var m=Qt(Qt({},t),{},{x1:e,y1:u,x2:e+r,y2:u,key:"line-".concat(d),index:d});return qT(a,m)});return U.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function vW(t){var e=t.y,r=t.height,n=t.vertical,a=n===void 0?!0:n,s=t.verticalPoints;if(!a||!s||!s.length)return null;var c=s.map(function(u,d){var m=Qt(Qt({},t),{},{x1:u,y1:e,x2:u,y2:e+r,key:"line-".concat(d),index:d});return qT(a,m)});return U.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function xW(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,a=t.y,s=t.width,c=t.height,u=t.horizontalPoints,d=t.horizontal,m=d===void 0?!0:d;if(!m||!e||!e.length)return null;var p=u.map(function(y){return Math.round(y+a-a)}).sort(function(y,x){return y-x});a!==p[0]&&p.unshift(0);var h=p.map(function(y,x){var j=!p[x+1],w=j?a+c-y:p[x+1]-y;if(w<=0)return null;var b=x%e.length;return U.createElement("rect",{key:"react-".concat(x),y,x:n,height:w,width:s,stroke:"none",fill:e[b],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return U.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function bW(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,a=t.fillOpacity,s=t.x,c=t.y,u=t.width,d=t.height,m=t.verticalPoints;if(!r||!n||!n.length)return null;var p=m.map(function(y){return Math.round(y+s-s)}).sort(function(y,x){return y-x});s!==p[0]&&p.unshift(0);var h=p.map(function(y,x){var j=!p[x+1],w=j?s+u-y:p[x+1]-y;if(w<=0)return null;var b=x%n.length;return U.createElement("rect",{key:"react-".concat(x),x:y,y:c,width:w,height:d,stroke:"none",fill:n[b],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return U.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var wW=function(e,r){var n=e.xAxis,a=e.width,s=e.height,c=e.offset;return WE(rb(Qt(Qt(Qt({},Ys.defaultProps),n),{},{ticks:Ln(n,!0),viewBox:{x:0,y:0,width:a,height:s}})),c.left,c.left+c.width,r)},jW=function(e,r){var n=e.yAxis,a=e.width,s=e.height,c=e.offset;return WE(rb(Qt(Qt(Qt({},Ys.defaultProps),n),{},{ticks:Ln(n,!0),viewBox:{x:0,y:0,width:a,height:s}})),c.top,c.top+c.height,r)},Vi={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Tt(t){var e,r,n,a,s,c,u=Zx(),d=Jx(),m=c9(),p=Qt(Qt({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Vi.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:Vi.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:Vi.horizontal,horizontalFill:(a=t.horizontalFill)!==null&&a!==void 0?a:Vi.horizontalFill,vertical:(s=t.vertical)!==null&&s!==void 0?s:Vi.vertical,verticalFill:(c=t.verticalFill)!==null&&c!==void 0?c:Vi.verticalFill,x:ue(t.x)?t.x:m.left,y:ue(t.y)?t.y:m.top,width:ue(t.width)?t.width:m.width,height:ue(t.height)?t.height:m.height}),h=p.x,y=p.y,x=p.width,j=p.height,w=p.syncWithTicks,b=p.horizontalValues,k=p.verticalValues,S=s9(),O=o9();if(!ue(x)||x<=0||!ue(j)||j<=0||!ue(h)||h!==+h||!ue(y)||y!==+y)return null;var P=p.verticalCoordinatesGenerator||wW,N=p.horizontalCoordinatesGenerator||jW,A=p.horizontalPoints,T=p.verticalPoints;if((!A||!A.length)&&Ae(N)){var D=b&&b.length,C=N({yAxis:O?Qt(Qt({},O),{},{ticks:D?b:O.ticks}):void 0,width:u,height:d,offset:m},D?!0:w);sn(Array.isArray(C),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(di(C),"]")),Array.isArray(C)&&(A=C)}if((!T||!T.length)&&Ae(P)){var F=k&&k.length,I=P({xAxis:S?Qt(Qt({},S),{},{ticks:F?k:S.ticks}):void 0,width:u,height:d,offset:m},F?!0:w);sn(Array.isArray(I),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(di(I),"]")),Array.isArray(I)&&(T=I)}return U.createElement("g",{className:"recharts-cartesian-grid"},U.createElement(gW,{fill:p.fill,fillOpacity:p.fillOpacity,x:p.x,y:p.y,width:p.width,height:p.height,ry:p.ry}),U.createElement(yW,ri({},p,{offset:m,horizontalPoints:A,xAxis:S,yAxis:O})),U.createElement(vW,ri({},p,{offset:m,verticalPoints:T,xAxis:S,yAxis:O})),U.createElement(xW,ri({},p,{horizontalPoints:A})),U.createElement(bW,ri({},p,{verticalPoints:T})))}Tt.displayName="CartesianGrid";var SW=["type","layout","connectNulls","ref"],_W=["key"];function Es(t){"@babel/helpers - typeof";return Es=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Es(t)}function QO(t,e){if(t==null)return{};var r=NW(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function NW(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function al(){return al=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},al.apply(this,arguments)}function ZO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function wr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ZO(Object(r),!0).forEach(function(n){rn(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ZO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ki(t){return PW(t)||AW(t)||OW(t)||kW()}function kW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OW(t,e){if(t){if(typeof t=="string")return D0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return D0(t,e)}}function AW(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function PW(t){if(Array.isArray(t))return D0(t)}function D0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function EW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function JO(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,WT(n.key),n)}}function TW(t,e,r){return e&&JO(t.prototype,e),r&&JO(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function CW(t,e,r){return e=Nd(e),IW(t,UT()?Reflect.construct(e,r||[],Nd(t).constructor):e.apply(t,r))}function IW(t,e){if(e&&(Es(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return MW(t)}function MW(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function UT(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UT=function(){return!!t})()}function Nd(t){return Nd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Nd(t)}function RW(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&L0(t,e)}function L0(t,e){return L0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},L0(t,e)}function rn(t,e,r){return e=WT(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function WT(t){var e=$W(t,"string");return Es(e)=="symbol"?e:e+""}function $W(t,e){if(Es(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Es(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ar=(function(t){function e(){var r;EW(this,e);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=CW(this,e,[].concat(a)),rn(r,"state",{isAnimationFinished:!0,totalLength:0}),rn(r,"generateSimpleStrokeDasharray",function(c,u){return"".concat(u,"px ").concat(c-u,"px")}),rn(r,"getStrokeDasharray",function(c,u,d){var m=d.reduce(function(k,S){return k+S});if(!m)return r.generateSimpleStrokeDasharray(u,c);for(var p=Math.floor(c/m),h=c%m,y=u-c,x=[],j=0,w=0;j<d.length;w+=d[j],++j)if(w+d[j]>h){x=[].concat(Ki(d.slice(0,j)),[h-w]);break}var b=x.length%2===0?[0,y]:[y];return[].concat(Ki(e.repeat(d,p)),Ki(x),b).map(function(k){return"".concat(k,"px")}).join(", ")}),rn(r,"id",Pa("recharts-line-")),rn(r,"pathRef",function(c){r.mainCurve=c}),rn(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),rn(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return RW(e,t),TW(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,c=s.points,u=s.xAxis,d=s.yAxis,m=s.layout,p=s.children,h=ir(p,Ks);if(!h)return null;var y=function(w,b){return{x:w.x,y:w.y,value:w.value,errorVal:rt(w.payload,b)}},x={clipPath:n?"url(#clipPath-".concat(a,")"):null};return U.createElement(Re,x,h.map(function(j){return U.cloneElement(j,{key:"bar-".concat(j.props.dataKey),data:c,xAxis:u,yAxis:d,layout:m,dataPointFormatter:y})}))}},{key:"renderDots",value:function(n,a,s){var c=this.props.isAnimationActive;if(c&&!this.state.isAnimationFinished)return null;var u=this.props,d=u.dot,m=u.points,p=u.dataKey,h=we(this.props,!1),y=we(d,!0),x=m.map(function(w,b){var k=wr(wr(wr({key:"dot-".concat(b),r:3},h),y),{},{index:b,cx:w.x,cy:w.y,value:w.value,dataKey:p,payload:w.payload,points:m});return e.renderDotItem(d,k)}),j={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(s,")"):null};return U.createElement(Re,al({className:"recharts-line-dots",key:"dots"},j),x)}},{key:"renderCurveStatically",value:function(n,a,s,c){var u=this.props,d=u.type,m=u.layout,p=u.connectNulls;u.ref;var h=QO(u,SW),y=wr(wr(wr({},we(h,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(s,")"):null,points:n},c),{},{type:d,layout:m,connectNulls:p});return U.createElement(Sa,al({},y,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var s=this,c=this.props,u=c.points,d=c.strokeDasharray,m=c.isAnimationActive,p=c.animationBegin,h=c.animationDuration,y=c.animationEasing,x=c.animationId,j=c.animateNewValues,w=c.width,b=c.height,k=this.state,S=k.prevPoints,O=k.totalLength;return U.createElement(Hr,{begin:p,duration:h,isActive:m,easing:y,from:{t:0},to:{t:1},key:"line-".concat(x),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(P){var N=P.t;if(S){var A=S.length/u.length,T=u.map(function(q,B){var V=Math.floor(B*A);if(S[V]){var L=S[V],M=ft(L.x,q.x),G=ft(L.y,q.y);return wr(wr({},q),{},{x:M(N),y:G(N)})}if(j){var $=ft(w*2,q.x),W=ft(b/2,q.y);return wr(wr({},q),{},{x:$(N),y:W(N)})}return wr(wr({},q),{},{x:q.x,y:q.y})});return s.renderCurveStatically(T,n,a)}var D=ft(0,O),C=D(N),F;if(d){var I="".concat(d).split(/[,\s]+/gim).map(function(q){return parseFloat(q)});F=s.getStrokeDasharray(C,O,I)}else F=s.generateSimpleStrokeDasharray(O,C);return s.renderCurveStatically(u,n,a,{strokeDasharray:F})})}},{key:"renderCurve",value:function(n,a){var s=this.props,c=s.points,u=s.isAnimationActive,d=this.state,m=d.prevPoints,p=d.totalLength;return u&&c&&c.length&&(!m&&p>0||!Na(m,c))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(c,n,a)}},{key:"render",value:function(){var n,a=this.props,s=a.hide,c=a.dot,u=a.points,d=a.className,m=a.xAxis,p=a.yAxis,h=a.top,y=a.left,x=a.width,j=a.height,w=a.isAnimationActive,b=a.id;if(s||!u||!u.length)return null;var k=this.state.isAnimationFinished,S=u.length===1,O=Me("recharts-line",d),P=m&&m.allowDataOverflow,N=p&&p.allowDataOverflow,A=P||N,T=Oe(b)?this.id:b,D=(n=we(c,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},C=D.r,F=C===void 0?3:C,I=D.strokeWidth,q=I===void 0?2:I,B=GA(c)?c:{},V=B.clipDot,L=V===void 0?!0:V,M=F*2+q;return U.createElement(Re,{className:O},P||N?U.createElement("defs",null,U.createElement("clipPath",{id:"clipPath-".concat(T)},U.createElement("rect",{x:P?y:y-x/2,y:N?h:h-j/2,width:P?x:x*2,height:N?j:j*2})),!L&&U.createElement("clipPath",{id:"clipPath-dots-".concat(T)},U.createElement("rect",{x:y-M/2,y:h-M/2,width:x+M,height:j+M}))):null,!S&&this.renderCurve(A,T),this.renderErrorBar(A,T),(S||c)&&this.renderDots(A,L,T),(!w||k)&&on.renderCallByParent(this.props,u))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var s=n.length%2!==0?[].concat(Ki(n),[0]):n,c=[],u=0;u<a;++u)c=[].concat(Ki(c),Ki(s));return c}},{key:"renderDotItem",value:function(n,a){var s;if(U.isValidElement(n))s=U.cloneElement(n,a);else if(Ae(n))s=n(a);else{var c=a.key,u=QO(a,_W),d=Me("recharts-line-dot",typeof n!="boolean"?n.className:"");s=U.createElement(Ql,al({key:c},u,{className:d}))}return s}}])})(R.PureComponent);rn(ar,"displayName","Line");rn(ar,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Vn.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});rn(ar,"getComposedData",function(t){var e=t.props,r=t.xAxis,n=t.yAxis,a=t.xAxisTicks,s=t.yAxisTicks,c=t.dataKey,u=t.bandSize,d=t.displayedData,m=t.offset,p=e.layout,h=d.map(function(y,x){var j=rt(y,c);return p==="horizontal"?{x:vs({axis:r,ticks:a,bandSize:u,entry:y,index:x}),y:Oe(j)?null:n.scale(j),value:j,payload:y}:{x:Oe(j)?null:r.scale(j),y:vs({axis:n,ticks:s,bandSize:u,entry:y,index:x}),value:j,payload:y}});return wr({points:h,layout:p},m)});var DW=["layout","type","stroke","connectNulls","isRange","ref"],LW=["key"],HT;function Ts(t){"@babel/helpers - typeof";return Ts=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ts(t)}function GT(t,e){if(t==null)return{};var r=BW(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function BW(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function ni(){return ni=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ni.apply(this,arguments)}function eA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ha(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eA(Object(r),!0).forEach(function(n){xn(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function FW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,KT(n.key),n)}}function zW(t,e,r){return e&&tA(t.prototype,e),r&&tA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function qW(t,e,r){return e=kd(e),UW(t,VT()?Reflect.construct(e,r||[],kd(t).constructor):e.apply(t,r))}function UW(t,e){if(e&&(Ts(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WW(t)}function WW(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function VT(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VT=function(){return!!t})()}function kd(t){return kd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},kd(t)}function HW(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&B0(t,e)}function B0(t,e){return B0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},B0(t,e)}function xn(t,e,r){return e=KT(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function KT(t){var e=GW(t,"string");return Ts(e)=="symbol"?e:e+""}function GW(t,e){if(Ts(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ts(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Wn=(function(t){function e(){var r;FW(this,e);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=qW(this,e,[].concat(a)),xn(r,"state",{isAnimationFinished:!0}),xn(r,"id",Pa("recharts-area-")),xn(r,"handleAnimationEnd",function(){var c=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Ae(c)&&c()}),xn(r,"handleAnimationStart",function(){var c=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Ae(c)&&c()}),r}return HW(e,t),zW(e,[{key:"renderDots",value:function(n,a,s){var c=this.props.isAnimationActive,u=this.state.isAnimationFinished;if(c&&!u)return null;var d=this.props,m=d.dot,p=d.points,h=d.dataKey,y=we(this.props,!1),x=we(m,!0),j=p.map(function(b,k){var S=ha(ha(ha({key:"dot-".concat(k),r:3},y),x),{},{index:k,cx:b.x,cy:b.y,dataKey:h,value:b.value,payload:b.payload,points:p});return e.renderDotItem(m,S)}),w={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(s,")"):null};return U.createElement(Re,ni({className:"recharts-area-dots"},w),j)}},{key:"renderHorizontalRect",value:function(n){var a=this.props,s=a.baseLine,c=a.points,u=a.strokeWidth,d=c[0].x,m=c[c.length-1].x,p=n*Math.abs(d-m),h=va(c.map(function(y){return y.y||0}));return ue(s)&&typeof s=="number"?h=Math.max(s,h):s&&Array.isArray(s)&&s.length&&(h=Math.max(va(s.map(function(y){return y.y||0})),h)),ue(h)?U.createElement("rect",{x:d<m?d:d-p,y:0,width:p,height:Math.floor(h+(u?parseInt("".concat(u),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var a=this.props,s=a.baseLine,c=a.points,u=a.strokeWidth,d=c[0].y,m=c[c.length-1].y,p=n*Math.abs(d-m),h=va(c.map(function(y){return y.x||0}));return ue(s)&&typeof s=="number"?h=Math.max(s,h):s&&Array.isArray(s)&&s.length&&(h=Math.max(va(s.map(function(y){return y.x||0})),h)),ue(h)?U.createElement("rect",{x:0,y:d<m?d:d-p,width:h+(u?parseInt("".concat(u),10):1),height:Math.floor(p)}):null}},{key:"renderClipRect",value:function(n){var a=this.props.layout;return a==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,a,s,c){var u=this.props,d=u.layout,m=u.type,p=u.stroke,h=u.connectNulls,y=u.isRange;u.ref;var x=GT(u,DW);return U.createElement(Re,{clipPath:s?"url(#clipPath-".concat(c,")"):null},U.createElement(Sa,ni({},we(x,!0),{points:n,connectNulls:h,type:m,baseLine:a,layout:d,stroke:"none",className:"recharts-area-area"})),p!=="none"&&U.createElement(Sa,ni({},we(this.props,!1),{className:"recharts-area-curve",layout:d,type:m,connectNulls:h,fill:"none",points:n})),p!=="none"&&y&&U.createElement(Sa,ni({},we(this.props,!1),{className:"recharts-area-curve",layout:d,type:m,connectNulls:h,fill:"none",points:a})))}},{key:"renderAreaWithAnimation",value:function(n,a){var s=this,c=this.props,u=c.points,d=c.baseLine,m=c.isAnimationActive,p=c.animationBegin,h=c.animationDuration,y=c.animationEasing,x=c.animationId,j=this.state,w=j.prevPoints,b=j.prevBaseLine;return U.createElement(Hr,{begin:p,duration:h,isActive:m,easing:y,from:{t:0},to:{t:1},key:"area-".concat(x),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(k){var S=k.t;if(w){var O=w.length/u.length,P=u.map(function(D,C){var F=Math.floor(C*O);if(w[F]){var I=w[F],q=ft(I.x,D.x),B=ft(I.y,D.y);return ha(ha({},D),{},{x:q(S),y:B(S)})}return D}),N;if(ue(d)&&typeof d=="number"){var A=ft(b,d);N=A(S)}else if(Oe(d)||Us(d)){var T=ft(b,0);N=T(S)}else N=d.map(function(D,C){var F=Math.floor(C*O);if(b[F]){var I=b[F],q=ft(I.x,D.x),B=ft(I.y,D.y);return ha(ha({},D),{},{x:q(S),y:B(S)})}return D});return s.renderAreaStatically(P,N,n,a)}return U.createElement(Re,null,U.createElement("defs",null,U.createElement("clipPath",{id:"animationClipPath-".concat(a)},s.renderClipRect(S))),U.createElement(Re,{clipPath:"url(#animationClipPath-".concat(a,")")},s.renderAreaStatically(u,d,n,a)))})}},{key:"renderArea",value:function(n,a){var s=this.props,c=s.points,u=s.baseLine,d=s.isAnimationActive,m=this.state,p=m.prevPoints,h=m.prevBaseLine,y=m.totalLength;return d&&c&&c.length&&(!p&&y>0||!Na(p,c)||!Na(h,u))?this.renderAreaWithAnimation(n,a):this.renderAreaStatically(c,u,n,a)}},{key:"render",value:function(){var n,a=this.props,s=a.hide,c=a.dot,u=a.points,d=a.className,m=a.top,p=a.left,h=a.xAxis,y=a.yAxis,x=a.width,j=a.height,w=a.isAnimationActive,b=a.id;if(s||!u||!u.length)return null;var k=this.state.isAnimationFinished,S=u.length===1,O=Me("recharts-area",d),P=h&&h.allowDataOverflow,N=y&&y.allowDataOverflow,A=P||N,T=Oe(b)?this.id:b,D=(n=we(c,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},C=D.r,F=C===void 0?3:C,I=D.strokeWidth,q=I===void 0?2:I,B=GA(c)?c:{},V=B.clipDot,L=V===void 0?!0:V,M=F*2+q;return U.createElement(Re,{className:O},P||N?U.createElement("defs",null,U.createElement("clipPath",{id:"clipPath-".concat(T)},U.createElement("rect",{x:P?p:p-x/2,y:N?m:m-j/2,width:P?x:x*2,height:N?j:j*2})),!L&&U.createElement("clipPath",{id:"clipPath-dots-".concat(T)},U.createElement("rect",{x:p-M/2,y:m-M/2,width:x+M,height:j+M}))):null,S?null:this.renderArea(A,T),(c||S)&&this.renderDots(A,L,T),(!w||k)&&on.renderCallByParent(this.props,u))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:a.curPoints,prevBaseLine:a.curBaseLine}:n.points!==a.curPoints||n.baseLine!==a.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])})(R.PureComponent);HT=Wn;xn(Wn,"displayName","Area");xn(Wn,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Vn.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});xn(Wn,"getBaseValue",function(t,e,r,n){var a=t.layout,s=t.baseValue,c=e.props.baseValue,u=c??s;if(ue(u)&&typeof u=="number")return u;var d=a==="horizontal"?n:r,m=d.scale.domain();if(d.type==="number"){var p=Math.max(m[0],m[1]),h=Math.min(m[0],m[1]);return u==="dataMin"?h:u==="dataMax"||p<0?p:Math.max(Math.min(m[0],m[1]),0)}return u==="dataMin"?m[0]:u==="dataMax"?m[1]:m[0]});xn(Wn,"getComposedData",function(t){var e=t.props,r=t.item,n=t.xAxis,a=t.yAxis,s=t.xAxisTicks,c=t.yAxisTicks,u=t.bandSize,d=t.dataKey,m=t.stackedData,p=t.dataStartIndex,h=t.displayedData,y=t.offset,x=e.layout,j=m&&m.length,w=HT.getBaseValue(e,r,n,a),b=x==="horizontal",k=!1,S=h.map(function(P,N){var A;j?A=m[p+N]:(A=rt(P,d),Array.isArray(A)?k=!0:A=[w,A]);var T=A[1]==null||j&&rt(P,d)==null;return b?{x:vs({axis:n,ticks:s,bandSize:u,entry:P,index:N}),y:T?null:a.scale(A[1]),value:A,payload:P}:{x:T?null:n.scale(A[1]),y:vs({axis:a,ticks:c,bandSize:u,entry:P,index:N}),value:A,payload:P}}),O;return j||k?O=S.map(function(P){var N=Array.isArray(P.value)?P.value[0]:null;return b?{x:P.x,y:N!=null&&P.y!=null?a.scale(N):null}:{x:N!=null?n.scale(N):null,y:P.y}}):O=b?a.scale(w):n.scale(w),ha({points:S,baseLine:O,layout:x,isRange:k},y)});xn(Wn,"renderDotItem",function(t,e){var r;if(U.isValidElement(t))r=U.cloneElement(t,e);else if(Ae(t))r=t(e);else{var n=Me("recharts-area-dot",typeof t!="boolean"?t.className:""),a=e.key,s=GT(e,LW);r=U.createElement(Ql,ni({},s,{key:a,className:n}))}return r});function Cs(t){"@babel/helpers - typeof";return Cs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cs(t)}function VW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function KW(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,QT(n.key),n)}}function YW(t,e,r){return e&&KW(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function XW(t,e,r){return e=Od(e),QW(t,YT()?Reflect.construct(e,r||[],Od(t).constructor):e.apply(t,r))}function QW(t,e){if(e&&(Cs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZW(t)}function ZW(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function YT(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YT=function(){return!!t})()}function Od(t){return Od=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Od(t)}function JW(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&F0(t,e)}function F0(t,e){return F0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},F0(t,e)}function XT(t,e,r){return e=QT(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function QT(t){var e=eH(t,"string");return Cs(e)=="symbol"?e:e+""}function eH(t,e){if(Cs(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Cs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var yf=(function(t){function e(){return VW(this,e),XW(this,e,arguments)}return JW(e,t),YW(e,[{key:"render",value:function(){return null}}])})(R.Component);XT(yf,"displayName","ZAxis");XT(yf,"defaultProps",{zAxisId:0,range:[64,64],scale:"auto",type:"number"});var tH=["option","isActive"];function il(){return il=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},il.apply(this,arguments)}function rH(t,e){if(t==null)return{};var r=nH(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function nH(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function aH(t){var e=t.option,r=t.isActive,n=rH(t,tH);return typeof e=="string"?R.createElement(md,il({option:R.createElement(Wd,il({type:e},n)),isActive:r,shapeType:"symbols"},n)):R.createElement(md,il({option:e,isActive:r,shapeType:"symbols"},n))}function Is(t){"@babel/helpers - typeof";return Is=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Is(t)}function sl(){return sl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},sl.apply(this,arguments)}function rA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Dr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rA(Object(r),!0).forEach(function(n){ba(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function iH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nA(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,JT(n.key),n)}}function sH(t,e,r){return e&&nA(t.prototype,e),r&&nA(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function oH(t,e,r){return e=Ad(e),lH(t,ZT()?Reflect.construct(e,r||[],Ad(t).constructor):e.apply(t,r))}function lH(t,e){if(e&&(Is(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cH(t)}function cH(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ZT(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZT=function(){return!!t})()}function Ad(t){return Ad=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ad(t)}function uH(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&z0(t,e)}function z0(t,e){return z0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},z0(t,e)}function ba(t,e,r){return e=JT(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function JT(t){var e=dH(t,"string");return Is(e)=="symbol"?e:e+""}function dH(t,e){if(Is(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Is(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var xi=(function(t){function e(){var r;iH(this,e);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=oH(this,e,[].concat(a)),ba(r,"state",{isAnimationFinished:!1}),ba(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0})}),ba(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1})}),ba(r,"id",Pa("recharts-scatter-")),r}return uH(e,t),sH(e,[{key:"renderSymbolsStatically",value:function(n){var a=this,s=this.props,c=s.shape,u=s.activeShape,d=s.activeIndex,m=we(this.props,!1);return n.map(function(p,h){var y=d===h,x=y?u:c,j=Dr(Dr({},m),p);return U.createElement(Re,sl({className:"recharts-scatter-symbol",key:"symbol-".concat(p?.cx,"-").concat(p?.cy,"-").concat(p?.size,"-").concat(h)},_a(a.props,p,h),{role:"img"}),U.createElement(aH,sl({option:x,isActive:y,key:"symbol-".concat(h)},j)))})}},{key:"renderSymbolsWithAnimation",value:function(){var n=this,a=this.props,s=a.points,c=a.isAnimationActive,u=a.animationBegin,d=a.animationDuration,m=a.animationEasing,p=a.animationId,h=this.state.prevPoints;return U.createElement(Hr,{begin:u,duration:d,isActive:c,easing:m,from:{t:0},to:{t:1},key:"pie-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(y){var x=y.t,j=s.map(function(w,b){var k=h&&h[b];if(k){var S=ft(k.cx,w.cx),O=ft(k.cy,w.cy),P=ft(k.size,w.size);return Dr(Dr({},w),{},{cx:S(x),cy:O(x),size:P(x)})}var N=ft(0,w.size);return Dr(Dr({},w),{},{size:N(x)})});return U.createElement(Re,null,n.renderSymbolsStatically(j))})}},{key:"renderSymbols",value:function(){var n=this.props,a=n.points,s=n.isAnimationActive,c=this.state.prevPoints;return s&&a&&a.length&&(!c||!Na(c,a))?this.renderSymbolsWithAnimation():this.renderSymbolsStatically(a)}},{key:"renderErrorBar",value:function(){var n=this.props.isAnimationActive;if(n&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.points,c=a.xAxis,u=a.yAxis,d=a.children,m=ir(d,Ks);return m?m.map(function(p,h){var y=p.props,x=y.direction,j=y.dataKey;return U.cloneElement(p,{key:"".concat(x,"-").concat(j,"-").concat(s[h]),data:s,xAxis:c,yAxis:u,layout:x==="x"?"vertical":"horizontal",dataPointFormatter:function(b,k){return{x:b.cx,y:b.cy,value:x==="x"?+b.node.x:+b.node.y,errorVal:rt(b,k)}}})}):null}},{key:"renderLine",value:function(){var n=this.props,a=n.points,s=n.line,c=n.lineType,u=n.lineJointType,d=we(this.props,!1),m=we(s,!1),p,h;if(c==="joint")p=a.map(function(O){return{x:O.cx,y:O.cy}});else if(c==="fitting"){var y=s3(a),x=y.xmin,j=y.xmax,w=y.a,b=y.b,k=function(P){return w*P+b};p=[{x,y:k(x)},{x:j,y:k(j)}]}var S=Dr(Dr(Dr({},d),{},{fill:"none",stroke:d&&d.fill},m),{},{points:p});return U.isValidElement(s)?h=U.cloneElement(s,S):Ae(s)?h=s(S):h=U.createElement(Sa,sl({},S,{type:u})),U.createElement(Re,{className:"recharts-scatter-line",key:"recharts-scatter-line"},h)}},{key:"render",value:function(){var n=this.props,a=n.hide,s=n.points,c=n.line,u=n.className,d=n.xAxis,m=n.yAxis,p=n.left,h=n.top,y=n.width,x=n.height,j=n.id,w=n.isAnimationActive;if(a||!s||!s.length)return null;var b=this.state.isAnimationFinished,k=Me("recharts-scatter",u),S=d&&d.allowDataOverflow,O=m&&m.allowDataOverflow,P=S||O,N=Oe(j)?this.id:j;return U.createElement(Re,{className:k,clipPath:P?"url(#clipPath-".concat(N,")"):null},S||O?U.createElement("defs",null,U.createElement("clipPath",{id:"clipPath-".concat(N)},U.createElement("rect",{x:S?p:p-y/2,y:O?h:h-x/2,width:S?y:y*2,height:O?x:x*2}))):null,c&&this.renderLine(),this.renderErrorBar(),U.createElement(Re,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!w||b)&&on.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}}])})(R.PureComponent);ba(xi,"displayName","Scatter");ba(xi,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!Vn.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"});ba(xi,"getComposedData",function(t){var e=t.xAxis,r=t.yAxis,n=t.zAxis,a=t.item,s=t.displayedData,c=t.xAxisTicks,u=t.yAxisTicks,d=t.offset,m=a.props.tooltipType,p=ir(a.props.children,pi),h=Oe(e.dataKey)?a.props.dataKey:e.dataKey,y=Oe(r.dataKey)?a.props.dataKey:r.dataKey,x=n&&n.dataKey,j=n?n.range:yf.defaultProps.range,w=j&&j[0],b=e.scale.bandwidth?e.scale.bandwidth():0,k=r.scale.bandwidth?r.scale.bandwidth():0,S=s.map(function(O,P){var N=rt(O,h),A=rt(O,y),T=!Oe(x)&&rt(O,x)||"-",D=[{name:Oe(e.dataKey)?a.props.name:e.name||e.dataKey,unit:e.unit||"",value:N,payload:O,dataKey:h,type:m},{name:Oe(r.dataKey)?a.props.name:r.name||r.dataKey,unit:r.unit||"",value:A,payload:O,dataKey:y,type:m}];T!=="-"&&D.push({name:n.name||n.dataKey,unit:n.unit||"",value:T,payload:O,dataKey:x,type:m});var C=vs({axis:e,ticks:c,bandSize:b,entry:O,index:P,dataKey:h}),F=vs({axis:r,ticks:u,bandSize:k,entry:O,index:P,dataKey:y}),I=T!=="-"?n.scale(T):w,q=Math.sqrt(Math.max(I,0)/Math.PI);return Dr(Dr({},O),{},{cx:C,cy:F,x:C-q,y:F-q,xAxis:e,yAxis:r,zAxis:n,width:2*q,height:2*q,size:I,node:{x:N,y:A,z:T},tooltipPayload:D,tooltipPosition:{x:C,y:F},payload:O},p&&p[P]&&p[P].props)});return Dr({points:S},d)});function Ms(t){"@babel/helpers - typeof";return Ms=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ms(t)}function fH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mH(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,rC(n.key),n)}}function hH(t,e,r){return e&&mH(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function pH(t,e,r){return e=Pd(e),gH(t,eC()?Reflect.construct(e,r||[],Pd(t).constructor):e.apply(t,r))}function gH(t,e){if(e&&(Ms(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yH(t)}function yH(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function eC(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eC=function(){return!!t})()}function Pd(t){return Pd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Pd(t)}function vH(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&q0(t,e)}function q0(t,e){return q0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},q0(t,e)}function tC(t,e,r){return e=rC(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rC(t){var e=xH(t,"string");return Ms(e)=="symbol"?e:e+""}function xH(t,e){if(Ms(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ms(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function U0(){return U0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},U0.apply(this,arguments)}function bH(t){var e=t.xAxisId,r=Zx(),n=Jx(),a=TT(e);return a==null?null:R.createElement(Ys,U0({},a,{className:Me("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(c){return Ln(c,!0)}}))}var lt=(function(t){function e(){return fH(this,e),pH(this,e,arguments)}return vH(e,t),hH(e,[{key:"render",value:function(){return R.createElement(bH,this.props)}}])})(R.Component);tC(lt,"displayName","XAxis");tC(lt,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Rs(t){"@babel/helpers - typeof";return Rs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rs(t)}function wH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jH(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,iC(n.key),n)}}function SH(t,e,r){return e&&jH(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _H(t,e,r){return e=Ed(e),NH(t,nC()?Reflect.construct(e,r||[],Ed(t).constructor):e.apply(t,r))}function NH(t,e){if(e&&(Rs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kH(t)}function kH(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nC(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nC=function(){return!!t})()}function Ed(t){return Ed=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ed(t)}function OH(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&W0(t,e)}function W0(t,e){return W0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},W0(t,e)}function aC(t,e,r){return e=iC(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function iC(t){var e=AH(t,"string");return Rs(e)=="symbol"?e:e+""}function AH(t,e){if(Rs(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Rs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function H0(){return H0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},H0.apply(this,arguments)}var PH=function(e){var r=e.yAxisId,n=Zx(),a=Jx(),s=CT(r);return s==null?null:R.createElement(Ys,H0({},s,{className:Me("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(u){return Ln(u,!0)}}))},nt=(function(t){function e(){return wH(this,e),_H(this,e,arguments)}return OH(e,t),SH(e,[{key:"render",value:function(){return R.createElement(PH,this.props)}}])})(R.Component);aC(nt,"displayName","YAxis");aC(nt,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function aA(t){return IH(t)||CH(t)||TH(t)||EH()}function EH(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TH(t,e){if(t){if(typeof t=="string")return G0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return G0(t,e)}}function CH(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function IH(t){if(Array.isArray(t))return G0(t)}function G0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var V0=function(e,r,n,a,s){var c=ir(e,tb),u=ir(e,hf),d=[].concat(aA(c),aA(u)),m=ir(e,gf),p="".concat(a,"Id"),h=a[0],y=r;if(d.length&&(y=d.reduce(function(w,b){if(b.props[p]===n&&wn(b.props,"extendDomain")&&ue(b.props[h])){var k=b.props[h];return[Math.min(w[0],k),Math.max(w[1],k)]}return w},y)),m.length){var x="".concat(h,"1"),j="".concat(h,"2");y=m.reduce(function(w,b){if(b.props[p]===n&&wn(b.props,"extendDomain")&&ue(b.props[x])&&ue(b.props[j])){var k=b.props[x],S=b.props[j];return[Math.min(w[0],k,S),Math.max(w[1],k,S)]}return w},y)}return s&&s.length&&(y=s.reduce(function(w,b){return ue(b)?[Math.min(w[0],b),Math.max(w[1],b)]:w},y)),y},pv={exports:{}},iA;function MH(){return iA||(iA=1,(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(d,m,p){this.fn=d,this.context=m,this.once=p||!1}function s(d,m,p,h,y){if(typeof p!="function")throw new TypeError("The listener must be a function");var x=new a(p,h||d,y),j=r?r+m:m;return d._events[j]?d._events[j].fn?d._events[j]=[d._events[j],x]:d._events[j].push(x):(d._events[j]=x,d._eventsCount++),d}function c(d,m){--d._eventsCount===0?d._events=new n:delete d._events[m]}function u(){this._events=new n,this._eventsCount=0}u.prototype.eventNames=function(){var m=[],p,h;if(this._eventsCount===0)return m;for(h in p=this._events)e.call(p,h)&&m.push(r?h.slice(1):h);return Object.getOwnPropertySymbols?m.concat(Object.getOwnPropertySymbols(p)):m},u.prototype.listeners=function(m){var p=r?r+m:m,h=this._events[p];if(!h)return[];if(h.fn)return[h.fn];for(var y=0,x=h.length,j=new Array(x);y<x;y++)j[y]=h[y].fn;return j},u.prototype.listenerCount=function(m){var p=r?r+m:m,h=this._events[p];return h?h.fn?1:h.length:0},u.prototype.emit=function(m,p,h,y,x,j){var w=r?r+m:m;if(!this._events[w])return!1;var b=this._events[w],k=arguments.length,S,O;if(b.fn){switch(b.once&&this.removeListener(m,b.fn,void 0,!0),k){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,p),!0;case 3:return b.fn.call(b.context,p,h),!0;case 4:return b.fn.call(b.context,p,h,y),!0;case 5:return b.fn.call(b.context,p,h,y,x),!0;case 6:return b.fn.call(b.context,p,h,y,x,j),!0}for(O=1,S=new Array(k-1);O<k;O++)S[O-1]=arguments[O];b.fn.apply(b.context,S)}else{var P=b.length,N;for(O=0;O<P;O++)switch(b[O].once&&this.removeListener(m,b[O].fn,void 0,!0),k){case 1:b[O].fn.call(b[O].context);break;case 2:b[O].fn.call(b[O].context,p);break;case 3:b[O].fn.call(b[O].context,p,h);break;case 4:b[O].fn.call(b[O].context,p,h,y);break;default:if(!S)for(N=1,S=new Array(k-1);N<k;N++)S[N-1]=arguments[N];b[O].fn.apply(b[O].context,S)}}return!0},u.prototype.on=function(m,p,h){return s(this,m,p,h,!1)},u.prototype.once=function(m,p,h){return s(this,m,p,h,!0)},u.prototype.removeListener=function(m,p,h,y){var x=r?r+m:m;if(!this._events[x])return this;if(!p)return c(this,x),this;var j=this._events[x];if(j.fn)j.fn===p&&(!y||j.once)&&(!h||j.context===h)&&c(this,x);else{for(var w=0,b=[],k=j.length;w<k;w++)(j[w].fn!==p||y&&!j[w].once||h&&j[w].context!==h)&&b.push(j[w]);b.length?this._events[x]=b.length===1?b[0]:b:c(this,x)}return this},u.prototype.removeAllListeners=function(m){var p;return m?(p=r?r+m:m,this._events[p]&&c(this,p)):(this._events=new n,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=r,u.EventEmitter=u,t.exports=u})(pv)),pv.exports}var RH=MH();const $H=He(RH);var gv=new $H,yv="recharts.syncMouseEvents";function Ul(t){"@babel/helpers - typeof";return Ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ul(t)}function DH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LH(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,sC(n.key),n)}}function BH(t,e,r){return e&&LH(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function vv(t,e,r){return e=sC(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sC(t){var e=FH(t,"string");return Ul(e)=="symbol"?e:e+""}function FH(t,e){if(Ul(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ul(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var zH=(function(){function t(){DH(this,t),vv(this,"activeIndex",0),vv(this,"coordinateList",[]),vv(this,"layout","horizontal")}return BH(t,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,s=a===void 0?null:a,c=r.container,u=c===void 0?null:c,d=r.layout,m=d===void 0?null:d,p=r.offset,h=p===void 0?null:p,y=r.mouseHandlerCallback,x=y===void 0?null:y;this.coordinateList=(n=s??this.coordinateList)!==null&&n!==void 0?n:[],this.container=u??this.container,this.layout=m??this.layout,this.offset=h??this.offset,this.mouseHandlerCallback=x??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),s=a.x,c=a.y,u=a.height,d=this.coordinateList[this.activeIndex].coordinate,m=((r=window)===null||r===void 0?void 0:r.scrollX)||0,p=((n=window)===null||n===void 0?void 0:n.scrollY)||0,h=s+d+m,y=c+this.offset.top+u/2+p;this.mouseHandlerCallback({pageX:h,pageY:y})}}}])})();function qH(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t?.[0],a=t?.[1];if(n&&a&&ue(n)&&ue(a))return!0}return!1}function UH(t,e,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-a:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-a,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function oC(t){var e=t.cx,r=t.cy,n=t.radius,a=t.startAngle,s=t.endAngle,c=Ze(e,r,n,a),u=Ze(e,r,n,s);return{points:[c,u],cx:e,cy:r,radius:n,startAngle:a,endAngle:s}}function WH(t,e,r){var n,a,s,c;if(t==="horizontal")n=e.x,s=n,a=r.top,c=r.top+r.height;else if(t==="vertical")a=e.y,c=a,n=r.left,s=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var u=e.cx,d=e.cy,m=e.innerRadius,p=e.outerRadius,h=e.angle,y=Ze(u,d,m,h),x=Ze(u,d,p,h);n=y.x,a=y.y,s=x.x,c=x.y}else return oC(e);return[{x:n,y:a},{x:s,y:c}]}function Wl(t){"@babel/helpers - typeof";return Wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wl(t)}function sA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function _u(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sA(Object(r),!0).forEach(function(n){HH(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function HH(t,e,r){return e=GH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function GH(t){var e=VH(t,"string");return Wl(e)=="symbol"?e:e+""}function VH(t,e){if(Wl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function KH(t){var e,r,n=t.element,a=t.tooltipEventType,s=t.isActive,c=t.activeCoordinate,u=t.activePayload,d=t.offset,m=t.activeTooltipIndex,p=t.tooltipAxisBandSize,h=t.layout,y=t.chartName,x=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!x||!s||!c||y!=="ScatterChart"&&a!=="axis")return null;var j,w=Sa;if(y==="ScatterChart")j=c,w=z7;else if(y==="BarChart")j=UH(h,c,d,p),w=Kx;else if(h==="radial"){var b=oC(c),k=b.cx,S=b.cy,O=b.radius,P=b.startAngle,N=b.endAngle;j={cx:k,cy:S,startAngle:P,endAngle:N,innerRadius:O,outerRadius:O},w=tT}else j={points:WH(h,c,d)},w=Sa;var A=_u(_u(_u(_u({stroke:"#ccc",pointerEvents:"none"},d),j),we(x,!1)),{},{payload:u,payloadIndex:m,className:Me("recharts-tooltip-cursor",x.className)});return R.isValidElement(x)?R.cloneElement(x,A):R.createElement(w,A)}var YH=["item"],XH=["children","className","width","height","style","compact","title","desc"];function $s(t){"@babel/helpers - typeof";return $s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$s(t)}function es(){return es=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},es.apply(this,arguments)}function oA(t,e){return JH(t)||ZH(t,e)||cC(t,e)||QH()}function QH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZH(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,c,u=[],d=!0,m=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(d=(n=s.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(p){m=!0,a=p}finally{try{if(!d&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(m)throw a}}return u}}function JH(t){if(Array.isArray(t))return t}function lA(t,e){if(t==null)return{};var r=eG(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function eG(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function tG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rG(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,uC(n.key),n)}}function nG(t,e,r){return e&&rG(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function aG(t,e,r){return e=Td(e),iG(t,lC()?Reflect.construct(e,r||[],Td(t).constructor):e.apply(t,r))}function iG(t,e){if(e&&($s(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sG(t)}function sG(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lC(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lC=function(){return!!t})()}function Td(t){return Td=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Td(t)}function oG(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&K0(t,e)}function K0(t,e){return K0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},K0(t,e)}function Ds(t){return uG(t)||cG(t)||cC(t)||lG()}function lG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cC(t,e){if(t){if(typeof t=="string")return Y0(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Y0(t,e)}}function cG(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function uG(t){if(Array.isArray(t))return Y0(t)}function Y0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function cA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function te(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?cA(Object(r),!0).forEach(function(n){Pe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Pe(t,e,r){return e=uC(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uC(t){var e=dG(t,"string");return $s(e)=="symbol"?e:e+""}function dG(t,e){if($s(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($s(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fG={xAxis:["bottom","top"],yAxis:["left","right"]},mG={width:"100%",height:"100%"},dC={x:0,y:0};function Nu(t){return t}var hG=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},pG=function(e,r,n,a){var s=r.find(function(p){return p&&p.index===n});if(s){if(e==="horizontal")return{x:s.coordinate,y:a.y};if(e==="vertical")return{x:a.x,y:s.coordinate};if(e==="centric"){var c=s.coordinate,u=a.radius;return te(te(te({},a),Ze(a.cx,a.cy,u,c)),{},{angle:c,radius:u})}var d=s.coordinate,m=a.angle;return te(te(te({},a),Ze(a.cx,a.cy,d,m)),{},{angle:m,radius:d})}return dC},vf=function(e,r){var n=r.graphicalItems,a=r.dataStartIndex,s=r.dataEndIndex,c=(n??[]).reduce(function(u,d){var m=d.props.data;return m&&m.length?[].concat(Ds(u),Ds(m)):u},[]);return c.length>0?c:e&&e.length&&ue(a)&&ue(s)?e.slice(a,s+1):[]};function fC(t){return t==="number"?[0,"auto"]:void 0}var X0=function(e,r,n,a){var s=e.graphicalItems,c=e.tooltipAxis,u=vf(r,e);return n<0||!s||!s.length||n>=u.length?null:s.reduce(function(d,m){var p,h=(p=m.props.data)!==null&&p!==void 0?p:r;h&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(h=h.slice(e.dataStartIndex,e.dataEndIndex+1));var y;if(c.dataKey&&!c.allowDuplicatedCategory){var x=h===void 0?u:h;y=Tu(x,c.dataKey,a)}else y=h&&h[n]||u[n];return y?[].concat(Ds(d),[YE(m,y)]):d},[])},uA=function(e,r,n,a){var s=a||{x:e.chartX,y:e.chartY},c=hG(s,n),u=e.orderedTooltipTicks,d=e.tooltipAxis,m=e.tooltipTicks,p=fB(c,u,m,d);if(p>=0&&m){var h=m[p]&&m[p].value,y=X0(e,r,p,h),x=pG(n,u,p,s);return{activeTooltipIndex:p,activeLabel:h,activePayload:y,activeCoordinate:x}}return null},gG=function(e,r){var n=r.axes,a=r.graphicalItems,s=r.axisType,c=r.axisIdKey,u=r.stackGroups,d=r.dataStartIndex,m=r.dataEndIndex,p=e.layout,h=e.children,y=e.stackOffset,x=UE(p,s);return n.reduce(function(j,w){var b,k=w.type.defaultProps!==void 0?te(te({},w.type.defaultProps),w.props):w.props,S=k.type,O=k.dataKey,P=k.allowDataOverflow,N=k.allowDuplicatedCategory,A=k.scale,T=k.ticks,D=k.includeHidden,C=k[c];if(j[C])return j;var F=vf(e.data,{graphicalItems:a.filter(function(Y){var ae,fe=c in Y.props?Y.props[c]:(ae=Y.type.defaultProps)===null||ae===void 0?void 0:ae[c];return fe===C}),dataStartIndex:d,dataEndIndex:m}),I=F.length,q,B,V;qH(k.domain,P,S)&&(q=o0(k.domain,null,P),x&&(S==="number"||A!=="auto")&&(V=el(F,O,"category")));var L=fC(S);if(!q||q.length===0){var M,G=(M=k.domain)!==null&&M!==void 0?M:L;if(O){if(q=el(F,O,S),S==="category"&&x){var $=i3(q);N&&$?(B=q,q=pd(0,I)):N||(q=ik(G,q,w).reduce(function(Y,ae){return Y.indexOf(ae)>=0?Y:[].concat(Ds(Y),[ae])},[]))}else if(S==="category")N?q=q.filter(function(Y){return Y!==""&&!Oe(Y)}):q=ik(G,q,w).reduce(function(Y,ae){return Y.indexOf(ae)>=0||ae===""||Oe(ae)?Y:[].concat(Ds(Y),[ae])},[]);else if(S==="number"){var W=yB(F,a.filter(function(Y){var ae,fe,Se=c in Y.props?Y.props[c]:(ae=Y.type.defaultProps)===null||ae===void 0?void 0:ae[c],xe="hide"in Y.props?Y.props.hide:(fe=Y.type.defaultProps)===null||fe===void 0?void 0:fe.hide;return Se===C&&(D||!xe)}),O,s,p);W&&(q=W)}x&&(S==="number"||A!=="auto")&&(V=el(F,O,"category"))}else x?q=pd(0,I):u&&u[C]&&u[C].hasStack&&S==="number"?q=y==="expand"?[0,1]:KE(u[C].stackGroups,d,m):q=qE(F,a.filter(function(Y){var ae=c in Y.props?Y.props[c]:Y.type.defaultProps[c],fe="hide"in Y.props?Y.props.hide:Y.type.defaultProps.hide;return ae===C&&(D||!fe)}),S,p,!0);if(S==="number")q=V0(h,q,C,s,T),G&&(q=o0(G,q,P));else if(S==="category"&&G){var Q=G,z=q.every(function(Y){return Q.indexOf(Y)>=0});z&&(q=Q)}}return te(te({},j),{},Pe({},C,te(te({},k),{},{axisType:s,domain:q,categoricalDomain:V,duplicateDomain:B,originalDomain:(b=k.domain)!==null&&b!==void 0?b:L,isCategorical:x,layout:p})))},{})},yG=function(e,r){var n=r.graphicalItems,a=r.Axis,s=r.axisType,c=r.axisIdKey,u=r.stackGroups,d=r.dataStartIndex,m=r.dataEndIndex,p=e.layout,h=e.children,y=vf(e.data,{graphicalItems:n,dataStartIndex:d,dataEndIndex:m}),x=y.length,j=UE(p,s),w=-1;return n.reduce(function(b,k){var S=k.type.defaultProps!==void 0?te(te({},k.type.defaultProps),k.props):k.props,O=S[c],P=fC("number");if(!b[O]){w++;var N;return j?N=pd(0,x):u&&u[O]&&u[O].hasStack?(N=KE(u[O].stackGroups,d,m),N=V0(h,N,O,s)):(N=o0(P,qE(y,n.filter(function(A){var T,D,C=c in A.props?A.props[c]:(T=A.type.defaultProps)===null||T===void 0?void 0:T[c],F="hide"in A.props?A.props.hide:(D=A.type.defaultProps)===null||D===void 0?void 0:D.hide;return C===O&&!F}),"number",p),a.defaultProps.allowDataOverflow),N=V0(h,N,O,s)),te(te({},b),{},Pe({},O,te(te({axisType:s},a.defaultProps),{},{hide:!0,orientation:Nr(fG,"".concat(s,".").concat(w%2),null),domain:N,originalDomain:P,isCategorical:j,layout:p})))}return b},{})},vG=function(e,r){var n=r.axisType,a=n===void 0?"xAxis":n,s=r.AxisComp,c=r.graphicalItems,u=r.stackGroups,d=r.dataStartIndex,m=r.dataEndIndex,p=e.children,h="".concat(a,"Id"),y=ir(p,s),x={};return y&&y.length?x=gG(e,{axes:y,graphicalItems:c,axisType:a,axisIdKey:h,stackGroups:u,dataStartIndex:d,dataEndIndex:m}):c&&c.length&&(x=yG(e,{Axis:s,graphicalItems:c,axisType:a,axisIdKey:h,stackGroups:u,dataStartIndex:d,dataEndIndex:m})),x},xG=function(e){var r=ga(e),n=Ln(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:wx(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:rd(r,n)}},dA=function(e){var r=e.children,n=e.defaultShowTooltip,a=Sr(r,_s),s=0,c=0;return e.data&&e.data.length!==0&&(c=e.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(s=a.props.startIndex),a.props.endIndex>=0&&(c=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:c,activeTooltipIndex:-1,isTooltipActive:!!n}},bG=function(e){return!e||!e.length?!1:e.some(function(r){var n=Bn(r&&r.type);return n&&n.indexOf("Bar")>=0})},fA=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},wG=function(e,r){var n=e.props,a=e.graphicalItems,s=e.xAxisMap,c=s===void 0?{}:s,u=e.yAxisMap,d=u===void 0?{}:u,m=n.width,p=n.height,h=n.children,y=n.margin||{},x=Sr(h,_s),j=Sr(h,sr),w=Object.keys(d).reduce(function(N,A){var T=d[A],D=T.orientation;return!T.mirror&&!T.hide?te(te({},N),{},Pe({},D,N[D]+T.width)):N},{left:y.left||0,right:y.right||0}),b=Object.keys(c).reduce(function(N,A){var T=c[A],D=T.orientation;return!T.mirror&&!T.hide?te(te({},N),{},Pe({},D,Nr(N,"".concat(D))+T.height)):N},{top:y.top||0,bottom:y.bottom||0}),k=te(te({},b),w),S=k.bottom;x&&(k.bottom+=x.props.height||_s.defaultProps.height),j&&r&&(k=pB(k,a,n,r));var O=m-k.left-k.right,P=p-k.top-k.bottom;return te(te({brushBottom:S},k),{},{width:Math.max(O,0),height:Math.max(P,0)})},jG=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},Zl=function(e){var r=e.chartName,n=e.GraphicalChild,a=e.defaultTooltipEventType,s=a===void 0?"axis":a,c=e.validateTooltipEventTypes,u=c===void 0?["axis"]:c,d=e.axisComponents,m=e.legendContent,p=e.formatAxisMap,h=e.defaultProps,y=function(k,S){var O=S.graphicalItems,P=S.stackGroups,N=S.offset,A=S.updateId,T=S.dataStartIndex,D=S.dataEndIndex,C=k.barSize,F=k.layout,I=k.barGap,q=k.barCategoryGap,B=k.maxBarSize,V=fA(F),L=V.numericAxisName,M=V.cateAxisName,G=bG(O),$=[];return O.forEach(function(W,Q){var z=vf(k.data,{graphicalItems:[W],dataStartIndex:T,dataEndIndex:D}),Y=W.type.defaultProps!==void 0?te(te({},W.type.defaultProps),W.props):W.props,ae=Y.dataKey,fe=Y.maxBarSize,Se=Y["".concat(L,"Id")],xe=Y["".concat(M,"Id")],Le={},Ce=d.reduce(function(Ht,ct){var bi=S["".concat(ct.axisType,"Map")],Xs=Y["".concat(ct.axisType,"Id")];bi&&bi[Xs]||ct.axisType==="zAxis"||ui();var Qs=bi[Xs];return te(te({},Ht),{},Pe(Pe({},ct.axisType,Qs),"".concat(ct.axisType,"Ticks"),Ln(Qs)))},Le),oe=Ce[M],re=Ce["".concat(M,"Ticks")],le=P&&P[Se]&&P[Se].hasStack&&kB(W,P[Se].stackGroups),ne=Bn(W.type).indexOf("Bar")>=0,De=rd(oe,re),Ie=[],at=G&&mB({barSize:C,stackGroups:P,totalSize:jG(Ce,M)});if(ne){var it,vt,gr=Oe(fe)?B:fe,kr=(it=(vt=rd(oe,re,!0))!==null&&vt!==void 0?vt:gr)!==null&&it!==void 0?it:0;Ie=hB({barGap:I,barCategoryGap:q,bandSize:kr!==De?kr:De,sizeList:at[xe],maxBarSize:gr}),kr!==De&&(Ie=Ie.map(function(Ht){return te(te({},Ht),{},{position:te(te({},Ht.position),{},{offset:Ht.position.offset-kr/2})})}))}var Or=W&&W.type&&W.type.getComposedData;Or&&$.push({props:te(te({},Or(te(te({},Ce),{},{displayedData:z,props:k,dataKey:ae,item:W,bandSize:De,barPosition:Ie,offset:N,stackedData:le,layout:F,dataStartIndex:T,dataEndIndex:D}))),{},Pe(Pe(Pe({key:W.key||"item-".concat(Q)},L,Ce[L]),M,Ce[M]),"animationId",A)),childIndex:v3(W,k.children),item:W})}),$},x=function(k,S){var O=k.props,P=k.dataStartIndex,N=k.dataEndIndex,A=k.updateId;if(!bS({props:O}))return null;var T=O.children,D=O.layout,C=O.stackOffset,F=O.data,I=O.reverseStackOrder,q=fA(D),B=q.numericAxisName,V=q.cateAxisName,L=ir(T,n),M=_B(F,L,"".concat(B,"Id"),"".concat(V,"Id"),C,I),G=d.reduce(function(Y,ae){var fe="".concat(ae.axisType,"Map");return te(te({},Y),{},Pe({},fe,vG(O,te(te({},ae),{},{graphicalItems:L,stackGroups:ae.axisType===B&&M,dataStartIndex:P,dataEndIndex:N}))))},{}),$=wG(te(te({},G),{},{props:O,graphicalItems:L}),S?.legendBBox);Object.keys(G).forEach(function(Y){G[Y]=p(O,G[Y],$,Y.replace("Map",""),r)});var W=G["".concat(V,"Map")],Q=xG(W),z=y(O,te(te({},G),{},{dataStartIndex:P,dataEndIndex:N,updateId:A,graphicalItems:L,stackGroups:M,offset:$}));return te(te({formattedGraphicalItems:z,graphicalItems:L,offset:$,stackGroups:M},Q),G)},j=(function(b){function k(S){var O,P,N;return tG(this,k),N=aG(this,k,[S]),Pe(N,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Pe(N,"accessibilityManager",new zH),Pe(N,"handleLegendBBoxUpdate",function(A){if(A){var T=N.state,D=T.dataStartIndex,C=T.dataEndIndex,F=T.updateId;N.setState(te({legendBBox:A},x({props:N.props,dataStartIndex:D,dataEndIndex:C,updateId:F},te(te({},N.state),{},{legendBBox:A}))))}}),Pe(N,"handleReceiveSyncEvent",function(A,T,D){if(N.props.syncId===A){if(D===N.eventEmitterSymbol&&typeof N.props.syncMethod!="function")return;N.applySyncEvent(T)}}),Pe(N,"handleBrushChange",function(A){var T=A.startIndex,D=A.endIndex;if(T!==N.state.dataStartIndex||D!==N.state.dataEndIndex){var C=N.state.updateId;N.setState(function(){return te({dataStartIndex:T,dataEndIndex:D},x({props:N.props,dataStartIndex:T,dataEndIndex:D,updateId:C},N.state))}),N.triggerSyncEvent({dataStartIndex:T,dataEndIndex:D})}}),Pe(N,"handleMouseEnter",function(A){var T=N.getMouseInfo(A);if(T){var D=te(te({},T),{},{isTooltipActive:!0});N.setState(D),N.triggerSyncEvent(D);var C=N.props.onMouseEnter;Ae(C)&&C(D,A)}}),Pe(N,"triggeredAfterMouseMove",function(A){var T=N.getMouseInfo(A),D=T?te(te({},T),{},{isTooltipActive:!0}):{isTooltipActive:!1};N.setState(D),N.triggerSyncEvent(D);var C=N.props.onMouseMove;Ae(C)&&C(D,A)}),Pe(N,"handleItemMouseEnter",function(A){N.setState(function(){return{isTooltipActive:!0,activeItem:A,activePayload:A.tooltipPayload,activeCoordinate:A.tooltipPosition||{x:A.cx,y:A.cy}}})}),Pe(N,"handleItemMouseLeave",function(){N.setState(function(){return{isTooltipActive:!1}})}),Pe(N,"handleMouseMove",function(A){A.persist(),N.throttleTriggeredAfterMouseMove(A)}),Pe(N,"handleMouseLeave",function(A){N.throttleTriggeredAfterMouseMove.cancel();var T={isTooltipActive:!1};N.setState(T),N.triggerSyncEvent(T);var D=N.props.onMouseLeave;Ae(D)&&D(T,A)}),Pe(N,"handleOuterEvent",function(A){var T=y3(A),D=Nr(N.props,"".concat(T));if(T&&Ae(D)){var C,F;/.*touch.*/i.test(T)?F=N.getMouseInfo(A.changedTouches[0]):F=N.getMouseInfo(A),D((C=F)!==null&&C!==void 0?C:{},A)}}),Pe(N,"handleClick",function(A){var T=N.getMouseInfo(A);if(T){var D=te(te({},T),{},{isTooltipActive:!0});N.setState(D),N.triggerSyncEvent(D);var C=N.props.onClick;Ae(C)&&C(D,A)}}),Pe(N,"handleMouseDown",function(A){var T=N.props.onMouseDown;if(Ae(T)){var D=N.getMouseInfo(A);T(D,A)}}),Pe(N,"handleMouseUp",function(A){var T=N.props.onMouseUp;if(Ae(T)){var D=N.getMouseInfo(A);T(D,A)}}),Pe(N,"handleTouchMove",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&N.throttleTriggeredAfterMouseMove(A.changedTouches[0])}),Pe(N,"handleTouchStart",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&N.handleMouseDown(A.changedTouches[0])}),Pe(N,"handleTouchEnd",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&N.handleMouseUp(A.changedTouches[0])}),Pe(N,"handleDoubleClick",function(A){var T=N.props.onDoubleClick;if(Ae(T)){var D=N.getMouseInfo(A);T(D,A)}}),Pe(N,"handleContextMenu",function(A){var T=N.props.onContextMenu;if(Ae(T)){var D=N.getMouseInfo(A);T(D,A)}}),Pe(N,"triggerSyncEvent",function(A){N.props.syncId!==void 0&&gv.emit(yv,N.props.syncId,A,N.eventEmitterSymbol)}),Pe(N,"applySyncEvent",function(A){var T=N.props,D=T.layout,C=T.syncMethod,F=N.state.updateId,I=A.dataStartIndex,q=A.dataEndIndex;if(A.dataStartIndex!==void 0||A.dataEndIndex!==void 0)N.setState(te({dataStartIndex:I,dataEndIndex:q},x({props:N.props,dataStartIndex:I,dataEndIndex:q,updateId:F},N.state)));else if(A.activeTooltipIndex!==void 0){var B=A.chartX,V=A.chartY,L=A.activeTooltipIndex,M=N.state,G=M.offset,$=M.tooltipTicks;if(!G)return;if(typeof C=="function")L=C($,A);else if(C==="value"){L=-1;for(var W=0;W<$.length;W++)if($[W].value===A.activeLabel){L=W;break}}var Q=te(te({},G),{},{x:G.left,y:G.top}),z=Math.min(B,Q.x+Q.width),Y=Math.min(V,Q.y+Q.height),ae=$[L]&&$[L].value,fe=X0(N.state,N.props.data,L),Se=$[L]?{x:D==="horizontal"?$[L].coordinate:z,y:D==="horizontal"?Y:$[L].coordinate}:dC;N.setState(te(te({},A),{},{activeLabel:ae,activeCoordinate:Se,activePayload:fe,activeTooltipIndex:L}))}else N.setState(A)}),Pe(N,"renderCursor",function(A){var T,D=N.state,C=D.isTooltipActive,F=D.activeCoordinate,I=D.activePayload,q=D.offset,B=D.activeTooltipIndex,V=D.tooltipAxisBandSize,L=N.getTooltipEventType(),M=(T=A.props.active)!==null&&T!==void 0?T:C,G=N.props.layout,$=A.key||"_recharts-cursor";return U.createElement(KH,{key:$,activeCoordinate:F,activePayload:I,activeTooltipIndex:B,chartName:r,element:A,isActive:M,layout:G,offset:q,tooltipAxisBandSize:V,tooltipEventType:L})}),Pe(N,"renderPolarAxis",function(A,T,D){var C=Nr(A,"type.axisType"),F=Nr(N.state,"".concat(C,"Map")),I=A.type.defaultProps,q=I!==void 0?te(te({},I),A.props):A.props,B=F&&F[q["".concat(C,"Id")]];return R.cloneElement(A,te(te({},B),{},{className:Me(C,B.className),key:A.key||"".concat(T,"-").concat(D),ticks:Ln(B,!0)}))}),Pe(N,"renderPolarGrid",function(A){var T=A.props,D=T.radialLines,C=T.polarAngles,F=T.polarRadius,I=N.state,q=I.radiusAxisMap,B=I.angleAxisMap,V=ga(q),L=ga(B),M=L.cx,G=L.cy,$=L.innerRadius,W=L.outerRadius;return R.cloneElement(A,{polarAngles:Array.isArray(C)?C:Ln(L,!0).map(function(Q){return Q.coordinate}),polarRadius:Array.isArray(F)?F:Ln(V,!0).map(function(Q){return Q.coordinate}),cx:M,cy:G,innerRadius:$,outerRadius:W,key:A.key||"polar-grid",radialLines:D})}),Pe(N,"renderLegend",function(){var A=N.state.formattedGraphicalItems,T=N.props,D=T.children,C=T.width,F=T.height,I=N.props.margin||{},q=C-(I.left||0)-(I.right||0),B=FE({children:D,formattedGraphicalItems:A,legendWidth:q,legendContent:m});if(!B)return null;var V=B.item,L=lA(B,YH);return R.cloneElement(V,te(te({},L),{},{chartWidth:C,chartHeight:F,margin:I,onBBoxUpdate:N.handleLegendBBoxUpdate}))}),Pe(N,"renderTooltip",function(){var A,T=N.props,D=T.children,C=T.accessibilityLayer,F=Sr(D,We);if(!F)return null;var I=N.state,q=I.isTooltipActive,B=I.activeCoordinate,V=I.activePayload,L=I.activeLabel,M=I.offset,G=(A=F.props.active)!==null&&A!==void 0?A:q;return R.cloneElement(F,{viewBox:te(te({},M),{},{x:M.left,y:M.top}),active:G,label:L,payload:G?V:[],coordinate:B,accessibilityLayer:C})}),Pe(N,"renderBrush",function(A){var T=N.props,D=T.margin,C=T.data,F=N.state,I=F.offset,q=F.dataStartIndex,B=F.dataEndIndex,V=F.updateId;return R.cloneElement(A,{key:A.key||"_recharts-brush",onChange:bu(N.handleBrushChange,A.props.onChange),data:C,x:ue(A.props.x)?A.props.x:I.left,y:ue(A.props.y)?A.props.y:I.top+I.height+I.brushBottom-(D.bottom||0),width:ue(A.props.width)?A.props.width:I.width,startIndex:q,endIndex:B,updateId:"brush-".concat(V)})}),Pe(N,"renderReferenceElement",function(A,T,D){if(!A)return null;var C=N,F=C.clipPathId,I=N.state,q=I.xAxisMap,B=I.yAxisMap,V=I.offset,L=A.type.defaultProps||{},M=A.props,G=M.xAxisId,$=G===void 0?L.xAxisId:G,W=M.yAxisId,Q=W===void 0?L.yAxisId:W;return R.cloneElement(A,{key:A.key||"".concat(T,"-").concat(D),xAxis:q[$],yAxis:B[Q],viewBox:{x:V.left,y:V.top,width:V.width,height:V.height},clipPathId:F})}),Pe(N,"renderActivePoints",function(A){var T=A.item,D=A.activePoint,C=A.basePoint,F=A.childIndex,I=A.isRange,q=[],B=T.props.key,V=T.item.type.defaultProps!==void 0?te(te({},T.item.type.defaultProps),T.item.props):T.item.props,L=V.activeDot,M=V.dataKey,G=te(te({index:F,dataKey:M,cx:D.x,cy:D.y,r:4,fill:Vx(T.item),strokeWidth:2,stroke:"#fff",payload:D.payload,value:D.value},we(L,!1)),Cu(L));return q.push(k.renderActiveDot(L,G,"".concat(B,"-activePoint-").concat(F))),C?q.push(k.renderActiveDot(L,te(te({},G),{},{cx:C.x,cy:C.y}),"".concat(B,"-basePoint-").concat(F))):I&&q.push(null),q}),Pe(N,"renderGraphicChild",function(A,T,D){var C=N.filterFormatItem(A,T,D);if(!C)return null;var F=N.getTooltipEventType(),I=N.state,q=I.isTooltipActive,B=I.tooltipAxis,V=I.activeTooltipIndex,L=I.activeLabel,M=N.props.children,G=Sr(M,We),$=C.props,W=$.points,Q=$.isRange,z=$.baseLine,Y=C.item.type.defaultProps!==void 0?te(te({},C.item.type.defaultProps),C.item.props):C.item.props,ae=Y.activeDot,fe=Y.hide,Se=Y.activeBar,xe=Y.activeShape,Le=!!(!fe&&q&&G&&(ae||Se||xe)),Ce={};F!=="axis"&&G&&G.props.trigger==="click"?Ce={onClick:bu(N.handleItemMouseEnter,A.props.onClick)}:F!=="axis"&&(Ce={onMouseLeave:bu(N.handleItemMouseLeave,A.props.onMouseLeave),onMouseEnter:bu(N.handleItemMouseEnter,A.props.onMouseEnter)});var oe=R.cloneElement(A,te(te({},C.props),Ce));function re(ct){return typeof B.dataKey=="function"?B.dataKey(ct.payload):null}if(Le)if(V>=0){var le,ne;if(B.dataKey&&!B.allowDuplicatedCategory){var De=typeof B.dataKey=="function"?re:"payload.".concat(B.dataKey.toString());le=Tu(W,De,L),ne=Q&&z&&Tu(z,De,L)}else le=W?.[V],ne=Q&&z&&z[V];if(xe||Se){var Ie=A.props.activeIndex!==void 0?A.props.activeIndex:V;return[R.cloneElement(A,te(te(te({},C.props),Ce),{},{activeIndex:Ie})),null,null]}if(!Oe(le))return[oe].concat(Ds(N.renderActivePoints({item:C,activePoint:le,basePoint:ne,childIndex:V,isRange:Q})))}else{var at,it=(at=N.getItemByXY(N.state.activeCoordinate))!==null&&at!==void 0?at:{graphicalItem:oe},vt=it.graphicalItem,gr=vt.item,kr=gr===void 0?A:gr,Or=vt.childIndex,Ht=te(te(te({},C.props),Ce),{},{activeIndex:Or});return[R.cloneElement(kr,Ht),null,null]}return Q?[oe,null,null]:[oe,null]}),Pe(N,"renderCustomized",function(A,T,D){return R.cloneElement(A,te(te({key:"recharts-customized-".concat(D)},N.props),N.state))}),Pe(N,"renderMap",{CartesianGrid:{handler:Nu,once:!0},ReferenceArea:{handler:N.renderReferenceElement},ReferenceLine:{handler:Nu},ReferenceDot:{handler:N.renderReferenceElement},XAxis:{handler:Nu},YAxis:{handler:Nu},Brush:{handler:N.renderBrush,once:!0},Bar:{handler:N.renderGraphicChild},Line:{handler:N.renderGraphicChild},Area:{handler:N.renderGraphicChild},Radar:{handler:N.renderGraphicChild},RadialBar:{handler:N.renderGraphicChild},Scatter:{handler:N.renderGraphicChild},Pie:{handler:N.renderGraphicChild},Funnel:{handler:N.renderGraphicChild},Tooltip:{handler:N.renderCursor,once:!0},PolarGrid:{handler:N.renderPolarGrid,once:!0},PolarAngleAxis:{handler:N.renderPolarAxis},PolarRadiusAxis:{handler:N.renderPolarAxis},Customized:{handler:N.renderCustomized}}),N.clipPathId="".concat((O=S.id)!==null&&O!==void 0?O:Pa("recharts"),"-clip"),N.throttleTriggeredAfterMouseMove=BP(N.triggeredAfterMouseMove,(P=S.throttleDelay)!==null&&P!==void 0?P:1e3/60),N.state={},N}return oG(k,b),nG(k,[{key:"componentDidMount",value:function(){var O,P;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(O=this.props.margin.left)!==null&&O!==void 0?O:0,top:(P=this.props.margin.top)!==null&&P!==void 0?P:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var O=this.props,P=O.children,N=O.data,A=O.height,T=O.layout,D=Sr(P,We);if(D){var C=D.props.defaultIndex;if(!(typeof C!="number"||C<0||C>this.state.tooltipTicks.length-1)){var F=this.state.tooltipTicks[C]&&this.state.tooltipTicks[C].value,I=X0(this.state,N,C,F),q=this.state.tooltipTicks[C].coordinate,B=(this.state.offset.top+A)/2,V=T==="horizontal",L=V?{x:q,y:B}:{y:q,x:B},M=this.state.formattedGraphicalItems.find(function($){var W=$.item;return W.type.name==="Scatter"});M&&(L=te(te({},L),M.props.points[C].tooltipPosition),I=M.props.points[C].tooltipPayload);var G={activeTooltipIndex:C,isTooltipActive:!0,activeLabel:F,activePayload:I,activeCoordinate:L};this.setState(G),this.renderCursor(D),this.accessibilityManager.setIndex(C)}}}},{key:"getSnapshotBeforeUpdate",value:function(O,P){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==P.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==O.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==O.margin){var N,A;this.accessibilityManager.setDetails({offset:{left:(N=this.props.margin.left)!==null&&N!==void 0?N:0,top:(A=this.props.margin.top)!==null&&A!==void 0?A:0}})}return null}},{key:"componentDidUpdate",value:function(O){Pv([Sr(O.children,We)],[Sr(this.props.children,We)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var O=Sr(this.props.children,We);if(O&&typeof O.props.shared=="boolean"){var P=O.props.shared?"axis":"item";return u.indexOf(P)>=0?P:s}return s}},{key:"getMouseInfo",value:function(O){if(!this.container)return null;var P=this.container,N=P.getBoundingClientRect(),A=a5(N),T={chartX:Math.round(O.pageX-A.left),chartY:Math.round(O.pageY-A.top)},D=N.width/P.offsetWidth||1,C=this.inRange(T.chartX,T.chartY,D);if(!C)return null;var F=this.state,I=F.xAxisMap,q=F.yAxisMap,B=this.getTooltipEventType(),V=uA(this.state,this.props.data,this.props.layout,C);if(B!=="axis"&&I&&q){var L=ga(I).scale,M=ga(q).scale,G=L&&L.invert?L.invert(T.chartX):null,$=M&&M.invert?M.invert(T.chartY):null;return te(te({},T),{},{xValue:G,yValue:$},V)}return V?te(te({},T),V):null}},{key:"inRange",value:function(O,P){var N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,A=this.props.layout,T=O/N,D=P/N;if(A==="horizontal"||A==="vertical"){var C=this.state.offset,F=T>=C.left&&T<=C.left+C.width&&D>=C.top&&D<=C.top+C.height;return F?{x:T,y:D}:null}var I=this.state,q=I.angleAxisMap,B=I.radiusAxisMap;if(q&&B){var V=ga(q);return lk({x:T,y:D},V)}return null}},{key:"parseEventsOfWrapper",value:function(){var O=this.props.children,P=this.getTooltipEventType(),N=Sr(O,We),A={};N&&P==="axis"&&(N.props.trigger==="click"?A={onClick:this.handleClick}:A={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var T=Cu(this.props,this.handleOuterEvent);return te(te({},T),A)}},{key:"addListener",value:function(){gv.on(yv,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){gv.removeListener(yv,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(O,P,N){for(var A=this.state.formattedGraphicalItems,T=0,D=A.length;T<D;T++){var C=A[T];if(C.item===O||C.props.key===O.key||P===Bn(C.item.type)&&N===C.childIndex)return C}return null}},{key:"renderClipPath",value:function(){var O=this.clipPathId,P=this.state.offset,N=P.left,A=P.top,T=P.height,D=P.width;return U.createElement("defs",null,U.createElement("clipPath",{id:O},U.createElement("rect",{x:N,y:A,height:T,width:D})))}},{key:"getXScales",value:function(){var O=this.state.xAxisMap;return O?Object.entries(O).reduce(function(P,N){var A=oA(N,2),T=A[0],D=A[1];return te(te({},P),{},Pe({},T,D.scale))},{}):null}},{key:"getYScales",value:function(){var O=this.state.yAxisMap;return O?Object.entries(O).reduce(function(P,N){var A=oA(N,2),T=A[0],D=A[1];return te(te({},P),{},Pe({},T,D.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(O){var P;return(P=this.state.xAxisMap)===null||P===void 0||(P=P[O])===null||P===void 0?void 0:P.scale}},{key:"getYScaleByAxisId",value:function(O){var P;return(P=this.state.yAxisMap)===null||P===void 0||(P=P[O])===null||P===void 0?void 0:P.scale}},{key:"getItemByXY",value:function(O){var P=this.state,N=P.formattedGraphicalItems,A=P.activeItem;if(N&&N.length)for(var T=0,D=N.length;T<D;T++){var C=N[T],F=C.props,I=C.item,q=I.type.defaultProps!==void 0?te(te({},I.type.defaultProps),I.props):I.props,B=Bn(I.type);if(B==="Bar"){var V=(F.data||[]).find(function($){return w7(O,$)});if(V)return{graphicalItem:C,payload:V}}else if(B==="RadialBar"){var L=(F.data||[]).find(function($){return lk(O,$)});if(L)return{graphicalItem:C,payload:L}}else if(cf(C,A)||uf(C,A)||Ll(C,A)){var M=Wq({graphicalItem:C,activeTooltipItem:A,itemData:q.data}),G=q.activeIndex===void 0?M:q.activeIndex;return{graphicalItem:te(te({},C),{},{childIndex:G}),payload:Ll(C,A)?q.data[M]:C.props.data[M]}}}return null}},{key:"render",value:function(){var O=this;if(!bS(this))return null;var P=this.props,N=P.children,A=P.className,T=P.width,D=P.height,C=P.style,F=P.compact,I=P.title,q=P.desc,B=lA(P,XH),V=we(B,!1);if(F)return U.createElement(LO,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},U.createElement(Tv,es({},V,{width:T,height:D,title:I,desc:q}),this.renderClipPath(),jS(N,this.renderMap)));if(this.props.accessibilityLayer){var L,M;V.tabIndex=(L=this.props.tabIndex)!==null&&L!==void 0?L:0,V.role=(M=this.props.role)!==null&&M!==void 0?M:"application",V.onKeyDown=function($){O.accessibilityManager.keyboardEvent($)},V.onFocus=function(){O.accessibilityManager.focus()}}var G=this.parseEventsOfWrapper();return U.createElement(LO,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},U.createElement("div",es({className:Me("recharts-wrapper",A),style:te({position:"relative",cursor:"default",width:T,height:D},C)},G,{ref:function(W){O.container=W}}),U.createElement(Tv,es({},V,{width:T,height:D,title:I,desc:q,style:mG}),this.renderClipPath(),jS(N,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(R.Component);Pe(j,"displayName",r),Pe(j,"defaultProps",te({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),Pe(j,"getDerivedStateFromProps",function(b,k){var S=b.dataKey,O=b.data,P=b.children,N=b.width,A=b.height,T=b.layout,D=b.stackOffset,C=b.margin,F=k.dataStartIndex,I=k.dataEndIndex;if(k.updateId===void 0){var q=dA(b);return te(te(te({},q),{},{updateId:0},x(te(te({props:b},q),{},{updateId:0}),k)),{},{prevDataKey:S,prevData:O,prevWidth:N,prevHeight:A,prevLayout:T,prevStackOffset:D,prevMargin:C,prevChildren:P})}if(S!==k.prevDataKey||O!==k.prevData||N!==k.prevWidth||A!==k.prevHeight||T!==k.prevLayout||D!==k.prevStackOffset||!as(C,k.prevMargin)){var B=dA(b),V={chartX:k.chartX,chartY:k.chartY,isTooltipActive:k.isTooltipActive},L=te(te({},uA(k,O,T)),{},{updateId:k.updateId+1}),M=te(te(te({},B),V),L);return te(te(te({},M),x(te({props:b},M),k)),{},{prevDataKey:S,prevData:O,prevWidth:N,prevHeight:A,prevLayout:T,prevStackOffset:D,prevMargin:C,prevChildren:P})}if(!Pv(P,k.prevChildren)){var G,$,W,Q,z=Sr(P,_s),Y=z&&(G=($=z.props)===null||$===void 0?void 0:$.startIndex)!==null&&G!==void 0?G:F,ae=z&&(W=(Q=z.props)===null||Q===void 0?void 0:Q.endIndex)!==null&&W!==void 0?W:I,fe=Y!==F||ae!==I,Se=!Oe(O),xe=Se&&!fe?k.updateId:k.updateId+1;return te(te({updateId:xe},x(te(te({props:b},k),{},{updateId:xe,dataStartIndex:Y,dataEndIndex:ae}),k)),{},{prevChildren:P,dataStartIndex:Y,dataEndIndex:ae})}return null}),Pe(j,"renderActiveDot",function(b,k,S){var O;return R.isValidElement(b)?O=R.cloneElement(b,k):Ae(b)?O=b(k):O=U.createElement(Ql,k),U.createElement(Re,{className:"recharts-active-dot",key:S},O)});var w=R.forwardRef(function(k,S){return U.createElement(j,es({},k,{ref:S}))});return w.displayName=j.displayName,w},Ls=Zl({chartName:"LineChart",GraphicalChild:ar,axisComponents:[{axisType:"xAxis",AxisComp:lt},{axisType:"yAxis",AxisComp:nt}],formatAxisMap:ff}),ka=Zl({chartName:"BarChart",GraphicalChild:Wt,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:lt},{axisType:"yAxis",AxisComp:nt}],formatAxisMap:ff}),ab=Zl({chartName:"PieChart",GraphicalChild:cn,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:lf},{axisType:"radiusAxis",AxisComp:sf}],formatAxisMap:$B,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),ib=Zl({chartName:"ScatterChart",GraphicalChild:xi,defaultTooltipEventType:"item",validateTooltipEventTypes:["item"],axisComponents:[{axisType:"xAxis",AxisComp:lt},{axisType:"yAxis",AxisComp:nt},{axisType:"zAxis",AxisComp:yf}],formatAxisMap:ff}),SG=Zl({chartName:"AreaChart",GraphicalChild:Wn,axisComponents:[{axisType:"xAxis",AxisComp:lt},{axisType:"yAxis",AxisComp:nt}],formatAxisMap:ff});const Oa={LLM:{ANALYTICS_INSIGHT:"llm/analytics-insight",TRANSITION_REPORT:"llm/transition-report",DATA_QUALITY:"llm/data-quality",TRANSITION_KPIS:"llm/transition-kpis"},LLM_LITE:{ANALYTICS_INSIGHT:"llm-lite/analytics-insight",TRANSITION_REPORT:"llm-lite/transition-report",DATA_QUALITY:"llm-lite/data-quality",TRANSITION_KPIS:"llm-lite/transition-kpis"}},_G="true".toLowerCase()==="true";function xf(t,e){return _G?[e,t]:[t,e]}async function NG(t,e,r={}){const{json:n}=await Cd(xf(Oa.LLM.TRANSITION_REPORT,Oa.LLM_LITE.TRANSITION_REPORT),{datasetPath:t,timeframe:e},r);return n&&typeof n=="object"&&"result"in n?n.result:n}async function kG(t,e,r={}){const{json:n}=await Cd(xf(Oa.LLM.DATA_QUALITY,Oa.LLM_LITE.DATA_QUALITY),{datasetPath:t,timeframe:e},r);return n&&typeof n=="object"&&"result"in n?n.result:n}async function OG(t,e,r={}){const{json:n}=await Cd(xf(Oa.LLM.TRANSITION_KPIS,Oa.LLM_LITE.TRANSITION_KPIS),{datasetPath:t,timeframe:e},r);return n&&typeof n=="object"&&"result"in n?n.result:n}async function AG(t,e,r={}){if(!qr())return{summary:"Live analytics insights require Supabase Edge access. Offline mode is currently active, so mock datasets are displayed without LLM commentary.",key_findings:["Streaming datasets are running on local fallback samples.","Enable `VITE_ENABLE_EDGE_FETCH` with valid Supabase credentials to retrieve real-time insights."],policy_implications:["Offline review mode only provides static summaries.","Re-connect to Supabase to unlock transition impact insights."],confidence:"offline-mode"};const{json:n}=await Cd(xf(Oa.LLM.ANALYTICS_INSIGHT,Oa.LLM_LITE.ANALYTICS_INSIGHT),{datasetPath:t,timeframe:e,queryType:"overview"},r);return n&&typeof n=="object"&&"result"in n?n.result:n}const PG=({datasetPath:t,timeframe:e})=>{const[r,n]=R.useState(null),[a,s]=R.useState(!1),[c,u]=R.useState(null),d=R.useRef(null);R.useEffect(()=>{d.current?.abort();const x=new AbortController;return d.current=x,(async()=>{s(!0),u(null);try{const w=await NG(t,e,{signal:x.signal});x.signal.aborted||n(w)}catch(w){if(w?.name==="AbortError")return;u(w?.message||"Failed to load transition report")}finally{x.signal.aborted||s(!1)}})(),()=>x.abort()},[t,e]);const m=()=>{if(!r)return;const x=new Blob([JSON.stringify(r,null,2)],{type:"application/json"}),j=URL.createObjectURL(x),w=document.createElement("a");w.href=j,w.download=`transition-report_${t}_${e}.json`,document.body.appendChild(w),w.click(),w.remove(),URL.revokeObjectURL(j)},p=Array.isArray(r?.progress)?r.progress:Array.isArray(r?.key_findings)?r.key_findings:[],h=Array.isArray(r?.risks)?r.risks:[],y=Array.isArray(r?.recommendations)?r.recommendations:Array.isArray(r?.policy_implications)?r.policy_implications:[];return o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200",children:[o.jsxs("div",{className:"p-4 border-b border-slate-200 flex items-center justify-between",children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:"Transition Report"}),o.jsxs("button",{onClick:m,disabled:!r,className:"flex items-center space-x-2 text-sm bg-slate-100 hover:bg-slate-200 disabled:opacity-50 px-3 py-2 rounded",children:[o.jsx(AA,{className:"h-4 w-4"}),o.jsx("span",{children:"Download JSON"})]})]}),o.jsxs("div",{className:"p-4",children:[a&&o.jsxs("div",{className:"flex items-center space-x-2 text-slate-600",children:[o.jsx(CA,{className:"h-4 w-4 animate-spin"}),o.jsx("span",{children:"Generating report…"})]}),c&&o.jsx("div",{className:"text-sm text-red-600",children:c}),!a&&!c&&r&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-slate-800 mb-1",children:"Summary"}),o.jsx("p",{className:"text-sm text-slate-700 whitespace-pre-line",children:r.summary})]}),p.length>0&&o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-slate-800 mb-1",children:"Progress"}),o.jsx("ul",{className:"list-disc pl-5 text-sm text-slate-700 space-y-1",children:p.map((x,j)=>o.jsx("li",{children:x},j))})]}),h.length>0&&o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-slate-800 mb-1",children:"Risks"}),o.jsx("ul",{className:"list-disc pl-5 text-sm text-slate-700 space-y-1",children:h.map((x,j)=>o.jsx("li",{children:x},j))})]}),y.length>0&&o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-slate-800 mb-1",children:"Recommendations"}),o.jsx("ul",{className:"list-disc pl-5 text-sm text-slate-700 space-y-1",children:y.map((x,j)=>o.jsx("li",{children:x},j))})]}),r.confidence!==void 0&&r.confidence!==null&&o.jsxs("div",{className:"text-sm text-slate-600",children:[o.jsx("span",{className:"font-medium",children:"Confidence:"})," ",String(r.confidence)]}),Array.isArray(r.sources)&&r.sources.length>0&&o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-slate-800 mb-1",children:"Citations"}),o.jsx("ul",{className:"list-disc pl-5 text-sm text-blue-700 space-y-1",children:r.sources.map((x,j)=>{const w=x?.id||x?.title||"Source",b=x?.last_updated?` (updated: ${x.last_updated})`:"",k=x?.excerpt?String(x.excerpt):"";return o.jsxs("li",{className:"space-y-1",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(TA,{className:"h-3 w-3"}),x?.url?o.jsx("a",{href:x.url,target:"_blank",rel:"noreferrer",className:"underline break-all",children:w}):o.jsxs("span",{className:"break-all",children:[w,b]})]}),k&&o.jsx("div",{className:"text-xs text-slate-600 break-words",children:k}),Array.isArray(x?.snippets)&&x.snippets.length>0&&o.jsx("ul",{className:"list-disc pl-5 text-xs text-slate-600 space-y-0.5",children:x.snippets.map((S,O)=>o.jsxs("li",{className:"break-words",children:[S?.text||"",S?.context?o.jsxs("span",{className:"text-slate-500",children:[" (",S.context,")"]}):null]},O))})]},j)})})]})]})]})]})},EG=({datasetPath:t,timeframe:e})=>{const[r,n]=R.useState(null),[a,s]=R.useState(!1),[c,u]=R.useState(null),d=R.useRef(null);R.useEffect(()=>{d.current?.abort();const y=new AbortController;return d.current=y,(async()=>{s(!0),u(null);try{const j=await kG(t,e,{signal:y.signal});y.signal.aborted||n(j)}catch(j){if(j?.name==="AbortError")return;u(j?.message||"Failed to load data quality summary")}finally{y.signal.aborted||s(!1)}})(),()=>y.abort()},[t,e]);const m=()=>{if(!r)return;const y=new Blob([JSON.stringify(r,null,2)],{type:"application/json"}),x=URL.createObjectURL(y),j=document.createElement("a");j.href=x,j.download=`data-quality_${t}_${e}.json`,document.body.appendChild(j),j.click(),j.remove(),URL.revokeObjectURL(x)},p=Array.isArray(r?.issues)?r.issues:[],h=Array.isArray(r?.recommendations)?r.recommendations:[];return o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200",children:[o.jsxs("div",{className:"p-4 border-b border-slate-200 flex items-center justify-between",children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:"Data Quality"}),o.jsxs("button",{onClick:m,disabled:!r,className:"flex items-center space-x-2 text-sm bg-slate-100 hover:bg-slate-200 disabled:opacity-50 px-3 py-2 rounded",children:[o.jsx(AA,{className:"h-4 w-4"}),o.jsx("span",{children:"Download JSON"})]})]}),o.jsxs("div",{className:"p-4",children:[a&&o.jsxs("div",{className:"flex items-center space-x-2 text-slate-600",children:[o.jsx(CA,{className:"h-4 w-4 animate-spin"}),o.jsx("span",{children:"Analyzing data quality…"})]}),c&&o.jsx("div",{className:"text-sm text-red-600",children:c}),!a&&!c&&r&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-slate-800 mb-1",children:"Summary"}),o.jsx("p",{className:"text-sm text-slate-700 whitespace-pre-line",children:r.summary})]}),p.length>0&&o.jsxs("div",{children:[o.jsxs("h4",{className:"font-semibold text-slate-800 mb-2 flex items-center space-x-2",children:[o.jsx(Fr,{className:"h-4 w-4 text-amber-600"}),o.jsx("span",{children:"Issues"})]}),o.jsx("ul",{className:"list-disc pl-5 text-sm text-slate-700 space-y-1",children:p.map((y,x)=>o.jsx("li",{children:typeof y=="string"?y:`${y.description}${y.severity?` (severity: ${y.severity})`:""}`},x))})]}),h.length>0&&o.jsxs("div",{children:[o.jsxs("h4",{className:"font-semibold text-slate-800 mb-2 flex items-center space-x-2",children:[o.jsx(KM,{className:"h-4 w-4 text-green-600"}),o.jsx("span",{children:"Recommendations"})]}),o.jsx("ul",{className:"list-disc pl-5 text-sm text-slate-700 space-y-1",children:h.map((y,x)=>o.jsx("li",{children:y},x))})]}),r.confidence!==void 0&&r.confidence!==null&&o.jsxs("div",{className:"text-sm text-slate-600",children:[o.jsx("span",{className:"font-medium",children:"Confidence:"})," ",String(r.confidence)]}),Array.isArray(r.sources)&&r.sources.length>0&&o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-slate-800 mb-1",children:"Citations"}),o.jsx("ul",{className:"list-disc pl-5 text-sm text-blue-700 space-y-1",children:r.sources.map((y,x)=>{const j=y?.id||y?.title||"Source",w=y?.last_updated?` (updated: ${y.last_updated})`:"",b=y?.excerpt?String(y.excerpt):"";return o.jsxs("li",{className:"space-y-1",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(TA,{className:"h-3 w-3"}),y?.url?o.jsx("a",{href:y.url,target:"_blank",rel:"noreferrer",className:"underline break-all",children:j}):o.jsxs("span",{className:"break-all",children:[j,w]})]}),b&&o.jsx("div",{className:"text-xs text-slate-600 break-words",children:b}),Array.isArray(y?.snippets)&&y.snippets.length>0&&o.jsx("ul",{className:"list-disc pl-5 text-xs text-slate-600 space-y-0.5",children:y.snippets.map((k,S)=>o.jsxs("li",{className:"break-words",children:[k?.text||"",k?.context?o.jsxs("span",{className:"text-slate-500",children:[" (",k.context,")"]}):null]},S))})]},x)})})]})]})]})]})},TG={sm:"640px",md:"768px",lg:"1024px",xl:"1280px","2xl":"1536px"},CG={1:"0.25rem",2:"0.5rem",3:"0.75rem",4:"1rem",5:"1.25rem",6:"1.5rem",8:"2rem",10:"2.5rem",12:"3rem",16:"4rem",20:"5rem",24:"6rem",32:"8rem"},Ee={page:"max-w-screen-2xl mx-auto px-4 sm:px-6 lg:px-8 py-6",pageNarrow:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-6",pageWide:"max-w-screen-2xl mx-auto px-4 sm:px-6 lg:px-8 py-6",section:"space-y-6",sectionCompact:"space-y-4",sectionSpacious:"space-y-8",card:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",cardHeader:"p-6 border-b border-slate-200",cardBody:"p-6",cardFooter:"p-6 border-t border-slate-200 bg-slate-50",grid12:"grid grid-cols-12 gap-6",gridResponsive:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",gridCards:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",gridCharts:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",gridDashboard:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-6",flexCenter:"flex items-center justify-center",flexBetween:"flex items-center justify-between",flexStart:"flex items-center justify-start",flexColumn:"flex flex-col",flexRow:"flex flex-row",flexWrap:"flex flex-wrap",gap4:"gap-4",gap6:"gap-6",gap8:"gap-8",paddingResponsive:"px-4 sm:px-6 lg:px-8",marginResponsive:"mx-4 sm:mx-6 lg:mx-8"},Yi={small:200,medium:300,large:400,dashboard:250,square:"aspect-square",wide:"aspect-[16/9]",tall:"aspect-[4/3]",container:"w-full h-full min-h-[200px]",responsive:"w-full h-full",dashboardGrid:{charts:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6 mb-6",insights:"grid grid-cols-1 lg:grid-cols-3 gap-6",metrics:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6"}},ve={heading1:"text-3xl lg:text-4xl font-bold text-slate-800 mb-4",heading2:"text-2xl lg:text-3xl font-semibold text-slate-800 mb-3",heading3:"text-xl font-semibold text-slate-800 mb-2",heading4:"text-lg font-semibold text-slate-800 mb-2",body:"text-slate-700 leading-relaxed",bodySmall:"text-sm text-slate-600",caption:"text-xs text-slate-500",metric:"text-2xl font-bold text-slate-800",metricLabel:"text-sm text-slate-600 font-medium",status:"text-sm font-medium",link:"text-blue-600 hover:text-blue-800 transition-colors",button:"text-sm font-medium"},he={primary:{bg:"bg-blue-50",border:"border-blue-200",text:"text-blue-800",accent:"text-blue-600"},success:{bg:"bg-green-50",border:"border-green-200",text:"text-green-800",accent:"text-green-600"},warning:{bg:"bg-yellow-50",border:"border-yellow-200",text:"text-yellow-800",accent:"text-yellow-600"},error:{bg:"bg-red-50",border:"border-red-200",text:"text-red-800",accent:"text-red-600"},info:{bg:"bg-indigo-50",border:"border-indigo-200",text:"text-indigo-800",accent:"text-indigo-600"}},IG={hiddenMobile:"hidden md:block",hiddenDesktop:"block md:hidden",showMobile:"block md:hidden",showDesktop:"hidden md:block",flexColMobile:"flex-col md:flex-row",flexRowMobile:"flex-row md:flex-col",gridColsMobile:"grid-cols-1 md:grid-cols-2 lg:grid-cols-3",gridColsTablet:"grid-cols-2 md:grid-cols-3 lg:grid-cols-4",textResponsive:"text-sm md:text-base",headingResponsive:"text-xl md:text-2xl lg:text-3xl"},MG={fadeIn:"animate-fade-in",fadeInDelay:"animate-fade-in-delayed",fadeInSlow:"animate-fade-in-slow",float:"animate-float",pulseSlow:"animate-pulse-slow",gradient:"animate-gradient-xy"},RG=(t,e=!0)=>{if(e){if(t===1)return"grid grid-cols-1";if(t===2)return"grid grid-cols-1 md:grid-cols-2";if(t===3)return"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3";if(t===4)return"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4";if(t===6)return"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6"}return`grid grid-cols-${t}`},$G=(t,e="padding")=>`${e==="margin"?"m":"p"}-${t}`,DG={breakpoints:TG,spacing:CG,containers:Ee,charts:Yi,text:ve,colors:he,responsive:IG,animations:MG,generateGridClasses:RG,generateSpacingClasses:$G},LG=()=>{const t="provincial_generation",e="recent",[r,n]=R.useState({ontarioDemand:[],provincialGeneration:[],ontarioPrices:[],weatherData:[]}),[a,s]=R.useState([]),[c,u]=R.useState(!0),[d,m]=R.useState(new Date),[p,h]=R.useState({dataSources:4,coverage:13,updateFreq:"Real-time",architecture:"Resilient"}),[y,x]=R.useState(null),j=R.useRef(null),w=R.useRef(null),[b,k]=R.useState(null),[S,O]=R.useState(!1),[P,N]=R.useState(null),A=R.useRef(null),T=r.nationalOverview,D=r.provinceMetrics,C=r.trends,F=R.useCallback(async()=>{w.current?.abort();const re=new AbortController;w.current=re,u(!0);try{const le=re.signal,ne=qr()?Pt(["api-v2-analytics-national-overview","api/analytics/national-overview"],{signal:le}).then(ct=>ct.json).catch(ct=>(console.warn("National overview fallback triggered",ct),null)):Promise.resolve(null),De=qr()?Pt(["api-v2-analytics-provincial-metrics?province=ON&window_days=30","api/analytics/provincial/ON?window_days=30"],{signal:le}).then(ct=>ct.json).catch(ct=>(console.warn("Provincial metrics fallback triggered",ct),null)):Promise.resolve(null),Ie=qr()?Pt(["api-v2-analytics-trends?timeframe=30d","api/analytics/trends?timeframe=30d"],{signal:le}).then(ct=>ct.json).catch(ct=>(console.warn("Trend analytics fallback triggered",ct),null)):Promise.resolve(null),[at,it,vt,gr,kr,Or,Ht]=await Promise.all([yn.loadData("ontario_demand",{maxRows:200,signal:le}),yn.loadData("provincial_generation",{maxRows:500,signal:le}),yn.loadData("ontario_prices",{maxRows:200,signal:le}),yn.loadData("hf_electricity_demand",{maxRows:200,signal:le}),ne,De,Ie]);if(le.aborted)return;n({ontarioDemand:at,provincialGeneration:it,ontarioPrices:vt,weatherData:gr,nationalOverview:kr??void 0,provinceMetrics:Or??void 0,trends:Ht??void 0}),s(yn.getAllConnectionStatuses()),m(new Date)}catch(le){if(le?.name==="AbortError")return;console.error("Error loading dashboard data:",le)}finally{re.signal.aborted||u(!1)}},[]);R.useEffect(()=>{let re=!0;(async()=>{await Promise.all(ya.map(De=>yn.initializeConnection(De.key))),re&&await F()})();const ne=setInterval(()=>{re&&F()},3e4);return()=>{re=!1,clearInterval(ne),w.current?.abort()}},[]),R.useEffect(()=>{j.current?.abort();const re=new AbortController;return j.current=re,(async()=>{if(!qr()){re.signal.aborted||x(null);return}try{const le=await OG("provincial_generation","recent",{signal:re.signal});re.signal.aborted||x(le)}catch(le){if(le?.name==="AbortError")return;console.warn("KPI load failed",le)}})(),()=>re.abort()},[]);const I=R.useCallback(async()=>{A.current?.abort();const re=new AbortController;A.current=re,O(!0),N(null);try{const le=await AG(t,e,{signal:re.signal});re.signal.aborted||k(le)}catch(le){if(le?.name==="AbortError")return;N(le?.message||"Failed to load insights")}finally{re.signal.aborted||O(!1)}},[]);R.useEffect(()=>(I(),()=>A.current?.abort()),[I]);const q=r.provincialGeneration.reduce((re,le)=>{const ne=typeof le.megawatt_hours=="number"?le.megawatt_hours:typeof le.generation_gwh=="number"?le.generation_gwh*1e3:0;return re+ne/1e3},0),B=D?.generation?.total_gwh??T?.generation?.total_generation_gwh??q,V=r.ontarioDemand.length>0?r.ontarioDemand.slice(0,20).map(re=>({time:new Date(re.datetime).toLocaleTimeString("en-CA",{hour:"2-digit",minute:"2-digit",hour12:!1}),demand:Math.round(re.total_demand_mw),temperature:24})):Array.from({length:10},(re,le)=>{const ne=new Date;return ne.setMinutes(ne.getMinutes()-(9-le)*5),{time:ne.toLocaleTimeString("en-CA",{hour:"2-digit",minute:"2-digit",hour12:!1}),demand:14500+Math.random()*1e3,temperature:24}}),L=D?.generation?.by_source?.length?D.generation.by_source.map(re=>({type:String(re.source??"unspecified").replace(/_/g," ").toUpperCase(),gwh:Number(re.generation_gwh??0)})):Array.from(r.provincialGeneration.reduce((re,le)=>{const ne=le.generation_type||le.source||le.province_code||le.province||"UNKNOWN",De=typeof le.megawatt_hours=="number"?le.megawatt_hours:typeof le.generation_gwh=="number"?le.generation_gwh*1e3:0;if(De<=0)return re;const Ie=re.get(ne)??0;return re.set(ne,Ie+De/1e3),re},new Map).entries()).map(([re,le])=>({type:String(re).replace(/_/g," ").toUpperCase(),gwh:Number(le)})),M=L.length>0?L.filter(re=>re.gwh>0).sort((re,le)=>le.gwh-re.gwh).slice(0,6):[{type:"NUCLEAR",gwh:550},{type:"HYDRO",gwh:280},{type:"GAS",gwh:45},{type:"WIND",gwh:28},{type:"SOLAR",gwh:8},{type:"BIOFUEL",gwh:2}],G=r.ontarioPrices.slice(0,20).map(re=>{const De=re.lmp_price??0,Ie=Math.max(.8,Math.min(1.2,De/50));return{label:new Date(re.datetime).toLocaleTimeString("en-CA",{hour:"2-digit",minute:"2-digit",hour12:!1}),supply:Math.round(14706*Ie+(Math.random()-.5)*300),demand:Math.round(12842*Ie+(Math.random()-.5)*250),price:De}}),$=C?.ontario_demand?.map(re=>({label:re.date,demand:re.average_mw??0})),W=$?.length?$:G,Q=!!$?.length,z=r.weatherData.slice(0,30).map(re=>({temperature:re.temperature,correlation:Math.min(1,re.electricity_demand/1e3)})),Y=T?.demand?.ontario_demand_mw??D?.latest_demand?.market_demand_mw??r.ontarioDemand[0]?.total_demand_mw??null;r.weatherData.length>0&&r.weatherData[0]?.temperature;const ae=T?.alberta,fe=ae?.total_gen_mw??G[0]?.supply??null,Se=ae?.total_demand_mw??G[0]?.demand??null,xe=ae?.pool_price_cad??G[0]?.price??null,Le=r.weatherData.length>0&&r.ontarioDemand.length>0?Math.min(1,Math.max(0,.3+Math.random()*.4)):.65,Ce=a.filter(re=>re.status==="connected").length,oe=re=>{try{const le=yn.getConnectionStatus(re);return le?le.source==="stream"?"Stream":"Fallback":"Unknown"}catch{return"Unknown"}};return o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100",children:[o.jsx("div",{className:"hero-glass relative overflow-hidden",children:o.jsx("div",{className:`${Ee.page} py-24 lg:py-32 relative z-10`,children:o.jsxs("div",{className:"text-center",children:[o.jsxs("h1",{className:"hero-title text-5xl lg:text-7xl font-serif font-light mb-6 tracking-tight animate-fade-in",children:["Real-Time Energy",o.jsx("span",{className:"hero-title-accent block font-medium shimmer",children:"Dashboard"})]}),o.jsxs("p",{className:"hero-subtitle text-xl lg:text-2xl font-light max-w-3xl mx-auto leading-relaxed animate-fade-in-delayed",children:["Live monitoring of Canadian energy systems with ",o.jsx("span",{className:"live-indicator text-emerald-300 font-semibold",children:"LIVE"})," insights"]}),o.jsxs("div",{className:"mt-16 grid grid-cols-2 lg:grid-cols-4 gap-6 max-w-5xl mx-auto",children:[o.jsxs("div",{className:"metric-card-glass glass-card-hover float-animation",children:[o.jsx(Qo,{className:"h-10 w-10 text-cyan-400 mx-auto mb-3 glow-electric-pulse"}),o.jsx("div",{className:"text-3xl font-bold text-white mb-1",children:Ce}),o.jsx("div",{className:"text-sm text-blue-200 font-medium",children:"Active Data Sources"})]}),o.jsxs("div",{className:"metric-card-glass glass-card-hover float-animation-delayed",children:[o.jsx(Za,{className:"h-10 w-10 text-emerald-400 mx-auto mb-3 glow-renewable-pulse"}),o.jsx("div",{className:"text-3xl font-bold text-white mb-1",children:p.coverage}),o.jsx("div",{className:"text-sm text-green-200 font-medium",children:"Provinces Covered"})]}),o.jsxs("div",{className:"metric-card-glass glass-card-hover float-animation",children:[o.jsx(mr,{className:"h-10 w-10 text-purple-400 mx-auto mb-3"}),o.jsx("div",{className:"text-3xl font-bold text-white mb-1",children:p.updateFreq}),o.jsx("div",{className:"text-sm text-purple-200 font-medium",children:"Update Frequency"})]}),o.jsxs("div",{className:"metric-card-glass glass-card-hover float-animation-delayed",children:[o.jsx(qt,{className:"h-10 w-10 text-emerald-400 mx-auto mb-3"}),o.jsx("div",{className:"text-3xl font-bold text-white mb-1",children:p.architecture}),o.jsx("div",{className:"text-sm text-emerald-200 font-medium",children:"Architecture"})]})]})]})})}),o.jsxs("div",{className:`${Ee.page} space-y-8 animate-fade-in-slow`,children:[y?.kpis&&o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"p-4 bg-indigo-50 rounded-lg",children:[o.jsx("div",{className:"text-sm text-indigo-600",children:"Total Generation (sample)"}),o.jsxs("div",{className:"text-2xl font-bold text-indigo-800",children:[y.kpis.total_mwh!==null?Math.round(y.kpis.total_mwh).toLocaleString():"—"," MWh"]})]}),o.jsxs("div",{className:"p-4 bg-emerald-50 rounded-lg",children:[o.jsx("div",{className:"text-sm text-emerald-600",children:"Top Source"}),o.jsx("div",{className:"text-2xl font-bold text-emerald-800",children:y.kpis.top_source?y.kpis.top_source.type.toUpperCase():"—"})]}),o.jsxs("div",{className:"p-4 bg-amber-50 rounded-lg",children:[o.jsx("div",{className:"text-sm text-amber-600",children:"Renewable Share"}),o.jsx("div",{className:"text-2xl font-bold text-amber-800",children:y.kpis.renewable_share!==null?`${(y.kpis.renewable_share*100).toFixed(1)}%`:"—"})]})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"glass-card glass-card-electric glass-card-hover",children:[o.jsx("div",{className:Ee.cardHeader,children:o.jsxs("div",{className:Ee.flexBetween,children:[o.jsxs("div",{className:Ee.flexCenter,children:[o.jsx(Qo,{className:"h-6 w-6 text-cyan-400 mr-3 glow-electric"}),o.jsx("h2",{className:`${ve.heading2} text-white`,children:"Real-Time Energy Dashboard"})]}),o.jsxs("div",{className:`${Ee.flexCenter} space-x-4`,children:[o.jsxs("div",{className:`badge-glass ${a.some(re=>re.status==="connected")?"badge-glass-success":"badge-glass-warning"}`,children:[o.jsx("div",{className:`w-2 h-2 rounded-full ${a.some(re=>re.status==="connected")?"bg-emerald-400 glow-renewable":"bg-yellow-400"}`}),o.jsxs("span",{children:[a.filter(re=>re.status==="connected").length,"/",a.length," Connected"]})]}),o.jsx(wt,{id:"dashboard.overview"})]})]})}),o.jsx("div",{className:Ee.cardBody,children:o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"glass-card glass-card-electric text-center p-4 glass-card-hover",children:[o.jsx("div",{className:"text-xs text-cyan-300 font-semibold uppercase tracking-wide mb-2",children:"Data Sources"}),o.jsx("div",{className:"text-3xl font-bold text-white",children:p.dataSources})]}),o.jsxs("div",{className:"glass-card glass-card-renewable text-center p-4 glass-card-hover",children:[o.jsx("div",{className:"text-xs text-emerald-300 font-semibold uppercase tracking-wide mb-2",children:"30-Day Generation"}),o.jsx("div",{className:"text-3xl font-bold text-white",children:B!=null?`${Math.round(B).toLocaleString()} GWh`:"—"})]}),o.jsxs("div",{className:"glass-card glass-card-electric text-center p-4 glass-card-hover",children:[o.jsx("div",{className:"text-xs text-cyan-300 font-semibold uppercase tracking-wide mb-2",children:"Ontario Demand"}),o.jsx("div",{className:"text-3xl font-bold text-white",children:typeof Y=="number"?`${Math.round(Y).toLocaleString()} MW`:"—"})]}),o.jsxs("div",{className:"glass-card glass-card-solar text-center p-4 glass-card-hover",children:[o.jsx("div",{className:"text-xs text-orange-300 font-semibold uppercase tracking-wide mb-2",children:"Alberta Price"}),o.jsx("div",{className:"text-3xl font-bold text-white",children:xe!=null?`$${xe.toFixed(2)}`:"—"})]})]})})]}),o.jsxs("div",{className:Yi.dashboardGrid.charts,children:[o.jsxs("div",{className:"glass-card glass-card-hover",children:[o.jsx("div",{className:Ee.cardHeader,children:o.jsxs("div",{className:Ee.flexBetween,children:[o.jsxs("h3",{className:`${ve.heading3} flex items-center`,children:[o.jsx(mr,{className:"h-5 w-5 mr-2 text-blue-600"}),"Ontario Hourly Demand"]}),o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:`${ve.bodySmall} text-slate-600`,children:"Current Demand"}),o.jsx("div",{className:`${ve.metric} text-blue-600`,children:typeof Y=="number"?`${Math.round(Y).toLocaleString()} MW`:"—"})]})]})}),o.jsxs("div",{className:Ee.cardBody,children:[o.jsx("div",{className:"chart-container",children:o.jsx(St,{width:"100%",height:Yi.dashboard,children:o.jsxs(Ls,{data:V,children:[o.jsx(Tt,{strokeDasharray:"3 3"}),o.jsx(lt,{dataKey:"time"}),o.jsx(nt,{}),o.jsx(We,{}),o.jsx(ar,{type:"monotone",dataKey:"demand",stroke:"#2563eb",strokeWidth:2})]})})}),o.jsx("div",{className:`${ve.caption} text-center mt-2`,children:r.ontarioDemand.length>0?`Data: ${r.ontarioDemand.length} records • Source: ${oe("ontario_demand")}`:c?"Loading data...":"Using sample data • Source: Fallback"})]})]}),o.jsxs("div",{className:Ee.card,children:[o.jsx("div",{className:Ee.cardHeader,children:o.jsxs("div",{className:Ee.flexBetween,children:[o.jsxs("h3",{className:`${ve.heading3} flex items-center`,children:[o.jsx(jt,{className:"h-5 w-5 mr-2 text-green-600"}),"Provincial Generation Mix"]}),o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:`${ve.bodySmall} text-slate-600`,children:"30-Day Total Generation"}),o.jsx("div",{className:`${ve.metric} text-green-600`,children:B!=null?`${Math.round(B).toLocaleString()} GWh`:"—"})]})]})}),o.jsxs("div",{className:Ee.cardBody,children:[o.jsx("div",{className:"chart-container",children:o.jsx(St,{width:"100%",height:Yi.dashboard,children:o.jsxs(ka,{data:M,layout:"horizontal",children:[o.jsx(Tt,{strokeDasharray:"3 3"}),o.jsx(lt,{type:"number"}),o.jsx(nt,{dataKey:"type",type:"category",width:120}),o.jsx(We,{}),o.jsx(Wt,{dataKey:"gwh",fill:"#10b981",name:"Generation (GWh)"})]})})}),o.jsx("div",{className:`${ve.caption} text-center mt-2`,children:D?.period?.start||T?.metadata?.window?.start?`Data window: ${D?.period?.start??T?.metadata?.window?.start} → ${D?.period?.end??T?.metadata?.window?.end}`:r.provincialGeneration.length>0?`Data: ${r.provincialGeneration.length} records • Source: ${oe("provincial_generation")}`:c?"Loading data...":"Using sample data • Source: IESO"})]})]}),o.jsxs("div",{className:Ee.card,children:[o.jsxs("div",{className:Ee.cardHeader,children:[o.jsxs("div",{className:Ee.flexBetween,children:[o.jsxs("h3",{className:`${ve.heading3} flex items-center`,children:[o.jsx(mr,{className:"h-5 w-5 mr-2 text-purple-600"}),Q?"Ontario Demand Trend":"Alberta Supply & Demand"]}),o.jsx("div",{className:"col-span-3 flex justify-end",children:o.jsx(wt,{id:"chart.alberta_supply_demand"})})]}),o.jsxs("div",{className:"mt-2 grid grid-cols-3 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("div",{className:`${ve.bodySmall} text-slate-600`,children:"Supply"}),o.jsx("div",{className:`${ve.metric} text-purple-600`,children:typeof fe=="number"?`${Math.round(fe).toLocaleString()} MW`:"—"})]}),o.jsxs("div",{children:[o.jsx("div",{className:`${ve.bodySmall} text-slate-600`,children:"Demand"}),o.jsx("div",{className:`${ve.metric} text-blue-600`,children:typeof Se=="number"?`${Math.round(Se).toLocaleString()} MW`:Q&&W.length?`${Math.round(W[0]?.demand??0).toLocaleString()} MW`:"—"})]}),o.jsxs("div",{children:[o.jsx("div",{className:`${ve.bodySmall} text-slate-600`,children:"Price"}),o.jsx("div",{className:`${ve.metric} text-orange-600`,children:typeof xe=="number"?`$${xe.toFixed(2)}`:"—"})]})]})]}),o.jsxs("div",{className:Ee.cardBody,children:[o.jsx("div",{className:"chart-container",children:o.jsx(St,{width:"100%",height:Yi.dashboard,children:o.jsxs(Ls,{data:W,children:[o.jsx(Tt,{strokeDasharray:"3 3"}),o.jsx(lt,{dataKey:"label"}),o.jsx(nt,{}),o.jsx(We,{}),o.jsx(sr,{}),Q?o.jsx(ar,{type:"monotone",dataKey:"demand",stroke:"#2563eb",strokeWidth:2,name:"Ontario Demand"}):o.jsxs(o.Fragment,{children:[o.jsx(ar,{type:"monotone",dataKey:"supply",stroke:"#7c3aed",strokeWidth:2,name:"Supply"}),o.jsx(ar,{type:"monotone",dataKey:"demand",stroke:"#2563eb",strokeWidth:2,name:"Demand"})]})]})})}),o.jsx("div",{className:`${ve.caption} text-center mt-2`,children:Q?`Trend window: ${C?.window?.start??"—"} → ${C?.window?.end??"—"} • Source: analytics trends API`:`Data: ${r.ontarioPrices.length} records • Source: ${oe("ontario_prices")}`})]})]}),o.jsxs("div",{className:Ee.card,children:[o.jsx("div",{className:Ee.cardHeader,children:o.jsxs("div",{className:Ee.flexBetween,children:[o.jsxs("h3",{className:`${ve.heading3} flex items-center`,children:[o.jsx(YM,{className:"h-5 w-5 mr-2 text-orange-600"}),"Weather Correlation"]}),o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:`${ve.bodySmall} text-slate-600`,children:"Average Correlation"}),o.jsx("div",{className:`${ve.metric} text-orange-600`,children:Le.toFixed(2)})]})]})}),o.jsxs("div",{className:Ee.cardBody,children:[o.jsx("div",{className:"chart-container",children:o.jsx(St,{width:"100%",height:Yi.dashboard-40,children:o.jsxs(ib,{data:z,children:[o.jsx(Tt,{strokeDasharray:"3 3"}),o.jsx(lt,{dataKey:"temperature",name:"Temperature",unit:"°C"}),o.jsx(nt,{dataKey:"correlation",name:"Correlation"}),o.jsx(We,{cursor:{strokeDasharray:"3 3"}}),o.jsx(xi,{fill:"#f59e0b"})]})})}),o.jsx("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-5 gap-2",children:[{city:"Calgary",temp:"20.9°C",correlation:"0.98"},{city:"Montreal",temp:"23.5°C",correlation:"0.95"},{city:"Ottawa",temp:"26.3°C",correlation:"0.96"},{city:"Edmonton",temp:"21.4°C",correlation:"0.95"},{city:"Toronto",temp:"23.3°C",correlation:"0.95"}].map((re,le)=>o.jsxs("div",{className:"text-center p-2 bg-slate-50 rounded-lg",children:[o.jsx("div",{className:`${ve.bodySmall} font-semibold text-slate-800`,children:re.city}),o.jsx("div",{className:`${ve.caption} text-slate-600`,children:re.temp}),o.jsx("div",{className:`${ve.caption} text-orange-600 font-semibold`,children:re.correlation})]},le))}),o.jsxs("div",{className:`${ve.caption} text-center mt-2`,children:["Data: ",r.weatherData.length," records • Source: ",oe("hf_electricity_demand")]})]})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsx(PG,{datasetPath:"provincial_generation",timeframe:"recent"}),o.jsx(EG,{datasetPath:"provincial_generation",timeframe:"recent"}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200",children:[o.jsxs("div",{className:"p-4 border-b border-slate-200 flex items-center justify-between",children:[o.jsxs("h3",{className:"text-lg font-semibold text-slate-800 flex items-center",children:[o.jsx(ls,{className:"h-5 w-5 mr-2 text-indigo-600"}),"Insights"]}),o.jsx("button",{onClick:I,className:"text-sm text-indigo-600 hover:text-indigo-800",disabled:S,children:S?"Refreshing...":"Refresh"})]}),o.jsxs("div",{className:"p-4 space-y-3",children:[P&&o.jsx("div",{className:"text-sm text-red-600",children:P}),!b&&!P&&o.jsx("div",{className:"text-sm text-slate-500",children:"Loading insights…"}),b&&o.jsxs(o.Fragment,{children:[o.jsx("p",{className:"text-slate-800 text-sm leading-relaxed",children:b.summary}),Array.isArray(b.key_findings)&&b.key_findings.length>0&&o.jsxs("div",{children:[o.jsx("div",{className:"text-xs font-semibold text-slate-600 mb-1",children:"Key findings"}),o.jsx("ul",{className:"list-disc pl-5 text-sm text-slate-700 space-y-1",children:b.key_findings.slice(0,4).map((re,le)=>o.jsx("li",{children:re},le))})]}),Array.isArray(b.policy_implications)&&b.policy_implications.length>0&&o.jsxs("div",{children:[o.jsx("div",{className:"text-xs font-semibold text-slate-600 mb-1",children:"Policy implications"}),o.jsx("ul",{className:"list-disc pl-5 text-sm text-slate-700 space-y-1",children:b.policy_implications.slice(0,4).map((re,le)=>o.jsx("li",{children:re},le))})]}),o.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-500 pt-2 border-t border-slate-100",children:[o.jsxs("span",{children:["Confidence: ",String(b.confidence??"—")]}),o.jsxs("span",{children:["Citations: ",Array.isArray(b.sources)?b.sources.length:0]})]})]})]})]})]})]}),o.jsx("div",{className:"bg-slate-50 rounded-xl p-4 text-center",children:o.jsx("div",{className:"flex items-center justify-center space-x-4 text-sm",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),o.jsxs("span",{className:"text-slate-600",children:["Last updated: ",d.toLocaleTimeString()," •",c?"Refreshing...":"Live streaming active"]})]})})})]})},BG={decimalPlaces:4,convergenceTolerance:1e-6,maxIterations:1e3,minimumIRR:-.99,maximumIRR:1};class FG{config;constructor(e={}){this.config={...BG,...e}}calculateDCF(e,r,n){return e/Math.pow(1+n,r)}calculateNPV(e,r){if(!e||e.length===0)return 0;let n=0;const a=[];for(const s of e){const c=this.calculateDCF(s.amount,s.period,r);a.push(parseFloat(c.toFixed(this.config.decimalPlaces))),n+=c}return parseFloat(n.toFixed(this.config.decimalPlaces))}calculateROI(e,r){return r===0?0:(e-r)/r*100}calculateProfitabilityIndex(e,r){const n=e.filter(u=>u.period>0&&u.amount>0),a=Math.abs(e.find(u=>u.period===0&&u.amount<0)?.amount||0),s=n.map(u=>this.calculateDCF(u.amount,u.period,r)).reduce((u,d)=>u+d,0);if(a===0)return 0;const c=s/a;return parseFloat(c.toFixed(this.config.decimalPlaces))}calculatePaybackPeriod(e,r=0){if(!e||e.length<2)return null;const n=Math.abs(e.find(d=>d.period===0)?.amount||0),a=e.filter(d=>d.period>0).sort((d,m)=>d.period-m.period),s=r>0?a.map(d=>({...d,discountedAmount:this.calculateDCF(d.amount,d.period,r)})):a.map(d=>({...d,discountedAmount:d.amount}));let c=0,u=0;for(let d=0;d<s.length;d++)if(c+=s[d].discountedAmount,c>=n){const m=n-c,p=s[d].discountedAmount,h=m/p;return u=s[d].period-h,parseFloat(u.toFixed(this.config.decimalPlaces))}return null}calculateNPVDerivative(e,r){let n=0;for(const a of e)if(a.period>0){const s=a.period;n-=s*a.amount/Math.pow(1+r,s+1)}return n}calculateIRR(e,r=.1){if(!e||e.length<2)return null;const n=e.some(u=>u.amount>0),a=e.some(u=>u.amount<0);if(!n||!a)return null;let s=r,c=0;for(;c<this.config.maxIterations;){const u=this.calculateNPV(e,s),d=this.calculateNPVDerivative(e,s),m=s-u/d;if(Math.abs(m-s)<this.config.convergenceTolerance&&Math.abs(u)<this.config.convergenceTolerance)return m>=this.config.minimumIRR&&m<=this.config.maximumIRR?parseFloat(m.toFixed(this.config.decimalPlaces)):null;if(m<this.config.minimumIRR||m>this.config.maximumIRR)return null;s=m,c++}return null}validateCashFlowsForIRR(e){const r=[],n=[],a=[...e].sort((p,h)=>p.period-h.period),s=a.map(p=>p.period);for(let p=0;p<=Math.max(...s);p++)s.includes(p)||(r.push(`Missing cash flow for period ${p}`),n.push("Add cash flows for all periods or specify appropriate assumption"));let c=0,u=0;a.forEach(p=>{const h=p.amount>0?1:p.amount<0?-1:0;h!==0&&(h!==u&&u!==0&&c++,u=h)}),c>1&&(r.push(`Multiple sign changes (${c}) may lead to multiple IRRs or computation issues`),n.push("Consider Modified IRR (MIRR) for projects with multiple sign changes"));const m=a.filter(p=>p.period<=2).filter(p=>p.amount===0).length;return m>0&&(r.push(`Zero cash flows in early periods (${m})`),n.push("Verify that early zero cash flows are intentional")),{isValid:r.length===0,issues:r,recommendations:n}}analyzeInvestment(e,r){const n=this.calculateNPV(e,r),a=this.calculateIRR(e),s=this.calculatePaybackPeriod(e,r),c=this.calculateROI(e.filter(h=>h.amount>0).reduce((h,y)=>h+y.amount,0),Math.abs(e.filter(h=>h.amount<0).reduce((h,y)=>h+y.amount,0))),u=this.calculateProfitabilityIndex(e,r),d=Math.abs(e.filter(h=>h.amount<0&&h.period===0).reduce((h,y)=>h+y.amount,0)),m=e.filter(h=>h.amount>0).reduce((h,y)=>h+y.amount,0),p=e.map(h=>this.calculateDCF(h.amount,h.period,r));return{npv:n,irr:a,paybackPeriod:s,roi:c,profitabilityIndex:u,totalInvestment:d,totalReturns:m,discountedCashFlows:p}}}const mA=new FG;class ts{static instance;connections=new Map;webSocketConnections=new Map;dataCache=new Map;eventListeners=new Map;messageListeners=new Map;config;abortControllers=new Map;heartbeatIntervals=new Map;constructor(){this.config={enableLivestream:!0,enableWebSocket:!1,fallbackToMock:!0,cacheExpiryMinutes:5,rateLimitMs:1e3,maxRetries:3},console.log("📊 Final Configuration:",this.config)}static getInstance(){return ts.instance||(ts.instance=new ts),ts.instance}async connectStream(e,r){return console.log(`Creating fallback connection for ${e} (streaming endpoint not available)`),this.createFallbackConnection(e)}async establishEventSourceConnection(e,r){const n=new AbortController;this.abortControllers.set(e.dataset,n);const a=new EventSource(`https://qnymbecjgeaoxsfphrti.supabase.co${r}`);return e.eventSource=a,a.onopen=()=>{e.status="connected",e.lastUpdate=new Date().toISOString(),e.errorCount=0,this.notifyListeners(e.dataset,{type:"connected",connection:e})},a.onmessage=s=>{try{const c=JSON.parse(s.data);if(e.lastUpdate=new Date().toISOString(),c.error||c.message&&c.message.includes("No data available")){console.warn(`No data available for ${e.dataset}:`,c.message||c.error),a.close(),e.status="disconnected",this.notifyListeners(e.dataset,{type:"no_data",connection:e}),this.config.fallbackToMock&&this.createFallbackConnection(e.dataset);return}this.handleStreamingData(e.dataset,c)}catch(c){console.error(`Failed to process ${e.dataset} data:`,c),e.errorCount++,this.notifyListeners(e.dataset,{type:"data_error",error:c})}},a.onerror=s=>{e.status="error",e.errorCount++,e.retryCount++;try{a.close()}catch{}e.errorCount<=3&&console.warn(`Connection error for ${e.dataset}:`,s),this.config.fallbackToMock&&(e.status="disconnected",this.notifyListeners(e.dataset,{type:"disconnected",connection:e}),this.createFallbackConnection(e.dataset))},new Promise((s,c)=>{const u=Date.now(),d=1e4,m=setInterval(()=>{if(e.status==="connected")clearInterval(m),s();else if(Date.now()-u>d){clearInterval(m);try{a.close()}catch(p){console.warn("Failed to close EventSource after timeout",p)}e.status="disconnected",this.notifyListeners(e.dataset,{type:"timeout",connection:e}),this.config.fallbackToMock&&this.createFallbackConnection(e.dataset),s()}},100)})}handleStreamingData(e,r){const n={timestamp:r.timestamp||new Date().toISOString(),dataset:e,source:r.source,values:r.rows||r,metadata:r.metadata};this.dataCache.has(e)||this.dataCache.set(e,[]),this.dataCache.set(e,[...this.dataCache.get(e)||[],n].slice(-100)),setTimeout(()=>{this.dataCache.delete(e)},this.config.cacheExpiryMinutes*60*1e3),this.notifyListeners(e,{type:"data",data:n})}createFallbackConnection(e){const r={id:`${e}_fallback_${Date.now()}`,dataset:e,status:"connected",lastUpdate:new Date().toISOString(),errorCount:0,retryCount:0};return this.connections.set(e,r),this.notifyListeners(e,{type:"fallback",connection:r}),r}getCachedData(e){return this.dataCache.get(e)||[]}onDataUpdate(e,r){const n=this.eventListeners.get(e)??[];return this.eventListeners.set(e,[...n,r]),()=>{const s=(this.eventListeners.get(e)||[]).filter(c=>c!==r);s.length>0?this.eventListeners.set(e,s):this.eventListeners.delete(e)}}onWebSocketMessage(e,r){const n=this.messageListeners.get(e)??[];return this.messageListeners.set(e,[...n,r]),()=>{const s=(this.messageListeners.get(e)||[]).filter(c=>c!==r);s.length>0?this.messageListeners.set(e,s):this.messageListeners.delete(e)}}sendWebSocketMessage(e,r){const n=this.webSocketConnections.get(e);if(!n||n.status!=="connected"||!n.webSocket){console.warn(`WebSocket connection to ${e} not ready`);return}r.timestamp=r.timestamp||new Date().toISOString();try{n.webSocket.send(JSON.stringify(r))}catch(a){console.error("Failed to send WebSocket message:",a),this.notifyWebSocketListeners(e,{type:"send_error",error:a})}}notifyListeners(e,r){(this.eventListeners.get(e)||[]).forEach(a=>{try{a(r)}catch(s){console.error("Error in listener callback:",s)}})}disconnectStream(e){const r=this.connections.get(e);r?.eventSource&&r.eventSource.close();const n=this.abortControllers.get(e);n&&n.abort(),this.connections.delete(e),this.abortControllers.delete(e)}getConnectionStatus(e){return this.connections.get(e)||null}getWebSocketConnectionStatus(e){return this.webSocketConnections.get(e)||null}disconnectWebSocketChannel(e){const r=this.webSocketConnections.get(e);r?.webSocket&&r.status==="connected"&&(r.webSocket.close(1e3,"Normal closure"),r.status="disconnected"),this.heartbeatIntervals.has(e)&&(clearInterval(this.heartbeatIntervals.get(e)),this.heartbeatIntervals.delete(e)),this.webSocketConnections.delete(e),this.notifyWebSocketListeners(e,{type:"disconnected"})}connectWebSocketEndpoint(e,r){const n={id:`${e}_${Date.now()}`,channel:e,status:"connecting",webSocket:r,reconnectCount:0,lastHeartbeat:new Date().toISOString()};this.webSocketConnections.set(e,n);const a=r.onopen,s=r.onmessage,c=r.onerror,u=r.onclose;return r.onopen=d=>{if(a)try{a.call(r,d)}catch(m){console.error(m)}n.status="connected",this.notifyWebSocketListeners(e,{type:"connected",connectionId:n.id}),this.startHeartbeat(e)},r.onmessage=d=>{if(s)try{s.call(r,d)}catch(m){console.error(m)}try{const m=JSON.parse(d.data);m.timestamp=new Date().toISOString(),this.notifyWebSocketListeners(e,m),n.lastHeartbeat=new Date().toISOString()}catch(m){console.error("WebSocket message parse error:",m)}},r.onerror=d=>{if(c)try{c.call(r,d)}catch(m){console.error(m)}n.status="error",this.notifyWebSocketListeners(e,{type:"error"}),this.handleWebSocketReconnect(e)},r.onclose=d=>{if(u)try{u.call(r,d)}catch(m){console.error(m)}n.status="disconnected",n.reconnectCount=0,this.heartbeatIntervals.has(e)&&(clearInterval(this.heartbeatIntervals.get(e)),this.heartbeatIntervals.delete(e)),this.notifyWebSocketListeners(e,{type:"disconnected"})},n}sendWebSocketPayload(e,r){const n=this.webSocketConnections.get(e);n?.webSocket?.readyState===WebSocket.OPEN&&n.webSocket.send(JSON.stringify(r))}handleWebSocketReconnect(e){const r=this.webSocketConnections.get(e);if(!r||r.reconnectCount>=this.config.maxRetries)return;r.reconnectCount++;const n=Math.min(1e3*Math.pow(2,r.reconnectCount),3e4);setTimeout(()=>{console.log(`WebSocket reconnection attempt ${r.reconnectCount} for ${e}`)},n)}startHeartbeat(e){this.heartbeatIntervals.has(e)&&clearInterval(this.heartbeatIntervals.get(e));const r=setInterval(()=>{const n=this.webSocketConnections.get(e);if(n?.status==="connected"){this.sendWebSocketPayload(e,{type:"ping",payload:{timestamp:Date.now()},timestamp:new Date().toISOString(),senderId:"system"});const a=new Date(n.lastHeartbeat).getTime();Date.now()-a>45e3&&(console.warn(`WebSocket heartbeat failed for ${e}`),n.status="error",this.handleWebSocketReconnect(e))}},15e3);this.heartbeatIntervals.set(e,r)}notifyWebSocketListeners(e,r){(this.messageListeners.get(e)||[]).forEach(a=>{try{a(r)}catch(s){console.error("WebSocket listener error:",s)}})}updateConfig(e){this.config={...this.config,...e}}}const ol=ts.getInstance();function bf(t){const[e,r]=R.useState([]),[n,a]=R.useState("disconnected"),[s,c]=R.useState(!1),[u,d]=R.useState(null);return R.useEffect(()=>{let m=!0;d(null);const p=ol.onDataUpdate(t,h=>{if(m)if(h.type==="data")r(y=>[...y,h.data].slice(-50)),d(null);else if(h.type==="connected")a("connected"),c(!0),d(null);else if(h.type==="fallback")a("connected"),c(!1),d("Using fallback data");else if(h.type==="disconnected"||h.type==="error"){a("error"),c(!1);const y=typeof h.error=="string"?h.error:h.error?.message;d(y??"Connection lost")}else h.type==="connecting"&&a("connecting")});return ol.connectStream(t,`/functions/v1/stream-${t}`).then(h=>{m&&a(h.status)}).catch(h=>{console.error(`Failed to connect to ${t} stream:`,h),m&&(a("error"),c(!1),d(h.message))}),()=>{m=!1,p()}},[t]),{data:e,connectionStatus:n,isUsingRealData:s,error:u,setData:r}}const zG=()=>{const{data:t,connectionStatus:e,isUsingRealData:r}=bf("ontario-demand"),[n,a]=R.useState([]),[s,c]=R.useState(!0),[u,d]=R.useState(!1),m=R.useCallback((h,y,x)=>{const w=y*8760*.12;return[{id:1,name:x?`Ontario Solar Investment (${h.toLocaleString()} MW demand)`:"Ontario Solar Farm",description:x?`Real-time solar investment based on current Ontario electricity demand of ${h.toLocaleString()} MW at ${(y*100).toFixed(1)}¢/kWh`:"Large-scale photovoltaic installation",cashFlows:[{amount:-(h*1500*.8),period:0,description:"Capital investment"},{amount:h*w*.15,period:1,description:"Year 1 revenue"},{amount:h*w*.18,period:2,description:"Year 2 revenue"},{amount:h*w*.22,period:3,description:"Year 3 revenue"},{amount:h*w*.25,period:4,description:"Year 4 revenue"},{amount:h*w*.28,period:5,description:"Year 5 revenue"}],discountRate:.08,analysis:void 0},{id:2,name:x?"Battery Storage for Peak Demand":"Battery Storage System",description:x?`Grid stabilization for ${h.toLocaleString()} MW Ontario demand`:"4MW battery storage system",cashFlows:[{amount:-(h*400),period:0,description:"Battery system capital"},{amount:h*80,period:1,description:"Peak shaving revenue"},{amount:h*90,period:2,description:"Grid services revenue"},{amount:h*95,period:3,description:"Frequency regulation"},{amount:h*100,period:4,description:"Ancillary services"}],discountRate:.1,analysis:void 0},{id:3,name:x?`Wind Development (${(h*.6).toLocaleString()} MW capacity)`:"Wind Energy Project",description:x?`Offshore wind farm development for ${h.toLocaleString()} MW peak demand`:"Offshore wind farm with 50 turbines",cashFlows:[{amount:-(h*2e3),period:0,description:"Wind farm development"},{amount:h*w*.18,period:1,description:"Year 1 wind energy revenue"},{amount:h*w*.2,period:2,description:"Year 2 wind energy revenue"},{amount:h*w*.22,period:3,description:"Year 3 wind energy revenue"},{amount:h*w*.24,period:4,description:"Year 4 wind energy revenue"},{amount:h*w*.26,period:5,description:"Year 5 wind energy revenue"}],discountRate:.12,analysis:void 0}]},[]);R.useEffect(()=>{if(t.length>0){const h=t[t.length-1],y=h.values.demand_mw||1e4,x=h.values.price_cents_kwh||8.5,w=m(y,x,r).map(b=>{if(!b.analysis){const k=mA.analyzeInvestment(b.cashFlows,b.discountRate);return{...b,analysis:k}}return b});a(w),c(!1),d(!r)}else if(t.length===0&&(e==="connected"||e==="error")){const y=m(12e3,9.2,!1).map(x=>({...x,analysis:mA.analyzeInvestment(x.cashFlows,x.discountRate)}));a(y),c(!1),d(!0)}},[t,r,e,m]);const p=U.useMemo(()=>{const h=n.filter(j=>j.analysis),y=h.reduce((j,w)=>j+(w.analysis?.npv||0),0),x=h.reduce((j,w)=>j+Math.abs(w.cashFlows[0]?.amount||0),0);return{totalNPV:y,totalInvestment:x,netReturn:y-x}},[n]);return s?o.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(mr,{className:"h-6 w-6 animate-spin text-blue-600"}),o.jsx("span",{className:"text-slate-600",children:"Loading investment analysis..."})]})}):o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100",children:[o.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-r from-emerald-900 via-green-900 to-teal-900",children:[o.jsxs("div",{className:"absolute inset-0",children:[o.jsx("div",{className:"absolute inset-0 bg-black/30"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 via-transparent to-transparent"})]}),o.jsx("div",{className:Ee.page,children:o.jsxs("div",{className:"text-center",children:[o.jsxs("h1",{className:"text-4xl lg:text-6xl font-serif font-light text-white mb-6 tracking-tight animate-fade-in",children:["Investment Portfolio",o.jsx("span",{className:"block text-transparent bg-clip-text bg-gradient-to-r from-emerald-400 to-green-400 font-medium",children:"Analysis"})]}),o.jsx("p",{className:`${ve.body} text-xl lg:text-2xl text-green-100 font-light max-w-3xl mx-auto leading-relaxed animate-fade-in-delayed`,children:"AI-powered financial analysis with real-time market data integration"})]})})]}),o.jsxs("div",{className:Ee.page,children:[o.jsxs("div",{className:Ee.gridDashboard,children:[o.jsx("div",{className:`${he.success.bg} p-6 rounded-xl border ${he.success.border} hover:shadow-lg transition-all duration-300`,children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(nn,{className:`h-8 w-8 ${he.success.accent}`}),o.jsxs("div",{children:[o.jsx("div",{className:`${ve.metricLabel} ${he.success.accent}`,children:"Total NPV"}),o.jsxs("div",{className:`${ve.metric} ${he.success.text}`,children:["$",(p.totalNPV/1e6).toFixed(1),"M"]})]})]})}),o.jsx("div",{className:`${he.primary.bg} p-6 rounded-xl border ${he.primary.border} hover:shadow-lg transition-all duration-300`,children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(mr,{className:`h-8 w-8 ${he.primary.accent}`}),o.jsxs("div",{children:[o.jsx("div",{className:`${ve.metricLabel} ${he.primary.accent}`,children:"Total Investment"}),o.jsxs("div",{className:`${ve.metric} ${he.primary.text}`,children:["$",(p.totalInvestment/1e6).toFixed(1),"M"]})]})]})}),o.jsx("div",{className:`${he.info.bg} p-6 rounded-xl border ${he.info.border} hover:shadow-lg transition-all duration-300`,children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(oj,{className:`h-8 w-8 ${he.info.accent}`}),o.jsxs("div",{children:[o.jsx("div",{className:`${ve.metricLabel} ${he.info.accent}`,children:"Net Return"}),o.jsxs("div",{className:`${ve.metric} ${he.info.text}`,children:["$",(p.netReturn/1e6).toFixed(1),"M"]})]})]})}),o.jsx("div",{className:`${he.warning.bg} p-6 rounded-xl border ${he.warning.border} hover:shadow-lg transition-all duration-300`,children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(nn,{className:`h-8 w-8 ${he.warning.accent}`}),o.jsxs("div",{children:[o.jsx("div",{className:`${ve.metricLabel} ${he.warning.accent}`,children:"Portfolio Health"}),o.jsx("div",{className:`${ve.metric} ${he.warning.text}`,children:p.totalNPV>0?"Strong":"Attention Needed"})]})]})})]}),o.jsxs("div",{className:`${he.info.bg} p-6 rounded-xl border ${he.info.border} mb-8`,children:[o.jsx("h3",{className:`${ve.heading3} ${he.info.text} mb-4`,children:"AI Risk Analysis Summary"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("div",{className:`${ve.body} font-semibold ${he.info.accent}`,children:"Market Risk"}),o.jsx("div",{className:`${ve.body} ${he.info.text}`,children:"Low - Strong renewable demand"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("div",{className:`${ve.body} font-semibold ${he.info.accent}`,children:"Regulatory Risk"}),o.jsx("div",{className:`${ve.body} ${he.info.text}`,children:"Medium - Policy changes possible"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("div",{className:`${ve.body} font-semibold ${he.info.accent}`,children:"Technology Risk"}),o.jsx("div",{className:`${ve.body} ${he.info.text}`,children:"Low - Proven technologies in use"})]})]})]})]}),o.jsx("div",{className:`px-6 py-4 rounded-lg text-sm border mx-6 mb-6 ${r&&e==="connected"?`${he.success.bg} border ${he.success.border} ${he.success.text}`:u?`${he.primary.bg} border ${he.primary.border} ${he.primary.text}`:`${he.warning.bg} border ${he.warning.border} ${he.warning.text}`}`,children:o.jsx("div",{className:Ee.flexBetween,children:r&&e==="connected"?o.jsxs(o.Fragment,{children:[o.jsx(tx,{className:`h-5 w-5 ${he.success.accent}`}),o.jsxs("div",{className:"flex-1 ml-4",children:[o.jsx("div",{className:`${ve.body} font-semibold ${he.success.text}`,children:"🎯 LIVE Ontario Market Data"}),o.jsxs("div",{className:`${ve.bodySmall} ${he.success.text} opacity-80`,children:["Investments calculated from real-time IESO demand data",t.length>0&&t[t.length-1]&&` (${t[t.length-1].values.demand_mw?.toLocaleString()||"0"} MW demand)`]})]})]}):u?o.jsxs(o.Fragment,{children:[o.jsx(oj,{className:`h-5 w-5 ${he.primary.accent}`}),o.jsxs("div",{className:"flex-1 ml-4",children:[o.jsx("div",{className:`${ve.body} font-semibold ${he.primary.text}`,children:"💡 Enhanced Analysis Mode"}),o.jsx("div",{className:`${ve.bodySmall} ${he.primary.text} opacity-80`,children:"Using calculated models with Ontario market conditions"})]})]}):o.jsxs(o.Fragment,{children:[o.jsx($A,{className:`h-5 w-5 ${he.warning.accent}`}),o.jsxs("div",{className:"flex-1 ml-4",children:[o.jsx("div",{className:`${ve.body} font-semibold ${he.warning.text}`,children:e==="connecting"?"🔄 Connecting...":"⚠️ Connection Issue"}),o.jsx("div",{className:`${ve.bodySmall} ${he.warning.text} opacity-80`,children:e==="connecting"?"Establishing connection to live market data":"Using enhanced calculation models"})]})]})})}),o.jsx("div",{className:`${Ee.page} pb-8`,children:o.jsx("div",{className:DG.generateGridClasses(3,!0),children:n.map(h=>{const{npv:y,irr:x}=h.analysis||{};return o.jsxs("div",{className:`${Ee.card} hover:shadow-xl transition-all duration-500 hover:scale-[1.02] group`,children:[o.jsx("div",{className:`${Ee.cardHeader} bg-gradient-to-r from-emerald-600 to-green-600 text-white group-hover:from-emerald-700 group-hover:to-green-700 transition-all duration-300`,children:o.jsx("div",{className:Ee.flexBetween,children:o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:`${ve.heading3} mb-2 text-white`,children:h.name}),o.jsx("p",{className:`${ve.body} text-emerald-100 text-sm leading-relaxed`,children:h.description})]})})}),o.jsxs("div",{className:Ee.cardBody,children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[o.jsxs("div",{className:`text-center p-4 bg-gradient-to-br ${he.success.bg} rounded-xl border ${he.success.border} group-hover:shadow-md transition-all duration-300`,children:[o.jsx("div",{className:`${ve.bodySmall} ${he.success.accent} mb-2 font-semibold`,children:"NPV"}),o.jsxs("div",{className:`${ve.metric} ${he.success.text}`,children:["$",y?(y/1e6).toFixed(2):"—","M"]})]}),o.jsxs("div",{className:`text-center p-4 bg-gradient-to-br ${he.primary.bg} rounded-xl border ${he.primary.border} group-hover:shadow-md transition-all duration-300`,children:[o.jsx("div",{className:`${ve.bodySmall} ${he.primary.accent} mb-2 font-semibold`,children:"IRR"}),o.jsx("div",{className:`${ve.metric} ${he.primary.text}`,children:x?`${(x*100).toFixed(1)}%`:"—"})]})]}),o.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg border border-slate-200",children:[o.jsx("span",{className:`${ve.body} font-semibold text-slate-700`,children:"Discount Rate:"}),o.jsxs("span",{className:`${ve.body} ml-2 ${he.primary.accent} font-bold`,children:[(h.discountRate*100).toFixed(1),"%"]})]}),r&&e==="connected"&&o.jsxs("div",{className:`${Ee.flexBetween} mt-6 pt-4 border-t border-slate-200/50`,children:[o.jsxs("div",{className:`flex items-center space-x-2 ${ve.bodySmall} ${he.success.accent}`,children:[o.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),o.jsx("span",{className:"font-semibold",children:"Auto-updating every minute"})]}),o.jsxs("div",{className:`${ve.caption} text-slate-500`,children:["Last updated: ",t.length>0&&new Date(t[t.length-1]?.timestamp||Date.now()).toLocaleTimeString("en-CA",{hour12:!1,timeZone:"America/Toronto"})]})]})]})]},h.id)})})})]})};var Ut=(t=>(t.FLOODING="flooding",t.WILDFIRE="wildfire",t.HURRICANE="hurricane",t.SEA_LEVEL_RISE="sea_level_rise",t.EXTREME_HEAT="extreme_heat",t.DROUGHT="drought",t.LANDSLIDE="landslide",t.EROSION="erosion",t))(Ut||{}),Mn=(t=>(t.POWER_GRID="power_grid",t.WATER_SYSTEMS="water_systems",t.TRANSPORTATION="transportation",t.TELECOMMUNICATIONS="telecommunications",t.HEALTHCARE="healthcare",t.EMERGENCY_SERVICES="emergency_services",t.CRITICAL_MANUFACTURING="critical_manufacturing",t.FINANCIAL_SERVICES="financial_services",t))(Mn||{});class qG{calculateHazardScore(e,r,n,a=7){const s=n/10,c=a/10,d={power_grid:{flooding:.8,wildfire:.6,hurricane:.7,sea_level_rise:.5,extreme_heat:.6,drought:.3,landslide:.4,erosion:.5},healthcare:{flooding:.9,wildfire:.5,hurricane:.8,sea_level_rise:.7,extreme_heat:.6,drought:.4,landslide:.3,erosion:.3},water_systems:{},transportation:{},telecommunications:{},emergency_services:{},critical_manufacturing:{},financial_services:{}}[r]?.[e]||.5,m=s*d*c;return Math.min(m*100,100)}assessOverallResilience(e,r){const n={};for(const[p,h]of Object.entries(r))n[p]=this.calculateHazardScore(p,e.assetType,h,e.currentCondition);const a={flooding:.25,hurricane:.25,sea_level_rise:.2,extreme_heat:.15,wildfire:.15,drought:.1,landslide:.08,erosion:.12};let s=0,c=0;for(const[p,h]of Object.entries(a))p in n&&(s+=n[p]*h,c+=h);c===0?s=0:s=s/c;const u=1+e.criticalDependents/1e5*.3,d=Math.min(s*u,100);let m;return d>=80?m="critical":d>=60?m="high":d>=40?m="medium":m="low",{overallScore:Math.round(d),hazardBreakdown:n,riskLevel:m}}}const UG={formatRiskScore:t=>`${t.toFixed(1)}%`,getRiskLevelInfo:t=>{const e={low:{description:"Minimal Resilience Risk",className:"text-green-700 bg-green-100 border-green-200"},medium:{description:"Moderate Resilience Risk",className:"text-yellow-700 bg-yellow-100 border-yellow-200"},high:{description:"Significant Resilience Risk",className:"text-orange-700 bg-orange-100 border-orange-200"},critical:{description:"Extreme Resilience Risk",className:"text-red-700 bg-red-100 border-red-200"}};return e[t]||e.low}},hA={coastalOntario:{flooding:75,hurricane:45,sea_level_rise:60,extreme_heat:80,wildfire:25,drought:35,landslide:15,erosion:50},interiorBC:{wildfire:85,extreme_heat:70,flooding:35,sea_level_rise:15,drought:60,landslide:40,hurricane:25,erosion:20}},xv=new qG;class WG{STORAGE_PREFIX="ceip_";VERSION="1.0";KEYS={INDIGENOUS_PROJECTS:`${this.STORAGE_PREFIX}indigenous_projects`,INVESTMENT_PROJECTS:`${this.STORAGE_PREFIX}investment_projects`,COMPLIANCE_RECORDS:`${this.STORAGE_PREFIX}compliance_records`,MINERALS_SUPPLY:`${this.STORAGE_PREFIX}minerals_supply`,USER_PREFERENCES:`${this.STORAGE_PREFIX}user_preferences`,DATA_VERSION:`${this.STORAGE_PREFIX}data_version`};constructor(){this.initializeStorage()}initializeStorage(){const e=localStorage.getItem(this.KEYS.DATA_VERSION);(!e||e!==this.VERSION)&&(this.migrateData(e),localStorage.setItem(this.KEYS.DATA_VERSION,this.VERSION))}migrateData(e){e||this.initializeSampleData()}initializeSampleData(){const e=[{id:"indigenous_001",created_at:new Date().toISOString(),updated_at:new Date().toISOString(),data_source:"user_input",governance_status:"approved",name:"Treaty 5 Wind Energy Partnership",territory_id:"treaty5_001",territory_name:"Treaty 5 Territory",community:"Cree, Ojibwe, Dene",traditional_territory:"Treaty 5 Territory - Northern Manitoba",consultation_status:"completed",fpic_status:"obtained",benefit_sharing:{revenue_share_percent:15,employment_commitments:["50% local hiring","Training programs"],capacity_building:["Technical training","Project management"]},impact_assessment:{cultural_impact:"low",environmental_impact:"medium",economic_impact:"high",spiritual_impact:"low"},consultation_log:[{date:"2024-12-15",participants:["Chief Johnson","Council Members","Project Team"],topics:["Environmental impact","Revenue sharing","Employment"],outcomes:["Agreement on 15% revenue share","Local hiring commitment"],next_steps:["Finalize legal agreements","Begin construction planning"]}]}],r=[{id:"investment_001",created_at:new Date().toISOString(),updated_at:new Date().toISOString(),data_source:"user_input",project_name:"Ontario Solar Farm Development",project_type:"renewable",total_investment_cad:25e7,funding_sources:[{source:"Canada Infrastructure Bank",amount_cad:1e8,type:"loan"},{source:"Private Equity",amount_cad:15e7,type:"equity"}],financial_metrics:{npv_cad:45e6,irr_percent:8.5,payback_years:12,lcoe_cad_per_mwh:65},esg_scores:{environmental_score:92,social_score:78,governance_score:85},risk_assessment:{market_risk:"medium",technology_risk:"low",regulatory_risk:"low",overall_risk_score:35},project_status:"approved",expected_ghg_reduction_tonnes_co2e:125e3}];this.saveData(this.KEYS.INDIGENOUS_PROJECTS,e),this.saveData(this.KEYS.INVESTMENT_PROJECTS,r)}formatKey(e){return e.startsWith(this.STORAGE_PREFIX)?e:`${this.STORAGE_PREFIX}${e}`}getDataset(e){return this.loadData(this.formatKey(e))}setDataset(e,r){this.saveData(this.formatKey(e),r)}saveData(e,r){try{localStorage.setItem(e,JSON.stringify(r))}catch(n){throw console.error(`Error saving data to ${e}:`,n),new Error(`Failed to save data: ${n}`)}}loadData(e){try{const r=localStorage.getItem(e);return r?JSON.parse(r):[]}catch(r){return console.error(`Error loading data from ${e}:`,r),[]}}getIndigenousProjects(){return this.loadData(this.KEYS.INDIGENOUS_PROJECTS)}addIndigenousProject(e){const r=this.getIndigenousProjects(),n={...e,id:`indigenous_${Date.now()}`,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};return r.push(n),this.saveData(this.KEYS.INDIGENOUS_PROJECTS,r),n.id}updateIndigenousProject(e,r){const n=this.getIndigenousProjects(),a=n.findIndex(s=>s.id===e);return a===-1?!1:(n[a]={...n[a],...r,updated_at:new Date().toISOString()},this.saveData(this.KEYS.INDIGENOUS_PROJECTS,n),!0)}getInvestmentProjects(){return this.loadData(this.KEYS.INVESTMENT_PROJECTS)}addInvestmentProject(e){const r=this.getInvestmentProjects(),n={...e,id:`investment_${Date.now()}`,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};return r.push(n),this.saveData(this.KEYS.INVESTMENT_PROJECTS,r),n.id}getComplianceRecords(){return this.loadData(this.KEYS.COMPLIANCE_RECORDS)}addComplianceRecord(e){const r=this.getComplianceRecords(),n={...e,id:`compliance_${Date.now()}`,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};return r.push(n),this.saveData(this.KEYS.COMPLIANCE_RECORDS,r),n.id}getMineralsSupply(){return this.loadData(this.KEYS.MINERALS_SUPPLY)}addMineralsSupplyRecord(e){const r=this.getMineralsSupply(),n={...e,id:`minerals_${Date.now()}`,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};return r.push(n),this.saveData(this.KEYS.MINERALS_SUPPLY,r),n.id}exportAllData(){const e={version:this.VERSION,exported_at:new Date().toISOString(),indigenous_projects:this.getIndigenousProjects(),investment_projects:this.getInvestmentProjects(),compliance_records:this.getComplianceRecords(),minerals_supply:this.getMineralsSupply()};return JSON.stringify(e,null,2)}importData(e){try{const r=JSON.parse(e);return r.indigenous_projects&&this.saveData(this.KEYS.INDIGENOUS_PROJECTS,r.indigenous_projects),r.investment_projects&&this.saveData(this.KEYS.INVESTMENT_PROJECTS,r.investment_projects),r.compliance_records&&this.saveData(this.KEYS.COMPLIANCE_RECORDS,r.compliance_records),r.minerals_supply&&this.saveData(this.KEYS.MINERALS_SUPPLY,r.minerals_supply),!0}catch(r){return console.error("Error importing data:",r),!1}}clearAllData(){Object.values(this.KEYS).forEach(e=>{localStorage.removeItem(e)}),this.initializeSampleData()}getStorageStats(){let e=0;Object.values(this.KEYS).forEach(a=>{const s=localStorage.getItem(a);s&&(e+=s.length)});const r=5*1024*1024,n=e/r*100;return{used:e,available:r,percentage:n}}}const Lr=new WG;class rs{static instance;constructor(){}static getInstance(){return rs.instance||(rs.instance=new rs),rs.instance}async getGridStatus(){const e=Lr.getDataset("grid_status");if(e&&e.length>0)return e;const n=[{name:"Ontario",baseLoad:15e3,renewablePercent:25},{name:"Quebec",baseLoad:12e3,renewablePercent:95},{name:"Alberta",baseLoad:8500,renewablePercent:15},{name:"British Columbia",baseLoad:7200,renewablePercent:85},{name:"Saskatchewan",baseLoad:2800,renewablePercent:20},{name:"Manitoba",baseLoad:2400,renewablePercent:98}].map((a,s)=>{const c=Math.sin(Date.now()/1e3/3600*2*Math.PI)*.2+1,u=Math.round(a.baseLoad*c*(.9+Math.random()*.2)),d=Math.round(u*(1.05+Math.random()*.1));return{id:`grid_${a.name.toLowerCase().replace(" ","_")}_${Date.now()}`,region:a.name,timestamp:new Date().toISOString(),load_mw:u,generation_mw:d,renewable_percentage:a.renewablePercent+(Math.random()-.5)*5,grid_frequency_hz:60+(Math.random()-.5)*.1,voltage_stability:Math.random()>.9?"warning":"stable",congestion_level:Math.random()>.8?"high":Math.random()>.5?"medium":"low",reserve_margin_percent:15+Math.random()*10,interconnection_flows:[{connection:`${a.name}-US`,flow_mw:Math.round((Math.random()-.5)*1e3),direction:Math.random()>.5?"export":"import"}]}});return Lr.setDataset("grid_status",n),n}async getMineralsSupplyData(){const e=Lr.getDataset("minerals_supply");if(e&&e.length>0)return e;const r=[{id:"mineral_lithium_001",mineral_type:"lithium",source_country:"Canada",source_mine:"Whabouchi Mine, Quebec",annual_production_tonnes:23e3,reserves_tonnes:12e5,price_usd_per_tonne:75e3,supply_risk_score:3.2,transportation_routes:[{route_id:"route_lithium_001",origin:"Whabouchi, QC",destination:"Port of Montreal",transport_mode:"truck",capacity_tonnes_annual:5e4,risk_factors:["Weather delays","Road conditions"]}],processing_facilities:[{facility_id:"proc_lithium_001",location:"Shawinigan, QC",capacity_tonnes_annual:3e4,processing_stage:"refining"}]},{id:"mineral_nickel_001",mineral_type:"nickel",source_country:"Canada",source_mine:"Sudbury Basin, Ontario",annual_production_tonnes:18e4,reserves_tonnes:35e5,price_usd_per_tonne:18500,supply_risk_score:2.1,transportation_routes:[{route_id:"route_nickel_001",origin:"Sudbury, ON",destination:"Thunder Bay Port",transport_mode:"rail",capacity_tonnes_annual:2e5,risk_factors:["Rail capacity constraints"]}],processing_facilities:[{facility_id:"proc_nickel_001",location:"Sudbury, ON",capacity_tonnes_annual:2e5,processing_stage:"refining"}]},{id:"mineral_copper_001",mineral_type:"copper",source_country:"Canada",source_mine:"Highland Valley Copper, BC",annual_production_tonnes:12e4,reserves_tonnes:28e5,price_usd_per_tonne:8500,supply_risk_score:2.8,transportation_routes:[{route_id:"route_copper_001",origin:"Kamloops, BC",destination:"Port of Vancouver",transport_mode:"rail",capacity_tonnes_annual:15e4,risk_factors:["Port congestion","Weather delays"]}],processing_facilities:[{facility_id:"proc_copper_001",location:"Vancouver, BC",capacity_tonnes_annual:13e4,processing_stage:"refining"}]},{id:"mineral_cobalt_001",mineral_type:"cobalt",source_country:"Canada",source_mine:"Cobalt Hill, Ontario",annual_production_tonnes:4500,reserves_tonnes:85e3,price_usd_per_tonne:35e3,supply_risk_score:4.1,transportation_routes:[{route_id:"route_cobalt_001",origin:"Cobalt, ON",destination:"Port of Montreal",transport_mode:"truck",capacity_tonnes_annual:8e3,risk_factors:["Limited transport capacity","Seasonal access"]}],processing_facilities:[{facility_id:"proc_cobalt_001",location:"Timmins, ON",capacity_tonnes_annual:6e3,processing_stage:"extraction"}]}];return Lr.setDataset("minerals_supply",r),r}async getInfrastructureAssets(){const e=Lr.getDataset("infrastructure_assets");if(e&&e.length>0)return e;const r=[{id:"asset_transmission_001",asset_type:"transmission_line",name:"Ontario-Quebec Interconnection",location:{latitude:45.4215,longitude:-75.6972,province:"Ontario",municipality:"Ottawa"},capacity_mw:2250,age_years:35,condition_score:7.2,climate_risk_assessment:{flood_risk:"medium",wildfire_risk:"low",extreme_weather_risk:"high",sea_level_rise_risk:"low"},resilience_measures:[{measure_type:"Weather monitoring systems",implementation_status:"completed",cost_cad:25e5,effectiveness_score:8.5},{measure_type:"Underground cable sections",implementation_status:"planned",cost_cad:45e6,effectiveness_score:9.2}]},{id:"asset_generation_001",asset_type:"generation_plant",name:"Robert-Bourassa Generating Station",location:{latitude:53.7886,longitude:-77.4275,province:"Quebec",municipality:"Radisson"},capacity_mw:5616,age_years:45,condition_score:8.8,climate_risk_assessment:{flood_risk:"low",wildfire_risk:"medium",extreme_weather_risk:"medium",sea_level_rise_risk:"low"},resilience_measures:[{measure_type:"Flood protection systems",implementation_status:"completed",cost_cad:12e6,effectiveness_score:9.5},{measure_type:"Backup control systems",implementation_status:"completed",cost_cad:85e5,effectiveness_score:8.8}]},{id:"asset_substation_001",asset_type:"substation",name:"Pickering Transmission Station",location:{latitude:43.8354,longitude:-79.0849,province:"Ontario",municipality:"Pickering"},capacity_mw:1200,age_years:28,condition_score:7.8,climate_risk_assessment:{flood_risk:"high",wildfire_risk:"low",extreme_weather_risk:"high",sea_level_rise_risk:"medium"},resilience_measures:[{measure_type:"Flood barriers",implementation_status:"in_progress",cost_cad:32e5,effectiveness_score:8},{measure_type:"Equipment hardening",implementation_status:"planned",cost_cad:55e5,effectiveness_score:7.5}]},{id:"asset_wind_001",asset_type:"generation_plant",name:"Wolfe Island Wind Farm",location:{latitude:44.1667,longitude:-76.4667,province:"Ontario",municipality:"Frontenac Islands"},capacity_mw:197.8,age_years:15,condition_score:8.5,climate_risk_assessment:{flood_risk:"low",wildfire_risk:"low",extreme_weather_risk:"high",sea_level_rise_risk:"medium"},resilience_measures:[{measure_type:"Wind-resistant turbine design",implementation_status:"completed",cost_cad:18e5,effectiveness_score:9},{measure_type:"Lightning protection systems",implementation_status:"completed",cost_cad:45e4,effectiveness_score:8.2}]},{id:"asset_solar_001",asset_type:"generation_plant",name:"Sarnia Solar Farm",location:{latitude:42.9994,longitude:-82.3089,province:"Ontario",municipality:"Sarnia"},capacity_mw:97,age_years:12,condition_score:8.9,climate_risk_assessment:{flood_risk:"medium",wildfire_risk:"low",extreme_weather_risk:"medium",sea_level_rise_risk:"low"},resilience_measures:[{measure_type:"Hail-resistant panels",implementation_status:"completed",cost_cad:85e4,effectiveness_score:8.7},{measure_type:"Drainage improvements",implementation_status:"completed",cost_cad:32e4,effectiveness_score:7.8}]}];return Lr.setDataset("infrastructure_assets",r),r}async updateGridStatus(e,r){const a=(await this.getGridStatus()).map(s=>s.region===e?{...s,...r,timestamp:new Date().toISOString()}:s);Lr.setDataset("grid_status",a)}async addMineralSupplySource(e){const r=await this.getMineralsSupplyData();r.push(e),Lr.setDataset("minerals_supply",r)}async updateInfrastructureAsset(e,r){const a=(await this.getInfrastructureAssets()).map(s=>s.id===e?{...s,...r}:s);Lr.setDataset("infrastructure_assets",a)}async getSupplyChainRiskAnalysis(){const e=await this.getMineralsSupplyData(),r=e.reduce((a,s)=>a+s.supply_risk_score,0)/e.length,n=e.filter(a=>a.supply_risk_score>3.5).map(a=>a.mineral_type);return{overall_risk_score:r,critical_minerals:n,supply_disruption_probability:r*.2,mitigation_recommendations:["Diversify supply sources for critical minerals","Increase strategic reserves for high-risk materials","Develop domestic processing capabilities","Establish alternative transportation routes"]}}async getGridOptimizationRecommendations(){const e=await this.getGridStatus(),r=[{type:"Demand Response Program",description:"Implement smart grid demand response to reduce peak load",impact:"high",implementation_cost:25e6,payback_years:3.2},{type:"Energy Storage Integration",description:"Deploy battery storage to balance renewable intermittency",impact:"high",implementation_cost:45e6,payback_years:5.8},{type:"Grid Modernization",description:"Upgrade transmission infrastructure for better efficiency",impact:"medium",implementation_cost:12e7,payback_years:8.5}],a=e.reduce((s,c)=>s+c.load_mw,0)*.15*8760;return{recommendations:r,potential_savings_mwh:a,reliability_improvement_percent:12.5}}async getClimateResilienceAssessment(){const e=await this.getInfrastructureAssets(),r=e.reduce((s,c)=>s+c.condition_score,0)/e.length,n=e.filter(s=>s.condition_score<7).length,a=e.reduce((s,c)=>s+c.resilience_measures.filter(u=>u.implementation_status!=="completed").reduce((u,d)=>u+d.cost_cad,0),0);return{overall_resilience_score:r,high_risk_assets:n,adaptation_investment_needed:a,priority_actions:["Upgrade flood protection for coastal assets","Implement wildfire prevention measures","Enhance extreme weather monitoring","Develop emergency response protocols"]}}}const mC=rs.getInstance(),bv={current_2c:{label:"Current Trajectory (+2°C)",description:"Moderate warming scenario with current policy settings."},high_emissions_4c:{label:"High Emissions (+4°C)",description:"High-risk scenario assuming limited mitigation."},ambitious_1_5c:{label:"Ambitious (+1.5°C)",description:"Aggressive mitigation pathway aligned with Paris targets."}},pA=[10,20,30,50],gA=t=>{switch((t??"").toLowerCase()){case"water_systems":case"water":return Mn.WATER_SYSTEMS;case"transportation":case"transport":return Mn.TRANSPORTATION;case"telecommunications":case"telecom":return Mn.TELECOMMUNICATIONS;case"healthcare":return Mn.HEALTHCARE;case"transmission_line":case"substation":case"generation_plant":case"distribution_center":case"power":case"emergency_services":case"emergency":return Mn.EMERGENCY_SERVICES;case"critical_manufacturing":case"manufacturing":return Mn.CRITICAL_MANUFACTURING;case"financial_services":case"financial":return Mn.FINANCIAL_SERVICES;case"power_grid":case"grid":case"electric":default:return Mn.POWER_GRID}},wv=t=>({[Ut.FLOODING]:Number(t?.flooding??0),[Ut.WILDFIRE]:Number(t?.wildfire??0),[Ut.HURRICANE]:Number(t?.hurricane??0),[Ut.SEA_LEVEL_RISE]:Number(t?.sea_level_rise??0),[Ut.EXTREME_HEAT]:Number(t?.extreme_heat??0),[Ut.DROUGHT]:Number(t?.drought??0),[Ut.LANDSLIDE]:Number(t?.landslide??0),[Ut.EROSION]:Number(t?.erosion??0)}),HG=t=>new Intl.NumberFormat("en-CA",{maximumFractionDigits:0}).format(t),yA=t=>new Intl.NumberFormat("en-CA",{style:"currency",currency:"CAD",maximumFractionDigits:0}).format(t),GG=()=>{const[t,e]=R.useState([]),[r,n]=R.useState([]),[a,s]=R.useState(""),[c,u]=R.useState("current_2c"),[d,m]=R.useState(20),[p,h]=R.useState(!1),[y,x]=R.useState(null),[j,w]=R.useState(!1),b=R.useCallback(async B=>{const V=await mC.getInfrastructureAssets(),L=($,W)=>Object.entries($).reduce((Q,[z,Y])=>(Q[z]=Math.min(100,Math.max(0,Math.round(Y*W))),Q),{}),M=V.map(($,W)=>({asset_uuid:$.id,id:$.id,name:$.name,asset_type:$.asset_type,assetType:gA($.asset_type),latitude:$.location.latitude,longitude:$.location.longitude,currentValue:$.capacity_mw*1e6,dependents:Math.max(0,Math.round($.capacity_mw*1200)),currentCondition:$.condition_score,vulnerability_score:null,adaptation_cost:$.resilience_measures?.reduce((Q,z)=>Q+(z.cost_cad??0),0)??null,population_served:null,climate_region:$.location.province})),G=V.flatMap($=>{const Q=($.location.province||"").toLowerCase().includes("british columbia")?hA.interiorBC:hA.coastalOntario,z={current_2c:Q,high_emissions_4c:L(Q,1.2),ambitious_1_5c:L(Q,.8)};return Object.entries(z).flatMap(([Y,ae])=>pA.map(fe=>{const Se=1+(fe-20)/40,xe=L(ae,Se);return{asset_id:$.id,scenario:Y,time_horizon_years:fe,flooding:xe[Ut.FLOODING]??0,wildfire:xe[Ut.WILDFIRE]??0,hurricane:xe[Ut.HURRICANE]??0,sea_level_rise:xe[Ut.SEA_LEVEL_RISE]??0,extreme_heat:xe[Ut.EXTREME_HEAT]??0,drought:xe[Ut.DROUGHT]??0,landslide:xe[Ut.LANDSLIDE]??0,erosion:xe[Ut.EROSION]??0,overall_risk:void 0,generated_at:new Date().toISOString()}}))});e(M),n(G),s($=>$||(M[0]?.asset_uuid??"")),x(B||"Using locally generated resilience dataset while Supabase APIs are unavailable."),w(!0)},[]);R.useEffect(()=>{(async()=>{if(h(!0),x(null),w(!1),!qr()){await b(),h(!1);return}try{const[V,L]=await Promise.all([Pt(["api-v2-resilience-assets"]),Pt(["api-v2-resilience-hazards"])]),M=(Array.isArray(V.json?.assets)?V.json.assets:Array.isArray(V.json)?V.json:[]).map(($,W)=>{const Q=String($.asset_uuid??$.id??`asset-${W}`);return{asset_uuid:Q,id:Q,name:$.name??$.asset_name??"Unknown asset",asset_type:$.asset_type??$.type??null,assetType:gA($.asset_type??$.type),latitude:Number($.latitude??$.lat??0),longitude:Number($.longitude??$.lng??0),currentValue:Number($.current_value??$.valuation??0),dependents:Number($.dependents??$.population_served??0),currentCondition:Number($.current_condition??$.condition_score??7),vulnerability_score:$.vulnerability_score??null,adaptation_cost:$.adaptation_cost??null,population_served:$.population_served??null,climate_region:$.climate_region??null}}),G=(Array.isArray(L.json?.hazards)?L.json.hazards:Array.isArray(L.json)?L.json:[]).map($=>({asset_id:String($.asset_uuid??$.asset_id??$.asset??""),scenario:String($.scenario??$.climate_scenario??"current_2c").toLowerCase(),time_horizon_years:Number($.time_horizon_years??$.time_horizon??20),flooding:$.flooding??0,wildfire:$.wildfire??0,hurricane:$.hurricane??0,sea_level_rise:$.sea_level_rise??0,extreme_heat:$.extreme_heat??0,drought:$.drought??0,landslide:$.landslide??0,erosion:$.erosion??0,overall_risk:$.overall_risk??$.overall_score??0,generated_at:$.generated_at}));e(M),n(G),!a&&M.length>0&&s(M[0].asset_uuid),w(!1)}catch(V){const L=V instanceof Error?V.message:String(V),M=/failed to fetch/i.test(L)||/cors/i.test(L),G=/500/.test(L),$=M?"Supabase Edge denied the resilience request (likely CORS or auth). Using local resilience dataset instead.":G?"API temporarily unavailable. Using local resilience dataset instead.":void 0;M||G?console.warn("ℹ️ Resilience API unavailable, using local data (this is normal in development):",L):console.error("Failed to load resilience datasets",V),await b($)}finally{h(!1)}})()},[b]);const k=R.useMemo(()=>t.find(B=>B.asset_uuid===a)??null,[t,a]),S=R.useMemo(()=>{if(!k)return null;const B=k.asset_uuid;return r.find(V=>V.asset_id===B&&V.scenario===c&&V.time_horizon_years===d)??null},[r,k,c,d]),O=R.useMemo(()=>wv(S),[S]),P=R.useMemo(()=>{if(!k)return null;const B={id:k.asset_uuid,name:k.name,assetType:k.assetType,currentCondition:k.currentCondition,latitude:k.latitude,longitude:k.longitude,criticalDependents:Math.max(k.dependents??k.population_served??0,0)},V=xv.assessOverallResilience(B,O);return{asset:k,hazardRecord:O,assessment:V}},[k,O]),N=R.useMemo(()=>Object.entries(P?.hazardRecord??{}).map(([B,V])=>({hazard:B.replace(/_/g," ").toUpperCase(),risk:V})),[P]),A=R.useMemo(()=>t.map(B=>{const V=r.find(Q=>Q.asset_id===B.asset_uuid&&Q.scenario===c&&Q.time_horizon_years===d),L=wv(V),M={id:B.asset_uuid,name:B.name,assetType:B.assetType,currentCondition:B.currentCondition,latitude:B.latitude,longitude:B.longitude,criticalDependents:Math.max(B.dependents??B.population_served??0,0)},G=xv.assessOverallResilience(M,L),$=B.asset_type??B.assetType,W=typeof $=="string"?$:B.assetType;return{x:B.longitude,y:B.latitude,risk:G.overallScore,name:B.name,type:W.toString().replace(/_/g," ").toUpperCase()}}).filter(B=>Number.isFinite(B.x)&&Number.isFinite(B.y)),[t,r,c,d]),T=R.useMemo(()=>k?Object.entries(bv).map(([B,V])=>{const L=r.find(W=>W.asset_id===k.asset_uuid&&W.scenario===B&&W.time_horizon_years===d),M=wv(L),G={id:k.asset_uuid,name:k.name,assetType:k.assetType,currentCondition:k.currentCondition,latitude:k.latitude,longitude:k.longitude,criticalDependents:Math.max(k.dependents??k.population_served??0,0)},$=xv.assessOverallResilience(G,M);return{scenario:V.label,risk:$.overallScore}}):[],[k,r,d]);if(p)return o.jsx("div",{className:"flex items-center justify-center min-h-[320px]",children:o.jsx("span",{className:"text-slate-600",children:"Loading resilience insights…"})});if(!P||!k)return o.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[320px] space-y-3",children:[o.jsx(Br,{className:"h-10 w-10 text-slate-400"}),o.jsx("span",{className:"text-slate-600",children:"No resilience data available yet."}),y&&o.jsx("span",{className:"text-sm text-red-600",children:y})]});const D=Math.max(P.asset.dependents??P.asset.population_served??0,0),C=P.asset.currentValue>0?P.asset.currentValue*.1:0,F=P.asset.currentValue>0?P.asset.currentValue*.3:0,I=bv[c],q=UG.getRiskLevelInfo(P.assessment.riskLevel);return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-slate-200",children:[o.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[o.jsx("div",{className:"bg-red-500 p-3 rounded-lg",children:o.jsx(Br,{className:"h-8 w-8 text-white"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Infrastructure Resilience Map"}),o.jsx("p",{className:"text-slate-600",children:"Live risk assessments across climate scenarios for critical energy infrastructure."})]})]}),y&&o.jsx("div",{className:`${j?"bg-amber-50 border border-amber-200 text-amber-700":"bg-red-50 border border-red-200 text-red-700"} rounded-lg p-3 mb-4`,children:y}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Climate Scenario"}),o.jsx("select",{value:c,onChange:B=>u(B.target.value),className:"w-full border border-slate-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500",children:Object.entries(bv).map(([B,V])=>o.jsx("option",{value:B,children:V.label},B))}),I&&o.jsx("p",{className:"text-xs text-slate-500 mt-1",children:I.description})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Time Horizon"}),o.jsx("select",{value:d,onChange:B=>m(Number(B.target.value)),className:"w-full border border-slate-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500",children:pA.map(B=>o.jsxs("option",{value:B,children:[B," Years"]},B))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Critical Asset"}),o.jsx("select",{value:a,onChange:B=>s(B.target.value),className:"w-full border border-slate-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500",children:t.map(B=>o.jsx("option",{value:B.asset_uuid,children:B.name},B.asset_uuid))})]})]}),o.jsx("div",{className:"bg-slate-50 rounded-lg p-4",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-slate-800",children:P.assessment.overallScore}),o.jsx("div",{className:"text-sm text-slate-600",children:"Risk Score"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:`text-xl font-semibold ${q.className}`,children:q.description}),o.jsx("div",{className:"text-sm text-slate-600",children:"Risk Level"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-slate-800",children:HG(D)}),o.jsx("div",{className:"text-sm text-slate-600",children:"People Dependent"})]})]})})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200",children:[o.jsx("div",{className:"p-4 border-b border-slate-200",children:o.jsxs("h3",{className:"text-lg font-semibold text-slate-800 flex items-center",children:[o.jsx(Za,{className:"h-5 w-5 mr-2 text-blue-600"}),"Infrastructure Vulnerability Map"]})}),o.jsx("div",{className:"p-4",children:o.jsxs("div",{className:"bg-slate-100 rounded-lg p-6 space-y-2",children:[A.length===0&&o.jsx("div",{className:"text-center text-slate-500 text-sm",children:"No geographic data available."}),A.map((B,V)=>o.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg",style:{borderLeft:`4px solid ${B.risk>=80?"#ef4444":B.risk>=60?"#f97316":B.risk>=40?"#f59e0b":"#22c55e"}`},children:[o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-slate-800",children:B.name}),o.jsx("div",{className:"text-sm text-slate-600",children:B.type})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:"font-semibold text-slate-800",children:B.risk}),o.jsx("div",{className:"text-xs text-slate-500",children:"Risk Score"})]})]},`${B.name}-${V}`))]})})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200",children:[o.jsx("div",{className:"p-4 border-b border-slate-200",children:o.jsxs("h3",{className:"text-lg font-semibold text-slate-800 flex items.CENTER",children:[o.jsx(jt,{className:"h-5 w-5 mr-2 text-purple-600"}),"Scenario Comparison"]})}),o.jsxs("div",{className:"p-4",children:[o.jsx(St,{width:"100%",height:250,children:o.jsxs(Ls,{data:T,children:[o.jsx(Tt,{strokeDasharray:"3 3"}),o.jsx(lt,{dataKey:"scenario"}),o.jsx(nt,{domain:[0,100]}),o.jsx(We,{}),o.jsx(ar,{type:"monotone",dataKey:"risk",stroke:"#8b5cf6",strokeWidth:3,dot:{r:6}})]})}),o.jsxs("div",{className:"mt-2 text-sm text-slate-600",children:["Risk scores for ",P.asset.name," across climate scenarios at ",d," years."]})]})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200",children:[o.jsx("div",{className:"p-4 border-b border-slate-200",children:o.jsxs("h3",{className:"text-lg font-semibold text-slate-800 flex items-center",children:[o.jsx(XM,{className:"h-5 w-5 mr-2 text-green-600"}),"AI Resilience Insights"]})}),o.jsxs("div",{className:"p-4 space-y-3",children:[o.jsxs("div",{className:"bg-green-50 p-3 rounded-lg",children:[o.jsx("div",{className:"font-medium text-green-800 mb-1",children:"Priority Reconnections"}),o.jsx("div",{className:"text-sm text-green-700",children:P.assessment.riskLevel==="high"||P.assessment.riskLevel==="critical"?`Immediate resilience investment recommended for ${P.asset.name}. Prioritise redundancy, flood-hardening, and rapid response plans.`:"Risk is manageable; maintain monitoring cadence and schedule preventative maintenance."})]}),o.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg",children:[o.jsx("div",{className:"font-medium text-blue-800 mb-1",children:"Adaptation Budget Envelope"}),o.jsxs("div",{className:"text-sm text-blue-700",children:["Estimated adaptation cost range: ",yA(C)," – ",yA(F)," ","over ",d," years."]})]})]})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 xl:col-span-3",children:[o.jsx("div",{className:"p-4 border-b border-slate-200",children:o.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:"Climate Hazard Breakdown"})}),o.jsx("div",{className:"p-4",children:o.jsx(St,{width:"100%",height:300,children:o.jsxs(ka,{data:N,children:[o.jsx(Tt,{strokeDasharray:"3 3"}),o.jsx(lt,{dataKey:"hazard",angle:-35,textAnchor:"end",height:80}),o.jsx(nt,{domain:[0,100]}),o.jsx(We,{}),o.jsx(sr,{}),o.jsx(Wt,{dataKey:"risk",fill:"#ef4444"})]})})})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 xl:col-span-3",children:[o.jsx("div",{className:"p-4 border-b border-slate-200",children:o.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:"Hazard Hotspots"})}),o.jsxs("div",{className:"p-4",children:[o.jsx(St,{width:"100%",height:320,children:o.jsxs(ib,{children:[o.jsx(Tt,{strokeDasharray:"3 3"}),o.jsx(lt,{dataKey:"x",name:"Longitude",unit:"°"}),o.jsx(nt,{dataKey:"y",name:"Latitude",unit:"°"}),o.jsx(We,{cursor:{strokeDasharray:"3 3"}}),o.jsx(sr,{}),o.jsx(xi,{name:"Assets",data:A,fill:"#f97316"})]})}),o.jsx("div",{className:"mt-2 text-sm text-slate-500",children:"Risk hotspot map derived from Supabase resilience assessments (higher values indicate greater risk)."})]})]})]})]})};var ht=(t=>(t.CLIMATE_TECH="climate_technology",t.ENERGY_STORAGE="energy_storage",t.RENEWABLE_ENERGY="renewable_energy",t.GRID_MANAGEMENT="grid_management",t.CARBON_CAPTURE="carbon_capture",t.MATERIAL_SCIENCE="material_science",t.DIGITAL_TWINS="digital_twins",t.AI_ML="ai_ml",t.HYDROGEN_TECH="hydrogen_technology",t))(ht||{});class VG{assessTechnologyReadiness(e,r){const a={climate_technology:{research:.25,development:.3,validation:.3,commercial:.15},energy_storage:{research:.2,development:.25,validation:.35,commercial:.2},renewable_energy:{research:.15,development:.2,validation:.25,commercial:.4},grid_management:{research:.2,development:.25,validation:.3,commercial:.25},carbon_capture:{research:.3,development:.25,validation:.25,commercial:.2},material_science:{research:.35,development:.3,validation:.25,commercial:.1},digital_twins:{research:.15,development:.3,validation:.3,commercial:.25},ai_ml:{research:.2,development:.3,validation:.25,commercial:.25},hydrogen_technology:{research:.25,development:.3,validation:.25,commercial:.2}}[r],s=this.calculateResearchReadiness(e.publications||0,e.patentsFiled||0,e.yearsOfDevelopment||0),c=this.calculateDevelopmentReadiness(e.prototypesBuilt||0,e.pilotProjects||0,(e.certifications?.length||0)+(e.regulatoryApprovals?.length||0)),u=this.calculateValidationReadiness(e.pilotProjects||0,e.partnerships||0,e.fundingSecured||0),d=this.calculateCommercialReadiness(e.commercialDeployments||0,e.fundingSecured||0,e.partnerships||0),m=s*a.research+c*a.development+u*a.validation+d*a.commercial,p=this.mapScoreToTRL(m),h=this.calculateConfidence(e,m);return{innovationId:this.generateInnovationId(e.name),innovationName:e.name,category:r,trlScore:p,confidence:Math.round(h*10)/10,lastAssessed:new Date().toISOString(),assessor:"TRL Assessment Engine",evidenceDescription:this.generateEvidenceDescription(s,c,u,d)}}calculateResearchReadiness(e,r,n){const a=Math.min(e/10,1)*.3,s=Math.min(r/5,1)*.3,c=Math.min(n/5,1)*.4;return a+s+c}calculateDevelopmentReadiness(e,r,n){const a=Math.min(e/3,1)*.4,s=Math.min(r/2,1)*.4,c=Math.min(n/5,1)*.2;return a+s+c}calculateValidationReadiness(e,r,n){const a=Math.min(e/3,1)*.4,s=Math.min(r/5,1)*.3,c=Math.min(n/1e7,1)*.3;return a+s+c}calculateCommercialReadiness(e,r,n){const a=Math.min(e/10,1)*.5,s=Math.min(r/5e7,1)*.3,c=Math.min(n/10,1)*.2;return a+s+c}mapScoreToTRL(e){return e>=.9?9:e>=.75?8:e>=.6?7:e>=.45?6:e>=.35?5:e>=.25?4:e>=.15?3:e>=.05?2:1}calculateConfidence(e,r){let n=0;e.publications>0&&(n+=.2),e.patentsFiled>0&&(n+=.2),e.prototypesBuilt>0&&(n+=.2),e.pilotProjects>0&&(n+=.15),e.commercialDeployments>0&&(n+=.15),e.fundingSecured>0&&(n+=.1);const a=Math.min(n+.3,1),s=Math.max(.8-Math.abs(.5-r)*1.6,.4);return(a+s)/2}generateInnovationId(e){const r=Date.now().toString(36);return`inn_${e.toLowerCase().replace(/[^a-z0-9]/g,"").substring(0,8)}_${r}`}generateEvidenceDescription(e,r,n,a){const s=[];return e>.3&&s.push("strong research foundation"),r>.3&&s.push("robust development progress"),n>.3&&s.push("comprehensive validation"),a>.2&&s.push("commercial readiness"),s.length>0?`Assessment based on: ${s.join(", ")}`:"Limited evidence available for comprehensive assessment"}analyzeMarketOpportunity(e){const r=this.assessMarketMaturity(e.trlScore,e.category),n=this.estimateMarketSize(e.targetMarket,e.category,e.trlScore),a=this.calculateGrowthRate(e.growthProjections,e.category,r),s=Math.min(e.competitiveFactor+(e.category==="ai_ml"?2:0),10),c=this.determineCommercializationPath(e.trlScore,r,s),u=this.identifyBarriersToEntry(e.trlScore,e.competitorCount,e.category),d=this.assessFundingReadiness(e.trlScore,s,e.fundingRequirements),m=this.estimateTimeframeToMarket(e.trlScore,d);return{innovationId:e.innovationId,marketSize:n,growthRate:a,competitiveAdvantage:s,fundingReadiness:d,commercializationPath:c,barriersToEntry:u,estimatedTimeframe:m}}assessMarketMaturity(e,r){const a={ai_ml:8,digital_twins:7,grid_management:6,energy_storage:6,renewable_energy:7,climate_technology:5,carbon_capture:4,material_science:6,hydrogen_technology:4}[r],s=(e-1)/9*2,c=a+s;return c>=8?"mainstream":c>=6?"established":c>=4?"early_adoption":"emerging"}estimateMarketSize(e,r,n){const s={ai_ml:500,renewable_energy:2e3,energy_storage:200,carbon_capture:50,material_science:150,climate_technology:300,digital_twins:20,grid_management:100,hydrogen_technology:25}[r]||100,c=.1+n/10;return Math.round(s*c*1e9)}calculateGrowthRate(e,r,n){if(Object.keys(e).length>0){const s=Math.max(...Object.keys(e).map(c=>parseInt(c)));return e[s.toString()]||15}return{emerging:25,early_adoption:20,established:15,mainstream:8}[n]}determineCommercializationPath(e,r,n){return e>=8?r==="mainstream"?"Direct market entry, competitive differentiation":"Strategic partnerships, pilot program expansion":e>=6?n>=8?"First-to-market opportunity, premium pricing":"Partnerships with early adopters, proof-of-concept projects":e>=4?"Facilitated development partnerships, government funding":"Research partnerships, mentorship programs"}identifyBarriersToEntry(e,r,n){const a=[];return e<5&&(a.push("Economic viability not proven"),a.push("Technology scalability concerns")),r>10&&a.push("High competition in target market"),["carbon_capture","hydrogen_technology"].includes(n)&&(a.push("High capital intensity"),a.push("Infrastructure dependencies")),n==="ai_ml"&&(a.push("Data availability and quality"),a.push("Regulatory compliance (privacy, bias)")),a}assessFundingReadiness(e,r,n){const a=e/9,s=r/10,c=n>5e7?.8:Math.min(1,5e7/n);return Math.round((a*.4+s*.4+c*.2)*10)}estimateTimeframeToMarket(e,r){const a=(9-e)*3,s=r>=7?-6:0,c=24+a+s;return c<=24?"1-2 years":c<=36?"2-3 years":c<=60?"3-5 years":"5+ years"}}const KG=new VG,jv=[{name:"Hydrogen Blend Technology",description:"Advanced hydrogen blending system for existing natural gas infrastructure",patentsFiled:8,prototypesBuilt:3,pilotProjects:2,commercialDeployments:1,regulatoryApprovals:["CSA Approval","UL Certification"],fundingSecured:45e5,publications:12,certifications:["ISO 9001","CSA Standards"],partnerships:4,yearsOfDevelopment:4},{name:"AI Grid Optimizer",description:"Machine learning system for predictive grid load balancing",patentsFiled:5,prototypesBuilt:2,pilotProjects:3,commercialDeployments:0,regulatoryApprovals:["NERC Compliance"],fundingSecured:32e5,publications:8,certifications:["ISO 27001"],partnerships:2,yearsOfDevelopment:3},{name:"Carbon Capture Membrane",description:"Next-generation membrane technology for industrial CO2 capture",patentsFiled:12,prototypesBuilt:4,pilotProjects:1,commercialDeployments:0,regulatoryApprovals:[],fundingSecured:85e5,publications:15,certifications:["API 661","ASME Standards"],partnerships:6,yearsOfDevelopment:5},{name:"Smart Battery Materials",description:"Nanostructured materials for enhanced battery performance and lifespan",patentsFiled:6,prototypesBuilt:5,pilotProjects:1,commercialDeployments:2,regulatoryApprovals:["UN Transport Test"],fundingSecured:62e5,publications:9,certifications:["IEC 62619"],partnerships:3,yearsOfDevelopment:4},{name:"Digital Twin Framework",description:"Comprehensive digital twin platform for energy infrastructure management",patentsFiled:3,prototypesBuilt:1,pilotProjects:2,commercialDeployments:0,regulatoryApprovals:[],fundingSecured:29e5,publications:5,certifications:["ISO 18435"],partnerships:1,yearsOfDevelopment:2}],YG=[ht.CLIMATE_TECH,ht.ENERGY_STORAGE,ht.RENEWABLE_ENERGY,ht.GRID_MANAGEMENT,ht.CARBON_CAPTURE,ht.MATERIAL_SCIENCE,ht.DIGITAL_TWINS,ht.AI_ML,ht.HYDROGEN_TECH],XG=()=>{const[t,e]=R.useState(""),[r,n]=R.useState("all"),[a,s]=R.useState(null),[c,u]=R.useState(!1),[d,m]=R.useState(new Map),[p,h]=R.useState(!1),[y,x]=R.useState("");R.useEffect(()=>{(async()=>{u(!0);const O=new Map;for(const P of jv)try{const N=P.name.includes("Hydrogen")?ht.HYDROGEN_TECH:P.name.includes("AI")?ht.AI_ML:P.name.includes("Carbon")?ht.CARBON_CAPTURE:P.name.includes("Battery")?ht.ENERGY_STORAGE:P.name.includes("Digital")?ht.DIGITAL_TWINS:ht.CLIMATE_TECH,A=KG.assessTechnologyReadiness(P,N);O.set(P.name,A)}catch(N){console.error(`Error evaluating TRL for ${P.name}:`,N)}m(O),u(!1)})()},[]);const j=S=>S.name.includes("Hydrogen")?ht.HYDROGEN_TECH:S.name.includes("AI")?ht.AI_ML:S.name.includes("Carbon")?ht.CARBON_CAPTURE:S.name.includes("Battery")?ht.ENERGY_STORAGE:S.name.includes("Digital")?ht.DIGITAL_TWINS:ht.CLIMATE_TECH,w=jv.filter(S=>{const O=t===""||S.name.toLowerCase().includes(t.toLowerCase())||S.description.toLowerCase().includes(t.toLowerCase()),P=r==="all"||j(S)===r;return O&&P}),b=S=>S>=7?"bg-green-100 text-green-800":S>=5?"bg-blue-100 text-blue-800":S>=3?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800",k=R.useCallback(async S=>{h(!0),x("Generating pitch document..."),await new Promise(N=>setTimeout(N,2e3));const O=d.get(S.name),P=`
## ${S.name}

**Executive Summary**
${S.description}

**Technology Maturity (TRL ${O?.trlScore||"?"})**
${O?.evidenceDescription||"Technology maturity assessment in progress"}

**Market Opportunity**
- Addressable market: $500M+ opportunity
- Growth potential: 25% CAGR projected
- Competitive advantages: Innovative technology, proven prototypes

**Funding & Deployment**
- Funding secured: $${S.fundingSecured?.toLocaleString()||"0"}
- Pilot projects completed: ${S.pilotProjects||0}
- Commercial deployments: ${S.commercialDeployments||0}

**Team & Partnerships**
- Years of R&D: ${S.yearsOfDevelopment||0} years
- Strategic partnerships: ${S.partnerships||0} organizations
- Patents filed: ${S.patentsFiled||0}

**Next Steps**
1. Scale pilot deployments
2. Secure Series A funding
3. International market entry
4. Technology licensing opportunities

**Contact for Investment Opportunities**
[Investment inquiry details available upon request]
`;x(P)},[d]);return c&&d.size===0?o.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(jt,{className:"h-6 w-6 animate-spin text-blue-600"}),o.jsx("span",{className:"text-slate-600",children:"Evaluating technology readiness..."})]})}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-slate-200",children:[o.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[o.jsx("div",{className:"bg-purple-500 p-3 rounded-lg",children:o.jsx(Md,{className:"h-8 w-8 text-white"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Energy Innovation Hub"}),o.jsx("p",{className:"text-slate-600",children:"TRL assessment and investment readiness evaluation"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.jsx("div",{className:"md:col-span-2",children:o.jsxs("div",{className:"relative",children:[o.jsx(rR,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 h-4 w-4"}),o.jsx("input",{type:"text",placeholder:"Search innovations...",value:t,onChange:S=>e(S.target.value),className:"pl-10 w-full border border-slate-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]})}),o.jsx("div",{children:o.jsxs("select",{value:r,onChange:S=>n(S.target.value),className:"w-full border border-slate-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-purple-500",children:[o.jsx("option",{value:"all",children:"All Categories"}),YG.map(S=>o.jsx("option",{value:S,children:S.replace("_"," ").toUpperCase()},S))]})}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:"text-sm text-slate-600",children:"Results:"}),o.jsx("span",{className:"font-semibold text-slate-800",children:w.length})]})]})]}),o.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:w.map(S=>{const O=d.get(S.name),P=j(S);return o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:[o.jsxs("div",{className:"p-4 border-b border-slate-200",children:[o.jsxs("div",{className:"flex items-start justify-between mb-3",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-1",children:S.name}),o.jsxs("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${b(O?.trlScore||1)}`,children:["TRL ",O?.trlScore||"?"]})]}),o.jsxs("div",{className:"text-right text-xs text-slate-500",children:[S.yearsOfDevelopment,"y dev"]})]}),o.jsx("p",{className:"text-sm text-slate-600 line-clamp-2 mb-3",children:S.description}),o.jsxs("div",{className:"flex items-center justify-between text-xs",children:[o.jsx("span",{className:"text-slate-500",children:P.replace("_"," ").toUpperCase()}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(SA,{className:"h-3 w-3 text-yellow-500"}),o.jsxs("span",{children:[S.patentsFiled," patents"]})]})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 p-4",children:[o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"text-lg font-bold text-green-600",children:["$",S.fundingSecured?.toLocaleString()||"0"]}),o.jsx("div",{className:"text-xs text-slate-500",children:"Funding Secured"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-lg font-bold text-blue-600",children:S.partnerships}),o.jsx("div",{className:"text-xs text-slate-500",children:"Partners"})]})]}),o.jsxs("div",{className:"px-4 pb-4 space-y-2",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[o.jsx("span",{children:"Prototypes"}),o.jsxs("span",{children:[S.prototypesBuilt,"/5"]})]}),o.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2",children:o.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${S.prototypesBuilt/5*100}%`}})})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[o.jsx("span",{children:"Pilots"}),o.jsxs("span",{children:[S.pilotProjects,"/3"]})]}),o.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2",children:o.jsx("div",{className:"bg-purple-500 h-2 rounded-full",style:{width:`${S.pilotProjects/3*100}%`}})})]})]}),o.jsx("div",{className:"p-4 bg-slate-50 border-t border-slate-200",children:o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("button",{onClick:()=>s(S.name),className:"flex-1 text-sm bg-blue-600 text-white rounded px-3 py-2 hover:bg-blue-700 transition-colors",children:"View Details"}),o.jsx("button",{onClick:()=>k(S),className:"flex-1 text-sm bg-green-600 text-white rounded px-3 py-2 hover:bg-green-700 transition-colors",children:"Generate Pitch"})]})})]},S.name)})}),p&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-xl max-w-4xl w-full max-h-[80vh] overflow-hidden",children:[o.jsx("div",{className:"p-6 border-b border-slate-200",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Investment Pitch Document"}),o.jsx("button",{onClick:()=>h(!1),className:"text-slate-400 hover:text-slate-600",children:o.jsx(jt,{className:"h-6 w-6"})})]})}),o.jsx("div",{className:"p-6 overflow-y-auto max-h-96",children:o.jsx("pre",{className:"whitespace-pre-wrap font-mono text-sm text-slate-800",children:y})}),o.jsx("div",{className:"p-6 bg-slate-50 border-t border-slate-200",children:o.jsxs("div",{className:"flex justify-between",children:[o.jsx("button",{onClick:()=>h(!1),className:"px-4 py-2 text-slate-600 hover:text-slate-800",children:"Close"}),o.jsx("button",{className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700",children:"Download PDF"})]})})]})}),a&&o.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-slate-200 overflow-hidden",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Technology Details"}),o.jsx("button",{onClick:()=>s(null),className:"text-slate-400 hover:text-slate-600",children:o.jsx(jt,{className:"h-6 w-6"})})]}),(()=>{const S=jv.find(P=>P.name===a),O=d.get(a);return S?o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold mb-3",children:S.name}),o.jsx("p",{className:"text-slate-600 mb-4",children:S.description}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-slate-600",children:"TRL Score:"}),o.jsx("span",{className:"font-semibold",children:O?.trlScore||"?"})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-slate-600",children:"Confidence:"}),o.jsxs("span",{className:"font-semibold",children:[O?.confidence||"0","%"]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-slate-600",children:"Funding Secured:"}),o.jsxs("span",{className:"font-semibold",children:["$",S.fundingSecured?.toLocaleString()||"0"]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-slate-600",children:"Publications:"}),o.jsx("span",{className:"font-semibold",children:S.publications})]})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-lg font-semibold mb-3",children:"Evidence Description"}),o.jsx("p",{className:"text-sm text-slate-700 bg-blue-50 p-3 rounded-lg",children:O?.evidenceDescription||"Assessment in progress"}),o.jsxs("div",{className:"mt-4",children:[o.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Regulatory & Certifications"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:[...S.regulatoryApprovals||[],...S.certifications||[]].map((P,N)=>o.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full",children:P},N))})]})]})]}):o.jsx("div",{children:"Innovation not found"})})()]})]})};function wf(t){const[e,r]=R.useState([]),[n,a]=R.useState("disconnected"),[s,c]=R.useState(null),[u,d]=R.useState(!1),[m,p]=R.useState(null),[h,y]=R.useState([]),x=R.useMemo(()=>`consultation-${t}`,[t]);R.useEffect(()=>(p(null),console.log("🧪 WebSocket disabled by flag VITE_ENABLE_WEBSOCKET=false, skipping connect for",x),a("disconnected"),d(!1),c(null),()=>{}),[t,x]);const j=R.useCallback((k,S="message")=>{if(!u){console.warn("WebSocket not connected");return}const O={type:"consultation_message",payload:{content:k,messageType:S,consultationId:t},timestamp:new Date().toISOString(),senderId:"user",consultationId:t};ol.sendWebSocketMessage(x,O)},[u,t,x]),w=R.useCallback(k=>{if(!u)return;const S={type:"typing_indicator",payload:{isTyping:k,consultationId:t},timestamp:new Date().toISOString(),senderId:"user",consultationId:t};ol.sendWebSocketMessage(x,S)},[u,t,x]),b=R.useCallback(k=>{if(!u)return;const S={type:"consultation_status_update",payload:{status:k,consultationId:t},timestamp:new Date().toISOString(),senderId:"user",consultationId:t};ol.sendWebSocketMessage(x,S)},[u,t,x]);return{messages:e,connectionStatus:n,isConnected:u,error:m,participants:h,sendMessage:j,sendTypingIndicator:w,updateConsultationStatus:b,connection:s}}const QG=({territories:t=[],mapPoints:e=[],config:r={},onPointClick:n,onTerritoryClick:a,className:s=""})=>{const[c,u]=R.useState(null),[d,m]=R.useState(null),[p,h]=R.useState(null),[y,x]=R.useState({center:[-95,55],zoom:4,bounds:[[40,-140],[85,-50]],showBoundaries:!0,showPoints:!0,showLabels:!0,theme:"light",...r}),j=R.useRef(null),[w,b]=R.useState({width:800,height:600});R.useEffect(()=>{const F=()=>{if(j.current){const I=j.current.getBoundingClientRect();b({width:I.width,height:I.height})}};return F(),window.addEventListener("resize",F),()=>window.removeEventListener("resize",F)},[]);const k=(F,I)=>{const q=y.zoom*10,B=w.width/2+(I-y.center[1])*q,V=w.height/2+(y.center[0]-F)*q;return[B,V]},S=F=>{const I=F[0]??[];return I.length===0?"":I.map((q,B)=>{const[V,L]=k(q[1],q[0]);return B===0?`M ${V} ${L}`:`L ${V} ${L}`}).join("")+"Z"},O=F=>{if(!F)return[];const[I,q]=F,B=1.2;return[[[q-B,I+B],[q+B,I+B],[q+B,I-B],[q-B,I-B],[q-B,I+B]]]},P=F=>F.coordinates&&F.coordinates.length>0?F.coordinates:O(F.centroid),N=(F,I)=>{const q=I[0];if(q&&q.length>0){const B=q.reduce((L,M)=>L+M[1],0)/q.length,V=q.reduce((L,M)=>L+M[0],0)/q.length;return k(B,V)}if(F.centroid){const[B,V]=F.centroid;return k(B,V)}return k(y.center[0],y.center[1])},A=F=>{switch(F){case"completed":return"#10b981";case"ongoing":return"#f59e0b";case"pending":return"#ef4444";case"not_started":return"#6b7280";default:return"#3b82f6"}},T=F=>{switch(F){case"consultation":return"📋";case"land_right":return"🏔️";case"cultural":return"🎭";case"stakeholder":return"👥";default:return"📍"}},D=(F,I)=>{I.stopPropagation(),m(F),u(null),n?.(F)},C=(F,I)=>{I.stopPropagation(),u(F),m(null),a?.(F)};return o.jsxs("div",{className:`territorial-map-container ${s}`,children:[o.jsxs("div",{className:"flex items-center justify-between mb-4 p-4 bg-white rounded-lg shadow",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("div",{className:"flex items-center space-x-2",children:o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",checked:y.showBoundaries,onChange:F=>x(I=>({...I,showBoundaries:F.target.checked})),className:"mr-2"}),o.jsx("span",{className:"text-sm",children:"Boundaries"})]})}),o.jsx("div",{className:"flex items-center space-x-2",children:o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",checked:y.showPoints,onChange:F=>x(I=>({...I,showPoints:F.target.checked})),className:"mr-2"}),o.jsx("span",{className:"text-sm",children:"Points"})]})}),o.jsx("div",{className:"flex items-center space-x-2",children:o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",checked:y.showLabels,onChange:F=>x(I=>({...I,showLabels:F.target.checked})),className:"mr-2"}),o.jsx("span",{className:"text-sm",children:"Labels"})]})})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:"text-sm text-gray-600",children:"Zoom:"}),o.jsx("input",{type:"range",min:"1",max:"8",value:y.zoom,onChange:F=>x(I=>({...I,zoom:parseInt(F.target.value)})),className:"w-20"})]})]}),o.jsxs("div",{className:"relative bg-slate-100 rounded-lg overflow-hidden shadow-inner border border-slate-200",children:[o.jsxs("svg",{ref:j,width:"100%",height:"500",viewBox:`0 0 ${w.width} ${w.height}`,className:"bg-slate-50",onClick:()=>{u(null),m(null)},children:[y.showBoundaries&&t.map(F=>{const I=P(F);if(!I||I.length===0)return null;const[q,B]=N(F,I);return o.jsxs("g",{children:[o.jsx("path",{d:S(I),fill:A(F.consultationStatus),fillOpacity:"0.3",stroke:A(F.consultationStatus),strokeWidth:"2",className:"cursor-pointer hover:fill-opacity-50 transition-all",onClick:V=>C(F,V),onMouseEnter:()=>h(F),onMouseLeave:()=>h(null)}),y.showLabels&&o.jsx("text",{x:q,y:B,textAnchor:"middle",dominantBaseline:"middle",className:"fill-slate-700 text-sm font-medium pointer-events-none select-none",style:{fontSize:"12px"},children:F.name})]},F.id)}),y.showPoints&&e.map(F=>{const[I,q]=k(F.lat,F.lng);return o.jsxs("g",{className:"cursor-pointer",onClick:B=>D(F,B),children:[o.jsx("circle",{cx:I,cy:q,r:"8",fill:A(F.status||"pending"),stroke:"white",strokeWidth:"2",className:"hover:r-10 transition-all"}),o.jsx("text",{x:I,y:q,textAnchor:"middle",dominantBaseline:"middle",className:"text-lg pointer-events-none select-none",style:{fontSize:"12px",filter:"drop-shadow(1px 1px 2px rgba(0,0,0,0.3))"},children:T(F.type)})]},F.id)})]}),(p||c)&&o.jsxs("div",{className:"absolute top-4 right-4 bg-white p-4 rounded-lg shadow-lg border max-w-xs",children:[o.jsx("h3",{className:"font-bold text-slate-800 mb-2",children:(c||p)?.name}),(c||p)&&o.jsxs("div",{className:"space-y-2 text-sm",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-slate-600",children:"Status:"}),o.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${(c||p)?.consultationStatus==="completed"?"bg-green-100 text-green-800":(c||p)?.consultationStatus==="ongoing"?"bg-yellow-100 text-yellow-800":(c||p)?.consultationStatus==="pending"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:(c||p)?.consultationStatus?.replace("_"," ").toUpperCase()})]}),(()=>{const I=(c||p)?.metadata;if(!I)return null;const q=I.indigenousGroups??[];return o.jsxs(o.Fragment,{children:[typeof I.area=="number"&&o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-slate-600",children:"Area:"}),o.jsxs("span",{children:[I.area.toLocaleString()," km²"]})]}),typeof I.population=="number"&&o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-slate-600",children:"Population:"}),o.jsx("span",{children:I.population.toLocaleString()})]}),q.length>0&&o.jsxs("div",{children:[o.jsx("span",{className:"text-slate-600 text-xs",children:"Indigenous Groups:"}),o.jsxs("div",{className:"mt-1 flex flex-wrap gap-1",children:[q.slice(0,3).map((B,V)=>o.jsx("span",{className:"bg-slate-100 text-slate-700 text-xs px-2 py-1 rounded",children:B},V)),q.length>3&&o.jsxs("span",{className:"text-slate-500 text-xs",children:["+",q.length-3," more"]})]})]})]})})()]})]}),d&&o.jsxs("div",{className:"absolute bottom-4 right-4 bg-white p-4 rounded-lg shadow-lg border max-w-xs",children:[o.jsxs("h4",{className:"font-bold text-slate-800 mb-2 flex items-center",children:[o.jsx("span",{className:"mr-2",children:T(d.type)}),d.title]}),o.jsxs("div",{className:"space-y-2 text-sm",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-slate-600",children:"Type:"}),o.jsx("span",{className:"capitalize",children:d.type.replace("_"," ")})]}),d.status&&o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-slate-600",children:"Status:"}),o.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${d.status==="completed"?"bg-green-100 text-green-800":d.status==="active"?"bg-blue-100 text-blue-800":d.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:d.status.toUpperCase()})]}),d.description&&o.jsxs("div",{children:[o.jsx("span",{className:"text-slate-600",children:"Description:"}),o.jsx("p",{className:"mt-1 text-slate-700",children:d.description})]})]})]}),o.jsxs("div",{className:"absolute bottom-4 left-4 bg-white p-3 rounded-lg shadow border",children:[o.jsx("h5",{className:"font-semibold text-slate-800 mb-2",children:"Legend"}),o.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-3 h-3 bg-green-500 rounded"}),o.jsx("span",{children:"Completed"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded"}),o.jsx("span",{children:"Ongoing"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-3 h-3 bg-red-500 rounded"}),o.jsx("span",{children:"Pending"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-3 h-3 bg-gray-500 rounded"}),o.jsx("span",{children:"Not Started"})]})]})]})]}),t.length===0&&e.length===0&&o.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-slate-100 bg-opacity-80",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-4xl mb-4",children:"🗺️"}),o.jsx("h3",{className:"text-lg font-semibold text-slate-700 mb-2",children:"No Territory Data"}),o.jsx("p",{className:"text-slate-600",children:"Map data is being loaded..."})]})})]})},Jl={iesoStreaming:{id:"ieso_streaming",name:"IESO Real-Time Data",status:"production_ready",rating:4.9,enabled:!0,route:"/dashboard",component:"RealTimeDashboard"},helpSystem:{id:"help_system",name:"Help & Education System",status:"production_ready",rating:4.8,enabled:!0,route:"*",component:"HelpModal"},failoverArchitecture:{id:"failover_architecture",name:"Resilient Data Streaming",status:"production_ready",rating:4.7,enabled:!0,component:"streamingService"},provincialGeneration:{id:"provincial_generation",name:"Provincial Generation Mix",status:"production_ready",rating:4.6,enabled:!0,route:"/dashboard",component:"ProvincialGenerationDataManager"},investmentAnalysis:{id:"investment_analysis",name:"Investment Decision Support",status:"production_ready",rating:4.6,enabled:!0,route:"/investment",component:"InvestmentCards"},llmIntegration:{id:"llm_integration",name:"AI-Powered Insights",status:"production_ready",rating:4.5,enabled:!0,route:"/ai-oracle",component:"AIEnergyOracle"},innovationTracking:{id:"innovation_tracking",name:"Energy Innovation Opportunities",status:"acceptable",rating:4.4,enabled:!0,limitations:["Innovation database needs expansion","Funding opportunity integration incomplete"],route:"/innovation",component:"InnovationSearch"},complianceMonitoring:{id:"compliance_monitoring",name:"Regulatory Compliance",status:"acceptable",rating:4.4,enabled:!0,limitations:["Uses local storage, not connected to provincial regulators","Automated violation detection limited"],route:"/compliance",component:"ComplianceDashboard"},huggingfaceData:{id:"huggingface_data",name:"European Smart Meter Data",status:"acceptable",rating:4.3,enabled:!0,limitations:["Limited to one dataset from HuggingFace"],route:"/dashboard",component:"RealTimeDashboard"},dataQuality:{id:"data_quality",name:"Data Quality Monitoring",status:"acceptable",rating:4.3,enabled:!0,limitations:["Automated alerts need refinement"],route:"/dashboard",component:"DataQuality"},resilienceAnalysis:{id:"resilience_analysis",name:"Infrastructure Resilience",status:"acceptable",rating:4.3,enabled:!0,limitations:["Missing ECCC climate projections integration","Asset location data needs verification"],route:"/resilience",component:"ResilienceMap"},energyAnalytics:{id:"energy_analytics",name:"Energy System Analytics",status:"acceptable",rating:4.2,enabled:!0,limitations:["Detailed emissions tracking per province not available","Historical trend aggregation needs optimization"],route:"/dashboard",component:"EnergyDataDashboard"},stakeholderCoordination:{id:"stakeholder_coordination",name:"Stakeholder Collaboration",status:"acceptable",rating:4.1,enabled:!0,limitations:["WebSocket server not deployed - real-time collaboration simulated","Multi-user testing not completed"],route:"/stakeholder",component:"StakeholderDashboard"},streamingArchitecture:{id:"streaming_architecture",name:"Core Streaming Infrastructure",status:"acceptable",rating:4.1,enabled:!0,limitations:["Cache size could be increased for better offline support"],component:"dataStreamers"},indigenousDashboard:{id:"indigenous_dashboard",name:"Indigenous Energy Sovereignty",status:"acceptable",rating:4,enabled:!0,limitations:["Formal Indigenous governance review pending","Territorial boundary data is placeholder (needs real GeoJSON)","TEK repository integration incomplete"],route:"/indigenous",component:"IndigenousDashboard"},transitionTracker:{id:"transition_tracker",name:"Energy Transition Progress",status:"acceptable",rating:4,enabled:!0,limitations:["Missing real Canadian transition target data","Provincial goal alignment incomplete","International commitment tracking missing"],route:"/dashboard",component:"TransitionKPIs"},databaseSchema:{id:"database_schema",name:"Database Infrastructure",status:"acceptable",rating:4,enabled:!0,limitations:["6 tables deferred to Phase 2 (emissions, market, community)"],component:"migrations"},mineralsSupplyChain:{id:"minerals_supply_chain",name:"Critical Minerals Supply Chain",status:"partial",rating:3.8,enabled:!0,limitations:["⚠️ SIMULATED DATA: Using realistic but not real supply chain data","No real-time market price integration","Disruption alert system not operational","Not connected to Canadian Critical Minerals database"],route:"/minerals",component:"MineralsDashboard"},securityAssessment:{id:"security_assessment",name:"Energy Security Assessment",status:"partial",rating:3.7,enabled:!0,limitations:["⚠️ LIMITED FUNCTIONALITY: 3 of 4 APIs missing","Threat intelligence feeds not connected","Vulnerability scanning not operational","Real-time threat assessment coming in Phase 2"],route:"/security",component:"SecurityDashboard"},gridOptimization:{id:"grid_optimization",name:"Grid Integration Optimization",status:"partial",rating:3.6,enabled:!0,limitations:["⚠️ FORECASTING NOT AVAILABLE: Demand and renewable output forecasts coming in Phase 2","Real-time optimization uses simulated grid data","AI recommendations need calibration"],route:"/grid",component:"GridOptimizationDashboard"},emissionsTracking:{id:"emissions_tracking",name:"Carbon Emissions Tracking & Planning",status:"deferred",rating:3.4,enabled:!1,comingSoon:!0,estimatedRelease:"Phase 2 - Q1 2026",limitations:["Feature under development","All emissions APIs not yet implemented","ECCC data integration in progress"],route:"/emissions",component:"EmissionsPlanner"},marketIntelligence:{id:"market_intelligence",name:"Energy Market Intelligence",status:"deferred",rating:3.3,enabled:!1,comingSoon:!0,estimatedRelease:"Phase 2 - Q1 2026",limitations:["Feature under development","Market data feeds integration in progress","Price forecasting capability coming soon"],route:"/market",component:"MarketIntelligence"},communityPlanning:{id:"community_planning",name:"Community Energy Planning",status:"deferred",rating:3.2,enabled:!1,comingSoon:!0,estimatedRelease:"Phase 2 - Q1 2026",limitations:["Feature under development","Municipal energy data integration in progress","AI-guided plan generation coming soon"],route:"/community",component:"CommunityPlanner"}};function ZG(t){const e=Jl[t];return e?e.enabled:(console.warn(`Unknown feature: ${t}`),!1)}function sb(t){return Jl[t]||null}function hC(){const t=Object.values(Jl);return{total:t.length,productionReady:t.filter(e=>e.status==="production_ready").length,acceptable:t.filter(e=>e.status==="acceptable").length,partial:t.filter(e=>e.status==="partial").length,deferred:t.filter(e=>e.status==="deferred").length,enabled:t.filter(e=>e.enabled).length,averageRating:(t.reduce((e,r)=>e+r.rating,0)/t.length).toFixed(2)}}function JG(){const t=[];return Object.entries(Jl).forEach(([e,r])=>{(!r.id||!r.name||!r.status||r.rating===void 0)&&t.push(`Feature ${e} is missing required fields`),r.status==="production_ready"&&r.rating<4.5&&t.push(`Feature ${e} marked production_ready but rating is ${r.rating}`),r.status==="acceptable"&&(r.rating<4||r.rating>=4.5)&&t.push(`Feature ${e} marked acceptable but rating is ${r.rating}`),r.status==="deferred"&&r.enabled&&t.push(`Feature ${e} is deferred but enabled=true`)}),{valid:t.length===0,errors:t}}const pC=({featureId:t,className:e=""})=>{const r=sb(t);return!r||r.status!=="partial"?null:o.jsx("div",{className:`bg-yellow-50 border-l-4 border-yellow-400 p-4 mb-4 ${e}`,children:o.jsxs("div",{className:"flex items-start",children:[o.jsx(Fr,{className:"h-5 w-5 text-yellow-600 flex-shrink-0 mt-0.5"}),o.jsxs("div",{className:"ml-3",children:[o.jsx("h3",{className:"text-sm font-medium text-yellow-800",children:"Limited Functionality"}),o.jsxs("div",{className:"mt-2 text-sm text-yellow-700",children:[o.jsx("p",{className:"mb-2",children:"This feature is available with the following limitations:"}),r.limitations&&r.limitations.length>0&&o.jsx("ul",{className:"list-disc list-inside space-y-1",children:r.limitations.map((n,a)=>o.jsx("li",{children:n},a))})]})]})]})})},gC=({featureId:t,className:e=""})=>{const r=sb(t);return!r||r.status!=="acceptable"||!r.limitations||r.limitations.length===0?null:o.jsx("div",{className:`bg-blue-50 border-l-4 border-blue-400 p-3 mb-4 ${e}`,children:o.jsxs("div",{className:"flex items-start",children:[o.jsx(ls,{className:"h-4 w-4 text-blue-600 flex-shrink-0 mt-0.5"}),o.jsxs("div",{className:"ml-3",children:[o.jsx("h3",{className:"text-xs font-medium text-blue-800",children:"Feature Notes"}),o.jsx("div",{className:"mt-1 text-xs text-blue-700",children:o.jsx("ul",{className:"list-disc list-inside space-y-0.5",children:r.limitations.map((n,a)=>o.jsx("li",{children:n},a))})})]})]})})},eV={completed:"#10b981",ongoing:"#f59e0b",pending:"#ef4444",not_started:"#6b7280"},Sv=[{id:"treaty-5",name:"Treaty 5 Territory",coordinates:[[55,-95],[55.6,-96.2],[54.4,-96.6]],consultationStatus:"completed",community:"Cree, Ojibwe, Dene",traditionalTerritory:"Treaty 5 Territory",lastActivity:"2024-04-15T00:00:00.000Z"},{id:"treaty-9",name:"Treaty 9 Territory",coordinates:[[50,-80],[50.7,-81.5],[49.6,-82.1]],consultationStatus:"ongoing",community:"Ojibwe, Cree, Oji-Cree",traditionalTerritory:"Treaty 9 Territory",lastActivity:"2024-05-02T00:00:00.000Z"},{id:"dene",name:"Dene Territory",coordinates:[[60,-120],[60.8,-118.6],[59.5,-119.2]],consultationStatus:"pending",community:"Dene, Sahtu, North Slave",traditionalTerritory:"Dene Territory",lastActivity:"2024-03-21T00:00:00.000Z"}],tV=[{id:"treaty-5-point",lat:55,lng:-95,title:"Treaty 5 Consultation",type:"consultation",status:"completed",description:"Community wind partnership review."},{id:"treaty-9-point",lat:50,lng:-80,title:"Treaty 9 Energy Forum",type:"consultation",status:"active",description:"Joint planning meeting with utilities & leadership."},{id:"dene-point",lat:60,lng:-120,title:"Dene FPIC Workshop",type:"consultation",status:"pending",description:"FPIC readiness workshops with advisors."}],rV=t=>{if(t.length<3)return[];const e=t.map(([r,n])=>[n,r]);return e.length>0&&(e[0][0]!==e[e.length-1][0]||e[0][1]!==e[e.length-1][1])&&e.push([...e[0]]),[e]},nV=(t,e)=>{const r=rV(t.coordinates),n=t.coordinates[0]?[t.coordinates[0][0],t.coordinates[0][1]]:void 0;return{id:t.id||`territory-${e}`,name:t.name,consultationStatus:t.consultationStatus,color:eV[t.consultationStatus]??"#3b82f6",metadata:{indigenousGroups:t.community?t.community.split(",").map(a=>a.trim()).filter(Boolean):[],area:r.length>0?12e4:void 0},coordinates:r,centroid:n}},aV=(t,e)=>{const r=t.coordinates[0];if(!r)return null;const[n,a]=r,s=t.consultationStatus==="completed"?"completed":t.consultationStatus==="ongoing"?"active":"pending";return{id:`territory-point-${t.id??e}`,lat:n,lng:a,title:`${t.name} consultation`,type:"consultation",status:s,description:`Community: ${t.community||"TBD"}`}},iV=()=>{const[t,e]=R.useState(Sv),[r,n]=R.useState([]),[a,s]=R.useState([]),[c,u]=R.useState(Sv[0]??null),[d,m]=R.useState(!0),[p,h]=R.useState(null),[y,x]=R.useState([]),[j,w]=R.useState(!1),[b,k]=R.useState(null),[S,O]=R.useState({name:"",territory_name:"",community:"",consultation_status:"not_started",fpic_status:"required"}),{isConnected:P}=wf("general-consultation");R.useEffect(()=>{N()},[]);const N=async()=>{try{m(!0);const L=Lr.getIndigenousProjects();x(L);const M=L.map(Q=>({id:Q.id,name:Q.territory_name,coordinates:[[-95,55]],consultationStatus:Q.consultation_status,community:Q.community,traditionalTerritory:Q.traditional_territory,lastActivity:Q.updated_at}));e(M);const G=[{id:"1",name:"Treaty 5 Territory",coordinates:[[-95,55]],consultationStatus:"completed",community:"Cree, Ojibwe, Dene",traditionalTerritory:"Treaty 5 Territory",lastActivity:new Date().toISOString()},{id:"2",name:"Treaty 9 Territory",coordinates:[[-80,50]],consultationStatus:"ongoing",community:"Ojibwe, Cree, Oji-Cree",traditionalTerritory:"Treaty 9 Territory",lastActivity:new Date().toISOString()},{id:"3",name:"Dene Territory",coordinates:[[-120,60]],consultationStatus:"pending",community:"Dene, Sahtu, North Slave",traditionalTerritory:"Dene Territory",lastActivity:new Date().toISOString()}],$=[{id:"1",territoryId:"1",stage:"agreement",status:"approved",participants:["Community Council","Energy Company","Government"],dateCreated:new Date().toISOString(),lastUpdated:new Date().toISOString()},{id:"2",territoryId:"2",stage:"consultation",status:"pending",participants:["Community Council","Energy Company"],dateCreated:new Date().toISOString(),lastUpdated:new Date().toISOString()}],W=[{id:"1",title:"Traditional Land Use Mapping",category:"cultural",description:"Documenting traditional hunting and fishing territories",community:"Cree Nation",dateRecorded:new Date().toISOString(),custodians:["Elder John","Knowledge Keeper Mary"],relatedTerritories:["Treaty 5 Territory"]},{id:"2",title:"Medicinal Plant Knowledge",category:"environmental",description:"Traditional uses of local medicinal plants",community:"Ojibwe Community",dateRecorded:new Date().toISOString(),custodians:["Traditional Healer"],relatedTerritories:["Treaty 9 Territory"]},{id:"3",title:"Ceremonial Practices",category:"spiritual",description:"Sacred sites and ceremonial locations",community:"Dene First Nation",dateRecorded:new Date().toISOString(),custodians:["Elder Council"],relatedTerritories:["Dene Territory"]}];e([...M,...G]),n($),s(W),m(!1)}catch(L){console.error("Error loading Indigenous dashboard data:",L),h("Failed to load Indigenous data"),m(!1)}},A=()=>{if(!S.name||!S.territory_name||!S.community){alert("Please fill in all required fields");return}const L={name:S.name,territory_name:S.territory_name,community:S.community,consultation_status:S.consultation_status||"not_started",fpic_status:S.fpic_status||"required",data_source:"user_input",governance_status:"pending",territory_id:`territory_${Date.now()}`,traditional_territory:S.territory_name||"",benefit_sharing:{},consultation_log:[]};Lr.addIndigenousProject(L),N(),O({name:"",territory_name:"",community:"",consultation_status:"not_started",fpic_status:"required"}),w(!1)},T=()=>{const L=Lr.exportAllData(),M=new Blob([L],{type:"application/json"}),G=URL.createObjectURL(M),$=document.createElement("a");$.href=G,$.download=`ceip_indigenous_data_${new Date().toISOString().split("T")[0]}.json`,$.click(),URL.revokeObjectURL(G)},D=U.useMemo(()=>{const L=t.length,M=t.filter(W=>W.consultationStatus==="ongoing").length,G=t.filter(W=>W.consultationStatus==="completed").length,$=t.filter(W=>W.consultationStatus==="pending").length;return{totalTerritories:L,ongoingConsultations:M,completedConsultations:G,pendingConsultations:$,completionRate:L>0?G/L*100:0}},[t]),C=t.length>0?t:Sv,F=R.useMemo(()=>C.map(nV),[C]),I=R.useMemo(()=>{const L=C.map(aV).filter(M=>M!==null);return L.length>0?L:tV},[C]),q=C,B=[{name:"Completed",value:D.completedConsultations,color:"#10b981"},{name:"Ongoing",value:D.ongoingConsultations,color:"#f59e0b"},{name:"Pending",value:D.pendingConsultations,color:"#ef4444"},{name:"Not Started",value:D.totalTerritories-D.completedConsultations-D.ongoingConsultations-D.pendingConsultations,color:"#6b7280"}],V=[{name:"Cultural",value:a.filter(L=>L.category==="cultural").length},{name:"Environmental",value:a.filter(L=>L.category==="environmental").length},{name:"Spiritual",value:a.filter(L=>L.category==="spiritual").length},{name:"Economic",value:a.filter(L=>L.category==="economic").length}];return d?o.jsx("div",{className:"flex items-center justify-center h-96",children:o.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):o.jsxs("div",{className:"min-h-screen bg-slate-50",children:[o.jsxs("div",{className:Ee.page,children:[o.jsx(gC,{featureId:"indigenous_dashboard"}),o.jsxs("header",{className:"mb-8",children:[o.jsxs("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between gap-3",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Indigenous Energy Sovereignty Dashboard"}),o.jsx(wt,{id:"module.indigenous.overview"})]}),o.jsx("p",{className:"text-slate-600 mt-2",children:"Track consultations, traditional knowledge, and territory management"})]}),o.jsx("div",{className:"self-start",children:o.jsx(wt,{id:"module.indigenous.governance",className:"bg-amber-600 hover:bg-amber-500 border-amber-500"})})]}),o.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 mb-4",children:o.jsxs("div",{className:"flex items-start",children:[o.jsx(Fr,{className:"h-5 w-5 text-amber-600 mt-0.5 mr-3 flex-shrink-0"}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-amber-800 mb-2",children:"Governance & Data Sovereignty Notice"}),o.jsx("p",{className:"text-amber-700 text-sm",children:"This dashboard currently uses placeholder data for demonstration purposes. Real Indigenous data integration requires formal governance agreements and Free, Prior, Informed Consent (FPIC) from affected communities. Contact Indigenous governance representatives before implementing real data sources."})]})]})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[o.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Total Territories"}),o.jsx(wt,{id:"metric.indigenous.total_territories"})]}),o.jsx("p",{className:"text-3xl font-bold text-blue-600 mt-4",children:D.totalTerritories})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Ongoing Consultations"}),o.jsx(wt,{id:"metric.indigenous.ongoing_consultations"})]}),o.jsx("p",{className:"text-3xl font-bold text-yellow-600 mt-4",children:D.ongoingConsultations})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Completed"}),o.jsx(wt,{id:"metric.indigenous.completed_consultations"})]}),o.jsx("p",{className:"text-3xl font-bold text-green-600 mt-4",children:D.completedConsultations})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Completion Rate"}),o.jsx(wt,{id:"metric.indigenous.completion_rate"})]}),o.jsxs("p",{className:"text-3xl font-bold text-purple-600 mt-4",children:[D.completionRate.toFixed(1),"%"]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[o.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsx("h3",{className:"text-xl font-semibold text-slate-900",children:"Consultation Status"}),o.jsx(wt,{id:"chart.indigenous.consultation_status"})]}),o.jsx(St,{width:"100%",height:300,children:o.jsxs(ab,{children:[o.jsx(cn,{data:B,cx:"50%",cy:"50%",labelLine:!1,label:({name:L,percent:M})=>`${L}: ${(M*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:B.map((L,M)=>o.jsx(pi,{fill:L.color},`cell-${M}`))}),o.jsx(We,{}),o.jsx(sr,{})]})})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsx("h3",{className:"text-xl font-semibold text-slate-900",children:"Traditional Ecological Knowledge"}),o.jsx(wt,{id:"chart.indigenous.tek_categories"})]}),o.jsx(St,{width:"100%",height:300,children:o.jsxs(ka,{data:V,children:[o.jsx(Tt,{strokeDasharray:"3 3"}),o.jsx(lt,{dataKey:"name"}),o.jsx(nt,{}),o.jsx(We,{}),o.jsx(Wt,{dataKey:"value",fill:"#8b5cf6"})]})})]})]}),o.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-8 mb-8",children:[o.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsx("h3",{className:"text-xl font-semibold text-slate-900",children:"Territory Map"}),o.jsx(wt,{id:"module.indigenous.map"})]}),o.jsx("div",{className:"h-96",children:o.jsx(QG,{territories:F,mapPoints:I,config:{center:[-95,55],zoom:4,showBoundaries:!0,showPoints:!0,showLabels:!0},onTerritoryClick:L=>{const M=q.find(G=>G.id===L.id||G.name===L.name);u(M??q[0]??null)},onPointClick:L=>{const M=q.find(G=>{const[$,W]=G.coordinates[0]??[void 0,void 0];return $===L.lat&&W===L.lng});u(M??q[0]??null)}})})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[o.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-4",children:"Territories"}),o.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:q.length===0?o.jsx("div",{className:"text-center text-slate-500 text-sm",children:"No Indigenous territories available. Confirm Supabase seed ran."}):q.map(L=>o.jsxs("div",{className:`p-4 rounded-lg border cursor-pointer transition-colors ${c?.id===L.id?"border-blue-500 bg-blue-50":"border-slate-200 hover-border-slate-300"}`,onClick:()=>u(L),children:[o.jsx("h4",{className:"font-medium text-slate-900",children:L.name}),o.jsx("p",{className:"text-sm text-slate-600",children:L.community||"Community TBD"}),o.jsxs("div",{className:"flex items-center justify-between mt-2",children:[o.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${L.consultationStatus==="completed"?"bg-green-100 text-green-800":L.consultationStatus==="ongoing"?"bg-yellow-100 text-yellow-800":L.consultationStatus==="pending"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:L.consultationStatus.replace("_"," ").toUpperCase()}),o.jsx("span",{className:"text-xs text-slate-500",children:L.lastActivity?new Date(L.lastActivity).toLocaleDateString("en-CA"):"Date TBD"})]})]},L.id))})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[o.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-4",children:c?c.name:"Select a Territory"}),c&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Community"}),o.jsx("p",{className:"text-slate-900",children:c.community})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Consultation Status"}),o.jsx("span",{className:`inline-block px-2 py-1 text-xs rounded-full mt-1 ${c.consultationStatus==="completed"?"bg-green-100 text-green-800":c.consultationStatus==="ongoing"?"bg-yellow-100 text-yellow-800":c.consultationStatus==="pending"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:c.consultationStatus.replace("_"," ").toUpperCase()})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Traditional Territory"}),o.jsx("p",{className:"text-slate-900",children:c.traditionalTerritory})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Last Activity"}),o.jsx("p",{className:"text-slate-900",children:new Date(c.lastActivity).toLocaleDateString("en-CA")})]})]})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[o.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-4",children:"Recent TEK Entries"}),o.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:a.slice(0,5).map(L=>o.jsxs("div",{className:"border-l-4 border-purple-500 pl-4",children:[o.jsx("h4",{className:"font-medium text-slate-900",children:L.title}),o.jsx("p",{className:"text-sm text-slate-600 line-clamp-2",children:L.description}),o.jsxs("div",{className:"flex items-center justify-between mt-2 text-xs text-slate-500",children:[o.jsx("span",{children:L.community}),o.jsx("span",{children:L.category})]}),o.jsx("p",{className:"text-xs text-slate-400 mt-1",children:new Date(L.dateRecorded).toLocaleDateString()})]},L.id))})]})]}),o.jsxs("div",{className:"mt-8 bg-white rounded-lg shadow p-6",children:[o.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-4",children:"Cultural Protocol & FPIC Status"}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"bg-slate-50",children:[o.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-slate-700",children:"Territory"}),o.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-slate-700",children:"Stage"}),o.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-slate-700",children:"Status"}),o.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-slate-700",children:"Participants"}),o.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-slate-700",children:"Last Updated"})]})}),o.jsx("tbody",{className:"divide-y divide-slate-200",children:r.slice(0,10).map(L=>o.jsxs("tr",{className:"hover:bg-slate-50",children:[o.jsx("td",{className:"px-4 py-2 text-sm text-slate-900",children:t.find(M=>M.id===L.territoryId)?.name||"Unknown"}),o.jsx("td",{className:"px-4 py-2 text-sm text-slate-600",children:L.stage.replace("_"," ").toUpperCase()}),o.jsx("td",{className:"px-4 py-2",children:o.jsx("span",{className:`inline-block px-2 py-1 text-xs rounded-full ${L.status==="approved"?"bg-green-100 text-green-800":L.status==="declined"?"bg-red-100 text-red-800":L.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800"}`,children:L.status.toUpperCase()})}),o.jsxs("td",{className:"px-4 py-2 text-sm text-slate-600",children:[L.participants.length," participants"]}),o.jsx("td",{className:"px-4 py-2 text-sm text-slate-500",children:new Date(L.lastUpdated).toLocaleDateString()})]},L.id))})]})})]}),o.jsxs("div",{className:"mt-4 flex items-center justify-end space-x-4",children:[o.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[o.jsx("span",{className:`inline-block w-2 h-2 rounded-full ${P?"bg-green-500":"bg-yellow-500"}`}),o.jsx("span",{className:"text-slate-600",children:P?"WebSocket Connected":"WebSocket Offline"})]}),o.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[o.jsx("span",{className:"inline-block w-2 h-2 rounded-full bg-green-500"}),o.jsx("span",{className:"text-slate-600",children:"Data Stream Active"})]})]})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow p-6 mt-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"text-xl font-semibold text-slate-900",children:"Indigenous Energy Projects"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("button",{onClick:()=>w(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[o.jsx(eR,{size:16}),"Add Project"]}),o.jsxs("button",{onClick:T,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[o.jsx(OA,{size:16}),"Export Data"]})]})]}),o.jsxs("div",{className:"space-y-4",children:[y.map(L=>o.jsxs("div",{className:"border border-slate-200 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-medium text-slate-900",children:L.name}),o.jsx("p",{className:"text-sm text-slate-600 mt-1",children:L.community}),o.jsx("p",{className:"text-sm text-slate-500",children:L.territory_name}),o.jsxs("div",{className:"flex items-center gap-4 mt-3",children:[o.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${L.consultation_status==="completed"?"bg-green-100 text-green-800":L.consultation_status==="ongoing"?"bg-yellow-100 text-yellow-800":L.consultation_status==="pending"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:L.consultation_status.replace("_"," ").toUpperCase()}),o.jsxs("span",{className:`px-2 py-1 text-xs rounded-full ${L.fpic_status==="obtained"?"bg-green-100 text-green-800":L.fpic_status==="in_progress"?"bg-yellow-100 text-yellow-800":L.fpic_status==="declined"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:["FPIC: ",L.fpic_status.replace("_"," ").toUpperCase()]}),L.governance_status&&o.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${L.governance_status==="approved"?"bg-green-100 text-green-800":L.governance_status==="pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:L.governance_status.toUpperCase()})]}),L.benefit_sharing.revenue_share_percent&&o.jsxs("p",{className:"text-sm text-slate-600 mt-2",children:["Revenue Share: ",L.benefit_sharing.revenue_share_percent,"%"]})]}),o.jsx("div",{className:"flex items-center gap-2",children:o.jsx("button",{onClick:()=>k(L.id),className:"p-2 text-slate-400 hover:text-slate-600 transition-colors",children:o.jsx(sR,{size:16})})})]}),L.consultation_log.length>0&&o.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-100",children:[o.jsx("h5",{className:"font-medium text-slate-700 mb-2",children:"Recent Consultations"}),o.jsx("div",{className:"space-y-2",children:L.consultation_log.slice(-2).map((M,G)=>o.jsxs("div",{className:"text-sm",children:[o.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[o.jsx(VM,{size:14}),new Date(M.date).toLocaleDateString(),o.jsx(RA,{size:14}),M.participants.length," participants"]}),o.jsx("p",{className:"text-slate-500 mt-1",children:M.outcomes.join("; ")})]},G))})]})]},L.id)),y.length===0&&o.jsxs("div",{className:"text-center py-8 text-slate-500",children:[o.jsx(Br,{size:48,className:"mx-auto mb-4 text-slate-300"}),o.jsx("p",{children:"No Indigenous energy projects recorded yet."}),o.jsx("p",{className:"text-sm",children:"Add your first project to start tracking consultation and benefit-sharing."})]})]}),j&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h4",{className:"text-lg font-semibold",children:"Add Indigenous Energy Project"}),o.jsx("button",{onClick:()=>w(!1),className:"text-slate-400 hover:text-slate-600",children:o.jsx(cR,{size:20})})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Project Name *"}),o.jsx("input",{type:"text",value:S.name||"",onChange:L=>O({...S,name:L.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., Treaty 5 Wind Energy Partnership"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Territory Name *"}),o.jsx("input",{type:"text",value:S.territory_name||"",onChange:L=>O({...S,territory_name:L.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., Treaty 5 Territory"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Community *"}),o.jsx("input",{type:"text",value:S.community||"",onChange:L=>O({...S,community:L.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., Cree, Ojibwe, Dene"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Consultation Status"}),o.jsxs("select",{value:S.consultation_status||"not_started",onChange:L=>O({...S,consultation_status:L.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[o.jsx("option",{value:"not_started",children:"Not Started"}),o.jsx("option",{value:"ongoing",children:"Ongoing"}),o.jsx("option",{value:"completed",children:"Completed"}),o.jsx("option",{value:"pending",children:"Pending"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"FPIC Status"}),o.jsxs("select",{value:S.fpic_status||"required",onChange:L=>O({...S,fpic_status:L.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[o.jsx("option",{value:"required",children:"Required"}),o.jsx("option",{value:"in_progress",children:"In Progress"}),o.jsx("option",{value:"obtained",children:"Obtained"}),o.jsx("option",{value:"declined",children:"Declined"})]})]})]}),o.jsxs("div",{className:"flex items-center gap-3 mt-6",children:[o.jsxs("button",{onClick:A,className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[o.jsx(tR,{size:16}),"Save Project"]}),o.jsx("button",{onClick:()=>w(!1),className:"px-4 py-2 text-slate-600 border border-slate-300 rounded-lg hover:bg-slate-50 transition-colors",children:"Cancel"})]})]})})]})]})};class ns{static instance;config;cache=new Map;constructor(){this.config={enabled:!1,apiEndpoint:void 0,apiKey:void 0,confidenceThreshold:.6,maxEntities:5,fallbackMode:!0}}static getInstance(){return ns.instance||(ns.instance=new ns),ns.instance}async analyzeText(e,r){const n=`${e}_${r?.language||"en"}`;if(r?.useCache!==!1&&this.cache.has(n))return this.cache.get(n);const a={text:e,sentiment:this.analyzeSentiment(e),categories:this.categorizeText(e,r?.categories),entities:this.extractEntities(e),language:r?.language||"en",processedAt:new Date().toISOString()};return this.cache.set(n,a),a}async analyzeFeedback(e,r){const n=await this.analyzeText(e,{categories:["environmental_impact","community_concerns","technical_issues","economic_benefits","cultural_impact","scheduling_concerns","communication_issues"]});return{feedback:n,priority:this.determinePriority(n),actionItems:this.extractActionItems(n),concerns:this.extractConcerns(n),suggestions:this.extractSuggestions(n),followUpRequired:this.requiresFollowUp(n)}}async analyzeFeedbackBatch(e,r){const n=e.map(a=>this.analyzeFeedback(a,r));return Promise.all(n)}analyzeSentiment(e){const r=e.toLowerCase(),n=["excellent","great","amazing","fantastic","wonderful","good","positive","support","helpful","beneficial","productive","constructive","promising","successful","effective","efficient","improving","progress","encouraging","appreciate","thank","thanks","appreciated","pleased","satisfied"],a=["bad","terrible","awful","poor","worried","concerned","disappointed","problem","issue","risk","danger","harmful","adverse","negative","detrimental","upsetting","frustrating","unacceptable","inadequate","concerning","alarming","threatening","unacceptable"],s=["very","extremely","highly","completely","absolutely","totally"];let c=0,u=0,d=1;const m=r.split(/\s+/);for(let b=0;b<m.length;b++){const k=m[b];if(s.includes(k)){d=1.5;continue}n.includes(k)?(c+=d,d=1):a.includes(k)&&(u+=d,d=1)}const p=c-u,h=c+u,y=h>0?p/h:0,x=Math.min(Math.abs(y),1),j=Math.min(h/5,1),w=y<-.3?"negative":y>.3?"positive":"neutral";return{score:Math.max(-1,Math.min(1,y)),confidence:j,label:w,magnitude:x}}categorizeText(e,r){const n=e.toLowerCase(),a=[],s={environmental_impact:["environment","environmental","ecosystem","habitat","wildlife","pollution","climate","carbon","emissions","greenhouse","sustainability","impact"],community_concerns:["community","local","residents","families","children","health","noise","traffic","safety","school","housing","employment"],technical_issues:["technical","engineering","design","construction","maintenance","equipment","machinery","technology","power","energy","grid"],economic_benefits:["economic","jobs","employment","revenue","taxes","investment","growth","development","profit","financial","funding","income"],cultural_impact:["cultural","traditional","heritage","ancestral","sacred","spiritual","indigenous","first_nation","aboriginal","cultural","ceremony"],scheduling_concerns:["schedule","timeline","deadline","delay","timeframe","duration","planning","completion","construction","start","end"],communication_issues:["communication","inform","consultation","meeting","discussion","feedback","response","answer","question","documentation"]},c=r||Object.keys(s);for(const u of c){const d=s[u]||[],m=d.filter(p=>n.includes(p));if(m.length>0){const p=Math.min(m.length/d.length,1);a.push({category:u.replace("_"," ").replace(/\b\w/g,h=>h.toUpperCase()),confidence:p,keywords:m,subcategories:[]})}}return a.sort((u,d)=>d.confidence-u.confidence)}extractEntities(e){const r=[],n=[{type:"location",patterns:[/(?:in|near|at|from)\s+([A-Z][a-z]+)/g,/([A-Z][a-z]+(?:\s+[A-Z][a-z]+)*)(?:\s+(territory|province|region|rivers?|mountain))/gi]},{type:"date",patterns:[/\b\d{4}-\d{2}-\d{2}\b/g,/\b\d{1,2}\/\d{1,2}\/\d{4}\b/g,/\b(January|February|March|April|May|June|July|August|September|October|November|December)\s+\d{1,2}/gi]},{type:"organization",patterns:[/\b[A-Z][a-z]+(?:\s+[A-Z][a-z]+)*(?:\s+(Ltd|Inc|Corp|Company|Association|Council))\b/g]}];for(const a of n)for(const s of a.patterns){let c;for(;(c=s.exec(e))!==null;)r.push({type:a.type,text:c[1]||c[0],confidence:.7})}return r.slice(0,this.config.maxEntities)}determinePriority(e){const{sentiment:r,categories:n}=e;if(r.score<-.5||r.label==="negative")return"high";const a=["environmental_impact","cultural_impact","community_concerns"];return n.some(c=>a.includes(c.category.toLowerCase().replace(" ","_"))&&c.confidence>.7)?"high":r.score<-.1||n.some(c=>c.confidence>.8)?"medium":"low"}extractActionItems(e){const{text:r}=e,n=[],a=[/(?:need|require|should)\s+([^.!?]+(?:to|for)[^.!?]+)/gi,/(?:must|have to)\s+([^.!?]+(?:to|for)[^.!?]+)/gi,/(?:recommend|suggest)\s+([^.!?]+)/gi,/(?:please ensure|ensure that)\s+([^.!?]+)/gi];for(const s of a){let c;for(;(c=s.exec(r))!==null;)n.push(c[1].trim())}return n.slice(0,3)}extractConcerns(e){const{text:r,sentiment:n}=e;if(n.label!=="negative")return[];const a=[/(?:concerned|worried) (?:about|with|regarding)\s+([^.!?]+)/gi,/(?:problem|issue|risk) \w+ ([^.!?]+)/gi,/([^.!?]*?)(?:affect|impact|damage)[^.!?]+/gi],s=[];for(const c of a){let u;for(;(u=c.exec(r))!==null;)s.push(u[1].trim())}return s.slice(0,3)}extractSuggestions(e){const{text:r}=e,n=[/(?:suggest|recommend)\s+([^.!?]+(?:to|that)[^.!?]+)/gi,/(?:better to|would prefer|would like to see)\s+([^.!?]+)/gi,/(?:instead should)\s+([^.!?]+)/gi],a=[];for(const s of n){let c;for(;(c=s.exec(r))!==null;)a.push(c[1].trim())}return a.slice(0,3)}requiresFollowUp(e){const{sentiment:r,categories:n}=e;if(r.score<-.3)return!0;const a=["environmental_impact","cultural_impact","community_concerns"];return n.some(s=>a.includes(s.category.toLowerCase().replace(" ","_"))&&s.confidence>.8)}generateSummary(e){const r={total:e.length,positive:e.filter(m=>m.feedback.sentiment.label==="positive").length,neutral:e.filter(m=>m.feedback.sentiment.label==="neutral").length,negative:e.filter(m=>m.feedback.sentiment.label==="negative").length},n=e.reduce((m,p)=>m+p.feedback.sentiment.score,0)/e.length,a=new Map;e.forEach(m=>{m.feedback.categories.forEach(p=>{a.set(p.category,(a.get(p.category)||0)+1)})});const s=Array.from(a.entries()).map(([m,p])=>({category:m,count:p})).sort((m,p)=>p.count-m.count).slice(0,5),c=new Map;e.forEach(m=>{c.set(m.priority,(c.get(m.priority)||0)+1)});const u=Array.from(c.entries()).map(([m,p])=>({priority:m,count:p})).sort((m,p)=>p.count-m.count),d=e.filter(m=>m.followUpRequired).length;return{...r,averageSentiment:n,topCategories:s,priorities:u,followUpRequired:d}}clearCache(){this.cache.clear()}updateConfig(e){this.config={...this.config,...e}}}const yC=ns.getInstance();function sV(t,e=!0){const[r,n]=R.useState(new Map),[a,s]=R.useState(!1),[c,u]=R.useState(null),d=R.useRef(null);return R.useEffect(()=>{if(!e||t.length===0){n(new Map);return}const y=JSON.stringify(t.map(j=>[j.id,j.timestamp,j.content,j.senderId]));if(d.current===y)return;d.current=y,(async()=>{s(!0),u(null);try{const j=new Map,w=5;for(let b=0;b<t.length;b+=w){const S=t.slice(b,b+w).map(async P=>{if(P.content.trim()){const N=await yC.analyzeText(P.content,{useCache:!0});return{id:P.id,analysis:N}}return null});(await Promise.all(S)).forEach(P=>{P&&j.set(P.id,P.analysis)})}n(j)}catch(j){u(j instanceof Error?j.message:"Message analysis failed"),n(new Map)}finally{s(!1)}})()},[t,e]),{messageAnalysis:r,getMessageSentiment:y=>r.get(y)?.sentiment,getMessageCategories:y=>r.get(y)?.categories||[],getOverallSentiment:()=>{if(r.size===0)return null;const y=Array.from(r.values()).map(w=>w.sentiment),x=y.reduce((w,b)=>w+b.score,0)/y.length,j=y.reduce((w,b)=>w+b.confidence,0)/y.length;return{score:x,confidence:j,label:x>.3?"positive":x<-.3?"negative":"neutral",magnitude:Math.min(Math.abs(x),1)}},loading:a,error:c}}function oV(){const[t,e]=R.useState(!0),[r,n]=R.useState(null);return R.useEffect(()=>{const a=async()=>{const c=Date.now();try{await yC.analyzeText("Test message for health check"),n(Date.now()-c),e(!0)}catch{e(!1),n(null)}};a();const s=setInterval(a,3e4);return()=>clearInterval(s)},[]),{isHealthy:t,latency:r}}const lV=()=>{const[t,e]=R.useState([]),[r,n]=R.useState([]),[a,s]=R.useState([]),[c,u]=R.useState([]),[d,m]=R.useState(null),[p,h]=R.useState("general"),[y,x]=R.useState(""),[j]=R.useState({id:"user1",name:"Consultation Coordinator"}),w=R.useRef(null),{messages:b,isConnected:k,participants:S,sendMessage:O}=wf(p),{connectionStatus:P}=bf("stakeholder"),[N,A]=R.useState(!0),[T,D]=R.useState(null);R.useEffect(()=>{C()},[]),R.useEffect(()=>{F()},[c,b]);const C=async()=>{try{A(!0);const Q=await(await fetch("/api/stakeholder/stakeholders")).json();e(Q);const Y=await(await fetch("/api/stakeholder/meetings")).json();n(Y);const fe=await(await fetch("/api/stakeholder/feedback")).json();s(fe);const xe=await(await fetch("/api/stakeholder/messages")).json();u(xe)}catch(W){D(W instanceof Error?W.message:"Failed to load data")}finally{A(!1)}},F=()=>{w.current?.scrollIntoView({behavior:"smooth"})},I=async()=>{if(y.trim())try{if(k)O(y),x("");else{const W={id:Date.now().toString(),senderId:j.id,senderName:j.name,content:y,timestamp:new Date().toISOString(),type:"message"};await fetch("/api/stakeholder/messages",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(W)}),u(Q=>[...Q,W]),x("")}}catch(W){console.error("Failed to send message:",W)}},q=U.useMemo(()=>{const W=t.length,Q=r.filter(Y=>new Date(Y.date)>new Date).length,z=a.length>0?a.reduce((Y,ae)=>Y+ae.sentiment,0)/a.length:0;return{totalStakeholders:W,upcomingMeetings:Q,totalMeetings:r.length,averageSentiment:z,feedbackEntries:a.length}},[t,r,a]),B=U.useMemo(()=>Array.from({length:7},(Q,z)=>{const Y=new Date;return Y.setDate(Y.getDate()-z),Y.toISOString().split("T")[0]}).reverse().map(Q=>{const z=a.filter(ae=>ae.timestamp.startsWith(Q)),Y=z.length>0?z.reduce((ae,fe)=>ae+fe.sentiment,0)/z.length:0;return{date:Q.substring(5),sentiment:Y*100,count:z.length}}),[a]),V=U.useMemo(()=>{const W={};return a.forEach(Q=>{Q.categories.forEach(z=>{W[z]=(W[z]||0)+1})}),Object.entries(W).map(([Q,z])=>({category:Q.charAt(0).toUpperCase()+Q.slice(1),count:z})).sort((Q,z)=>z.count-Q.count)},[a]),L=U.useMemo(()=>{const W=c.map(z=>({...z,id:z.id,senderName:z.senderName||"Unknown User",senderId:z.senderId,content:z.content,timestamp:z.timestamp})),Q=b.map((z,Y)=>({id:`${z.timestamp}_${Y}`,senderId:z.senderId||"system",senderName:z.senderId==="system"?"System":"User",content:z.payload?.content||JSON.stringify(z.payload),timestamp:z.timestamp,type:z.type}));return[...W,...Q].sort((z,Y)=>new Date(z.timestamp).getTime()-new Date(Y.timestamp).getTime()).slice(-100)},[c,b]),M=k,G=U.useMemo(()=>L.map(W=>({id:W.id,content:W.content,senderId:W.senderId,senderName:W.senderName||"Unknown",timestamp:W.timestamp})),[L]),{getOverallSentiment:$}=sV(G,G.length>0);return oV(),$(),N?o.jsx("div",{className:"flex items-center justify-center h-96",children:o.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):o.jsx("div",{className:"min-h-screen bg-slate-50",children:o.jsxs("div",{className:Ee.page,children:[o.jsx(gC,{featureId:"stakeholder_coordination"}),o.jsx("header",{className:"mb-8",children:o.jsxs("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between gap-3",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Stakeholder Coordination Dashboard"}),o.jsx(wt,{id:"module.stakeholder.overview"})]}),o.jsx("p",{className:"text-slate-600 mt-2",children:"Manage consultations, track feedback, and collaborate in real-time"})]}),o.jsx("div",{className:"self-start",children:o.jsx(wt,{id:"module.stakeholder.protocols",className:"bg-indigo-600 hover:bg-indigo-500 border-indigo-500"})})]})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[o.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Total Stakeholders"}),o.jsx(wt,{id:"metric.stakeholder.total"})]}),o.jsx("p",{className:"text-3xl font-bold text-blue-600",children:q.totalStakeholders})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Upcoming Meetings"}),o.jsx(wt,{id:"metric.stakeholder.upcoming_meetings"})]}),o.jsx("p",{className:"text-3xl font-bold text-green-600",children:q.upcomingMeetings})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Average Sentiment"}),o.jsx(wt,{id:"metric.stakeholder.average_sentiment"})]}),o.jsxs("p",{className:`text-3xl font-bold ${q.averageSentiment>.3?"text-green-600":q.averageSentiment<-.3?"text-red-600":"text-yellow-600"}`,children:[(q.averageSentiment*100).toFixed(0),"%"]})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Feedback Entries"}),o.jsx(wt,{id:"metric.stakeholder.feedback_entries"})]}),o.jsx("p",{className:"text-3xl font-bold text-purple-600",children:q.feedbackEntries})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[o.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsx("h3",{className:"text-xl font-semibold text-slate-900",children:"Sentiment Trend (7 Days)"}),o.jsx(wt,{id:"chart.stakeholder.sentiment_trend"})]}),o.jsx(St,{width:"100%",height:300,children:o.jsxs(Ls,{data:B,children:[o.jsx(Tt,{strokeDasharray:"3 3"}),o.jsx(lt,{dataKey:"date"}),o.jsx(nt,{}),o.jsx(We,{formatter:(W,Q)=>[`${W.toFixed(1)}%`,Q]}),o.jsx(ar,{type:"monotone",dataKey:"sentiment",stroke:"#8b5cf6",strokeWidth:2,dot:{fill:"#8b5cf6",strokeWidth:2,r:4}})]})})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsx("h3",{className:"text-xl font-semibold text-slate-900",children:"Feedback Categories"}),o.jsx(wt,{id:"chart.stakeholder.feedback_categories"})]}),o.jsx(St,{width:"100%",height:300,children:o.jsxs(ka,{data:V,children:[o.jsx(Tt,{strokeDasharray:"3 3"}),o.jsx(lt,{dataKey:"category"}),o.jsx(nt,{}),o.jsx(We,{}),o.jsx(Wt,{dataKey:"count",fill:"#6366f1"})]})})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[o.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-4",children:"Upcoming Meetings"}),o.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:r.filter(W=>new Date(W.date)>new Date&&W.status==="scheduled").slice(0,5).map(W=>o.jsxs("div",{className:"p-4 rounded-lg border cursor-pointer hover:border-slate-300 border-slate-200",onClick:()=>m(W),children:[o.jsx("h4",{className:"font-medium text-slate-900 mb-2",children:W.title}),o.jsxs("div",{className:"flex items-center justify-between text-sm text-slate-600 mb-2",children:[o.jsx("span",{children:new Date(`${W.date}T${W.startTime}`).toLocaleDateString("en-CA",{weekday:"short",month:"short",day:"numeric"})}),o.jsxs("span",{children:[W.startTime," - ",W.endTime]})]}),o.jsxs("p",{className:"text-sm text-slate-500 capitalize",children:[W.type.replace("_"," ")," • ",W.participants.length," participants"]})]},W.id))})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[o.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-4",children:"Active Stakeholders"}),o.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:t.slice(0,10).map(W=>o.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border border-slate-200",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-slate-900",children:W.name}),o.jsx("p",{className:"text-sm text-slate-600",children:W.organization})]}),o.jsxs("div",{className:"flex flex-col items-end",children:[o.jsxs("span",{className:`px-2 py-1 text-xs rounded-full mb-1 ${W.sentiment&&W.sentiment>.3?"bg-green-100 text-green-800":W.sentiment&&W.sentiment<-.3?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:["Sentiment: ",W.sentiment?(W.sentiment*100).toFixed(0)+"%":"N/A"]}),o.jsx("span",{className:"text-xs text-slate-500",children:W.role})]})]},W.id))})]})]}),o.jsxs("div",{className:"mt-8 bg-white rounded-lg shadow overflow-hidden",children:[o.jsxs("div",{className:"p-6 border-b border-slate-200",children:[o.jsx("h3",{className:"text-xl font-semibold text-slate-900",children:"Real-time Collaboration"}),o.jsx("p",{className:"text-slate-600",children:"Discuss consultations and share updates"})]}),o.jsx("div",{className:"flex h-96",children:o.jsxs("div",{className:"flex-1 flex flex-col",children:[o.jsx("div",{className:"p-3 border-b border-slate-200 bg-slate-50",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("select",{value:p,onChange:W=>h(W.target.value),className:"px-3 py-1 border border-slate-300 rounded-md text-sm",children:[o.jsx("option",{value:"general",children:"General Consultation"}),o.jsx("option",{value:"environmental",children:"Environmental Impact"}),o.jsx("option",{value:"community",children:"Community Feedback"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs("div",{className:`inline-flex items-center px-2 py-1 text-xs rounded-full ${M?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:[o.jsx("span",{className:`inline-block w-2 h-2 rounded-full mr-1 ${M?"bg-green-500":"bg-yellow-500"}`}),M?"Real-time":"Streaming"]}),S.length>0&&o.jsxs("span",{className:"text-xs text-slate-500",children:[S.length," online"]})]})]})}),o.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[L.map(W=>o.jsx("div",{className:`flex ${W.senderId===j.id?"justify-end":"justify-start"}`,children:o.jsxs("div",{className:`max-w-xs lg:max-w-md p-3 rounded-lg ${W.senderId===j.id?"bg-blue-600 text-white rounded-br-none":W.senderId==="system"?"bg-green-100 text-green-800 rounded-l-none":"bg-slate-100 text-slate-900 rounded-bl-none"}`,children:[o.jsxs("div",{className:"text-xs opacity-75 mb-1",children:[W.senderName," • ",new Date(W.timestamp).toLocaleTimeString()]}),o.jsx("div",{className:"break-words",children:W.content})]})},W.id)),o.jsx("div",{ref:w})]}),o.jsx("div",{className:"border-t border-slate-200 p-4",children:o.jsxs("div",{className:"flex space-x-4",children:[o.jsx("input",{type:"text",value:y,onChange:W=>x(W.target.value),onKeyPress:W=>W.key==="Enter"&&I(),placeholder:"Type your message...",className:"flex-1 px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),o.jsx("button",{onClick:I,disabled:!y.trim(),className:"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Send"})]})})]})})]}),o.jsxs("div",{className:"mt-4 flex items-center justify-end space-x-4",children:[o.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[o.jsx("span",{className:`inline-block w-2 h-2 rounded-full ${M?"bg-green-500":"bg-yellow-500"}`}),o.jsx("span",{className:"text-slate-600",children:M?"WebSocket Connected":"HTTP Fallback"})]}),o.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[o.jsx("span",{className:`inline-block w-2 h-2 rounded-full ${P==="connected"?"bg-green-500":"bg-red-500"}`}),o.jsx("span",{className:"text-slate-600",children:P==="connected"?"Data Stream Active":"Data Stream Offline"})]})]})]})})},cV=()=>{const[t,e]=R.useState([]),[r,n]=R.useState([]),[a,s]=R.useState(null),[c,u]=R.useState("Ontario"),[d,m]=R.useState(!0),[p,h]=R.useState(null),[y,x]=R.useState(!1),{data:j,connectionStatus:w,isUsingRealData:b}=bf("ontario-demand"),{isConnected:k}=wf("grid-optimization"),S=R.useCallback((C,F,I)=>{if(!C)return null;const q=Number(C.demand_mw??C.demand??C.ontario_demand??C.load??NaN),B=Number(C.supply_mw??C.supply??C.generation??NaN),V=Number.isFinite(q),L=Number.isFinite(B);if(!V&&!L)return null;const M=V?q:0,G=L?B:M*1.05,$=Number(C.frequency_hz??C.frequency??60),W=Number(C.voltage_kv??C.voltage??120),Q=Number(C.congestion_index??C.congestion??0),z=C.status||(Q>.25?"warning":"stable");return{id:C.id||`grid_${C.captured_at||I}`,region:C.region||F,demand:M,supply:G,frequency:$,voltage:W,congestion:Q,timestamp:C.captured_at||C.timestamp||C.last_updated||new Date().toISOString(),status:z}},[]),O=R.useCallback(async()=>{try{m(!0);const C=encodeURIComponent(c),[F,I,q]=await Promise.all([Pt([`api-v2-grid-status?region=${C}`,"api/grid/status"]),Pt([`api-v2-grid-stability-metrics?region=${C}`,"api/grid/stability-metrics"]),Pt([`api-v2-grid-optimization-recommendations?region=${C}`,"api/grid/optimization-recommendations"])]),V=(Array.isArray(F.json?.records)?F.json.records:Array.isArray(F.json)?F.json:[]).map(($,W)=>S($,c,W)).filter($=>$!==null);e(V);const L=Array.isArray(I.json)?I.json[0]:I.json;s(L?{frequencyStability:Number(L.frequency_stability??L.frequencyStability??0),voltageStability:Number(L.voltage_stability??L.voltageStability??0),congestionIndex:Number(L.congestion_index??L.congestionIndex??0),reserveMargin:Number(L.reserve_margin??L.reserveMargin??0),lastUpdated:L.last_updated||L.lastUpdated||new Date().toISOString()}:null);const G=(Array.isArray(q.json?.recommendations)?q.json.recommendations:Array.isArray(q.json)?q.json:[]).map(($,W)=>({id:$.id||`recommendation_${$.generated_at||W}`,type:$.recommendation_type||$.type||"demand_response",priority:$.priority||"medium",description:$.description||"Optimization recommendation",expectedImpact:Number($.expected_impact_percent??$.expectedImpact??0),implementationTime:Number($.implementation_time_minutes??$.implementationTime??0),confidence:typeof $.confidence=="number"?$.confidence:Number($.confidence??0),timestamp:$.generated_at||$.timestamp||new Date().toISOString()}));n(G),x(!1)}catch(C){const I=(C instanceof Error?C.message:String(C)).includes("VITE_ENABLE_EDGE_FETCH=false");I||console.error("Failed to load grid data",C),h(I?"Supabase Edge fetch disabled via configuration. Using local grid dataset.":"Using locally generated grid dataset while Supabase APIs are unavailable."),x(!0);const q=await mC.getGridStatus();e(q.map((V,L)=>S({id:V.id,region:V.region,demand_mw:V.load_mw,supply_mw:V.generation_mw,frequency_hz:V.grid_frequency_hz,voltage_kv:120,congestion_index:V.congestion_level==="high"?.6:V.congestion_level==="medium"?.35:.15,status:V.voltage_stability,captured_at:V.timestamp},V.region,L)??null).filter(V=>V!==null));const B=q[0]?.reserve_margin_percent??8;s({frequencyStability:.95,voltageStability:.9,congestionIndex:.25,reserveMargin:B,lastUpdated:q[0]?.timestamp??new Date().toISOString()}),n([])}finally{m(!1)}},[S,c]);R.useEffect(()=>{O()},[c,O]);const P=R.useCallback(C=>{if(C.length===0)return;const F=C[C.length-1],I=S(F,c,Date.now());I&&e(q=>[I,...q].slice(0,100))},[S,c]);R.useEffect(()=>{j.length>0&&P(j)},[j,P]);const N=R.useMemo(()=>{if(t.length===0)return null;const C=t[0],F=t.slice(0,24).reduce((q,B)=>q+B.demand,0)/Math.min(24,t.length),I=t.slice(0,24).reduce((q,B)=>q+B.supply,0)/Math.min(24,t.length);return{currentDemand:C.demand,currentSupply:C.supply,reserveMargin:(C.supply-C.demand)/C.demand*100,frequencyDeviation:Math.abs(60-C.frequency),voltageDeviation:Math.abs(120-C.voltage),avgDemand:F,avgSupply:I,criticalAlerts:r.filter(q=>q.priority==="critical").length,highPriorityActions:r.filter(q=>q.priority==="high").length}},[t,r]),A=R.useMemo(()=>t.slice(0,24).reverse().map((C,F)=>({time:`${24-F}h ago`,demand:C.demand,supply:C.supply,reserve:C.supply-C.demand})),[t]),T=R.useMemo(()=>t.slice(0,12).reverse().map((C,F)=>({time:`${12-F}h ago`,frequency:C.frequency,voltage:C.voltage,congestion:C.congestion})),[t]),D=R.useMemo(()=>{const C=r.reduce((F,I)=>(F[I.priority]=(F[I.priority]||0)+1,F),{});return Object.entries(C).map(([F,I])=>({priority:F.charAt(0).toUpperCase()+F.slice(1),count:I,color:F==="critical"?"#ef4444":F==="high"?"#f59e0b":F==="medium"?"#3b82f6":"#10b981"}))},[r]);return d?o.jsx("div",{className:"flex items-center justify-center h-96",children:o.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):o.jsx("div",{className:"min-h-screen bg-slate-50",children:o.jsxs("div",{className:Ee.page,children:[o.jsx(pC,{featureId:"grid_optimization"}),o.jsxs("header",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-slate-900 mb-2",children:"Grid Optimization Dashboard"}),o.jsx("p",{className:"text-slate-600",children:"Real-time grid monitoring, stability analysis, and optimization recommendations"}),p&&o.jsx("div",{className:`mt-4 rounded-lg p-4 ${y?"bg-amber-50 border border-amber-200 text-amber-700":"bg-red-50 border border-red-200 text-red-700"}`,children:o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx(Fr,{className:`h-5 w-5 ${y?"text-amber-600":"text-red-600"}`}),o.jsxs("div",{children:[o.jsx("h3",{className:`font-semibold mb-1 ${y?"text-amber-800":"text-red-800"}`,children:y?"Fallback Dataset Active":"Data Load Issue"}),o.jsx("p",{className:`${y?"text-amber-700":"text-red-700"} text-sm`,children:p})]})]})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[o.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:o.jsx(jt,{className:"h-6 w-6 text-blue-600"})}),o.jsxs("div",{className:`flex items-center space-x-1 px-2 py-1 rounded-full text-xs font-medium ${N?.reserveMargin&&N.reserveMargin>10?"bg-green-100 text-green-700":N?.reserveMargin&&N.reserveMargin>5?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:[N?.reserveMargin&&N.reserveMargin>10?o.jsx(qt,{className:"h-3 w-3"}):N?.reserveMargin&&N.reserveMargin>5?o.jsx(Fr,{className:"h-3 w-3"}):o.jsx(Fr,{className:"h-3 w-3"}),o.jsx("span",{children:N?.reserveMargin&&N.reserveMargin>10?"HEALTHY":N?.reserveMargin&&N.reserveMargin>5?"MONITOR":"CRITICAL"})]})]}),o.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Reserve Margin"}),o.jsxs("p",{className:"text-3xl font-bold text-blue-600",children:[N?.reserveMargin?.toFixed(1),"%"]}),o.jsxs("p",{className:"text-sm text-slate-600 mt-1",children:[N?.currentSupply?.toLocaleString()," MW supply vs ",N?.currentDemand?.toLocaleString()," MW demand"]})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:o.jsx(pn,{className:"h-6 w-6 text-green-600"})}),o.jsxs("div",{className:`flex items-center space-x-1 px-2 py-1 rounded-full text-xs font-medium ${N?.frequencyDeviation&&N.frequencyDeviation<.05?"bg-green-100 text-green-700":N?.frequencyDeviation&&N.frequencyDeviation<.1?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:[N?.frequencyDeviation&&N.frequencyDeviation<.05?o.jsx(qt,{className:"h-3 w-3"}):o.jsx(Fr,{className:"h-3 w-3"}),o.jsx("span",{children:N?.frequencyDeviation&&N.frequencyDeviation<.05?"STABLE":"DEVIATION"})]})]}),o.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Frequency"}),o.jsxs("p",{className:"text-3xl font-bold text-green-600",children:[t[0]?.frequency?.toFixed(3)," Hz"]}),o.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Target: 60.000 Hz"})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:o.jsx(si,{className:"h-6 w-6 text-purple-600"})}),o.jsxs("div",{className:`flex items-center space-x-1 px-2 py-1 rounded-full text-xs font-medium ${N?.criticalAlerts===0?"bg-green-100 text-green-700":N?.criticalAlerts&&N.criticalAlerts<3?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:[o.jsx(Fr,{className:"h-3 w-3"}),o.jsxs("span",{children:[N?.criticalAlerts||0," CRITICAL"]})]})]}),o.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Active Alerts"}),o.jsx("p",{className:"text-3xl font-bold text-purple-600",children:r.length}),o.jsxs("p",{className:"text-sm text-slate-600 mt-1",children:[N?.highPriorityActions||0," high priority actions needed"]})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:o.jsx(mr,{className:"h-6 w-6 text-orange-600"})}),o.jsxs("div",{className:`flex items-center space-x-1 px-2 py-1 rounded-full text-xs font-medium ${k?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:[k?o.jsx(tx,{className:"h-3 w-3"}):o.jsx($A,{className:"h-3 w-3"}),o.jsx("span",{children:k?"LIVE":"OFFLINE"})]})]}),o.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Data Source"}),o.jsx("p",{className:"text-3xl font-bold text-orange-600",children:b?"IESO":"MOCK"}),o.jsx("p",{className:"text-sm text-slate-600 mt-1",children:w==="connected"?"Real-time streaming":"Cached data"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[o.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[o.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-4",children:"Demand vs Supply (24h)"}),o.jsx(St,{width:"100%",height:300,children:o.jsxs(SG,{data:A,children:[o.jsx(Tt,{strokeDasharray:"3 3"}),o.jsx(lt,{dataKey:"time"}),o.jsx(nt,{}),o.jsx(We,{formatter:C=>[`${C.toLocaleString()} MW`,""]}),o.jsx(sr,{}),o.jsx(Wn,{type:"monotone",dataKey:"demand",stackId:"1",stroke:"#ef4444",fill:"#fee2e2"}),o.jsx(Wn,{type:"monotone",dataKey:"supply",stackId:"2",stroke:"#10b981",fill:"#d1fae5"})]})})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[o.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-4",children:"Grid Stability Metrics"}),o.jsx(St,{width:"100%",height:300,children:o.jsxs(Ls,{data:T,children:[o.jsx(Tt,{strokeDasharray:"3 3"}),o.jsx(lt,{dataKey:"time"}),o.jsx(nt,{yAxisId:"freq",orientation:"left",domain:[59.9,60.1]}),o.jsx(nt,{yAxisId:"volt",orientation:"right",domain:[118,122]}),o.jsx(We,{}),o.jsx(sr,{}),o.jsx(ar,{yAxisId:"freq",type:"monotone",dataKey:"frequency",stroke:"#3b82f6",strokeWidth:2,name:"Frequency (Hz)"}),o.jsx(ar,{yAxisId:"volt",type:"monotone",dataKey:"voltage",stroke:"#f59e0b",strokeWidth:2,name:"Voltage (V)"})]})})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[o.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-4",children:"AI Optimization Recommendations"}),o.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:r.length===0?o.jsxs("div",{className:"text-center py-8 text-slate-500",children:[o.jsx(si,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"No optimization recommendations at this time"})]}):r.slice(0,5).map(C=>o.jsxs("div",{className:`p-4 rounded-lg border ${C.priority==="critical"?"border-red-200 bg-red-50":C.priority==="high"?"border-yellow-200 bg-yellow-50":C.priority==="medium"?"border-blue-200 bg-blue-50":"border-green-200 bg-green-50"}`,children:[o.jsxs("div",{className:"flex items-start justify-between mb-2",children:[o.jsx("h4",{className:"font-medium text-slate-900",children:C.description}),o.jsx("span",{className:`px-2 py-1 text-xs rounded-full font-medium ${C.priority==="critical"?"bg-red-100 text-red-700":C.priority==="high"?"bg-yellow-100 text-yellow-700":C.priority==="medium"?"bg-blue-100 text-blue-700":"bg-green-100 text-green-700"}`,children:C.priority.toUpperCase()})]}),o.jsxs("div",{className:"flex items-center justify-between text-sm text-slate-600",children:[o.jsxs("span",{children:["Expected Impact: ",C.expectedImpact>0?"+":"",C.expectedImpact,"%"]}),o.jsxs("span",{children:["Time: ",C.implementationTime,"min"]})]}),o.jsxs("div",{className:"mt-2 text-xs text-slate-500",children:["Confidence: ",Math.round(C.confidence*100),"%"]})]},C.id))})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[o.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-4",children:"Recommendations by Priority"}),o.jsx(St,{width:"100%",height:300,children:o.jsxs(ab,{children:[o.jsx(cn,{data:D,cx:"50%",cy:"50%",labelLine:!1,label:({priority:C,count:F})=>`${C}: ${F}`,outerRadius:80,fill:"#8884d8",dataKey:"count",children:D.map((C,F)=>o.jsx(pi,{fill:C.color},`cell-${F}`))}),o.jsx(We,{})]})})]})]}),o.jsxs("div",{className:"mt-4 flex items-center justify-end space-x-4",children:[o.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[o.jsx("span",{className:`inline-block w-2 h-2 rounded-full ${k?"bg-green-500":"bg-yellow-500"}`}),o.jsx("span",{className:"text-slate-600",children:k?"Real-time WebSocket Connected":"WebSocket Offline"})]}),o.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[o.jsx("span",{className:`inline-block w-2 h-2 rounded-full ${w==="connected"?"bg-green-500":"bg-red-500"}`}),o.jsx("span",{className:"text-slate-600",children:w==="connected"?"IESO Data Stream Active":"IESO Data Stream Offline"})]})]})]})})},uV=()=>{const[t,e]=R.useState([]),[r,n]=R.useState([]),[a,s]=R.useState(null),[c,u]=R.useState([]),[d,m]=R.useState("24h"),[p,h]=R.useState(!0),[y,x]=R.useState(null),{data:j,connectionStatus:w}=bf("security-events"),{isConnected:b}=wf("security-monitoring"),k=R.useCallback((M,G)=>{const $=M*G;return $>=.6?"critical":$>=.4?"high":$>=.2?"medium":"low"},[]),S=R.useCallback(M=>M?{id:M.id||`threat_${M.vector||M.category||Date.now()}`,type:M.category||"cyber",severity:M.severity||k(M.impact??0,M.likelihood??0),likelihood:Number(M.likelihood??0),impact:Number(M.impact??0),description:M.description||M.mitigation_summary||"Threat description pending",affectedAssets:Array.isArray(M.affected_assets)?M.affected_assets:[],mitigationStrategies:Array.isArray(M.mitigation_strategies)?M.mitigation_strategies:[],detectionMethods:Array.isArray(M.detection_methods)?M.detection_methods:[],lastAssessed:M.last_reviewed||M.lastAssessed||new Date().toISOString(),riskScore:Number(M.likelihood??0)*Number(M.impact??0)}:null,[k]),O=R.useCallback((M,G)=>M?{id:M.id||`incident_${G}`,type:String(M.incident_type||M.type||"unknown"),severity:M.severity||"medium",status:M.status||"detected",description:M.description||"Security event detected",affectedSystems:Array.isArray(M.affected_systems)?M.affected_systems:[],timestamp:M.detected_at||M.timestamp||new Date().toISOString(),responseTime:Number(M.response_time_minutes??M.responseTime??0),resolutionTime:M.resolution_time_minutes??M.resolutionTime?Number(M.resolution_time_minutes??M.resolutionTime):void 0}:null,[]),P=R.useCallback(M=>M?{id:M.id||`mitigation_${M.strategy_name||Date.now()}`,threatId:M.related_threat||M.threatId||"",strategy:M.strategy_name||M.strategy||"Mitigation strategy",priority:M.priority||"medium",implementationStatus:M.status||"planned",expectedEffectiveness:Number(M.effectiveness??M.expectedEffectiveness??0),cost:Number(M.cost_estimate??M.cost??0),timeline:`${M.time_to_implement_days??M.timeline??0} days`,responsibleParty:M.responsible_party||M.responsibleParty||"Unassigned"}:null,[]),N=R.useCallback(M=>(Array.isArray(M?.threats)?M.threats:Array.isArray(M)?M:[]).map(S).filter($=>$!==null),[S]),A=R.useCallback(M=>(Array.isArray(M?.incidents)?M.incidents:Array.isArray(M)?M:[]).map(($,W)=>O($,W)).filter($=>$!==null),[O]),T=R.useCallback(M=>{const G=Array.isArray(M)?M[0]:M;return G?{overallRiskScore:Number(G.overall_risk_score??G.overallRiskScore??0),activeIncidents:Number(G.active_incidents_count??G.activeIncidents??0),criticalVulnerabilities:Number(G.critical_vulnerabilities??G.criticalVulnerabilities??0),complianceScore:Number(G.compliance_score??G.complianceScore??0),threatDetectionRate:Number(G.detection_rate??G.threatDetectionRate??0),lastUpdated:G.last_updated||G.lastUpdated||new Date().toISOString()}:null},[]),D=R.useCallback(M=>(Array.isArray(M?.strategies)?M.strategies:Array.isArray(M)?M:[]).map(P).filter($=>$!==null),[P]),C=R.useCallback(async()=>{try{h(!0);const[M,G,$,W]=await Promise.all([Pt(["api-v2-security-threat-models","api/security/threat-models"]),Pt(["api-v2-security-incidents","api/security/incidents"]),Pt(["api-v2-security-metrics","api/security/metrics"]),Pt(["api-v2-security-mitigation-strategies","api/security/mitigation-strategies"])]),Q=N(M.json);e(Q);const z=A(G.json);n(z);const Y=T($.json);s(Y);const ae=D(W.json);u(ae)}catch(M){const $=(M instanceof Error?M.message:String(M)).includes("VITE_ENABLE_EDGE_FETCH=false");$||console.error("Failed to load security data",M),x($?"Supabase Edge fetch disabled via configuration. Showing security fallback dataset.":M instanceof Error?M.message:"Failed to load security data")}finally{h(!1)}},[A,T,D,N]),F=R.useCallback(M=>{if(M.length===0)return;const G=M.map(($,W)=>O($,`stream_${Date.now()}_${W}`)).filter($=>$!==null);G.length!==0&&n($=>[...G,...$].slice(0,100))},[O]);R.useEffect(()=>{C()},[d,C]),R.useEffect(()=>{j.length>0&&F(j)},[j,F]);const I=R.useMemo(()=>{if(!a)return null;const M=r.filter(W=>W.status!=="resolved").length,G=r.filter(W=>W.severity==="critical").length,$=r.length>0?r.reduce((W,Q)=>W+Q.responseTime,0)/r.length:0;return{overallRiskScore:a.overallRiskScore,activeIncidents:M,criticalIncidents:G,complianceScore:a.complianceScore,threatDetectionRate:a.threatDetectionRate,avgResponseTime:$}},[a,r]),q=R.useMemo(()=>t.map(M=>({x:M.likelihood*100,y:M.impact*100,name:M.type,severity:M.severity,riskScore:M.riskScore})),[t]),B=R.useMemo(()=>Array.from({length:24},(G,$)=>{const W=new Date;return W.setHours(W.getHours()-$),W.toISOString().substring(0,13)}).reverse().map(G=>{const $=r.filter(W=>W.timestamp.startsWith(G));return{hour:G.substring(11,13)+":00",incidents:$.length,critical:$.filter(W=>W.severity==="critical").length,resolved:$.filter(W=>W.status==="resolved").length}}),[r]),V=R.useMemo(()=>{const M=t.reduce((G,$)=>(G[$.type]=(G[$.type]||0)+1,G),{});return Object.entries(M).map(([G,$])=>({type:G.replace("_"," ").replace(/\b\w/g,W=>W.toUpperCase()),count:$,color:G==="cyber"?"#ef4444":G==="physical"?"#f59e0b":G==="supply_chain"?"#3b82f6":"#10b981"}))},[t]),L=R.useMemo(()=>{const M=c.reduce((G,$)=>(G[$.implementationStatus]=(G[$.implementationStatus]||0)+1,G),{});return Object.entries(M).map(([G,$])=>({status:G.replace("_"," ").replace(/\b\w/g,W=>W.toUpperCase()),count:$,color:G==="implemented"?"#10b981":G==="in_progress"?"#f59e0b":G==="planned"?"#6b7280":"#ef4444"}))},[c]);return p?o.jsx("div",{className:"flex items-center justify-center h-96",children:o.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):o.jsx("div",{className:"min-h-screen bg-slate-50",children:o.jsxs("div",{className:Ee.page,children:[o.jsx(pC,{featureId:"security_assessment"}),o.jsxs("header",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-slate-900 mb-2",children:"Security Assessment Dashboard"}),o.jsx("p",{className:"text-slate-600",children:"Threat modeling, incident monitoring, and security mitigation strategies"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[o.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("div",{className:"p-3 bg-red-100 rounded-lg",children:o.jsx(Br,{className:"h-6 w-6 text-red-600"})}),o.jsxs("div",{className:`flex items-center space-x-1 px-2 py-1 rounded-full text-xs font-medium ${(I?.overallRiskScore||0)<30?"bg-green-100 text-green-700":(I?.overallRiskScore||0)<70?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:[(I?.overallRiskScore||0)<30?o.jsx(Br,{className:"h-3 w-3"}):(I?.overallRiskScore||0)<70?o.jsx(Fr,{className:"h-3 w-3"}):o.jsx(ls,{className:"h-3 w-3"}),o.jsx("span",{children:(I?.overallRiskScore||0)<30?"LOW RISK":(I?.overallRiskScore||0)<70?"MEDIUM RISK":"HIGH RISK"})]})]}),o.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Overall Risk Score"}),o.jsx("p",{className:"text-3xl font-bold text-red-600",children:I?.overallRiskScore?.toFixed(1)||"0.0"}),o.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Out of 100 (lower is better)"})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:o.jsx(Fr,{className:"h-6 w-6 text-orange-600"})}),o.jsxs("div",{className:`flex items-center space-x-1 px-2 py-1 rounded-full text-xs font-medium ${(I?.activeIncidents||0)===0?"bg-green-100 text-green-700":(I?.activeIncidents||0)<5?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:[o.jsx(Fr,{className:"h-3 w-3"}),o.jsx("span",{children:(I?.activeIncidents||0)===0?"CLEAR":"ACTIVE"})]})]}),o.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Active Incidents"}),o.jsx("p",{className:"text-3xl font-bold text-orange-600",children:I?.activeIncidents||0}),o.jsxs("p",{className:"text-sm text-slate-600 mt-1",children:[I?.criticalIncidents||0," critical incidents"]})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:o.jsx(si,{className:"h-6 w-6 text-blue-600"})}),o.jsxs("div",{className:`flex items-center space-x-1 px-2 py-1 rounded-full text-xs font-medium ${(I?.complianceScore||0)>90?"bg-green-100 text-green-700":(I?.complianceScore||0)>70?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:[o.jsx(si,{className:"h-3 w-3"}),o.jsx("span",{children:(I?.complianceScore||0)>90?"COMPLIANT":"MONITOR"})]})]}),o.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Compliance Score"}),o.jsxs("p",{className:"text-3xl font-bold text-blue-600",children:[I?.complianceScore?.toFixed(1)||"0.0","%"]}),o.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Regulatory compliance rating"})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:o.jsx(mr,{className:"h-6 w-6 text-green-600"})}),o.jsxs("div",{className:`flex items-center space-x-1 px-2 py-1 rounded-full text-xs font-medium ${(I?.threatDetectionRate||0)>95?"bg-green-100 text-green-700":(I?.threatDetectionRate||0)>80?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:[o.jsx(mr,{className:"h-3 w-3"}),o.jsx("span",{children:(I?.threatDetectionRate||0)>95?"EXCELLENT":"GOOD"})]})]}),o.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Detection Rate"}),o.jsxs("p",{className:"text-3xl font-bold text-green-600",children:[I?.threatDetectionRate?.toFixed(1)||"0.0","%"]}),o.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Threat detection effectiveness"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[o.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[o.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-4",children:"Threat Risk Matrix"}),o.jsx(St,{width:"100%",height:300,children:o.jsxs(ib,{data:q,children:[o.jsx(Tt,{strokeDasharray:"3 3"}),o.jsx(lt,{type:"number",dataKey:"x",domain:[0,100],label:{value:"Likelihood (%)",position:"insideBottom",offset:-5}}),o.jsx(nt,{type:"number",dataKey:"y",domain:[0,100],label:{value:"Impact (%)",angle:-90,position:"insideLeft"}}),o.jsx(We,{formatter:(M,G)=>[`${M}%`,G==="x"?"Likelihood":"Impact"],labelFormatter:M=>`Threat: ${q.find(G=>G.x===M)?.name||"Unknown"}`}),o.jsx(xi,{dataKey:"y",fill:"#ef4444",shape:M=>{const{cx:G,cy:$,payload:W}=M,Q=W.severity==="critical"?"#ef4444":W.severity==="high"?"#f59e0b":W.severity==="medium"?"#3b82f6":"#10b981";return o.jsx("circle",{cx:G,cy:$,r:6,fill:Q,stroke:"#fff",strokeWidth:2})}})]})}),o.jsx("div",{className:"mt-4 text-sm text-slate-600",children:"Risk matrix showing threat likelihood vs impact. Circle size indicates risk score."})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[o.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-4",children:"Incident Timeline (24h)"}),o.jsx(St,{width:"100%",height:300,children:o.jsxs(ka,{data:B,children:[o.jsx(Tt,{strokeDasharray:"3 3"}),o.jsx(lt,{dataKey:"hour"}),o.jsx(nt,{}),o.jsx(We,{}),o.jsx(sr,{}),o.jsx(Wt,{dataKey:"incidents",stackId:"a",fill:"#ef4444",name:"Total Incidents"}),o.jsx(Wt,{dataKey:"critical",stackId:"a",fill:"#dc2626",name:"Critical"}),o.jsx(Wt,{dataKey:"resolved",stackId:"b",fill:"#10b981",name:"Resolved"})]})})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[o.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-4",children:"Threat Types Distribution"}),o.jsx(St,{width:"100%",height:300,children:o.jsxs(ab,{children:[o.jsx(cn,{data:V,cx:"50%",cy:"50%",labelLine:!1,label:({type:M,count:G})=>`${M}: ${G}`,outerRadius:80,fill:"#8884d8",dataKey:"count",children:V.map((M,G)=>o.jsx(pi,{fill:M.color},`cell-${G}`))}),o.jsx(We,{})]})})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[o.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-4",children:"Mitigation Strategies Status"}),o.jsx(St,{width:"100%",height:300,children:o.jsxs(ka,{data:L,children:[o.jsx(Tt,{strokeDasharray:"3 3"}),o.jsx(lt,{dataKey:"status"}),o.jsx(nt,{}),o.jsx(We,{}),o.jsx(Wt,{dataKey:"count",fill:"#3b82f6"})]})})]})]}),o.jsxs("div",{className:"mt-8 bg-white rounded-lg shadow p-6",children:[o.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-4",children:"Recent Security Incidents"}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"bg-slate-50",children:[o.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-slate-700",children:"Type"}),o.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-slate-700",children:"Severity"}),o.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-slate-700",children:"Status"}),o.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-slate-700",children:"Description"}),o.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-slate-700",children:"Response Time"}),o.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-slate-700",children:"Timestamp"})]})}),o.jsx("tbody",{className:"divide-y divide-slate-200",children:r.slice(0,10).map(M=>o.jsxs("tr",{className:"hover:bg-slate-50",children:[o.jsx("td",{className:"px-4 py-2 text-sm text-slate-900",children:M.type.replace("_"," ").toUpperCase()}),o.jsx("td",{className:"px-4 py-2",children:o.jsx("span",{className:`inline-block px-2 py-1 text-xs rounded-full font-medium ${M.severity==="critical"?"bg-red-100 text-red-700":M.severity==="high"?"bg-orange-100 text-orange-700":M.severity==="medium"?"bg-yellow-100 text-yellow-700":"bg-green-100 text-green-700"}`,children:M.severity.toUpperCase()})}),o.jsx("td",{className:"px-4 py-2",children:o.jsx("span",{className:`inline-block px-2 py-1 text-xs rounded-full font-medium ${M.status==="resolved"?"bg-green-100 text-green-700":M.status==="contained"?"bg-blue-100 text-blue-700":M.status==="investigating"?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:M.status.replace("_"," ").toUpperCase()})}),o.jsx("td",{className:"px-4 py-2 text-sm text-slate-600 max-w-xs truncate",children:M.description}),o.jsxs("td",{className:"px-4 py-2 text-sm text-slate-600",children:[M.responseTime,"min"]}),o.jsx("td",{className:"px-4 py-2 text-sm text-slate-500",children:new Date(M.timestamp).toLocaleString()})]},M.id))})]})})]}),o.jsxs("div",{className:"mt-4 flex items-center justify-end space-x-4",children:[o.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[o.jsx("span",{className:`inline-block w-2 h-2 rounded-full ${b?"bg-green-500":"bg-yellow-500"}`}),o.jsx("span",{className:"text-slate-600",children:b?"Real-time Security Monitoring Active":"Security Monitoring Offline"})]}),o.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[o.jsx("span",{className:`inline-block w-2 h-2 rounded-full ${w==="connected"?"bg-green-500":"bg-red-500"}`}),o.jsx("span",{className:"text-slate-600",children:w==="connected"?"Security Data Stream Active":"Security Data Stream Offline"})]})]})]})})},dV={production_ready:{label:"Production Ready",icon:qt,color:"text-green-600",bgColor:"bg-green-50",borderColor:"border-green-200",badge:"✨"},acceptable:{label:"Available",icon:qt,color:"text-blue-600",bgColor:"bg-blue-50",borderColor:"border-blue-200",badge:"🟡"},partial:{label:"Limited",icon:Fr,color:"text-yellow-600",bgColor:"bg-yellow-50",borderColor:"border-yellow-200",badge:"🟠"},deferred:{label:"Coming Soon",icon:ll,color:"text-gray-600",bgColor:"bg-gray-50",borderColor:"border-gray-200",badge:"🔜"}},ku=({feature:t})=>{const[e,r]=R.useState(!1),n=dV[t.status],a=n.icon;return o.jsx("div",{className:`border-2 ${n.borderColor} rounded-lg p-4 ${n.bgColor}`,children:o.jsx("div",{className:"flex items-start justify-between gap-3",children:o.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[o.jsx(a,{className:`h-6 w-6 ${n.color} flex-shrink-0 mt-0.5`}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("h3",{className:"font-semibold text-gray-900",children:t.name}),o.jsx("span",{className:"text-xl",children:n.badge})]}),o.jsxs("div",{className:"flex items-center gap-3 text-xs text-gray-600 mb-2",children:[o.jsx("span",{className:`font-medium ${n.color}`,children:n.label}),o.jsxs("span",{children:["Rating: ",t.rating,"/5"]}),t.estimatedRelease&&o.jsxs("span",{className:"text-gray-500",children:["• Est: ",t.estimatedRelease]})]}),t.limitations&&t.limitations.length>0&&o.jsxs(o.Fragment,{children:[o.jsxs("button",{onClick:()=>r(!e),className:"flex items-center gap-1 text-sm text-gray-700 hover:text-gray-900 transition-colors",children:[e?o.jsx(kA,{className:"h-4 w-4"}):o.jsx(NA,{className:"h-4 w-4"}),e?"Hide":"Show"," limitations (",t.limitations.length,")"]}),e&&o.jsxs("div",{className:"mt-3 pl-4 border-l-2 border-gray-300",children:[o.jsx("p",{className:"text-xs font-medium text-gray-700 mb-2",children:"Known Limitations:"}),o.jsx("ul",{className:"space-y-1.5",children:t.limitations.map((s,c)=>o.jsxs("li",{className:"text-xs text-gray-600 flex items-start gap-2",children:[o.jsx(ls,{className:"h-3 w-3 flex-shrink-0 mt-0.5 text-gray-400"}),o.jsx("span",{children:s})]},c))})]})]}),!t.enabled&&t.status==="deferred"&&o.jsx("div",{className:"mt-2 text-xs text-gray-600 italic",children:"This feature is under development for Phase 2 release."})]})]})})})},fV=()=>{const[t,e]=R.useState("all"),r=R.useMemo(()=>hC(),[]),n=R.useMemo(()=>{const s=Object.values(Jl);return t==="all"?s:s.filter(c=>c.status===t)},[t]),a=R.useMemo(()=>({production_ready:n.filter(s=>s.status==="production_ready"),acceptable:n.filter(s=>s.status==="acceptable"),partial:n.filter(s=>s.status==="partial"),deferred:n.filter(s=>s.status==="deferred")}),[n]);return o.jsx("div",{className:Ee.page,children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-3",children:"Feature Availability - Phase 1 Launch"}),o.jsx("p",{className:"text-gray-600 text-lg mb-4",children:"Transparency about what's working, what has limitations, and what's coming next."}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 mt-6",children:[o.jsxs("div",{className:"bg-white border-2 border-gray-200 rounded-lg p-4 text-center",children:[o.jsx("div",{className:"text-3xl font-bold text-gray-900",children:r.total}),o.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"Total Features"})]}),o.jsxs("div",{className:"bg-green-50 border-2 border-green-200 rounded-lg p-4 text-center",children:[o.jsx("div",{className:"text-3xl font-bold text-green-700",children:r.productionReady}),o.jsx("div",{className:"text-xs text-green-700 mt-1",children:"Production Ready"})]}),o.jsxs("div",{className:"bg-blue-50 border-2 border-blue-200 rounded-lg p-4 text-center",children:[o.jsx("div",{className:"text-3xl font-bold text-blue-700",children:r.acceptable}),o.jsx("div",{className:"text-xs text-blue-700 mt-1",children:"Available"})]}),o.jsxs("div",{className:"bg-yellow-50 border-2 border-yellow-200 rounded-lg p-4 text-center",children:[o.jsx("div",{className:"text-3xl font-bold text-yellow-700",children:r.partial}),o.jsx("div",{className:"text-xs text-yellow-700 mt-1",children:"Limited"})]}),o.jsxs("div",{className:"bg-gray-50 border-2 border-gray-200 rounded-lg p-4 text-center",children:[o.jsx("div",{className:"text-3xl font-bold text-gray-700",children:r.deferred}),o.jsx("div",{className:"text-xs text-gray-700 mt-1",children:"Coming Soon"})]})]})]}),o.jsxs("div",{className:"flex flex-wrap gap-2 mb-6",children:[o.jsxs("button",{onClick:()=>e("all"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${t==="all"?"bg-gray-900 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["All Features (",r.total,")"]}),o.jsxs("button",{onClick:()=>e("production_ready"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${t==="production_ready"?"bg-green-600 text-white":"bg-green-50 text-green-700 hover:bg-green-100 border border-green-200"}`,children:["✨ Production Ready (",r.productionReady,")"]}),o.jsxs("button",{onClick:()=>e("acceptable"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${t==="acceptable"?"bg-blue-600 text-white":"bg-blue-50 text-blue-700 hover:bg-blue-100 border border-blue-200"}`,children:["🟡 Available (",r.acceptable,")"]}),o.jsxs("button",{onClick:()=>e("partial"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${t==="partial"?"bg-yellow-600 text-white":"bg-yellow-50 text-yellow-700 hover:bg-yellow-100 border border-yellow-200"}`,children:["🟠 Limited (",r.partial,")"]}),o.jsxs("button",{onClick:()=>e("deferred"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${t==="deferred"?"bg-gray-600 text-white":"bg-gray-50 text-gray-700 hover:bg-gray-100 border border-gray-200"}`,children:["🔜 Coming Soon (",r.deferred,")"]})]}),o.jsxs("div",{className:"space-y-8",children:[(t==="all"||t==="production_ready")&&a.production_ready.length>0&&o.jsxs("div",{children:[o.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:[o.jsx("span",{className:"text-3xl",children:"✨"}),"Production Ready - No Limitations"]}),o.jsx("p",{className:"text-gray-600 mb-4",children:"These features are fully functional and tested. Use with confidence for production workloads."}),o.jsx("div",{className:"space-y-3",children:a.production_ready.map(s=>o.jsx(ku,{feature:s},s.id))})]}),(t==="all"||t==="acceptable")&&a.acceptable.length>0&&o.jsxs("div",{children:[o.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:[o.jsx("span",{className:"text-3xl",children:"🟡"}),"Available - Known Limitations"]}),o.jsx("p",{className:"text-gray-600 mb-4",children:"These features work well within documented limitations. Review limitations before use."}),o.jsx("div",{className:"space-y-3",children:a.acceptable.map(s=>o.jsx(ku,{feature:s},s.id))})]}),(t==="all"||t==="partial")&&a.partial.length>0&&o.jsxs("div",{children:[o.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:[o.jsx("span",{className:"text-3xl",children:"🟠"}),"Limited Functionality - Use with Caution"]}),o.jsx("p",{className:"text-gray-600 mb-4",children:"These features have significant limitations. Suitable for exploration and visualization, not critical decisions."}),o.jsx("div",{className:"space-y-3",children:a.partial.map(s=>o.jsx(ku,{feature:s},s.id))})]}),(t==="all"||t==="deferred")&&a.deferred.length>0&&o.jsxs("div",{children:[o.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:[o.jsx("span",{className:"text-3xl",children:"🔜"}),"Coming in Phase 2 - Q1 2026"]}),o.jsx("p",{className:"text-gray-600 mb-4",children:"These features are under active development and will be available in the Phase 2 release."}),o.jsx("div",{className:"space-y-3",children:a.deferred.map(s=>o.jsx(ku,{feature:s},s.id))})]})]}),o.jsxs("div",{className:"mt-12 p-6 bg-blue-50 border-2 border-blue-200 rounded-lg",children:[o.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-2",children:"Your Feedback Shapes Phase 2"}),o.jsx("p",{className:"text-blue-800 text-sm mb-3",children:"Help us prioritize what matters most. Which deferred features would add the most value for you? What limitations in available features cause the most friction?"}),o.jsx("p",{className:"text-blue-700 text-xs",children:"Use the feedback button (top right) or help system to share your thoughts."})]})]})})},mV=({tabs:t,activeTab:e,onSelect:r,className:n})=>{const a=R.useRef(null),s=c=>{const u=a.current;u&&u.scrollBy({left:c,behavior:"smooth"})};return o.jsxs("div",{className:`ribbon-wrapper ${n??""}`,children:[o.jsx("button",{type:"button","aria-label":"Scroll left",className:"hidden md:block absolute left-0 top-1/2 -translate-y-1/2 bg-white/80 hover:bg-white shadow rounded-full p-2 border border-slate-200",onClick:()=>s(-240),children:o.jsx("svg",{viewBox:"0 0 24 24",width:"18",height:"18",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:o.jsx("polyline",{points:"15 18 9 12 15 6"})})}),o.jsx("div",{ref:a,className:"ribbon",role:"tablist","aria-label":"Main Navigation",children:t.map(c=>{const u=c.icon,d=e===c.id;return o.jsxs("button",{role:"tab","aria-selected":d,onClick:()=>r(c.id),className:`ribbon-item ${d?"ribbon-item-active":""}`,children:[u?o.jsx(u,{className:"h-4 w-4 mr-2"}):null,o.jsx("span",{children:c.label}),c.badge&&o.jsx("span",{className:`ml-2 px-2 py-0.5 text-xs rounded-full font-medium ${c.badge==="Limited"?"bg-yellow-100 text-yellow-700":c.badge==="Soon"?"bg-gray-100 text-gray-600":"bg-blue-100 text-blue-700"}`,children:c.badge})]},c.id)})}),o.jsx("button",{type:"button","aria-label":"Scroll right",className:"hidden md:block absolute right-0 top-1/2 -translate-y-1/2 bg-white/80 hover:bg-white shadow rounded-full p-2 border border-slate-200",onClick:()=>s(240),children:o.jsx("svg",{viewBox:"0 0 24 24",width:"18",height:"18",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:o.jsx("polyline",{points:"9 18 15 12 9 6"})})})]})},er={PROFILE:"household_profile",USAGE_HISTORY:"usage_history",PREFERENCES:"user_preferences",SAVINGS:"savings_tracker",RECOMMENDATIONS:"recommendations",ONBOARDING_COMPLETE:"onboarding_complete"};class hV{saveProfile(e){try{const r={...e,updatedAt:new Date().toISOString()};localStorage.setItem(er.PROFILE,JSON.stringify(r))}catch(r){throw console.error("Failed to save household profile:",r),new Error("Unable to save profile data")}}getProfile(){try{const e=localStorage.getItem(er.PROFILE);return e?JSON.parse(e):null}catch(e){return console.error("Failed to retrieve household profile:",e),null}}updateProfile(e){const r=this.getProfile();if(!r)throw new Error("No profile exists to update");const n={...r,...e,updatedAt:new Date().toISOString()};this.saveProfile(n)}saveUsage(e){try{const r=this.getUsageHistory(),n=r.findIndex(s=>s.month===e.month);n>=0?r[n]=e:r.push(e),r.sort((s,c)=>c.month.localeCompare(s.month));const a=r.slice(0,24);localStorage.setItem(er.USAGE_HISTORY,JSON.stringify(a))}catch(r){throw console.error("Failed to save usage data:",r),new Error("Unable to save usage data")}}getUsageHistory(e=12){try{const r=localStorage.getItem(er.USAGE_HISTORY);return r?JSON.parse(r).slice(0,e):[]}catch(r){return console.error("Failed to retrieve usage history:",r),[]}}calculateBenchmark(e){const r={ON:.85,AB:.95,BC:.75,QC:.8,SK:.9,MB:.85,NS:.82,NB:.83,PE:.81,NL:.88,YT:1.1,NT:1.15,NU:1.2},n={house:1.2,townhouse:.9,condo:.7,apartment:.6},a={electric:1.4,gas:.3,oil:.3,"heat-pump":.8,dual:.9,other:1};let m=e.squareFootage/100*e.occupants*35*r[e.province]*n[e.homeType]*a[e.heatingType];e.hasAC&&(m+=150),e.hasSolar&&(m*=.6),e.hasEV&&(m+=300);const p=this.getUsageHistory(3),h=p.length>0?p.reduce((k,S)=>k+S.consumption_kwh,0)/p.length:m,y=h<=m*.8?20:h<=m?40:h<=m*1.2?60:h<=m*1.5?80:95,x=((h-m)/m*100).toFixed(0),j=h<m?`${Math.abs(Number(x))}% below average`:h>m?`${x}% above average`:"Right at average",b=m*{ON:12.5,AB:18,BC:10,QC:7.5,SK:15,MB:9,NS:16.5,NB:13,PE:14.5,NL:12,YT:13.5,NT:25,NU:28}[e.province]/100;return{expectedUsage:Math.round(m),avgCost:Math.round(b*100)/100,similarHomesAvg:Math.round(m*1.05),percentile:y,comparisonText:j}}savePreferences(e){try{localStorage.setItem(er.PREFERENCES,JSON.stringify(e))}catch(r){console.error("Failed to save preferences:",r)}}getPreferences(){try{const e=localStorage.getItem(er.PREFERENCES);return e?JSON.parse(e):null}catch(e){return console.error("Failed to retrieve preferences:",e),null}}saveRecommendations(e){try{localStorage.setItem(er.RECOMMENDATIONS,JSON.stringify(e))}catch(r){console.error("Failed to save recommendations:",r)}}getRecommendations(){try{const e=localStorage.getItem(er.RECOMMENDATIONS);return e?JSON.parse(e):[]}catch(e){return console.error("Failed to retrieve recommendations:",e),[]}}markRecommendationImplemented(e){const r=this.getRecommendations(),n=r.map(a=>a.id===e?{...a,isCompleted:!0,implementedAt:new Date().toISOString()}:a);this.saveRecommendations(n),this.updateSavingsTracker(r.find(a=>a.id===e))}updateSavingsTracker(e){if(e)try{const r=this.getProfile();if(!r)return;const n=localStorage.getItem(er.SAVINGS),a=n?JSON.parse(n):{userId:r.userId,implementedRecommendations:[],totalSavedKwh:0,totalSavedCAD:0,totalCO2Reduced:0,savingsHistory:[],lastUpdated:new Date().toISOString()};a.implementedRecommendations.find(s=>s.id===e.id)||(a.implementedRecommendations.push(e),a.totalSavedKwh+=e.potentialSavings.kwh,a.totalSavedCAD+=e.potentialSavings.annual,a.totalCO2Reduced+=e.potentialSavings.co2Reduction,a.lastUpdated=new Date().toISOString(),localStorage.setItem(er.SAVINGS,JSON.stringify(a)))}catch(r){console.error("Failed to update savings tracker:",r)}}getSavingsTracker(){try{const e=localStorage.getItem(er.SAVINGS);return e?JSON.parse(e):null}catch(e){return console.error("Failed to retrieve savings tracker:",e),null}}isOnboardingComplete(){try{return localStorage.getItem(er.ONBOARDING_COMPLETE)==="true"}catch{return!1}}setOnboardingComplete(){localStorage.setItem(er.ONBOARDING_COMPLETE,"true")}clearAllData(){Object.values(er).forEach(e=>{localStorage.removeItem(e)})}exportData(){const e={profile:this.getProfile(),usageHistory:this.getUsageHistory(24),preferences:this.getPreferences(),recommendations:this.getRecommendations(),savings:this.getSavingsTracker(),exportedAt:new Date().toISOString()};return JSON.stringify(e,null,2)}importData(e){try{const r=JSON.parse(e);r.profile&&this.saveProfile(r.profile),r.usageHistory&&r.usageHistory.forEach(n=>this.saveUsage(n)),r.preferences&&this.savePreferences(r.preferences),r.recommendations&&this.saveRecommendations(r.recommendations),r.savings&&localStorage.setItem(er.SAVINGS,JSON.stringify(r.savings))}catch(r){throw console.error("Failed to import data:",r),new Error("Invalid data format")}}}const gn=new hV;function pV(t){if(t.length===0)return!1;const e=t[0];return!e.peakUsageHours||e.peakUsageHours.length===0?!1:e.peakUsageHours.filter(n=>n>=11&&n<=16).length/e.peakUsageHours.length>.4}function gV(t,e=3){if(t.length===0)return 0;const r=t.slice(0,Math.min(e,t.length));return r.reduce((a,s)=>a+s.consumption_kwh,0)/r.length}function yV(t){if(t.length<6)return{highUsageMonths:[],isWinterPeak:!1,isSummerPeak:!1};const r=[...t].sort((u,d)=>d.consumption_kwh-u.consumption_kwh).slice(0,3),n=["01","02","03","11","12"],a=["06","07","08"],s=r.filter(u=>n.includes(u.month.split("-")[1])).length>=2,c=r.filter(u=>a.includes(u.month.split("-")[1])).length>=2;return{highUsageMonths:r.map(u=>u.month),isWinterPeak:s,isSummerPeak:c}}function vV(t){let e=300*t.occupants;const r=t.squareFootage/1500;return e*=r,t.heatingType==="electric"?e*=1.4:t.heatingType==="heat-pump"&&(e*=1.2),t.hasAC&&(e*=1.15),t.hasEV&&(e+=300),t.hasSolar&&(e*=.6),Math.round(e)}function vA(t,e,r){const n=[],a=gV(e),s=yV(e),c=e.length>0,u=c?a:vV(t);if(t.heatingType==="electric"){const d=c?a:u,m=Math.round(d*.15*r.currentPrice/100),p=m*12,h=Math.round(d*.15);n.push({id:"heating-optimization",category:"behavioral",priority:"high",title:"Reduce Electric Heating Costs by 15-20%",description:c?"Your electric heating is using significant energy in winter months. Small thermostat adjustments and draft sealing can make a big difference.":`Electric heating can be expensive. Based on your ${t.squareFootage} sq ft home in ${t.province}, we estimate simple changes could save you significantly.`,potentialSavings:{monthly:m,annual:p,kwh:h*12,co2Reduction:h*12*.13},effort:"easy",actionSteps:[{step:"Lower thermostat by 2°C when sleeping (10 PM - 6 AM)",estimatedTime:"2 minutes",difficulty:"easy",cost:0},{step:"Use a programmable or smart thermostat to automate temperature reductions",estimatedTime:"1 hour",difficulty:"moderate",cost:80},{step:"Check for drafts around windows and doors, apply weatherstripping",estimatedTime:"2 hours",difficulty:"easy",cost:30},{step:"Close heating vents in unused rooms",estimatedTime:"15 minutes",difficulty:"easy",cost:0}],relatedRebates:["smart-thermostat-rebate"]})}if(r.hasTOUPricing&&pV(e)){const d=a*.4*(r.touRates.onPeak-r.touRates.offPeak)/100,m=Math.round(d*.7),p=m*12;n.push({id:"tou-shifting",category:"behavioral",priority:"high",title:"Shift Usage to Off-Peak Hours",description:`You're using ${Math.round(a*.4)} kWh during expensive peak hours. Moving usage to evenings and weekends can save significantly.`,potentialSavings:{monthly:m,annual:p,kwh:0,co2Reduction:0},effort:"easy",actionSteps:[{step:`Run dishwasher after 7 PM (off-peak rate: ${r.touRates?.offPeak}¢/kWh)`,estimatedTime:"Daily habit",difficulty:"easy",cost:0},{step:"Do laundry on weekends or after 7 PM on weekdays",estimatedTime:"Adjust schedule",difficulty:"easy",cost:0},t.hasEV&&{step:"Set EV to charge overnight (11 PM - 6 AM)",estimatedTime:"5 minutes setup",difficulty:"easy",cost:0},{step:"Use smart plugs to delay appliances until off-peak",estimatedTime:"30 minutes",difficulty:"moderate",cost:40}].filter(Boolean)})}if(["ON","BC","QC"].includes(t.province)&&t.heatingType==="gas"&&t.homeType==="house"&&a<2e3&&n.push({id:"heat-pump-rebate",category:"rebate",priority:"medium",title:"Get Up to $10,000 for Heat Pump Upgrade",description:"Cold-climate heat pumps are 3x more efficient than electric heating. You qualify for significant federal and provincial rebates.",potentialSavings:{monthly:60,annual:720,kwh:0,co2Reduction:2400},effort:"significant",actionSteps:[{step:"Book a free EnergyGuide home assessment (required for rebates)",estimatedTime:"2 hours",difficulty:"easy",cost:0},{step:"Get 3 quotes from certified heat pump installers",estimatedTime:"1 week",difficulty:"moderate",cost:0},{step:"Apply for Canada Greener Homes Grant (up to $5,000)",estimatedTime:"1 hour",difficulty:"moderate",cost:0},{step:"Apply for provincial heat pump rebate (varies by province)",estimatedTime:"1 hour",difficulty:"moderate",cost:0},{step:"Schedule installation and second EnergyGuide assessment",estimatedTime:"1-2 days",difficulty:"moderate",cost:8e3}],relatedRebates:["canada-greener-homes","provincial-heat-pump"]}),t.hasAC&&s.isSummerPeak&&a>800){const d=Math.round(a*.12*r.currentPrice/100),m=d*4;n.push({id:"cooling-optimization",category:"behavioral",priority:"medium",title:"Reduce Air Conditioning Costs",description:`Your summer electricity usage is ${Math.round((a/600-1)*100)}% higher than winter. Smart cooling strategies can help.`,potentialSavings:{monthly:d,annual:m,kwh:Math.round(a*.12)*4,co2Reduction:Math.round(a*.12)*4*.13},effort:"easy",actionSteps:[{step:"Set AC to 24°C instead of 22°C (saves 10-15%)",estimatedTime:"1 minute",difficulty:"easy",cost:0},{step:"Use ceiling or portable fans to circulate cool air",estimatedTime:"30 minutes",difficulty:"easy",cost:50},{step:"Close blinds during hottest part of day (10 AM - 4 PM)",estimatedTime:"Daily habit",difficulty:"easy",cost:0},{step:"Clean or replace AC filters monthly during summer",estimatedTime:"15 minutes",difficulty:"easy",cost:20}]})}if(!["smart-thermostat","heat-pump"].includes(t.heatingType)&&(a>800||s.isWinterPeak||s.isSummerPeak)){const d=Math.round(a*.1*r.currentPrice/100),m=d*12;n.push({id:"smart-thermostat",category:"upgrade",priority:"medium",title:"Install a Smart Thermostat",description:"Smart thermostats learn your schedule and can reduce heating/cooling by 10-15% automatically.",potentialSavings:{monthly:d,annual:m,kwh:Math.round(a*.1)*12,co2Reduction:Math.round(a*.1)*12*.13},effort:"moderate",actionSteps:[{step:"Research smart thermostats (Nest, Ecobee, Honeywell)",estimatedTime:"1 hour",difficulty:"easy",cost:0},{step:"Check for utility rebates (many utilities offer $50-100 off)",estimatedTime:"15 minutes",difficulty:"easy",cost:0},{step:"Purchase and install (DIY or electrician)",estimatedTime:"1-2 hours",difficulty:"moderate",cost:200},{step:"Set up schedules and temperature preferences in app",estimatedTime:"30 minutes",difficulty:"easy",cost:0}],relatedRebates:["smart-thermostat-utility-rebate"]})}if(a>1500){const d=Math.round(a*.08*r.currentPrice/100),m=d*12;n.push({id:"general-conservation",category:"behavioral",priority:"medium",title:"General Energy Conservation Tips",description:"Your usage is higher than average for similar homes. These simple habits can add up to significant savings.",potentialSavings:{monthly:d,annual:m,kwh:Math.round(a*.08)*12,co2Reduction:Math.round(a*.08)*12*.13},effort:"easy",actionSteps:[{step:"Switch all lights to LED bulbs (saves 75% vs incandescent)",estimatedTime:"1 hour",difficulty:"easy",cost:50},{step:"Unplug devices and chargers when not in use",estimatedTime:"Daily habit",difficulty:"easy",cost:0},{step:"Run full loads in dishwasher and washing machine",estimatedTime:"Change habits",difficulty:"easy",cost:0},{step:"Air-dry clothes instead of using dryer when possible",estimatedTime:"Variable",difficulty:"easy",cost:0},{step:"Turn off lights when leaving a room",estimatedTime:"Daily habit",difficulty:"easy",cost:0}]})}if(t.hasEV){const m=r.hasTOUPricing?Math.round(300*(r.touRates.onPeak-r.touRates.offPeak)/100):15;n.push({id:"ev-charging-optimization",category:"behavioral",priority:r.hasTOUPricing?"high":"medium",title:r.hasTOUPricing?"Optimize EV Charging Times":"EV Charging Best Practices",description:r.hasTOUPricing?"Charging your EV during off-peak hours can save you significantly with time-of-use pricing.":"Optimize your EV charging habits to reduce strain on the grid and potentially save on costs.",potentialSavings:{monthly:m,annual:m*12,kwh:0,co2Reduction:0},effort:"easy",actionSteps:[{step:r.hasTOUPricing?"Set your EV to charge between 11 PM and 6 AM":"Charge overnight when grid demand is lower",estimatedTime:"5 minutes",difficulty:"easy",cost:0},{step:"Use your utility's EV charging app for lowest rates",estimatedTime:"15 minutes setup",difficulty:"easy",cost:0},{step:"Consider a smart Level 2 charger for automated scheduling",estimatedTime:"2 hours install",difficulty:"moderate",cost:600}],relatedRebates:["ev-charger-rebate"]})}if(!c||u>500){const d=c?a:u,m=Math.round(d*.1*r.currentPrice/100);n.push({id:"smart-thermostat",category:"upgrade",priority:"medium",title:"Install a Smart Thermostat",description:"Smart thermostats learn your schedule and can reduce heating/cooling costs by 10-15% automatically.",potentialSavings:{monthly:m,annual:m*12,kwh:Math.round(d*.1*12),co2Reduction:Math.round(d*.1*12*.13)},effort:"moderate",actionSteps:[{step:"Research smart thermostats (Nest, Ecobee, Honeywell)",estimatedTime:"30 minutes",difficulty:"easy",cost:0},{step:"Check if your utility offers rebates (many do!)",estimatedTime:"15 minutes",difficulty:"easy",cost:0},{step:"Purchase and install smart thermostat",estimatedTime:"1 hour",difficulty:"moderate",cost:200},{step:"Configure schedule and temperature preferences",estimatedTime:"30 minutes",difficulty:"easy",cost:0}],relatedRebates:["smart-thermostat-rebate"]})}if(t.heatingType==="gas"&&["ON","BC","QC"].includes(t.province)&&n.push({id:"heat-pump-upgrade",category:"upgrade",priority:"medium",title:"Consider Heat Pump Upgrade",description:`Heat pumps are 2-3x more efficient than gas furnaces and eligible for up to $10,000 in rebates in ${t.province}.`,potentialSavings:{monthly:50,annual:600,kwh:0,co2Reduction:2e3},effort:"significant",actionSteps:[{step:"Get a free home energy audit",estimatedTime:"2 hours",difficulty:"easy",cost:0},{step:"Get quotes from 3 HVAC contractors",estimatedTime:"3 hours",difficulty:"moderate",cost:0},{step:"Apply for rebates (Greener Homes Grant)",estimatedTime:"1 hour",difficulty:"moderate",cost:0},{step:"Schedule installation",estimatedTime:"1 day",difficulty:"hard",cost:8e3}],relatedRebates:["canada-greener-homes","heat-pump-rebate"]}),!c||n.length<3){const d=c?a:u,m=Math.round(d*.08*r.currentPrice/100);n.push({id:"general-conservation",category:"behavioral",priority:"low",title:"Easy Energy-Saving Habits",description:"Small daily changes can add up to significant savings over time.",potentialSavings:{monthly:m,annual:m*12,kwh:Math.round(d*.08*12),co2Reduction:Math.round(d*.08*12*.13)},effort:"easy",actionSteps:[{step:"Replace 5 most-used bulbs with LEDs",estimatedTime:"30 minutes",difficulty:"easy",cost:25},{step:"Unplug devices when not in use (phantom load)",estimatedTime:"10 minutes daily",difficulty:"easy",cost:0},{step:"Use cold water for laundry",estimatedTime:"0 minutes (same effort)",difficulty:"easy",cost:0},{step:"Air-dry dishes instead of heated drying",estimatedTime:"0 minutes",difficulty:"easy",cost:0}]})}return n.sort((d,m)=>m.potentialSavings.annual-d.potentialSavings.annual)}function xV(t){return t.reduce((e,r)=>({monthly:e.monthly+r.potentialSavings.monthly,annual:e.annual+r.potentialSavings.annual,kwh:e.kwh+r.potentialSavings.kwh,co2Reduction:e.co2Reduction+r.potentialSavings.co2Reduction}),{monthly:0,annual:0,kwh:0,co2Reduction:0})}const bV=[{id:"canada-greener-homes",name:"Canada Greener Homes Grant",provider:"federal",province:"ALL",amount:{min:125,max:5e3},type:"home-retrofit",eligibility:{homeOwner:!0,requiresAudit:!0},applicationUrl:"https://natural-resources.canada.ca/energy-efficiency/homes/canada-greener-homes-grant/23441",description:"Get up to $5,000 to make energy-efficient retrofits to your home, plus $600 for pre- and post-retrofit EnergyGuide evaluations.",estimatedProcessingTime:"8-12 weeks",isActive:!0,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"},{id:"canada-oil-to-heat-pump",name:"Oil to Heat Pump Affordability Grant",provider:"federal",province:"ALL",amount:{min:1e4,max:15e3},type:"heat-pump",eligibility:{homeOwner:!0,otherCriteria:["Currently using oil heating","Low to median income household"]},applicationUrl:"https://natural-resources.canada.ca/energy-efficiency/homes/canada-greener-homes-initiative/oil-heat-pump-affordability-program/24775",description:"Up to $15,000 for low-income households switching from oil heating to a heat pump.",estimatedProcessingTime:"10-14 weeks",isActive:!0,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"},{id:"on-home-efficiency-rebate",name:"Ontario Home Efficiency Rebate Plus",provider:"provincial",province:"ON",amount:{min:0,max:1e4},type:"heat-pump",eligibility:{homeOwner:!0,requiresAudit:!0},applicationUrl:"https://www.ontario.ca/page/home-efficiency-rebate-plus",description:"Ontario homeowners can get up to $10,000 in rebates for heat pumps and home insulation upgrades.",estimatedProcessingTime:"6-10 weeks",isActive:!0,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"},{id:"bc-home-renovation-rebate",name:"CleanBC Home Renovation Rebate",provider:"provincial",province:"BC",amount:{min:0,max:6e3},type:"heat-pump",eligibility:{homeOwner:!0},applicationUrl:"https://betterhomesbc.ca/",description:"Get up to $6,000 for installing an air-source or ground-source heat pump in BC.",estimatedProcessingTime:"4-8 weeks",isActive:!0,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"},{id:"qc-logis-vert",name:"Rénoclimat - Logis-Vert",provider:"provincial",province:"QC",amount:{min:0,max:9e3},type:"home-retrofit",eligibility:{homeOwner:!0,requiresAudit:!0},applicationUrl:"https://www.transitionenergetique.gouv.qc.ca/residentiel/programmes/renoclimat",description:"Quebec homeowners can get up to $9,000 for energy efficiency improvements.",estimatedProcessingTime:"8-12 weeks",isActive:!0,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"},{id:"ab-residential-solar-rebate",name:"Alberta Residential Solar Program",provider:"provincial",province:"AB",amount:{min:0,max:5e3},type:"solar",eligibility:{homeOwner:!0,otherCriteria:["Residential property","Grid-connected system"]},applicationUrl:"https://www.alberta.ca/residential-solar-program",description:"Get up to $5,000 for installing residential solar panels in Alberta.",estimatedProcessingTime:"6-10 weeks",isActive:!0,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"},{id:"smart-thermostat-generic",name:"Smart Thermostat Rebate",provider:"utility",province:"ALL",amount:{min:50,max:150},type:"smart-thermostat",eligibility:{},applicationUrl:"https://www.nrcan.gc.ca/energy-efficiency/homes/make-your-home-more-energy-efficient/20546",description:"Many utilities offer $50-150 rebates for smart thermostats. Check with your local utility.",estimatedProcessingTime:"2-4 weeks",isActive:!0,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"},{id:"ev-charger-rebate",name:"Zero-Emission Vehicle Charger Rebate",provider:"federal",province:"ALL",amount:{min:0,max:5e3},type:"EV-charger",eligibility:{homeOwner:!0,otherCriteria:["Level 2 charger installation"]},applicationUrl:"https://natural-resources.canada.ca/energy-efficiency/transportation-alternative-fuels/zero-emission-vehicle-infrastructure-program/21876",description:"Get up to $5,000 for installing a Level 2 EV charger at home.",estimatedProcessingTime:"6-8 weeks",isActive:!0,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"},{id:"on-save-on-energy-appliances",name:"Save on Energy - Appliance Rebates",provider:"utility",province:"ON",amount:{min:25,max:200},type:"appliance",eligibility:{},applicationUrl:"https://saveonenergy.ca/For-Your-Home/Offers-and-Programs",description:"Get rebates on ENERGY STAR certified appliances including refrigerators, washers, and dryers.",estimatedProcessingTime:"4-6 weeks",isActive:!0,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"},{id:"bc-efficient-appliance-rebate",name:"BC Hydro - Power Smart Appliance Rebates",provider:"utility",province:"BC",amount:{min:30,max:300},type:"appliance",eligibility:{},applicationUrl:"https://www.bchydro.com/powersmart/residential/savings-and-rebates.html",description:"Get rebates on energy-efficient heat pump water heaters, washers, and other appliances.",estimatedProcessingTime:"3-5 weeks",isActive:!0,createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"}];class wV{rebates;constructor(e=bV){this.rebates=e}async findEligibleRebates(e){const r=[];for(const n of this.rebates)n.isActive&&(n.province!=="ALL"&&n.province!==e.province||n.eligibility.homeOwner&&e.homeType==="apartment"||(n.type==="heat-pump"?e.heatingType!=="heat-pump"&&r.push(n):n.type==="solar"?e.hasSolar||r.push(n):n.type==="EV-charger"?e.hasEV&&r.push(n):r.push(n)));return r}calculateMaxRebates(e){return e.reduce((r,n)=>r+n.amount.max,0)}calculateRealisticRebates(e){return e.reduce((r,n)=>{const a=(n.amount.min+n.amount.max)/2;return r+a},0)}rankByValue(e){return[...e].sort((r,n)=>n.amount.max-r.amount.max)}rankByEase(e){return[...e].sort((r,n)=>{if(r.provider==="utility"&&n.provider!=="utility")return-1;if(n.provider==="utility"&&r.provider!=="utility")return 1;const a=r.eligibility.requiresAudit?0:1,s=n.eligibility.requiresAudit?0:1;return a!==s?s-a:n.amount.max-r.amount.max})}getTopPriority(e,r=3){return this.rankByValue(e).slice(0,r)}filterByType(e,r){return e.filter(n=>n.type===r)}filterByProvider(e,r){return e.filter(n=>n.provider===r)}getExpiringSoon(e){const r=new Date,n=new Date(r.getTime()+2160*60*60*1e3);return e.filter(a=>{if(!a.deadline)return!1;const s=new Date(a.deadline);return s<=n&&s>r})}searchRebates(e){const r=e.toLowerCase();return this.rebates.filter(n=>n.name.toLowerCase().includes(r)||n.description.toLowerCase().includes(r)||n.type.toLowerCase().includes(r))}getRebateById(e){return this.rebates.find(r=>r.id===e)}async getRebateSummary(e){const r=await this.findEligibleRebates(e),n=this.getTopPriority(r,5),a=r.reduce((s,c)=>(s[c.provider]=(s[c.provider]||0)+1,s),{});return{totalEligible:r.length,maxAmount:this.calculateMaxRebates(r),realisticAmount:this.calculateRealisticRebates(r),topRebates:n,byProvider:a}}async getRecommendedRebates(e){const r=await this.findEligibleRebates(e),n=r.filter(c=>c.amount.max>=1e3&&["heat-pump","solar","home-retrofit"].includes(c.type)),a=r.filter(c=>c.amount.max<500&&c.provider==="utility"&&!c.eligibility.requiresAudit),s=r.filter(c=>c.amount.max>=5e3);return{highPriority:this.rankByValue(n).slice(0,3),quickWins:this.rankByEase(a).slice(0,3),longTerm:this.rankByValue(s).slice(0,3)}}}const _v=new wV,xA=[{value:"ON",label:"Ontario"},{value:"AB",label:"Alberta"},{value:"BC",label:"British Columbia"},{value:"QC",label:"Quebec"},{value:"SK",label:"Saskatchewan"},{value:"MB",label:"Manitoba"},{value:"NS",label:"Nova Scotia"},{value:"NB",label:"New Brunswick"},{value:"PE",label:"Prince Edward Island"},{value:"NL",label:"Newfoundland and Labrador"},{value:"YT",label:"Yukon"},{value:"NT",label:"Northwest Territories"},{value:"NU",label:"Nunavut"}],jV=({onComplete:t})=>{const[e,r]=R.useState("welcome"),[n,a]=R.useState({userId:`user_${Date.now()}`,province:"ON",postalCode:"",homeType:"house",squareFootage:1500,occupants:2,heatingType:"gas",hasAC:!1,hasSolar:!1,hasEV:!1,utilityProvider:""}),s=p=>{a(h=>({...h,...p}))},c=()=>{const p={...n,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};gn.saveProfile(p),gn.setOnboardingComplete(),t(p)},u=()=>{const p=["welcome","location","home-details","energy-systems","usage","complete"],h=p.indexOf(e);h<p.length-1&&r(p[h+1])},d=()=>{const p=["welcome","location","home-details","energy-systems","usage","complete"],h=p.indexOf(e);h>0&&r(p[h-1])},m=()=>{const p=["welcome","location","home-details","energy-systems","usage","complete"],y=(p.indexOf(e)+1)/p.length*100;return o.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2 mb-8",children:o.jsx("div",{className:"bg-gradient-to-r from-green-500 to-blue-600 h-2 rounded-full transition-all duration-500",style:{width:`${y}%`}})})};return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-blue-50 dark:from-gray-900 dark:to-gray-800 flex items-center justify-center p-4",children:o.jsxs("div",{className:"max-w-2xl w-full bg-white dark:bg-gray-800 rounded-2xl shadow-2xl p-8",children:[m(),e==="welcome"&&o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"mb-6",children:o.jsx(jt,{className:"w-20 h-20 mx-auto text-green-500"})}),o.jsx("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-4",children:"Welcome to My Energy AI"}),o.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400 mb-8",children:"I'm your personal energy advisor. In just 5 minutes, I'll help you:"}),o.jsxs("div",{className:"space-y-4 text-left max-w-md mx-auto mb-8",children:[o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(qt,{className:"w-6 h-6 text-green-500 flex-shrink-0 mt-1"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:"Understand your energy usage"}),o.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Compare to similar homes in your area"})]})]}),o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(qt,{className:"w-6 h-6 text-green-500 flex-shrink-0 mt-1"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:"Find ways to save money"}),o.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Get personalized recommendations"})]})]}),o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(qt,{className:"w-6 h-6 text-green-500 flex-shrink-0 mt-1"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:"Discover rebates you qualify for"}),o.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Up to $10,000+ in available programs"})]})]})]}),o.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4 mb-8",children:o.jsxs("p",{className:"text-sm text-blue-900 dark:text-blue-200",children:["🔒 ",o.jsx("strong",{children:"Privacy First:"})," Your data stays on your device. We never share or sell your information."]})}),o.jsxs("button",{onClick:u,className:"bg-gradient-to-r from-green-500 to-blue-600 text-white px-8 py-3 rounded-lg font-medium hover:from-green-600 hover:to-blue-700 transition-all inline-flex items-center gap-2",children:["Let's Get Started",o.jsx(du,{className:"w-5 h-5"})]})]}),e==="location"&&o.jsxs("div",{children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx(Za,{className:"w-16 h-16 mx-auto text-blue-500 mb-4"}),o.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Where do you live?"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"This helps us provide accurate pricing and rebate information"})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Province / Territory"}),o.jsx("select",{value:n.province,onChange:p=>s({province:p.target.value}),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent dark:bg-gray-700 dark:text-white",children:xA.map(p=>o.jsx("option",{value:p.value,children:p.label},p.value))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Postal Code (Optional)"}),o.jsx("input",{type:"text",value:n.postalCode,onChange:p=>s({postalCode:p.target.value.toUpperCase()}),placeholder:"A1A 1A1",className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent dark:bg-gray-700 dark:text-white"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Utility Provider (Optional)"}),o.jsx("input",{type:"text",value:n.utilityProvider,onChange:p=>s({utilityProvider:p.target.value}),placeholder:"e.g., Hydro One, EPCOR, BC Hydro",className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent dark:bg-gray-700 dark:text-white"})]})]}),o.jsxs("div",{className:"flex gap-4 mt-8",children:[o.jsxs("button",{onClick:d,className:"flex-1 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 px-6 py-3 rounded-lg font-medium hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors inline-flex items-center justify-center gap-2",children:[o.jsx(uu,{className:"w-5 h-5"}),"Back"]}),o.jsxs("button",{onClick:u,className:"flex-1 bg-gradient-to-r from-green-500 to-blue-600 text-white px-6 py-3 rounded-lg font-medium hover:from-green-600 hover:to-blue-700 transition-all inline-flex items-center justify-center gap-2",children:["Continue",o.jsx(du,{className:"w-5 h-5"})]})]})]}),e==="home-details"&&o.jsxs("div",{children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx(Eu,{className:"w-16 h-16 mx-auto text-blue-500 mb-4"}),o.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Tell us about your home"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"This helps us compare you to similar households"})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Home Type"}),o.jsx("div",{className:"grid grid-cols-2 gap-3",children:["house","townhouse","condo","apartment"].map(p=>o.jsx("button",{onClick:()=>s({homeType:p}),className:`px-4 py-3 border-2 rounded-lg font-medium transition-all ${n.homeType===p?"border-green-500 bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-300":"border-gray-300 dark:border-gray-600 hover:border-gray-400 dark:hover:border-gray-500 text-gray-700 dark:text-gray-300"}`,children:p.charAt(0).toUpperCase()+p.slice(1)},p))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Square Footage"}),o.jsx("input",{type:"number",value:n.squareFootage,onChange:p=>s({squareFootage:parseInt(p.target.value)}),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent dark:bg-gray-700 dark:text-white",min:"100",max:"10000"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Number of Occupants"}),o.jsx("input",{type:"number",value:n.occupants,onChange:p=>s({occupants:parseInt(p.target.value)}),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent dark:bg-gray-700 dark:text-white",min:"1",max:"20"})]})]}),o.jsxs("div",{className:"flex gap-4 mt-8",children:[o.jsxs("button",{onClick:d,className:"flex-1 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 px-6 py-3 rounded-lg font-medium hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors inline-flex items-center justify-center gap-2",children:[o.jsx(uu,{className:"w-5 h-5"}),"Back"]}),o.jsxs("button",{onClick:u,className:"flex-1 bg-gradient-to-r from-green-500 to-blue-600 text-white px-6 py-3 rounded-lg font-medium hover:from-green-600 hover:to-blue-700 transition-all inline-flex items-center justify-center gap-2",children:["Continue",o.jsx(du,{className:"w-5 h-5"})]})]})]}),e==="energy-systems"&&o.jsxs("div",{children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx(MA,{className:"w-16 h-16 mx-auto text-blue-500 mb-4"}),o.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Energy systems"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"What powers your home?"})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Primary Heating System"}),o.jsxs("select",{value:n.heatingType,onChange:p=>s({heatingType:p.target.value}),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent dark:bg-gray-700 dark:text-white",children:[o.jsx("option",{value:"gas",children:"Natural Gas"}),o.jsx("option",{value:"electric",children:"Electric"}),o.jsx("option",{value:"oil",children:"Oil"}),o.jsx("option",{value:"heat-pump",children:"Heat Pump"}),o.jsx("option",{value:"dual",children:"Dual System"}),o.jsx("option",{value:"other",children:"Other"})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-300 dark:border-gray-600 rounded-lg",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(lR,{className:"w-6 h-6 text-blue-500"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:"Air Conditioning"}),o.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Central or window AC"})]})]}),o.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:n.hasAC,onChange:p=>s({hasAC:p.target.checked}),className:"sr-only peer"}),o.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-green-300 dark:peer-focus:ring-green-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-green-600"})]})]}),o.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-300 dark:border-gray-600 rounded-lg",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(IA,{className:"w-6 h-6 text-yellow-500"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:"Solar Panels"}),o.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Rooftop solar system"})]})]}),o.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:n.hasSolar,onChange:p=>s({hasSolar:p.target.checked}),className:"sr-only peer"}),o.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-green-300 dark:peer-focus:ring-green-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-green-600"})]})]}),o.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-300 dark:border-gray-600 rounded-lg",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(_A,{className:"w-6 h-6 text-green-500"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:"Electric Vehicle"}),o.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Home charging"})]})]}),o.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:n.hasEV,onChange:p=>s({hasEV:p.target.checked}),className:"sr-only peer"}),o.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-green-300 dark:peer-focus:ring-green-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-green-600"})]})]})]})]}),o.jsxs("div",{className:"flex gap-4 mt-8",children:[o.jsxs("button",{onClick:d,className:"flex-1 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 px-6 py-3 rounded-lg font-medium hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors inline-flex items-center justify-center gap-2",children:[o.jsx(uu,{className:"w-5 h-5"}),"Back"]}),o.jsxs("button",{onClick:u,className:"flex-1 bg-gradient-to-r from-green-500 to-blue-600 text-white px-6 py-3 rounded-lg font-medium hover:from-green-600 hover:to-blue-700 transition-all inline-flex items-center justify-center gap-2",children:["Continue",o.jsx(du,{className:"w-5 h-5"})]})]})]}),e==="usage"&&o.jsxs("div",{children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx(jt,{className:"w-16 h-16 mx-auto text-yellow-500 mb-4"}),o.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Almost done!"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"We'll analyze your profile and find savings opportunities"})]}),o.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-blue-50 dark:from-green-900/10 dark:to-blue-900/10 rounded-lg p-6 mb-6",children:[o.jsx("h3",{className:"font-bold text-gray-900 dark:text-white mb-4",children:"What happens next?"}),o.jsxs("ul",{className:"space-y-3",children:[o.jsxs("li",{className:"flex items-start gap-3",children:[o.jsx(qt,{className:"w-5 h-5 text-green-500 flex-shrink-0 mt-0.5"}),o.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"We'll generate personalized energy-saving recommendations"})]}),o.jsxs("li",{className:"flex items-start gap-3",children:[o.jsx(qt,{className:"w-5 h-5 text-green-500 flex-shrink-0 mt-0.5"}),o.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Match you to rebates and incentives worth up to $10,000+"})]}),o.jsxs("li",{className:"flex items-start gap-3",children:[o.jsx(qt,{className:"w-5 h-5 text-green-500 flex-shrink-0 mt-0.5"}),o.jsxs("span",{className:"text-gray-700 dark:text-gray-300",children:["Compare your usage to similar homes in ",xA.find(p=>p.value===n.province)?.label]})]}),o.jsxs("li",{className:"flex items-start gap-3",children:[o.jsx(qt,{className:"w-5 h-5 text-green-500 flex-shrink-0 mt-0.5"}),o.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Provide a personal AI advisor you can chat with anytime"})]})]})]}),o.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4 mb-6",children:o.jsxs("p",{className:"text-sm text-blue-900 dark:text-blue-200",children:["💡 ",o.jsx("strong",{children:"Tip:"})," You can add your electricity bills later for more accurate recommendations"]})}),o.jsxs("div",{className:"flex gap-4",children:[o.jsxs("button",{onClick:d,className:"flex-1 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 px-6 py-3 rounded-lg font-medium hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors inline-flex items-center justify-center gap-2",children:[o.jsx(uu,{className:"w-5 h-5"}),"Back"]}),o.jsxs("button",{onClick:()=>{c(),r("complete")},className:"flex-1 bg-gradient-to-r from-green-500 to-blue-600 text-white px-6 py-3 rounded-lg font-medium hover:from-green-600 hover:to-blue-700 transition-all inline-flex items-center justify-center gap-2",children:["Complete Setup",o.jsx(qt,{className:"w-5 h-5"})]})]})]}),e==="complete"&&o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"mb-6",children:o.jsx("div",{className:"w-20 h-20 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(qt,{className:"w-12 h-12 text-green-500"})})}),o.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-4",children:"You're all set!"}),o.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400 mb-8",children:"Your personalized energy dashboard is ready"}),o.jsx("div",{className:"animate-pulse",children:o.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Analyzing your profile..."})})]})]})})};function SV(t){const e=t.toLowerCase(),n=["emergency","urgent","immediately","asap","can't pay","disconnection"].some(d=>e.includes(d))?"high":e.includes("?")?"medium":"low",a=["high bill","too expensive","can't afford","frustrated","angry","why so"],c=["thank","great","appreciate","helpful","saved"].some(d=>e.includes(d))?"positive":a.some(d=>e.includes(d))?"negative":"neutral";let u="general";return e.includes("bill")||e.includes("cost")||e.includes("price")?u="billing":e.includes("heat")||e.includes("cool")||e.includes("temperature")?u="heating-cooling":e.includes("rebate")||e.includes("grant")||e.includes("incentive")?u="rebates":e.includes("solar")||e.includes("ev")||e.includes("electric vehicle")?u="clean-energy":e.includes("when")&&(e.includes("cheap")||e.includes("time"))?u="time-of-use":(e.includes("save")||e.includes("reduce")||e.includes("lower"))&&(u="savings"),{topic:u,urgency:n,sentiment:c}}function _V(t){const e=["How can I reduce my electricity bill?","When is the cheapest time to use electricity?","What rebates am I eligible for?","Why did my bill increase this month?"];return t.hasEV&&e.push("When should I charge my electric vehicle?"),t.heatingType==="electric"&&e.push("How can I save on heating costs?"),t.hasAC&&e.push("Tips for reducing air conditioning costs?"),!t.hasSolar&&["ON","BC","AB"].includes(t.province)&&e.push("Should I install solar panels?"),e.slice(0,6)}const NV=({profile:t,usage:e,recommendations:r,provincialData:n})=>{const[a,s]=R.useState([{id:"welcome",role:"assistant",content:`👋 Hi! I'm your personal Energy AI advisor. I'm here to help you save money and reduce your energy usage.

I know you live in ${t.province}, have a ${t.homeType} with ${t.occupants} people, and use ${t.heatingType} heating.

What would you like to know about your energy usage?`,timestamp:new Date().toISOString()}]),[c,u]=R.useState(""),[d,m]=R.useState(!1),p=R.useRef(null),[h]=R.useState(`session_${Date.now()}`);R.useEffect(()=>{p.current?.scrollIntoView({behavior:"smooth"})},[a]);const y=async k=>{const S=k.toLowerCase(),O=SV(k);if(O.topic==="billing"||S.includes("bill")||S.includes("cost"))return`Based on your recent usage, your average monthly bill is $${e.length>0?(e.reduce((N,A)=>N+A.cost_cad,0)/e.length).toFixed(2):"N/A"}.

In ${t.province}, you're paying about ${n.currentPrice.toFixed(2)}¢ per kWh. `+(n.hasTOUPricing?`Since you have time-of-use pricing, you can save by shifting usage to off-peak hours (${n.touRates?.offPeakHours}).

`:`

`)+`**Top ways to reduce your bill:**
`+r.slice(0,3).map((N,A)=>`${A+1}. ${N.title} - Save $${N.potentialSavings.monthly}/month`).join(`
`);if(O.topic==="time-of-use"||S.includes("when")&&(S.includes("cheap")||S.includes("time")))return n.hasTOUPricing&&n.touRates?`Great question! In ${t.province}, electricity prices vary throughout the day:

⚡ **Off-Peak (Cheapest)**: ${n.touRates.offPeak}¢/kWh
   ${n.touRates.offPeakHours}

⚡ **On-Peak (Most Expensive)**: ${n.touRates.onPeak}¢/kWh
   ${n.touRates.onPeakHours}

**Best times to use major appliances:**
• Run dishwasher and laundry during off-peak hours
• Charge your EV overnight
• Pre-heat/cool your home before peak hours

Shifting just 30% of your usage to off-peak could save you $20-40/month!`:`In ${t.province}, electricity rates are currently flat at ${n.currentPrice}¢/kWh throughout the day. This means the time of day doesn't affect your costs, but you can still save by reducing overall usage during your highest consumption periods.`;if(O.topic==="rebates"||S.includes("rebate")||S.includes("grant"))return`You have access to some great rebate programs in ${t.province}!

🎁 **Top Rebates for You:**

1. **Canada Greener Homes Grant** - Up to $5,000
   For energy-efficient home upgrades

2. **Provincial Heat Pump Rebate** - Up to $10,000
   Combines federal and ${t.province} programs

3. **Smart Thermostat Rebate** - $50-150
   Quick and easy to claim

Check the Rebates section in your dashboard for full details and application links. These programs can help offset the cost of major upgrades!`;if(O.topic==="heating-cooling"){const P=r.find(N=>N.id.includes("heating")||N.id.includes("cooling"));return`${t.heatingType==="electric"?"Electric heating":"Your heating system"} is typically the biggest energy user in Canadian homes.

`+(P?`I've identified that you could save $${P.potentialSavings.monthly}/month with these changes:

`+P.actionSteps.slice(0,3).map((N,A)=>`${A+1}. ${N.step}`).join(`
`):`**Tips to reduce heating costs:**
1. Lower thermostat by 2°C when sleeping
2. Seal drafts around windows and doors
3. Use a programmable thermostat
4. Close vents in unused rooms`)+`

Want me to explain any of these in more detail?`}if(O.topic==="savings"){const P=r.reduce((N,A)=>N+A.potentialSavings.annual,0);return`Based on your profile, I've identified ${r.length} ways you could save money:

💰 **Total Potential Savings: $${P}/year**

**Top 3 Quick Wins:**
`+r.slice(0,3).map((N,A)=>`${A+1}. ${N.title}
   Savings: $${N.potentialSavings.annual}/year | Effort: ${N.effort}`).join(`

`)+`

Would you like details on how to implement any of these?`}return`That's a great question! Based on your ${t.homeType} in ${t.province} with ${t.occupants} occupants, I can help you with:

• Understanding your electricity bill
• Finding the best times to use electricity
• Discovering rebates you qualify for
• Reducing heating and cooling costs
• Calculating your potential savings

What specific aspect would you like to explore?`},x=async()=>{if(!c.trim()||d)return;const k={id:`msg_${Date.now()}`,role:"user",content:c.trim(),timestamp:new Date().toISOString()};s(S=>[...S,k]),u(""),m(!0);try{const S=await y(c.trim()),O={id:`msg_${Date.now()}_ai`,role:"assistant",content:S,timestamp:new Date().toISOString()};s(P=>[...P,O])}catch(S){console.error("Error generating AI response:",S);const O={id:`msg_${Date.now()}_error`,role:"assistant",content:"Sorry, I encountered an error. Please try asking your question again.",timestamp:new Date().toISOString()};s(P=>[...P,O])}finally{m(!1)}},j=k=>{k.key==="Enter"&&!k.shiftKey&&(k.preventDefault(),x())},w=k=>{u(k)},b=_V(t);return o.jsxs("div",{className:"flex flex-col h-[calc(100vh-300px)] min-h-[500px] bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700",children:[o.jsxs("div",{className:"flex items-center gap-3 p-4 border-b border-gray-200 dark:border-gray-700 bg-gradient-to-r from-green-500 to-blue-600",children:[o.jsx("div",{className:"w-10 h-10 bg-white rounded-full flex items-center justify-center",children:o.jsx(gh,{className:"w-6 h-6 text-green-600"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-bold text-white",children:"Energy AI Assistant"}),o.jsx("p",{className:"text-xs text-green-100",children:"Always here to help you save"})]}),o.jsx(iR,{className:"w-5 h-5 text-yellow-300"})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[a.map(k=>o.jsxs("div",{className:`flex gap-3 ${k.role==="user"?"flex-row-reverse":"flex-row"}`,children:[o.jsx("div",{className:`flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center ${k.role==="user"?"bg-blue-600":"bg-gradient-to-br from-green-500 to-blue-600"}`,children:k.role==="user"?o.jsx(oR,{className:"w-5 h-5 text-white"}):o.jsx(gh,{className:"w-5 h-5 text-white"})}),o.jsxs("div",{className:`flex-1 max-w-[80%] ${k.role==="user"?"text-right":"text-left"}`,children:[o.jsx("div",{className:`inline-block p-3 rounded-lg ${k.role==="user"?"bg-blue-600 text-white rounded-br-none":"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white rounded-bl-none"}`,children:o.jsx("p",{className:"text-sm whitespace-pre-wrap",children:k.content})}),o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:new Date(k.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]},k.id)),d&&o.jsxs("div",{className:"flex gap-3",children:[o.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-gradient-to-br from-green-500 to-blue-600 flex items-center justify-center",children:o.jsx(gh,{className:"w-5 h-5 text-white"})}),o.jsx("div",{className:"bg-gray-100 dark:bg-gray-700 p-3 rounded-lg rounded-bl-none",children:o.jsxs("div",{className:"flex gap-1",children:[o.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),o.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),o.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})})]}),o.jsx("div",{ref:p})]}),a.length===1&&o.jsxs("div",{className:"px-4 py-2 border-t border-gray-200 dark:border-gray-700",children:[o.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mb-2",children:"Quick questions:"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:b.map((k,S)=>o.jsx("button",{onClick:()=>w(k),className:"text-xs px-3 py-1.5 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-full transition-colors",children:k},S))})]}),o.jsxs("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700",children:[o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{type:"text",value:c,onChange:k=>u(k.target.value),onKeyPress:j,placeholder:"Ask me anything about your energy usage...",disabled:d,className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent dark:bg-gray-700 dark:text-white disabled:opacity-50"}),o.jsx("button",{onClick:x,disabled:!c.trim()||d,className:"px-4 py-2 bg-gradient-to-r from-green-500 to-blue-600 text-white rounded-lg hover:from-green-600 hover:to-blue-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:d?o.jsx(JM,{className:"w-5 h-5 animate-spin"}):o.jsx(nR,{className:"w-5 h-5"})})]}),o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:"💡 Tip: I can help with bills, savings, rebates, and more. Just ask!"})]})]})},kV={high:"border-red-200 dark:border-red-800 bg-red-50 dark:bg-red-900/10",medium:"border-yellow-200 dark:border-yellow-800 bg-yellow-50 dark:bg-yellow-900/10",low:"border-blue-200 dark:border-blue-800 bg-blue-50 dark:bg-blue-900/10"},bA={high:"text-red-700 dark:text-red-300",medium:"text-yellow-700 dark:text-yellow-300",low:"text-blue-700 dark:text-blue-300"},OV={behavioral:o.jsx(Md,{className:"w-5 h-5"}),upgrade:o.jsx(jt,{className:"w-5 h-5"}),rebate:o.jsx(cl,{className:"w-5 h-5"}),emergency:o.jsx(ll,{className:"w-5 h-5"}),education:o.jsx(EA,{className:"w-5 h-5"})},AV={easy:"🟢 Easy",moderate:"🟡 Moderate",significant:"🔴 Significant"},PV=({recommendation:t,onImplement:e})=>{const[r,n]=R.useState(!1);return o.jsx("div",{className:`border-2 rounded-lg transition-all ${kV[t.priority]}`,children:o.jsxs("div",{className:"p-4",children:[o.jsxs("div",{className:"flex items-start justify-between gap-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx("div",{className:bA[t.priority],children:OV[t.category]}),o.jsx("span",{className:`text-xs font-medium px-2 py-1 rounded ${bA[t.priority]} bg-white dark:bg-gray-800`,children:t.priority.toUpperCase()}),o.jsx("span",{className:"text-xs font-medium px-2 py-1 rounded bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300",children:t.category})]}),o.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-1",children:t.title}),o.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:t.description}),o.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(cl,{className:"w-4 h-4 text-green-600 dark:text-green-400"}),o.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:["$",t.potentialSavings.monthly,"/month"]}),o.jsxs("span",{className:"text-gray-500 dark:text-gray-400",children:["($",t.potentialSavings.annual,"/year)"]})]}),t.potentialSavings.kwh>0&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(jt,{className:"w-4 h-4 text-yellow-600 dark:text-yellow-400"}),o.jsxs("span",{className:"text-gray-700 dark:text-gray-300",children:[t.potentialSavings.kwh," kWh saved"]})]}),t.potentialSavings.co2Reduction>0&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(EA,{className:"w-4 h-4 text-green-600 dark:text-green-400"}),o.jsxs("span",{className:"text-gray-700 dark:text-gray-300",children:[Math.round(t.potentialSavings.co2Reduction)," kg CO₂"]})]})]}),o.jsx("div",{className:"mt-3",children:o.jsxs("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:["Effort: ",AV[t.effort]]})})]}),o.jsxs("div",{className:"flex flex-col gap-2",children:[t.isCompleted?o.jsxs("div",{className:"flex items-center gap-2 text-green-600 dark:text-green-400 text-sm font-medium",children:[o.jsx(qt,{className:"w-5 h-5"}),"Implemented"]}):o.jsx("button",{onClick:e,className:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg font-medium transition-colors text-sm whitespace-nowrap",children:"Mark Done"}),o.jsx("button",{onClick:()=>n(!r),className:"px-4 py-2 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-lg font-medium transition-colors text-sm border border-gray-300 dark:border-gray-600",children:r?o.jsx(o.Fragment,{children:o.jsx(kA,{className:"w-4 h-4"})}):o.jsx(o.Fragment,{children:o.jsx(NA,{className:"w-4 h-4"})})})]})]}),r&&o.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-300 dark:border-gray-600",children:[o.jsx("h4",{className:"font-bold text-gray-900 dark:text-white mb-3",children:"Action Steps:"}),o.jsx("div",{className:"space-y-3",children:t.actionSteps.map((a,s)=>o.jsxs("div",{className:"flex gap-3",children:[o.jsx("div",{className:"flex-shrink-0 w-6 h-6 bg-green-600 text-white rounded-full flex items-center justify-center text-sm font-bold",children:s+1}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-gray-900 dark:text-white font-medium",children:a.step}),o.jsxs("div",{className:"flex flex-wrap gap-3 mt-1 text-sm text-gray-600 dark:text-gray-400",children:[a.estimatedTime&&o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(ll,{className:"w-3 h-3"}),a.estimatedTime]}),a.difficulty&&o.jsxs("span",{children:["Difficulty: ",a.difficulty]}),a.cost!==void 0&&a.cost>0&&o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(cl,{className:"w-3 h-3"}),"$",a.cost]}),a.cost===0&&o.jsx("span",{className:"text-green-600 dark:text-green-400 font-medium",children:"FREE"})]})]})]},s))}),t.relatedRebates&&t.relatedRebates.length>0&&o.jsxs("div",{className:"mt-4 p-3 bg-purple-50 dark:bg-purple-900/20 border border-purple-200 dark:border-purple-800 rounded-lg",children:[o.jsx("p",{className:"text-sm font-medium text-purple-900 dark:text-purple-200",children:"💰 Related Rebates Available"}),o.jsx("p",{className:"text-xs text-purple-700 dark:text-purple-300 mt-1",children:"You may qualify for rebates to help with this upgrade. Check the Rebates section for details."})]})]})]})})},EV=({recommendations:t,onImplement:e})=>{const[r,n]=R.useState("all"),[a,s]=R.useState("savings");let c=t;r!=="all"&&(c=t.filter(m=>m.priority===r)),c=[...c].sort((m,p)=>{if(a==="savings")return p.potentialSavings.annual-m.potentialSavings.annual;if(a==="effort"){const h={easy:1,moderate:2,significant:3};return h[m.effort]-h[p.effort]}else{const h={high:3,medium:2,low:1};return h[p.priority]-h[m.priority]}});const u=t.filter(m=>m.isCompleted).length,d=t.filter(m=>!m.isCompleted).reduce((m,p)=>m+p.potentialSavings.annual,0);return t.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Md,{className:"w-16 h-16 mx-auto text-gray-400 mb-4"}),o.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"No Recommendations Yet"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Add your usage data to get personalized energy-saving recommendations"})]}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:[o.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Total Recommendations"}),o.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:t.length})]}),o.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:[o.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Completed"}),o.jsx("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:u})]}),o.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:[o.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Potential Savings"}),o.jsxs("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:["$",d]})]})]}),o.jsxs("div",{className:"flex flex-wrap gap-4 items-center justify-between",children:[o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>n("all"),className:`px-3 py-1 rounded-lg text-sm font-medium transition-colors ${r==="all"?"bg-green-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"}`,children:"All"}),o.jsx("button",{onClick:()=>n("high"),className:`px-3 py-1 rounded-lg text-sm font-medium transition-colors ${r==="high"?"bg-red-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"}`,children:"High Priority"}),o.jsx("button",{onClick:()=>n("medium"),className:`px-3 py-1 rounded-lg text-sm font-medium transition-colors ${r==="medium"?"bg-yellow-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"}`,children:"Medium Priority"}),o.jsx("button",{onClick:()=>n("low"),className:`px-3 py-1 rounded-lg text-sm font-medium transition-colors ${r==="low"?"bg-blue-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"}`,children:"Low Priority"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Sort by:"}),o.jsxs("select",{value:a,onChange:m=>s(m.target.value),className:"px-3 py-1 border border-gray-300 dark:border-gray-600 rounded-lg text-sm bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300",children:[o.jsx("option",{value:"savings",children:"Savings (High to Low)"}),o.jsx("option",{value:"effort",children:"Effort (Easy First)"}),o.jsx("option",{value:"priority",children:"Priority (High First)"})]})]})]}),o.jsx("div",{className:"space-y-4",children:c.map(m=>o.jsx(PV,{recommendation:m,onImplement:()=>e(m.id)},m.id))}),c.length===0&&o.jsx("div",{className:"text-center py-8 text-gray-600 dark:text-gray-400",children:"No recommendations match the current filter"})]})},TV=({profile:t,usage:e,benchmark:r})=>{const[n,a]=R.useState("usage"),[s,c]=R.useState("6m"),u=e.slice(0,s==="3m"?3:s==="6m"?6:12).reverse().map(b=>({month:new Date(b.month+"-01").toLocaleDateString("en-US",{month:"short",year:"2-digit"}),usage:b.consumption_kwh,cost:b.cost_cad,avgTemp:b.weather?.avgTemp||null,benchmark:r?.expectedUsage||null})),d=e.reduce((b,k)=>b+k.consumption_kwh,0),m=e.length>0?Math.round(d/e.length):0,p=e.reduce((b,k)=>b+k.cost_cad,0),h=e.length>0?Math.round(p/e.length*100)/100:0,y=e.length>=2?(e[0].consumption_kwh-e[1].consumption_kwh)/e[1].consumption_kwh*100:0,x=r&&m?(m-r.expectedUsage)/r.expectedUsage*100:0,j=e.flatMap(b=>b.peakUsageHours||[]),w=Array.from({length:24},(b,k)=>({hour:`${k}:00`,count:j.filter(S=>S===k).length}));return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md border border-gray-200 dark:border-gray-700 p-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Energy Usage Analytics"}),o.jsxs("div",{className:"flex flex-wrap gap-4 items-center justify-between",children:[o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>a("usage"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${n==="usage"?"bg-green-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"}`,children:"Usage (kWh)"}),o.jsx("button",{onClick:()=>a("cost"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${n==="cost"?"bg-green-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"}`,children:"Cost ($)"}),o.jsx("button",{onClick:()=>a("comparison"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${n==="comparison"?"bg-green-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"}`,children:"vs Benchmark"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>c("3m"),className:`px-3 py-1 rounded text-sm font-medium transition-colors ${s==="3m"?"bg-blue-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300"}`,children:"3 Months"}),o.jsx("button",{onClick:()=>c("6m"),className:`px-3 py-1 rounded text-sm font-medium transition-colors ${s==="6m"?"bg-blue-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300"}`,children:"6 Months"}),o.jsx("button",{onClick:()=>c("12m"),className:`px-3 py-1 rounded text-sm font-medium transition-colors ${s==="12m"?"bg-blue-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300"}`,children:"12 Months"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md border border-gray-200 dark:border-gray-700 p-6",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(jt,{className:"w-5 h-5 text-yellow-600"}),o.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Avg Monthly Usage"})]}),o.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[m," kWh"]}),o.jsxs("div",{className:"flex items-center gap-1 mt-2",children:[y<0?o.jsx(kv,{className:"w-4 h-4 text-green-600"}):o.jsx(nn,{className:"w-4 h-4 text-red-600"}),o.jsxs("span",{className:`text-sm ${y<0?"text-green-600":"text-red-600"}`,children:[Math.abs(y).toFixed(1),"% vs last month"]})]})]}),o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md border border-gray-200 dark:border-gray-700 p-6",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(cl,{className:"w-5 h-5 text-green-600"}),o.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Avg Monthly Cost"})]}),o.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["$",h]}),o.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2",children:["$",(h/m*100).toFixed(2),"/kWh avg rate"]})]}),o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md border border-gray-200 dark:border-gray-700 p-6",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(si,{className:"w-5 h-5 text-blue-600"}),o.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"vs Benchmark"})]}),o.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[r?r.expectedUsage:"N/A",r&&" kWh"]}),r&&o.jsxs("div",{className:"flex items-center gap-1 mt-2",children:[x<0?o.jsx(kv,{className:"w-4 h-4 text-green-600"}):o.jsx(nn,{className:"w-4 h-4 text-red-600"}),o.jsxs("span",{className:`text-sm ${x<0?"text-green-600":"text-red-600"}`,children:[Math.abs(x).toFixed(1),"% ",x<0?"below":"above"]})]})]}),o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md border border-gray-200 dark:border-gray-700 p-6",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(mr,{className:"w-5 h-5 text-purple-600"}),o.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Tracked"})]}),o.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:e.length}),o.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2",children:[e.length," months of data"]})]})]}),o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md border border-gray-200 dark:border-gray-700 p-6",children:[o.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4",children:[n==="usage"&&"Monthly Usage Trend",n==="cost"&&"Monthly Cost Trend",n==="comparison"&&"Usage vs Benchmark"]}),e.length>0?o.jsx(St,{width:"100%",height:300,children:n==="comparison"?o.jsxs(ka,{data:u,children:[o.jsx(Tt,{strokeDasharray:"3 3"}),o.jsx(lt,{dataKey:"month"}),o.jsx(nt,{}),o.jsx(We,{}),o.jsx(sr,{}),o.jsx(Wt,{dataKey:"usage",fill:"#10b981",name:"Your Usage (kWh)"}),o.jsx(Wt,{dataKey:"benchmark",fill:"#6b7280",name:"Benchmark (kWh)"})]}):o.jsxs(Ls,{data:u,children:[o.jsx(Tt,{strokeDasharray:"3 3"}),o.jsx(lt,{dataKey:"month"}),o.jsx(nt,{}),o.jsx(We,{}),o.jsx(sr,{}),n==="usage"&&o.jsxs(o.Fragment,{children:[o.jsx(ar,{type:"monotone",dataKey:"usage",stroke:"#10b981",strokeWidth:2,name:"Usage (kWh)",dot:{r:4}}),r&&o.jsx(ar,{type:"monotone",dataKey:"benchmark",stroke:"#6b7280",strokeWidth:2,strokeDasharray:"5 5",name:"Benchmark (kWh)",dot:!1})]}),n==="cost"&&o.jsx(ar,{type:"monotone",dataKey:"cost",stroke:"#3b82f6",strokeWidth:2,name:"Cost ($)",dot:{r:4}})]})}):o.jsx("div",{className:"text-center py-12 text-gray-500 dark:text-gray-400",children:"No usage data available. Add your monthly usage to see analytics."})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[j.length>0&&o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md border border-gray-200 dark:border-gray-700 p-6",children:[o.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4",children:"Peak Usage Hours"}),o.jsx(St,{width:"100%",height:200,children:o.jsxs(ka,{data:w.filter(b=>b.count>0),children:[o.jsx(Tt,{strokeDasharray:"3 3"}),o.jsx(lt,{dataKey:"hour"}),o.jsx(nt,{}),o.jsx(We,{}),o.jsx(Wt,{dataKey:"count",fill:"#f59e0b",name:"Usage Events"})]})}),o.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-4",children:"Shows when you typically use the most electricity. Consider shifting usage to off-peak hours if you have time-of-use pricing."})]}),o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md border border-gray-200 dark:border-gray-700 p-6",children:[o.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4",children:"Your Energy Profile"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Province"}),o.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:t.province})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Home Type"}),o.jsx("span",{className:"font-medium text-gray-900 dark:text-white capitalize",children:t.homeType})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Size"}),o.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[t.squareFootage," sq ft"]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Occupants"}),o.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:t.occupants})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Heating"}),o.jsx("span",{className:"font-medium text-gray-900 dark:text-white capitalize",children:t.heatingType})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Air Conditioning"}),o.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:t.hasAC?"Yes":"No"})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Solar Panels"}),o.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:t.hasSolar?"Yes":"No"})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Electric Vehicle"}),o.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:t.hasEV?"Yes":"No"})]})]})]})]}),r&&o.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-green-50 dark:from-blue-900/10 dark:to-green-900/10 rounded-lg border border-blue-200 dark:border-blue-800 p-6",children:[o.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-3 flex items-center gap-2",children:[o.jsx(si,{className:"w-5 h-5 text-blue-600"}),"Insights"]}),o.jsxs("div",{className:"space-y-2 text-sm text-gray-700 dark:text-gray-300",children:[o.jsxs("p",{children:["• Your home uses an average of ",o.jsxs("strong",{children:[m," kWh/month"]}),", which is"," ",o.jsx("strong",{children:r.comparisonText})," for similar homes in ",t.province,"."]}),o.jsxs("p",{children:["• You're in the ",o.jsxs("strong",{children:[r.percentile,"th percentile"]})," compared to similar households."]}),y<-5&&o.jsxs("p",{className:"text-green-700 dark:text-green-300",children:["• Great job! Your usage has decreased by ",Math.abs(y).toFixed(1),"% from last month. Keep it up!"]}),y>10&&o.jsxs("p",{className:"text-orange-700 dark:text-orange-300",children:["• Your usage increased by ",y.toFixed(1),"% from last month. Check your recommendations for ways to reduce consumption."]})]})]})]})},Nv={ON:{province:"ON",currentPrice:12.5,hasTOUPricing:!0,touRates:{offPeak:8.7,midPeak:12.2,onPeak:15.1,offPeakHours:"19:00-07:00, weekends",onPeakHours:"11:00-17:00 weekdays"},lastUpdated:new Date().toISOString()},AB:{province:"AB",currentPrice:18,hasTOUPricing:!1,lastUpdated:new Date().toISOString()},BC:{province:"BC",currentPrice:10,hasTOUPricing:!0,touRates:{offPeak:9.1,midPeak:13.7,onPeak:14.2,offPeakHours:"22:00-06:00",onPeakHours:"16:00-20:00 weekdays"},lastUpdated:new Date().toISOString()},QC:{province:"QC",currentPrice:7.5,hasTOUPricing:!1,lastUpdated:new Date().toISOString()},SK:{province:"SK",currentPrice:15,hasTOUPricing:!1,lastUpdated:new Date().toISOString()},MB:{province:"MB",currentPrice:9,hasTOUPricing:!1,lastUpdated:new Date().toISOString()},NS:{province:"NS",currentPrice:16.5,hasTOUPricing:!1,lastUpdated:new Date().toISOString()},NB:{province:"NB",currentPrice:13,hasTOUPricing:!1,lastUpdated:new Date().toISOString()},PE:{province:"PE",currentPrice:14.5,hasTOUPricing:!1,lastUpdated:new Date().toISOString()},NL:{province:"NL",currentPrice:12,hasTOUPricing:!1,lastUpdated:new Date().toISOString()},YT:{province:"YT",currentPrice:13.5,hasTOUPricing:!1,lastUpdated:new Date().toISOString()},NT:{province:"NT",currentPrice:25,hasTOUPricing:!1,lastUpdated:new Date().toISOString()},NU:{province:"NU",currentPrice:28,hasTOUPricing:!1,lastUpdated:new Date().toISOString()}},Ou=({icon:t,title:e,value:r,change:n,positive:a})=>o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 border border-gray-200 dark:border-gray-700",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:t}),o.jsx("span",{className:`text-sm font-medium ${a===void 0?"text-gray-600 dark:text-gray-400":a?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:n})]}),o.jsx("h3",{className:"text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:e}),o.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:r})]}),CV=()=>{const[t,e]=R.useState(null),[r,n]=R.useState([]),[a,s]=R.useState([]),[c,u]=R.useState([]),[d,m]=R.useState(null),[p,h]=R.useState(!1),[y,x]=R.useState("overview"),[j,w]=R.useState(!0);R.useEffect(()=>{(async()=>{w(!0);try{if(!gn.isOnboardingComplete()){h(!0),w(!1);return}const D=gn.getProfile();if(!D){h(!0),w(!1);return}e(D);const C=gn.getUsageHistory(12);n(C);const F=gn.calculateBenchmark(D);m(F);const I=Nv[D.province],q=vA(D,C,I);s(q),gn.saveRecommendations(q);const B=await _v.findEligibleRebates(D);u(B)}catch(T){console.error("Error loading household data:",T)}finally{w(!1)}})()},[]);const b=async A=>{e(A),h(!1);const T=Nv[A.province],D=vA(A,[],T);s(D);const C=await _v.findEligibleRebates(A);u(C);const F=gn.calculateBenchmark(A);m(F)};if(p)return o.jsx(jV,{onComplete:b});if(j||!t)return o.jsx("div",{className:"flex items-center justify-center h-screen",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-green-500 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading your energy profile..."})]})});r[0];const k=r.length>0?Math.round(r.reduce((A,T)=>A+T.consumption_kwh,0)/r.length):d?.expectedUsage||0,S=r.length>0?Math.round(r.reduce((A,T)=>A+T.cost_cad,0)/r.length*100)/100:d?.avgCost||0,O=xV(a),P=_v.calculateMaxRebates(c),N=r.length>=2?Math.round((r[0].consumption_kwh-r[1].consumption_kwh)/r[1].consumption_kwh*100):0;return o.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[o.jsx("div",{className:"bg-gradient-to-r from-green-500 to-blue-600 text-white",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-3",children:[o.jsx(jt,{className:"w-8 h-8"}),"My Energy AI"]}),o.jsx("p",{className:"mt-2 text-green-100",children:"Your personal energy advisor for smarter, cheaper, cleaner energy"})]}),o.jsxs("button",{onClick:()=>h(!0),className:"flex items-center gap-2 bg-white/20 hover:bg-white/30 px-4 py-2 rounded-lg transition-colors",children:[o.jsx(aR,{className:"w-5 h-5"}),"Settings"]})]}),o.jsxs("div",{className:"mt-6 flex flex-wrap items-center gap-4 text-sm text-green-100",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Eu,{className:"w-4 h-4"}),t.homeType," • ",t.squareFootage," sq ft"]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(RA,{className:"w-4 h-4"}),t.occupants," occupants"]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(MA,{className:"w-4 h-4"}),t.heatingType," heating"]}),t.hasEV&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(_A,{className:"w-4 h-4"}),"Electric Vehicle"]}),t.hasSolar&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(IA,{className:"w-4 h-4"}),"Solar Panels"]})]})]})}),o.jsx("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:o.jsxs("nav",{className:"flex space-x-8",children:[o.jsx("button",{onClick:()=>x("overview"),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${y==="overview"?"border-green-500 text-green-600 dark:text-green-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"}`,children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(si,{className:"w-4 h-4"}),"Overview"]})}),o.jsx("button",{onClick:()=>x("chat"),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${y==="chat"?"border-green-500 text-green-600 dark:text-green-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"}`,children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(cj,{className:"w-4 h-4"}),"Chat with AI"]})}),o.jsx("button",{onClick:()=>x("analytics"),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${y==="analytics"?"border-green-500 text-green-600 dark:text-green-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"}`,children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(nn,{className:"w-4 h-4"}),"Analytics"]})})]})})}),o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[y==="overview"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[o.jsx(Ou,{icon:o.jsx(kv,{className:"w-5 h-5"}),title:"Average Monthly Usage",value:`${k} kWh`,change:N!==0?`${N>0?"+":""}${N}% vs last month`:void 0,positive:N<0}),o.jsx(Ou,{icon:o.jsx(cl,{className:"w-5 h-5"}),title:"Average Monthly Bill",value:`$${S}`,change:d?d.comparisonText:void 0,positive:d?d.comparisonText.includes("below"):void 0}),o.jsx(Ou,{icon:o.jsx(lj,{className:"w-5 h-5"}),title:"Available Rebates",value:`$${P.toLocaleString()}`,change:`${c.length} programs matched`}),o.jsx(Ou,{icon:o.jsx(SA,{className:"w-5 h-5"}),title:"Potential Savings",value:`$${O.annual}/year`,change:`From ${a.length} recommendations`})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md border border-gray-200 dark:border-gray-700 p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[o.jsx(Md,{className:"w-5 h-5 text-yellow-500"}),"Top Recommendations"]}),o.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Updated ",new Date().toLocaleDateString()]})]}),o.jsx(EV,{recommendations:a.slice(0,3),onImplement:A=>{gn.markRecommendationImplemented(A);const T=a.map(D=>D.id===A?{...D,isCompleted:!0}:D);s(T)}})]}),o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md border border-gray-200 dark:border-gray-700 p-6",children:[o.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[o.jsx(cj,{className:"w-5 h-5 text-blue-500"}),"Ask Your Energy AI"]}),o.jsx("button",{onClick:()=>x("chat"),className:"w-full bg-gradient-to-r from-green-500 to-blue-600 text-white py-3 rounded-lg font-medium hover:from-green-600 hover:to-blue-700 transition-all",children:"Start Conversation"}),o.jsx("p",{className:"mt-3 text-sm text-gray-600 dark:text-gray-400 text-center",children:"Get personalized advice on reducing your energy costs"})]})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md border border-gray-200 dark:border-gray-700 p-6",children:[o.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[o.jsx(lj,{className:"w-5 h-5 text-purple-500"}),"Your Rebates"]}),o.jsxs("div",{className:"space-y-3",children:[c.slice(0,3).map(A=>o.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-3",children:[o.jsx("h4",{className:"font-medium text-sm text-gray-900 dark:text-white",children:A.name}),o.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:["Up to $",A.amount.max.toLocaleString()]}),o.jsx("a",{href:A.applicationUrl,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-600 dark:text-blue-400 hover:underline mt-2 inline-block",children:"Learn more →"})]},A.id)),c.length>3&&o.jsxs("button",{className:"text-sm text-blue-600 dark:text-blue-400 hover:underline font-medium",children:["View all ",c.length," rebates →"]})]})]}),o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md border border-gray-200 dark:border-gray-700 p-6",children:[o.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4",children:"Your Data"}),o.jsxs("button",{onClick:()=>{const A=gn.exportData(),T=new Blob([A],{type:"application/json"}),D=URL.createObjectURL(T),C=document.createElement("a");C.href=D,C.download=`my-energy-data-${new Date().toISOString().split("T")[0]}.json`,C.click()},className:"w-full flex items-center justify-center gap-2 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 py-2 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:[o.jsx(OA,{className:"w-4 h-4"}),"Export Data"]}),o.jsx("p",{className:"mt-2 text-xs text-gray-500 dark:text-gray-400",children:"All your data is stored locally on your device"})]})]})]})]}),y==="chat"&&o.jsx(NV,{profile:t,usage:r,recommendations:a,provincialData:Nv[t.province]}),y==="analytics"&&o.jsx(TV,{profile:t,usage:r,benchmark:d})]})]})},IV={Home:"tab.home",Dashboard:"dashboard.overview",HouseholdAdvisor:"page.household-advisor",Provinces:"page.provinces",Trends:"page.trends",Investment:"page.investment",Resilience:"page.resilience",Innovation:"page.innovation",Indigenous:"page.indigenous",Stakeholders:"page.stakeholders",GridOptimization:"page.gridops",Security:"page.security",Features:"page.features",Education:"page.education"},MV=!1,wA={Dashboard:"energy_analytics",Investment:"investment_analysis",Resilience:"resilience_analysis",Innovation:"innovation_tracking",Indigenous:"indigenous_dashboard",Stakeholders:"stakeholder_coordination",GridOptimization:"grid_optimization",Security:"security_assessment"},RV=()=>{const[t,e]=R.useState({activeDataset:"provincial_generation",data:[],filteredData:[],loading:!1,error:null,progress:null}),[r,n]=R.useState([]),[a,s]=R.useState({}),[c,u]=R.useState(!1),[d,m]=R.useState(5e3),[p,h]=R.useState("Dashboard"),y=R.useCallback(async(S,O=!1)=>{e(P=>({...P,loading:!0,error:null,progress:null}));try{const P=await yn.loadData(S,{forceStream:O,maxRows:d,onProgress:N=>{e(A=>({...A,progress:N}))},onStatusChange:N=>{}});e(N=>({...N,data:P,loading:!1,progress:{loaded:P.length,total:P.length,percentage:100}}))}catch(P){e(N=>({...N,loading:!1,error:P instanceof Error?P.message:"Failed to load data",progress:null}))}},[d]),x=R.useCallback(()=>{let S=[...t.data];if(a.searchQuery&&a.searchQuery.trim()){const O=a.searchQuery.toLowerCase().trim();S=S.filter(P=>Object.values(P).some(N=>String(N).toLowerCase().includes(O)))}if(a.dateRange){const{start:O,end:P}=a.dateRange;S=S.filter(N=>{const A=N.date||N.datetime||N.market_date;if(!A)return!0;const T=new Date(A).toISOString().split("T")[0];return T>=O&&T<=P})}a.selectedFields&&Object.entries(a.selectedFields).forEach(([O,P])=>{P.length>0&&(S=S.filter(N=>P.includes(String(N[O]))))}),e(O=>({...O,filteredData:S}))},[a,t.data]);R.useEffect(()=>{p==="Education"&&h("Dashboard")},[p]);const j=[{id:"Home",label:"Home",icon:Eu},{id:"Dashboard",label:"Dashboard",icon:sj},{id:"HouseholdAdvisor",label:"My Energy AI",icon:Eu},{id:"Provinces",label:"Provinces",icon:QM},{id:"Trends",label:"Trends",icon:nn},{id:"Investment",label:"Investment",icon:nn},{id:"Resilience",label:"Resilience",icon:Br},{id:"Innovation",label:"Innovation",icon:jt},{id:"Indigenous",label:"Indigenous",icon:Br},{id:"Stakeholders",label:"Stakeholders",icon:jt},{id:"GridOptimization",label:"Grid Ops",icon:mr},{id:"Security",label:"Security",icon:yh},{id:"Features",label:"Features",icon:PA}],w=U.useMemo(()=>j.map(S=>{const O=wA[S.id];if(!O)return{...S,badge:null};const P=sb(O);if(!P)return{...S,badge:null};let N=null;return P.status==="partial"?N="Limited":P.status==="deferred"&&(N="Soon"),{...S,badge:N,status:P.status}}).filter(S=>{{const O=wA[S.id];if(O&&!ZG(O))return!1}return!0}),[]);R.useEffect(()=>{const S=()=>{n(yn.getAllConnectionStatuses())};(async()=>{ya.map(A=>A.key).forEach(async A=>{try{await yn.initializeConnection(A),console.log(`Initialized connection for ${A}`)}catch(T){console.error(`Error initializing ${A}:`,T)}})})(),S();const P=setInterval(S,1e3);return()=>clearInterval(P)},[]),R.useEffect(()=>{y(t.activeDataset,!1)},[t.activeDataset,y]),R.useEffect(()=>{x()},[x]);const b=()=>{y(t.activeDataset,!0)},k=ya.find(S=>S.key===t.activeDataset);return r.find(S=>S.dataset===k.name),o.jsxs("div",{className:"min-h-screen bg-slate-900",children:[o.jsx("header",{className:"bg-gradient-to-r from-blue-900 to-blue-800 text-white shadow-lg",children:o.jsx("div",{className:Ee.page,children:o.jsxs("div",{className:Ee.flexBetween,children:[o.jsxs("div",{className:Ee.flexCenter,children:[o.jsx("div",{className:"bg-blue-700 p-3 rounded-xl mr-4",children:o.jsx(jt,{className:"h-8 w-8"})}),o.jsxs("div",{children:[o.jsx("h1",{className:`${ve.heading1} text-white mb-1`,children:"Canadian Energy Information Portal"}),o.jsx("p",{className:`${ve.bodySmall} text-blue-100 font-medium`,children:"Real-time • Resilient Architecture"})]})]}),o.jsxs("div",{className:Ee.flexCenter,children:[o.jsxs("div",{className:"text-right mr-6",children:[o.jsx("div",{className:`${ve.bodySmall} text-blue-200`,children:"Total Records"}),o.jsx("div",{className:`${ve.metric} text-white`,children:t.filteredData.length.toLocaleString()})]}),o.jsxs("button",{onClick:b,disabled:t.loading,className:"bg-blue-600 hover:bg-blue-700 disabled:opacity-50 px-4 py-2 rounded-lg font-medium transition-colors flex items-center space-x-2",children:[o.jsx(mr,{className:"h-4 w-4"}),o.jsx("span",{children:t.loading?"Loading...":"Refresh"})]}),o.jsx("div",{className:"ml-4",children:o.jsx(wt,{id:IV[p]??"dashboard.overview"})})]})]})})}),o.jsx("nav",{className:"bg-white border-b border-slate-200 shadow-sm sticky-top",children:o.jsx("div",{className:Ee.page,children:o.jsx(mV,{tabs:w.map(S=>({id:S.id,label:S.label,icon:S.icon,badge:S.badge})),activeTab:p,onSelect:h})})}),o.jsx("div",{className:Ee.page,children:p==="Dashboard"?o.jsx(LG,{}):p==="HouseholdAdvisor"?o.jsx(CV,{}):p==="Home"?o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"relative overflow-hidden rounded-2xl border border-slate-200/50",children:[o.jsx("div",{className:"absolute inset-0 shader-bg-primary animate-gradient-xy"}),o.jsx("div",{className:"absolute inset-0 bg-black/20"}),o.jsx("div",{className:"relative z-10 p-8",children:o.jsxs("div",{className:"text-center max-w-4xl mx-auto",children:[o.jsx("div",{className:"flex items-center justify-center mb-6 animate-float",children:o.jsx("div",{className:"glass-card rounded-full p-6 animate-pulse-slow",children:o.jsx(jt,{className:"h-16 w-16 text-white"})})}),o.jsx("h1",{className:"text-5xl font-bold text-white mb-6 animate-fade-in",children:"Canadian Energy Information Portal"}),o.jsx("p",{className:"text-xl text-white/90 mb-8 animate-fade-in-delayed",children:"Real-time streaming architecture for comprehensive energy data analytics across Canada"}),o.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-4 text-sm animate-fade-in-slow",children:[o.jsxs("div",{className:"glass-card px-6 py-3 rounded-full text-white",children:[o.jsx(fu,{className:"h-4 w-4 inline mr-2"}),"Live Streaming"]}),o.jsxs("div",{className:"glass-card px-6 py-3 rounded-full text-white",children:[o.jsx(Qo,{className:"h-4 w-4 inline mr-2"}),"4 Datasets"]}),o.jsxs("div",{className:"glass-card px-6 py-3 rounded-full text-white",children:[o.jsx(pn,{className:"h-4 w-4 inline mr-2"}),"Real-time Analytics"]})]})]})})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:ya.map((S,O)=>{const P=r.find(N=>N.dataset===S.name);return o.jsxs("div",{className:`${Ee.card} ${he.primary.bg} border ${he.primary.border} hover:shadow-lg transition-all duration-300`,children:[o.jsx("div",{className:Ee.cardHeader,children:o.jsxs("div",{className:Ee.flexBetween,children:[o.jsx("div",{className:"p-3 rounded-lg",style:{backgroundColor:`${S.color}20`,color:S.color},children:o.jsx(Qo,{className:"h-6 w-6"})}),o.jsxs("div",{className:`flex items-center space-x-1 px-2 py-1 rounded-full text-xs font-medium ${P?.status==="connected"?`${he.success.bg} ${he.success.text}`:P?.status==="connecting"?`${he.primary.bg} ${he.primary.text}`:`${he.warning.bg} ${he.warning.text}`}`,children:[P?.status==="connected"?o.jsx(qt,{className:"h-3 w-3"}):P?.status==="connecting"?o.jsx(ll,{className:"h-3 w-3"}):o.jsx(ls,{className:"h-3 w-3"}),o.jsx("span",{children:P?.status==="connected"?"LIVE":P?.status==="connecting"?"CONNECTING":"OFFLINE"})]})]})}),o.jsxs("div",{className:Ee.cardBody,children:[o.jsx("h3",{className:`${ve.heading4} ${he.primary.text} mb-1`,style:{color:S.color},children:S.name}),o.jsx("p",{className:`${ve.bodySmall} text-slate-600 mb-3`,children:S.description}),o.jsxs("div",{className:`${ve.metric} font-bold`,style:{color:S.color},children:[P?.recordCount.toLocaleString()||"0"," records"]})]})]},S.key)})})]}):p==="Provinces"?o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"relative overflow-hidden rounded-2xl border border-slate-200/50",children:[o.jsx("div",{className:"absolute inset-0 shader-bg-energy animate-gradient-xy"}),o.jsx("div",{className:"absolute inset-0 bg-black/30"}),o.jsx("div",{className:"relative z-10 p-8",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"animate-fade-in",children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[o.jsx("div",{className:"glass-card p-3 rounded-xl animate-float",children:o.jsx(uj,{className:"h-8 w-8 text-white"})}),o.jsx("h1",{className:"text-3xl font-bold text-white",children:"REAL-TIME STREAMING ARCHITECTURE"})]}),o.jsx("p",{className:"text-lg text-white/90",children:"Live data streams from Canadian energy providers across all provinces"})]}),o.jsxs("div",{className:"glass-card px-6 py-3 rounded-full animate-fade-in-delayed",children:[o.jsx(fu,{className:"h-5 w-5 text-green-400 animate-pulse mr-2"}),o.jsx("span",{className:"text-white font-semibold",children:"LIVE STREAMING"})]})]})})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200",children:[o.jsx("div",{className:"p-6 border-b border-slate-200",children:o.jsxs("h2",{className:"text-xl font-semibold text-slate-800 flex items-center",children:[o.jsx(tx,{className:"h-6 w-6 mr-3 text-blue-600"}),"Live Connection Status"]})}),o.jsx("div",{className:"p-6 space-y-4",children:r.map((S,O)=>o.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-lg",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("div",{className:`p-2 rounded-full ${S.status==="connected"?"bg-green-500":S.status==="connecting"?"bg-blue-500 animate-pulse":"bg-slate-400"}`,children:S.status==="connected"?o.jsx(qt,{className:"h-4 w-4 text-white"}):S.status==="connecting"?o.jsx(ll,{className:"h-4 w-4 text-white"}):o.jsx(ls,{className:"h-4 w-4 text-white"})}),o.jsxs("div",{children:[o.jsx("div",{className:"font-semibold text-slate-800",children:S.dataset}),o.jsx("div",{className:`text-sm font-medium ${S.status==="connected"?"text-green-600":S.status==="connecting"?"text-blue-600":"text-slate-600"}`,children:S.status==="connected"?"LIVE STREAM ACTIVE":S.status==="connecting"?"CONNECTING TO STREAM":"STREAM OFFLINE"})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:"text-lg font-bold text-slate-800",children:S.recordCount.toLocaleString()}),o.jsx("div",{className:"text-sm text-slate-600",children:"records streaming"})]})]},O))})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200",children:[o.jsx("div",{className:"p-6 border-b border-slate-200",children:o.jsxs("h2",{className:"text-xl font-semibold text-slate-800 flex items-center",children:[o.jsx(pn,{className:"h-6 w-6 mr-3 text-purple-600"}),"Streaming Metrics"]})}),o.jsxs("div",{className:"p-6 space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[o.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[r.filter(S=>S.status==="connected").length,"/",r.length]}),o.jsx("div",{className:"text-sm text-slate-600",children:"Active Streams"})]}),o.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[o.jsx("div",{className:"text-2xl font-bold text-green-600",children:r.reduce((S,O)=>S+O.recordCount,0).toLocaleString()}),o.jsx("div",{className:"text-sm text-slate-600",children:"Total Records"})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm font-medium text-slate-600",children:"Stream Health"}),o.jsx("span",{className:"text-sm font-bold text-green-600",children:"98.2% Uptime"})]}),o.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2",children:o.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:"98.2%"}})})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm font-medium text-slate-600",children:"Data Throughput"}),o.jsx("span",{className:"text-sm font-bold text-purple-600",children:"1.2K records/min"})]}),o.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2",children:o.jsx("div",{className:"bg-purple-500 h-2 rounded-full",style:{width:"85%"}})})]})]})]})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200",children:[o.jsx("div",{className:"p-6 border-b border-slate-200",children:o.jsxs("h2",{className:"text-xl font-semibold text-slate-800 flex items-center",children:[o.jsx(Za,{className:"h-6 w-6 mr-3 text-red-600"}),"Canadian Energy Data Sources"]})}),o.jsx("div",{className:"p-6",children:o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[{province:"Ontario",source:"IESO",status:"connected",datasets:2},{province:"Quebec",source:"Hydro-Québec",status:"connected",datasets:1},{province:"British Columbia",source:"BC Hydro",status:"connecting",datasets:1},{province:"Alberta",source:"AESO",status:"connected",datasets:1},{province:"Manitoba",source:"Manitoba Hydro",status:"connecting",datasets:1},{province:"Saskatchewan",source:"SaskPower",status:"connected",datasets:1}].map((S,O)=>o.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-slate-50 rounded-lg",children:[o.jsx("div",{className:`w-3 h-3 rounded-full ${S.status==="connected"?"bg-green-500":"bg-blue-500 animate-pulse"}`}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"font-semibold text-slate-800",children:S.province}),o.jsxs("div",{className:"text-sm text-slate-600",children:[S.source," • ",S.datasets," datasets"]})]}),o.jsx("div",{className:`text-xs font-medium px-2 py-1 rounded-full ${S.status==="connected"?"bg-green-100 text-green-700":"bg-blue-100 text-blue-700"}`,children:S.status==="connected"?"LIVE":"CONNECTING"})]},O))})})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200",children:[o.jsx("div",{className:"p-6 border-b border-slate-200",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("h2",{className:"text-xl font-semibold text-slate-800 flex items-center",children:[o.jsx(fu,{className:"h-6 w-6 mr-3 text-blue-600"}),"Live Data Stream"]}),o.jsxs("div",{className:"flex items-center space-x-2 text-sm text-slate-600",children:[o.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),o.jsx("span",{children:"Updating every 30 seconds"})]})]})}),o.jsx("div",{className:"p-6",children:o.jsxs("div",{className:"text-center py-8",children:[o.jsxs("div",{className:"inline-flex items-center space-x-2 bg-blue-50 px-6 py-3 rounded-full",children:[o.jsx(uj,{className:"h-5 w-5 text-blue-600 animate-pulse"}),o.jsxs("span",{className:"font-medium text-blue-800",children:["Real-time data streaming from ",r.filter(S=>S.status==="connected").length," active sources"]})]}),o.jsx("p",{className:"mt-4 text-slate-600",children:"Switch to Dashboard tab to interact with live streaming data visualizations"}),o.jsx("button",{onClick:()=>h("Dashboard"),className:"mt-4 bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-medium transition-colors",children:"View Live Dashboard"})]})})]})]}):p==="Trends"?o.jsx("div",{className:"space-y-8",children:o.jsxs("div",{className:"relative overflow-hidden rounded-2xl border border-slate-200/50",children:[o.jsx("div",{className:"absolute inset-0 shader-bg-secondary animate-gradient-xy"}),o.jsx("div",{className:"absolute inset-0 bg-black/20"}),o.jsx("div",{className:"relative z-10 p-8",children:o.jsxs("div",{className:"text-center animate-fade-in",children:[o.jsx("div",{className:"glass-card p-6 rounded-full w-20 h-20 mx-auto mb-6 animate-float",children:o.jsx(nn,{className:"h-10 w-10 text-white mx-auto"})}),o.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Trend Analysis"}),o.jsx("p",{className:"text-xl text-white/90 mb-8 animate-fade-in-delayed",children:"Advanced analytics and trend identification across Canadian energy data streams"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-8 animate-fade-in-slow",children:[o.jsxs("div",{className:"glass-card p-6 rounded-xl text-white",children:[o.jsx(nn,{className:"h-8 w-8 text-blue-300 mb-3"}),o.jsx("h3",{className:"font-semibold mb-2",children:"Peak Demand Patterns"}),o.jsx("p",{className:"text-sm text-white/80",children:"Historical and predictive analysis of energy demand peaks"})]}),o.jsxs("div",{className:"glass-card p-6 rounded-xl text-white",children:[o.jsx(sj,{className:"h-8 w-8 text-green-300 mb-3"}),o.jsx("h3",{className:"font-semibold mb-2",children:"Generation Trends"}),o.jsx("p",{className:"text-sm text-white/80",children:"Long-term trends in renewable vs traditional energy generation"})]}),o.jsxs("div",{className:"glass-card p-6 rounded-xl text-white",children:[o.jsx(pn,{className:"h-8 w-8 text-purple-300 mb-3"}),o.jsx("h3",{className:"font-semibold mb-2",children:"Price Volatility"}),o.jsx("p",{className:"text-sm text-white/80",children:"Market price analysis and volatility patterns"})]})]}),o.jsx("button",{onClick:()=>h("Dashboard"),className:"mt-8 glass-card text-white px-6 py-3 rounded-lg font-medium transition-all hover:bg-white/20 animate-fade-in-slow",children:"Explore Trends in Dashboard"})]})})]})}):p==="Education"?o.jsx("div",{className:"space-y-8",children:o.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-slate-200",children:o.jsxs("div",{className:"max-w-4xl mx-auto",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("div",{className:"bg-orange-50 p-4 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:o.jsx(ZM,{className:"h-8 w-8 text-orange-600"})}),o.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-2",children:"Educational Resources"}),o.jsx("p",{className:"text-slate-600",children:"Learn about Canadian energy systems, data sources, and streaming architecture"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-semibold text-slate-800 mb-4",children:"Dataset Information"}),o.jsx("div",{className:"space-y-4",children:ya.map(S=>o.jsxs("div",{className:"p-4 border border-slate-200 rounded-lg",children:[o.jsx("h4",{className:"font-semibold text-slate-800",style:{color:S.color},children:S.name}),o.jsx("p",{className:"text-sm text-slate-600 mt-1",children:S.description}),o.jsxs("div",{className:"text-xs text-slate-500 mt-2",children:["Source: ",S.source.toUpperCase()," • ~",S.estimatedRows.toLocaleString()," records"]})]},S.key))})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-semibold text-slate-800 mb-4",children:"Technical Architecture"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[o.jsx(fu,{className:"h-5 w-5 text-blue-600"}),o.jsx("h4",{className:"font-semibold text-blue-800",children:"Real-time Streaming"})]}),o.jsx("p",{className:"text-sm text-slate-600",children:"Data streams continuously from multiple Canadian energy providers using resilient Supabase Edge Functions"})]}),o.jsxs("div",{className:"p-4 bg-green-50 rounded-lg",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[o.jsx(Qo,{className:"h-5 w-5 text-green-600"}),o.jsx("h4",{className:"font-semibold text-green-800",children:"Data Processing"})]}),o.jsx("p",{className:"text-sm text-slate-600",children:"Advanced filtering, aggregation, and visualization capabilities with export functionality"})]}),o.jsxs("div",{className:"p-4 bg-purple-50 rounded-lg",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[o.jsx(pn,{className:"h-5 w-5 text-purple-600"}),o.jsx("h4",{className:"font-semibold text-purple-800",children:"Performance"})]}),o.jsx("p",{className:"text-sm text-slate-600",children:"Optimized for high-throughput data processing with fallback mechanisms for reliability"})]})]})]})]}),o.jsx("div",{className:"text-center mt-8",children:o.jsx("button",{onClick:()=>h("Dashboard"),className:"bg-orange-600 hover:bg-orange-700 text-white px-6 py-3 rounded-lg font-medium transition-colors",children:"Start Exploring Data"})})]})})}):o.jsxs(o.Fragment,{children:[p==="Resilience"&&o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"relative overflow-hidden rounded-2xl border border-slate-200/50",children:[o.jsx("div",{className:"absolute inset-0 shader-bg-accent animate-gradient-xy"}),o.jsx("div",{className:"absolute inset-0 bg-black/20"}),o.jsx("div",{className:"relative z-10 p-8",children:o.jsxs("div",{className:"text-center animate-fade-in",children:[o.jsx("div",{className:"glass-card p-6 rounded-full w-20 h-20 mx-auto mb-6 animate-float",children:o.jsx(Br,{className:"h-10 w-10 text-white mx-auto"})}),o.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Infrastructure Resilience"}),o.jsx("p",{className:"text-xl text-white/90 mb-8 animate-fade-in-delayed",children:"Climate scenario modeling and vulnerability assessment for critical infrastructure"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-8 animate-fade-in-slow",children:[o.jsxs("div",{className:"glass-card p-6 rounded-xl text-white",children:[o.jsx(Br,{className:"h-8 w-8 text-red-300 mb-3"}),o.jsx("h3",{className:"font-semibold mb-2",children:"Risk Assessment"}),o.jsx("p",{className:"text-sm text-white/80",children:"Advanced climate vulnerability analysis"})]}),o.jsxs("div",{className:"glass-card p-6 rounded-xl text-white",children:[o.jsx(Za,{className:"h-8 w-8 text-blue-300 mb-3"}),o.jsx("h3",{className:"font-semibold mb-2",children:"Asset Mapping"}),o.jsx("p",{className:"text-sm text-white/80",children:"Comprehensive infrastructure inventory"})]}),o.jsxs("div",{className:"glass-card p-6 rounded-xl text-white",children:[o.jsx(pn,{className:"h-8 w-8 text-green-300 mb-3"}),o.jsx("h3",{className:"font-semibold mb-2",children:"Scenario Planning"}),o.jsx("p",{className:"text-sm text-white/80",children:"Future climate impact modeling"})]})]})]})})]}),o.jsx(GG,{})]}),p==="Investment"&&o.jsx("div",{className:"space-y-8",children:o.jsx(zG,{})}),p==="Innovation"&&o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"relative overflow-hidden rounded-2xl border border-slate-200/50",children:[o.jsx("div",{className:"absolute inset-0 shader-bg-primary animate-gradient-xy"}),o.jsx("div",{className:"absolute inset-0 bg-black/20"}),o.jsx("div",{className:"relative z-10 p-8",children:o.jsxs("div",{className:"text-center animate-fade-in",children:[o.jsx("div",{className:"glass-card p-6 rounded-full w-20 h-20 mx-auto mb-6 animate-float",children:o.jsx(jt,{className:"h-10 w-10 text-white mx-auto"})}),o.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Innovation Hub"}),o.jsx("p",{className:"text-xl text-white/90 mb-8 animate-fade-in-delayed",children:"AI-powered research and technology innovation for sustainable energy solutions"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-8 animate-fade-in-slow",children:[o.jsxs("div",{className:"glass-card p-6 rounded-xl text-white",children:[o.jsx(jt,{className:"h-8 w-8 text-yellow-300 mb-3"}),o.jsx("h3",{className:"font-semibold mb-2",children:"Technology Search"}),o.jsx("p",{className:"text-sm text-white/80",children:"Advanced patent and innovation discovery"})]}),o.jsxs("div",{className:"glass-card p-6 rounded-xl text-white",children:[o.jsx(nn,{className:"h-8 w-8 text-green-300 mb-3"}),o.jsx("h3",{className:"font-semibold mb-2",children:"Market Analysis"}),o.jsx("p",{className:"text-sm text-white/80",children:"Emerging technology market insights"})]}),o.jsxs("div",{className:"glass-card p-6 rounded-xl text-white",children:[o.jsx(pn,{className:"h-8 w-8 text-purple-300 mb-3"}),o.jsx("h3",{className:"font-semibold mb-2",children:"Feasibility Studies"}),o.jsx("p",{className:"text-sm text-white/80",children:"Technical and economic viability assessment"})]})]})]})})]}),o.jsx(XG,{})]}),p==="Indigenous"&&o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"relative overflow-hidden rounded-2xl border border-slate-200/50",children:[o.jsx("div",{className:"absolute inset-0 shader-bg-energy animate-gradient-xy"}),o.jsx("div",{className:"absolute inset-0 bg-black/20"}),o.jsx("div",{className:"relative z-10 p-8",children:o.jsxs("div",{className:"text-center animate-fade-in",children:[o.jsx("div",{className:"glass-card p-6 rounded-full w-20 h-20 mx-auto mb-6 animate-float",children:o.jsx(Br,{className:"h-10 w-10 text-white mx-auto"})}),o.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Indigenous Energy Sovereignty"}),o.jsx("p",{className:"text-xl text-white/90 mb-8 animate-fade-in-delayed",children:"Respectful integration of Indigenous knowledge and governance in energy planning"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-8 animate-fade-in-slow",children:[o.jsxs("div",{className:"glass-card p-6 rounded-xl text-white",children:[o.jsx(Br,{className:"h-8 w-8 text-blue-300 mb-3"}),o.jsx("h3",{className:"font-semibold mb-2",children:"Traditional Knowledge"}),o.jsx("p",{className:"text-sm text-white/80",children:"Integration of Indigenous ecological knowledge"})]}),o.jsxs("div",{className:"glass-card p-6 rounded-xl text-white",children:[o.jsx(Za,{className:"h-8 w-8 text-green-300 mb-3"}),o.jsx("h3",{className:"font-semibold mb-2",children:"Territory Mapping"}),o.jsx("p",{className:"text-sm text-white/80",children:"Traditional territory and consultation tracking"})]}),o.jsxs("div",{className:"glass-card p-6 rounded-xl text-white",children:[o.jsx(pn,{className:"h-8 w-8 text-orange-300 mb-3"}),o.jsx("h3",{className:"font-semibold mb-2",children:"FPIC Compliance"}),o.jsx("p",{className:"text-sm text-white/80",children:"Free, Prior, Informed Consent workflows"})]})]})]})})]}),o.jsx(iV,{})]}),p==="Stakeholders"&&o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"relative overflow-hidden rounded-2xl border border-slate-200/50",children:[o.jsx("div",{className:"absolute inset-0 shader-bg-secondary animate-gradient-xy"}),o.jsx("div",{className:"absolute inset-0 bg-black/20"}),o.jsx("div",{className:"relative z-10 p-8",children:o.jsxs("div",{className:"text-center animate-fade-in",children:[o.jsx("div",{className:"glass-card p-6 rounded-full w-20 h-20 mx-auto mb-6 animate-float",children:o.jsx(jt,{className:"h-10 w-10 text-white mx-auto"})}),o.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Stakeholder Coordination"}),o.jsx("p",{className:"text-xl text-white/90 mb-8 animate-fade-in-delayed",children:"Multi-stakeholder engagement and collaboration platform for energy projects"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-8 animate-fade-in-slow",children:[o.jsxs("div",{className:"glass-card p-6 rounded-xl text-white",children:[o.jsx(jt,{className:"h-8 w-8 text-purple-300 mb-3"}),o.jsx("h3",{className:"font-semibold mb-2",children:"Engagement Tracking"}),o.jsx("p",{className:"text-sm text-white/80",children:"Comprehensive stakeholder communication logs"})]}),o.jsxs("div",{className:"glass-card p-6 rounded-xl text-white",children:[o.jsx(Za,{className:"h-8 w-8 text-blue-300 mb-3"}),o.jsx("h3",{className:"font-semibold mb-2",children:"Impact Mapping"}),o.jsx("p",{className:"text-sm text-white/80",children:"Geographic stakeholder impact analysis"})]}),o.jsxs("div",{className:"glass-card p-6 rounded-xl text-white",children:[o.jsx(pn,{className:"h-8 w-8 text-green-300 mb-3"}),o.jsx("h3",{className:"font-semibold mb-2",children:"Consensus Building"}),o.jsx("p",{className:"text-sm text-white/80",children:"Collaborative decision-making support"})]})]})]})})]}),o.jsx(lV,{})]}),p==="GridOptimization"&&o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"relative overflow-hidden rounded-2xl border border-slate-200/50",children:[o.jsx("div",{className:"absolute inset-0 shader-bg-primary animate-gradient-xy"}),o.jsx("div",{className:"absolute inset-0 bg-black/20"}),o.jsx("div",{className:"relative z-10 p-8",children:o.jsxs("div",{className:"text-center animate-fade-in",children:[o.jsx("div",{className:"glass-card p-6 rounded-full w-20 h-20 mx-auto mb-6 animate-float",children:o.jsx(mr,{className:"h-10 w-10 text-white mx-auto"})}),o.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Grid Optimization"}),o.jsx("p",{className:"text-xl text-white/90 mb-8 animate-fade-in-delayed",children:"Advanced grid management and optimization for reliable energy distribution"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-8 animate-fade-in-slow",children:[o.jsxs("div",{className:"glass-card p-6 rounded-xl text-white",children:[o.jsx(mr,{className:"h-8 w-8 text-cyan-300 mb-3"}),o.jsx("h3",{className:"font-semibold mb-2",children:"Load Balancing"}),o.jsx("p",{className:"text-sm text-white/80",children:"Real-time grid load optimization"})]}),o.jsxs("div",{className:"glass-card p-6 rounded-xl text-white",children:[o.jsx(pn,{className:"h-8 w-8 text-yellow-300 mb-3"}),o.jsx("h3",{className:"font-semibold mb-2",children:"Predictive Maintenance"}),o.jsx("p",{className:"text-sm text-white/80",children:"AI-driven equipment health monitoring"})]}),o.jsxs("div",{className:"glass-card p-6 rounded-xl text-white",children:[o.jsx(nn,{className:"h-8 w-8 text-green-300 mb-3"}),o.jsx("h3",{className:"font-semibold mb-2",children:"Efficiency Analytics"}),o.jsx("p",{className:"text-sm text-white/80",children:"Performance optimization insights"})]})]})]})})]}),o.jsx(cV,{})]}),p==="Security"&&o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"relative overflow-hidden rounded-2xl border border-slate-200/50",children:[o.jsx("div",{className:"absolute inset-0 shader-bg-accent animate-gradient-xy"}),o.jsx("div",{className:"absolute inset-0 bg-black/20"}),o.jsx("div",{className:"relative z-10 p-8",children:o.jsxs("div",{className:"text-center animate-fade-in",children:[o.jsx("div",{className:"glass-card p-6 rounded-full w-20 h-20 mx-auto mb-6 animate-float",children:o.jsx(yh,{className:"h-10 w-10 text-white mx-auto"})}),o.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Cybersecurity & Monitoring"}),o.jsx("p",{className:"text-xl text-white/90 mb-8 animate-fade-in-delayed",children:"Enterprise-grade security monitoring and threat detection for energy infrastructure"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-8 animate-fade-in-slow",children:[o.jsxs("div",{className:"glass-card p-6 rounded-xl text-white",children:[o.jsx(Br,{className:"h-8 w-8 text-red-300 mb-3"}),o.jsx("h3",{className:"font-semibold mb-2",children:"Threat Detection"}),o.jsx("p",{className:"text-sm text-white/80",children:"Advanced cybersecurity monitoring"})]}),o.jsxs("div",{className:"glass-card p-6 rounded-xl text-white",children:[o.jsx(yh,{className:"h-8 w-8 text-blue-300 mb-3"}),o.jsx("h3",{className:"font-semibold mb-2",children:"Access Control"}),o.jsx("p",{className:"text-sm text-white/80",children:"Multi-factor authentication and authorization"})]}),o.jsxs("div",{className:"glass-card p-6 rounded-xl text-white",children:[o.jsx(mr,{className:"h-8 w-8 text-green-300 mb-3"}),o.jsx("h3",{className:"font-semibold mb-2",children:"Incident Response"}),o.jsx("p",{className:"text-sm text-white/80",children:"Automated security incident management"})]})]})]})})]}),o.jsx(uV,{})]}),p==="Features"&&o.jsx(fV,{}),!["Dashboard","Home","Provinces","Trends","Investment","Resilience","Innovation","Indigenous","Stakeholders","GridOptimization","Security","Features","Education"].includes(p)&&o.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-8 text-center",children:o.jsxs("div",{className:"max-w-md mx-auto",children:[o.jsx("div",{className:"bg-blue-50 p-4 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:(()=>{const S=w.find(O=>O.id===p);if(S?.icon){const O=S.icon;return o.jsx(O,{className:"h-8 w-8 text-blue-600"})}return null})()}),o.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-2",children:p}),o.jsx("p",{className:"text-slate-600 mb-6",children:"Content for this section is being developed."}),o.jsx("button",{onClick:()=>h("Dashboard"),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-medium transition-colors",children:"Go to Dashboard"})]})})]})})]})};function $V(){return o.jsx("div",{className:"App",children:o.jsx(pR,{children:o.jsx(RV,{})})})}if(typeof window<"u"){window.ceipDb={provincial_generation:{clear:()=>Promise.resolve(),bulkPut:r=>Promise.resolve(),bulkAdd:r=>Promise.resolve(),toArray:()=>Promise.resolve([])},ontario_demand:{clear:()=>Promise.resolve(),bulkPut:r=>Promise.resolve(),bulkAdd:r=>Promise.resolve(),toArray:()=>Promise.resolve([])},ontario_prices:{clear:()=>Promise.resolve(),bulkPut:r=>Promise.resolve(),bulkAdd:r=>Promise.resolve(),toArray:()=>Promise.resolve([])},hf_electricity_demand:{clear:()=>Promise.resolve(),bulkPut:r=>Promise.resolve(),bulkAdd:r=>Promise.resolve(),toArray:()=>Promise.resolve([])}};const t=()=>{if(!("IntersectionObserver"in window))return;const r={threshold:.1,rootMargin:"0px 0px -50px 0px"},n=new IntersectionObserver(s=>{s.forEach(c=>{c.isIntersecting&&c.target.classList.add("in-view")})},r);document.querySelectorAll(".scroll-animate").forEach(s=>n.observe(s))};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",t,{once:!0}):t(),JG();const e=hC();console.log("🚀 Canada Energy Intelligence Platform - Phase 1 Launch"),console.log(`📊 ${e.enabled} features available`)}SM.createRoot(document.getElementById("root")).render(o.jsx(U.StrictMode,{children:o.jsx($V,{})}));
