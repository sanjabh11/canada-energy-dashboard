{
  "tasks": [
    {
      "task_id": "PBI-Data-Quality-Depth-t1",
      "title": "Extend provenance in data-quality endpoint",
      "type": "code",
      "status": "Proposed",
      "files": ["supabase/functions/llm/index.ts"],
      "test_plan": {
        "unit_tests": ["Test extended provenance"],
        "integration_tests": ["Test endpoint with logs"],
        "acceptance_criteria": ["Endpoint returns deeper QA reports"]
      }
    },
    {
      "task_id": "PBI-Data-Quality-Depth-t2",
      "title": "Add validation reports",
      "type": "code",
      "status": "Proposed",
      "files": ["supabase/functions/llm/index.ts"],
      "test_plan": {
        "unit_tests": ["Test validation logic"],
        "integration_tests": ["Test schema drift detection"],
        "acceptance_criteria": ["Validation reports are generated"]
      }
    },
    {
      "task_id": "PBI-Data-Quality-Depth-t3",
      "title": "Integrate with QA pipeline",
      "type": "code",
      "status": "Proposed",
      "files": ["src/lib/dataStreamers.ts"],
      "test_plan": {
        "integration_tests": ["Test QA pipeline integration"],
        "acceptance_criteria": ["QA pipeline triggers alerts"]
      }
    },
    {
      "task_id": "PBI-Data-Quality-Depth-t4",
      "title": "Test endpoint and QA pipeline",
      "type": "test",
      "status": "Proposed",
      "files": [],
      "test_plan": {
        "end_to_end_tests": ["Run full QA flow"],
        "acceptance_criteria": ["All QA components work together"]
      }
    },
    {
      "task_id": "PBI-Data-Quality-Depth-T1",
      "title": "Data quality insights with RAG for validation reports",
      "type": "code",
      "status": "InProgress",
      "files": ["supabase/functions/llm/index.ts", "src/components/DataQuality.tsx", "src/lib/rag.ts", "tests/test_llm_endpoints.js"],
      "test_plan": {
        "unit": ["RAG builder returns â‰¥3 chunks for data samples."],
        "integration": ["POST /llm/data-quality returns 200 with issues[], recommendations[], sources[]."],
        "manual": ["In DataQuality.tsx, validation reports render within 3s with citations."]
      }
    }
  ]
}
